var Ru=Object.defineProperty;var Pu=(e,t,n)=>t in e?Ru(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var _e=(e,t,n)=>(Pu(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();/**
* @vue/shared v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Wo(e,t){const n=new Set(e.split(","));return s=>n.has(s)}const xe={},In=[],pt=()=>{},Iu=()=>!1,lr=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Qo=e=>e.startsWith("onUpdate:"),Ke=Object.assign,Ko=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Nu=Object.prototype.hasOwnProperty,ye=(e,t)=>Nu.call(e,t),Z=Array.isArray,Nn=e=>cr(e)==="[object Map]",ll=e=>cr(e)==="[object Set]",se=e=>typeof e=="function",De=e=>typeof e=="string",jn=e=>typeof e=="symbol",Oe=e=>e!==null&&typeof e=="object",cl=e=>(Oe(e)||se(e))&&se(e.then)&&se(e.catch),ul=Object.prototype.toString,cr=e=>ul.call(e),Lu=e=>cr(e).slice(8,-1),dl=e=>cr(e)==="[object Object]",zo=e=>De(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,rs=Wo(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ur=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Du=/-(\w)/g,Pt=ur(e=>e.replace(Du,(t,n)=>n?n.toUpperCase():"")),Bu=/\B([A-Z])/g,vn=ur(e=>e.replace(Bu,"-$1").toLowerCase()),dr=ur(e=>e.charAt(0).toUpperCase()+e.slice(1)),Lr=ur(e=>e?`on${dr(e)}`:""),sn=(e,t)=>!Object.is(e,t),js=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Zs=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},no=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Pi;const fl=()=>Pi||(Pi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function on(e){if(Z(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],r=De(s)?Fu(s):on(s);if(r)for(const o in r)t[o]=r[o]}return t}else if(De(e)||Oe(e))return e}const Uu=/;(?![^(]*\))/g,qu=/:([^]+)/,Mu=/\/\*[^]*?\*\//g;function Fu(e){const t={};return e.replace(Mu,"").split(Uu).forEach(n=>{if(n){const s=n.split(qu);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function de(e){let t="";if(De(e))t=e;else if(Z(e))for(let n=0;n<e.length;n++){const s=de(e[n]);s&&(t+=s+" ")}else if(Oe(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const ju="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Hu=Wo(ju);function hl(e){return!!e||e===""}const F=e=>De(e)?e:e==null?"":Z(e)||Oe(e)&&(e.toString===ul||!se(e.toString))?JSON.stringify(e,pl,2):String(e),pl=(e,t)=>t&&t.__v_isRef?pl(e,t.value):Nn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[s,r],o)=>(n[Dr(s,o)+" =>"]=r,n),{})}:ll(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Dr(n))}:jn(t)?Dr(t):Oe(t)&&!Z(t)&&!dl(t)?String(t):t,Dr=(e,t="")=>{var n;return jn(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let dt;class ml{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=dt,!t&&dt&&(this.index=(dt.scopes||(dt.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=dt;try{return dt=this,t()}finally{dt=n}}}on(){dt=this}off(){dt=this.parent}stop(t){if(this._active){let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this._active=!1}}}function yl(e){return new ml(e)}function Vu(e,t=dt){t&&t.active&&t.effects.push(e)}function gl(){return dt}function Wu(e){dt&&dt.cleanups.push(e)}let mn;class Go{constructor(t,n,s,r){this.fn=t,this.trigger=n,this.scheduler=s,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,Vu(this,r)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,bn();for(let t=0;t<this._depsLength;t++){const n=this.deps[t];if(n.computed&&(Qu(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),wn()}return this._dirtyLevel>=4}set dirty(t){this._dirtyLevel=t?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=en,n=mn;try{return en=!0,mn=this,this._runnings++,Ii(this),this.fn()}finally{Ni(this),this._runnings--,mn=n,en=t}}stop(){var t;this.active&&(Ii(this),Ni(this),(t=this.onStop)==null||t.call(this),this.active=!1)}}function Qu(e){return e.value}function Ii(e){e._trackId++,e._depsLength=0}function Ni(e){if(e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)_l(e.deps[t],e);e.deps.length=e._depsLength}}function _l(e,t){const n=e.get(t);n!==void 0&&t._trackId!==n&&(e.delete(t),e.size===0&&e.cleanup())}let en=!0,so=0;const vl=[];function bn(){vl.push(en),en=!1}function wn(){const e=vl.pop();en=e===void 0?!0:e}function Yo(){so++}function Jo(){for(so--;!so&&ro.length;)ro.shift()()}function bl(e,t,n){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const s=e.deps[e._depsLength];s!==t?(s&&_l(s,e),e.deps[e._depsLength++]=t):e._depsLength++}}const ro=[];function wl(e,t,n){Yo();for(const s of e.keys()){let r;s._dirtyLevel<t&&(r??(r=e.get(s)===s._trackId))&&(s._shouldSchedule||(s._shouldSchedule=s._dirtyLevel===0),s._dirtyLevel=t),s._shouldSchedule&&(r??(r=e.get(s)===s._trackId))&&(s.trigger(),(!s._runnings||s.allowRecurse)&&s._dirtyLevel!==2&&(s._shouldSchedule=!1,s.scheduler&&ro.push(s.scheduler)))}Jo()}const El=(e,t)=>{const n=new Map;return n.cleanup=e,n.computed=t,n},er=new WeakMap,yn=Symbol(""),oo=Symbol("");function it(e,t,n){if(en&&mn){let s=er.get(e);s||er.set(e,s=new Map);let r=s.get(n);r||s.set(n,r=El(()=>s.delete(n))),bl(mn,r)}}function Ut(e,t,n,s,r,o){const i=er.get(e);if(!i)return;let a=[];if(t==="clear")a=[...i.values()];else if(n==="length"&&Z(e)){const c=Number(s);i.forEach((d,u)=>{(u==="length"||!jn(u)&&u>=c)&&a.push(d)})}else switch(n!==void 0&&a.push(i.get(n)),t){case"add":Z(e)?zo(n)&&a.push(i.get("length")):(a.push(i.get(yn)),Nn(e)&&a.push(i.get(oo)));break;case"delete":Z(e)||(a.push(i.get(yn)),Nn(e)&&a.push(i.get(oo)));break;case"set":Nn(e)&&a.push(i.get(yn));break}Yo();for(const c of a)c&&wl(c,4);Jo()}function Ku(e,t){var n;return(n=er.get(e))==null?void 0:n.get(t)}const zu=Wo("__proto__,__v_isRef,__isVue"),Cl=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(jn)),Li=Gu();function Gu(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const s=ge(this);for(let o=0,i=this.length;o<i;o++)it(s,"get",o+"");const r=s[t](...n);return r===-1||r===!1?s[t](...n.map(ge)):r}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){bn(),Yo();const s=ge(this)[t].apply(this,n);return Jo(),wn(),s}}),e}function Yu(e){const t=ge(this);return it(t,"has",e),t.hasOwnProperty(e)}class kl{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,s){const r=this._isReadonly,o=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return o;if(n==="__v_raw")return s===(r?o?cd:Tl:o?Al:Sl).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const i=Z(t);if(!r){if(i&&ye(Li,n))return Reflect.get(Li,n,s);if(n==="hasOwnProperty")return Yu}const a=Reflect.get(t,n,s);return(jn(n)?Cl.has(n):zu(n))||(r||it(t,"get",n),o)?a:qe(a)?i&&zo(n)?a:a.value:Oe(a)?r?Ol(a):ws(a):a}}class xl extends kl{constructor(t=!1){super(!1,t)}set(t,n,s,r){let o=t[n];if(!this._isShallow){const c=Bn(o);if(!tr(s)&&!Bn(s)&&(o=ge(o),s=ge(s)),!Z(t)&&qe(o)&&!qe(s))return c?!1:(o.value=s,!0)}const i=Z(t)&&zo(n)?Number(n)<t.length:ye(t,n),a=Reflect.set(t,n,s,r);return t===ge(r)&&(i?sn(s,o)&&Ut(t,"set",n,s):Ut(t,"add",n,s)),a}deleteProperty(t,n){const s=ye(t,n);t[n];const r=Reflect.deleteProperty(t,n);return r&&s&&Ut(t,"delete",n,void 0),r}has(t,n){const s=Reflect.has(t,n);return(!jn(n)||!Cl.has(n))&&it(t,"has",n),s}ownKeys(t){return it(t,"iterate",Z(t)?"length":yn),Reflect.ownKeys(t)}}class Ju extends kl{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Xu=new xl,Zu=new Ju,ed=new xl(!0),Xo=e=>e,fr=e=>Reflect.getPrototypeOf(e);function Os(e,t,n=!1,s=!1){e=e.__v_raw;const r=ge(e),o=ge(t);n||(sn(t,o)&&it(r,"get",t),it(r,"get",o));const{has:i}=fr(r),a=s?Xo:n?ti:fs;if(i.call(r,t))return a(e.get(t));if(i.call(r,o))return a(e.get(o));e!==r&&e.get(t)}function Rs(e,t=!1){const n=this.__v_raw,s=ge(n),r=ge(e);return t||(sn(e,r)&&it(s,"has",e),it(s,"has",r)),e===r?n.has(e):n.has(e)||n.has(r)}function Ps(e,t=!1){return e=e.__v_raw,!t&&it(ge(e),"iterate",yn),Reflect.get(e,"size",e)}function Di(e){e=ge(e);const t=ge(this);return fr(t).has.call(t,e)||(t.add(e),Ut(t,"add",e,e)),this}function Bi(e,t){t=ge(t);const n=ge(this),{has:s,get:r}=fr(n);let o=s.call(n,e);o||(e=ge(e),o=s.call(n,e));const i=r.call(n,e);return n.set(e,t),o?sn(t,i)&&Ut(n,"set",e,t):Ut(n,"add",e,t),this}function Ui(e){const t=ge(this),{has:n,get:s}=fr(t);let r=n.call(t,e);r||(e=ge(e),r=n.call(t,e)),s&&s.call(t,e);const o=t.delete(e);return r&&Ut(t,"delete",e,void 0),o}function qi(){const e=ge(this),t=e.size!==0,n=e.clear();return t&&Ut(e,"clear",void 0,void 0),n}function Is(e,t){return function(s,r){const o=this,i=o.__v_raw,a=ge(i),c=t?Xo:e?ti:fs;return!e&&it(a,"iterate",yn),i.forEach((d,u)=>s.call(r,c(d),c(u),o))}}function Ns(e,t,n){return function(...s){const r=this.__v_raw,o=ge(r),i=Nn(o),a=e==="entries"||e===Symbol.iterator&&i,c=e==="keys"&&i,d=r[e](...s),u=n?Xo:t?ti:fs;return!t&&it(o,"iterate",c?oo:yn),{next(){const{value:f,done:p}=d.next();return p?{value:f,done:p}:{value:a?[u(f[0]),u(f[1])]:u(f),done:p}},[Symbol.iterator](){return this}}}}function Qt(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function td(){const e={get(o){return Os(this,o)},get size(){return Ps(this)},has:Rs,add:Di,set:Bi,delete:Ui,clear:qi,forEach:Is(!1,!1)},t={get(o){return Os(this,o,!1,!0)},get size(){return Ps(this)},has:Rs,add:Di,set:Bi,delete:Ui,clear:qi,forEach:Is(!1,!0)},n={get(o){return Os(this,o,!0)},get size(){return Ps(this,!0)},has(o){return Rs.call(this,o,!0)},add:Qt("add"),set:Qt("set"),delete:Qt("delete"),clear:Qt("clear"),forEach:Is(!0,!1)},s={get(o){return Os(this,o,!0,!0)},get size(){return Ps(this,!0)},has(o){return Rs.call(this,o,!0)},add:Qt("add"),set:Qt("set"),delete:Qt("delete"),clear:Qt("clear"),forEach:Is(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{e[o]=Ns(o,!1,!1),n[o]=Ns(o,!0,!1),t[o]=Ns(o,!1,!0),s[o]=Ns(o,!0,!0)}),[e,n,t,s]}const[nd,sd,rd,od]=td();function Zo(e,t){const n=t?e?od:rd:e?sd:nd;return(s,r,o)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?s:Reflect.get(ye(n,r)&&r in s?n:s,r,o)}const id={get:Zo(!1,!1)},ad={get:Zo(!1,!0)},ld={get:Zo(!0,!1)},Sl=new WeakMap,Al=new WeakMap,Tl=new WeakMap,cd=new WeakMap;function ud(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function dd(e){return e.__v_skip||!Object.isExtensible(e)?0:ud(Lu(e))}function ws(e){return Bn(e)?e:ei(e,!1,Xu,id,Sl)}function $l(e){return ei(e,!1,ed,ad,Al)}function Ol(e){return ei(e,!0,Zu,ld,Tl)}function ei(e,t,n,s,r){if(!Oe(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=r.get(e);if(o)return o;const i=dd(e);if(i===0)return e;const a=new Proxy(e,i===2?s:n);return r.set(e,a),a}function tn(e){return Bn(e)?tn(e.__v_raw):!!(e&&e.__v_isReactive)}function Bn(e){return!!(e&&e.__v_isReadonly)}function tr(e){return!!(e&&e.__v_isShallow)}function Rl(e){return tn(e)||Bn(e)}function ge(e){const t=e&&e.__v_raw;return t?ge(t):e}function hr(e){return Object.isExtensible(e)&&Zs(e,"__v_skip",!0),e}const fs=e=>Oe(e)?ws(e):e,ti=e=>Oe(e)?Ol(e):e;class Pl{constructor(t,n,s,r){this.getter=t,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Go(()=>t(this._value),()=>Hs(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=s}get value(){const t=ge(this);return(!t._cacheable||t.effect.dirty)&&sn(t._value,t._value=t.effect.run())&&Hs(t,4),Il(t),t.effect._dirtyLevel>=2&&Hs(t,2),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function fd(e,t,n=!1){let s,r;const o=se(e);return o?(s=e,r=pt):(s=e.get,r=e.set),new Pl(s,r,o||!r,n)}function Il(e){var t;en&&mn&&(e=ge(e),bl(mn,(t=e.dep)!=null?t:e.dep=El(()=>e.dep=void 0,e instanceof Pl?e:void 0)))}function Hs(e,t=4,n){e=ge(e);const s=e.dep;s&&wl(s,t)}function qe(e){return!!(e&&e.__v_isRef===!0)}function U(e){return Nl(e,!1)}function io(e){return Nl(e,!0)}function Nl(e,t){return qe(e)?e:new hd(e,t)}class hd{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:ge(t),this._value=n?t:fs(t)}get value(){return Il(this),this._value}set value(t){const n=this.__v_isShallow||tr(t)||Bn(t);t=n?t:ge(t),sn(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:fs(t),Hs(this,4))}}function X(e){return qe(e)?e.value:e}const pd={get:(e,t,n)=>X(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const r=e[t];return qe(r)&&!qe(n)?(r.value=n,!0):Reflect.set(e,t,n,s)}};function Ll(e){return tn(e)?e:new Proxy(e,pd)}function md(e){const t=Z(e)?new Array(e.length):{};for(const n in e)t[n]=gd(e,n);return t}class yd{constructor(t,n,s){this._object=t,this._key=n,this._defaultValue=s,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Ku(ge(this._object),this._key)}}function gd(e,t,n){const s=e[t];return qe(s)?s:new yd(e,t,n)}/**
* @vue/runtime-core v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function nn(e,t,n,s){try{return s?e(...s):e()}catch(r){pr(r,t,n)}}function Et(e,t,n,s){if(se(e)){const o=nn(e,t,n,s);return o&&cl(o)&&o.catch(i=>{pr(i,t,n)}),o}const r=[];for(let o=0;o<e.length;o++)r.push(Et(e[o],t,n,s));return r}function pr(e,t,n,s=!0){const r=t?t.vnode:null;if(t){let o=t.parent;const i=t.proxy,a=`https://vuejs.org/error-reference/#runtime-${n}`;for(;o;){const d=o.ec;if(d){for(let u=0;u<d.length;u++)if(d[u](e,i,a)===!1)return}o=o.parent}const c=t.appContext.config.errorHandler;if(c){nn(c,null,10,[e,i,a]);return}}_d(e,n,r,s)}function _d(e,t,n,s=!0){console.error(e)}let hs=!1,ao=!1;const Ge=[];let $t=0;const Ln=[];let Yt=null,hn=0;const Dl=Promise.resolve();let ni=null;function si(e){const t=ni||Dl;return e?t.then(this?e.bind(this):e):t}function vd(e){let t=$t+1,n=Ge.length;for(;t<n;){const s=t+n>>>1,r=Ge[s],o=ps(r);o<e||o===e&&r.pre?t=s+1:n=s}return t}function ri(e){(!Ge.length||!Ge.includes(e,hs&&e.allowRecurse?$t+1:$t))&&(e.id==null?Ge.push(e):Ge.splice(vd(e.id),0,e),Bl())}function Bl(){!hs&&!ao&&(ao=!0,ni=Dl.then(ql))}function bd(e){const t=Ge.indexOf(e);t>$t&&Ge.splice(t,1)}function wd(e){Z(e)?Ln.push(...e):(!Yt||!Yt.includes(e,e.allowRecurse?hn+1:hn))&&Ln.push(e),Bl()}function Mi(e,t,n=hs?$t+1:0){for(;n<Ge.length;n++){const s=Ge[n];if(s&&s.pre){if(e&&s.id!==e.uid)continue;Ge.splice(n,1),n--,s()}}}function Ul(e){if(Ln.length){const t=[...new Set(Ln)].sort((n,s)=>ps(n)-ps(s));if(Ln.length=0,Yt){Yt.push(...t);return}for(Yt=t,hn=0;hn<Yt.length;hn++)Yt[hn]();Yt=null,hn=0}}const ps=e=>e.id==null?1/0:e.id,Ed=(e,t)=>{const n=ps(e)-ps(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function ql(e){ao=!1,hs=!0,Ge.sort(Ed);try{for($t=0;$t<Ge.length;$t++){const t=Ge[$t];t&&t.active!==!1&&nn(t,null,14)}}finally{$t=0,Ge.length=0,Ul(),hs=!1,ni=null,(Ge.length||Ln.length)&&ql()}}function Cd(e,t,...n){if(e.isUnmounted)return;const s=e.vnode.props||xe;let r=n;const o=t.startsWith("update:"),i=o&&t.slice(7);if(i&&i in s){const u=`${i==="modelValue"?"model":i}Modifiers`,{number:f,trim:p}=s[u]||xe;p&&(r=n.map(y=>De(y)?y.trim():y)),f&&(r=n.map(no))}let a,c=s[a=Lr(t)]||s[a=Lr(Pt(t))];!c&&o&&(c=s[a=Lr(vn(t))]),c&&Et(c,e,6,r);const d=s[a+"Once"];if(d){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Et(d,e,6,r)}}function Ml(e,t,n=!1){const s=t.emitsCache,r=s.get(e);if(r!==void 0)return r;const o=e.emits;let i={},a=!1;if(!se(e)){const c=d=>{const u=Ml(d,t,!0);u&&(a=!0,Ke(i,u))};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!o&&!a?(Oe(e)&&s.set(e,null),null):(Z(o)?o.forEach(c=>i[c]=null):Ke(i,o),Oe(e)&&s.set(e,i),i)}function mr(e,t){return!e||!lr(t)?!1:(t=t.slice(2).replace(/Once$/,""),ye(e,t[0].toLowerCase()+t.slice(1))||ye(e,vn(t))||ye(e,t))}let Ue=null,yr=null;function nr(e){const t=Ue;return Ue=e,yr=e&&e.type.__scopeId||null,t}function Ae(e){yr=e}function Te(){yr=null}function H(e,t=Ue,n){if(!t||e._n)return e;const s=(...r)=>{s._d&&Ji(-1);const o=nr(t);let i;try{i=e(...r)}finally{nr(o),s._d&&Ji(1)}return i};return s._n=!0,s._c=!0,s._d=!0,s}function Br(e){const{type:t,vnode:n,proxy:s,withProxy:r,props:o,propsOptions:[i],slots:a,attrs:c,emit:d,render:u,renderCache:f,data:p,setupState:y,ctx:g,inheritAttrs:_}=e;let O,L;const j=nr(e);try{if(n.shapeFlag&4){const re=r||s,le=re;O=Tt(u.call(le,re,f,o,y,p,g)),L=c}else{const re=t;O=Tt(re.length>1?re(o,{attrs:c,slots:a,emit:d}):re(o,null)),L=t.props?c:kd(c)}}catch(re){ls.length=0,pr(re,e,1),O=P(rn)}let Q=O;if(L&&_!==!1){const re=Object.keys(L),{shapeFlag:le}=Q;re.length&&le&7&&(i&&re.some(Qo)&&(L=xd(L,i)),Q=Un(Q,L))}return n.dirs&&(Q=Un(Q),Q.dirs=Q.dirs?Q.dirs.concat(n.dirs):n.dirs),n.transition&&(Q.transition=n.transition),O=Q,nr(j),O}const kd=e=>{let t;for(const n in e)(n==="class"||n==="style"||lr(n))&&((t||(t={}))[n]=e[n]);return t},xd=(e,t)=>{const n={};for(const s in e)(!Qo(s)||!(s.slice(9)in t))&&(n[s]=e[s]);return n};function Sd(e,t,n){const{props:s,children:r,component:o}=e,{props:i,children:a,patchFlag:c}=t,d=o.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return s?Fi(s,i,d):!!i;if(c&8){const u=t.dynamicProps;for(let f=0;f<u.length;f++){const p=u[f];if(i[p]!==s[p]&&!mr(d,p))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:s===i?!1:s?i?Fi(s,i,d):!0:!!i;return!1}function Fi(e,t,n){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let r=0;r<s.length;r++){const o=s[r];if(t[o]!==e[o]&&!mr(n,o))return!0}return!1}function Ad({vnode:e,parent:t},n){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s===e)(e=t.vnode).el=n,t=t.parent;else break}}const Fl="components";function oi(e,t){return Hl(Fl,e,!0,t)||e}const jl=Symbol.for("v-ndc");function Td(e){return De(e)?Hl(Fl,e,!1)||e:e||jl}function Hl(e,t,n=!0,s=!1){const r=Ue||We;if(r){const o=r.type;{const a=wf(o,!1);if(a&&(a===t||a===Pt(t)||a===dr(Pt(t))))return o}const i=ji(r[e]||o[e],t)||ji(r.appContext[e],t);return!i&&s?o:i}}function ji(e,t){return e&&(e[t]||e[Pt(t)]||e[dr(Pt(t))])}const $d=e=>e.__isSuspense;function Od(e,t){t&&t.pendingBranch?Z(e)?t.effects.push(...e):t.effects.push(e):wd(e)}const Rd=Symbol.for("v-scx"),Pd=()=>Ct(Rd),Ls={};function os(e,t,n){return Vl(e,t,n)}function Vl(e,t,{immediate:n,deep:s,flush:r,once:o,onTrack:i,onTrigger:a}=xe){if(t&&o){const J=t;t=(...ke)=>{J(...ke),le()}}const c=We,d=J=>s===!0?J:pn(J,s===!1?1:void 0);let u,f=!1,p=!1;if(qe(e)?(u=()=>e.value,f=tr(e)):tn(e)?(u=()=>d(e),f=!0):Z(e)?(p=!0,f=e.some(J=>tn(J)||tr(J)),u=()=>e.map(J=>{if(qe(J))return J.value;if(tn(J))return d(J);if(se(J))return nn(J,c,2)})):se(e)?t?u=()=>nn(e,c,2):u=()=>(y&&y(),Et(e,c,3,[g])):u=pt,t&&s){const J=u;u=()=>pn(J())}let y,g=J=>{y=Q.onStop=()=>{nn(J,c,4),y=Q.onStop=void 0}},_;if(br)if(g=pt,t?n&&Et(t,c,3,[u(),p?[]:void 0,g]):u(),r==="sync"){const J=Pd();_=J.__watcherHandles||(J.__watcherHandles=[])}else return pt;let O=p?new Array(e.length).fill(Ls):Ls;const L=()=>{if(!(!Q.active||!Q.dirty))if(t){const J=Q.run();(s||f||(p?J.some((ke,oe)=>sn(ke,O[oe])):sn(J,O)))&&(y&&y(),Et(t,c,3,[J,O===Ls?void 0:p&&O[0]===Ls?[]:O,g]),O=J)}else Q.run()};L.allowRecurse=!!t;let j;r==="sync"?j=L:r==="post"?j=()=>rt(L,c&&c.suspense):(L.pre=!0,c&&(L.id=c.uid),j=()=>ri(L));const Q=new Go(u,pt,j),re=gl(),le=()=>{Q.stop(),re&&Ko(re.effects,Q)};return t?n?L():O=Q.run():r==="post"?rt(Q.run.bind(Q),c&&c.suspense):Q.run(),_&&_.push(le),le}function Id(e,t,n){const s=this.proxy,r=De(e)?e.includes(".")?Wl(s,e):()=>s[e]:e.bind(s,s);let o;se(t)?o=t:(o=t.handler,n=t);const i=Es(this),a=Vl(r,o.bind(s),n);return i(),a}function Wl(e,t){const n=t.split(".");return()=>{let s=e;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}function pn(e,t,n=0,s){if(!Oe(e)||e.__v_skip)return e;if(t&&t>0){if(n>=t)return e;n++}if(s=s||new Set,s.has(e))return e;if(s.add(e),qe(e))pn(e.value,t,n,s);else if(Z(e))for(let r=0;r<e.length;r++)pn(e[r],t,n,s);else if(ll(e)||Nn(e))e.forEach(r=>{pn(r,t,n,s)});else if(dl(e))for(const r in e)pn(e[r],t,n,s);return e}function Ye(e,t){if(Ue===null)return e;const n=wr(Ue)||Ue.proxy,s=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[o,i,a,c=xe]=t[r];o&&(se(o)&&(o={mounted:o,updated:o}),o.deep&&pn(i),s.push({dir:o,instance:n,value:i,oldValue:void 0,arg:a,modifiers:c}))}return e}function un(e,t,n,s){const r=e.dirs,o=t&&t.dirs;for(let i=0;i<r.length;i++){const a=r[i];o&&(a.oldValue=o[i].value);let c=a.dir[s];c&&(bn(),Et(c,n,8,[e.el,a,e,t]),wn())}}/*! #__NO_SIDE_EFFECTS__ */function ae(e,t){return se(e)?Ke({name:e.name},t,{setup:e}):e}const is=e=>!!e.type.__asyncLoader,Ql=e=>e.type.__isKeepAlive;function Nd(e,t){Kl(e,"a",t)}function Ld(e,t){Kl(e,"da",t)}function Kl(e,t,n=We){const s=e.__wdc||(e.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(gr(t,s,n),n){let r=n.parent;for(;r&&r.parent;)Ql(r.parent.vnode)&&Dd(s,t,n,r),r=r.parent}}function Dd(e,t,n,s){const r=gr(t,e,s,!0);ii(()=>{Ko(s[t],r)},n)}function gr(e,t,n=We,s=!1){if(n){const r=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...i)=>{if(n.isUnmounted)return;bn();const a=Es(n),c=Et(t,n,e,i);return a(),wn(),c});return s?r.unshift(o):r.push(o),o}}const Mt=e=>(t,n=We)=>(!br||e==="sp")&&gr(e,(...s)=>t(...s),n),Bd=Mt("bm"),Hn=Mt("m"),Ud=Mt("bu"),qd=Mt("u"),Md=Mt("bum"),ii=Mt("um"),Fd=Mt("sp"),jd=Mt("rtg"),Hd=Mt("rtc");function Vd(e,t=We){gr("ec",e,t)}function je(e,t,n,s){let r;const o=n;if(Z(e)||De(e)){r=new Array(e.length);for(let i=0,a=e.length;i<a;i++)r[i]=t(e[i],i,void 0,o)}else if(typeof e=="number"){r=new Array(e);for(let i=0;i<e;i++)r[i]=t(i+1,i,void 0,o)}else if(Oe(e))if(e[Symbol.iterator])r=Array.from(e,(i,a)=>t(i,a,void 0,o));else{const i=Object.keys(e);r=new Array(i.length);for(let a=0,c=i.length;a<c;a++){const d=i[a];r[a]=t(e[d],d,a,o)}}else r=[];return r}function ms(e,t,n={},s,r){if(Ue.isCE||Ue.parent&&is(Ue.parent)&&Ue.parent.isCE)return t!=="default"&&(n.name=t),P("slot",n,s);let o=e[t];o&&o._c&&(o._d=!1),w();const i=o&&zl(o(n)),a=Se(ve,{key:n.key||i&&i.key||`_${t}`},i||[],i&&e._===1?64:-2);return o&&o._c&&(o._d=!0),a}function zl(e){return e.some(t=>rr(t)?!(t.type===rn||t.type===ve&&!zl(t.children)):!0)?e:null}const lo=e=>e?ac(e)?wr(e)||e.proxy:lo(e.parent):null,as=Ke(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>lo(e.parent),$root:e=>lo(e.root),$emit:e=>e.emit,$options:e=>ai(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,ri(e.update)}),$nextTick:e=>e.n||(e.n=si.bind(e.proxy)),$watch:e=>Id.bind(e)}),Ur=(e,t)=>e!==xe&&!e.__isScriptSetup&&ye(e,t),Wd={get({_:e},t){const{ctx:n,setupState:s,data:r,props:o,accessCache:i,type:a,appContext:c}=e;let d;if(t[0]!=="$"){const y=i[t];if(y!==void 0)switch(y){case 1:return s[t];case 2:return r[t];case 4:return n[t];case 3:return o[t]}else{if(Ur(s,t))return i[t]=1,s[t];if(r!==xe&&ye(r,t))return i[t]=2,r[t];if((d=e.propsOptions[0])&&ye(d,t))return i[t]=3,o[t];if(n!==xe&&ye(n,t))return i[t]=4,n[t];co&&(i[t]=0)}}const u=as[t];let f,p;if(u)return t==="$attrs"&&it(e,"get",t),u(e);if((f=a.__cssModules)&&(f=f[t]))return f;if(n!==xe&&ye(n,t))return i[t]=4,n[t];if(p=c.config.globalProperties,ye(p,t))return p[t]},set({_:e},t,n){const{data:s,setupState:r,ctx:o}=e;return Ur(r,t)?(r[t]=n,!0):s!==xe&&ye(s,t)?(s[t]=n,!0):ye(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:r,propsOptions:o}},i){let a;return!!n[i]||e!==xe&&ye(e,i)||Ur(t,i)||(a=o[0])&&ye(a,i)||ye(s,i)||ye(as,i)||ye(r.config.globalProperties,i)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:ye(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Hi(e){return Z(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let co=!0;function Qd(e){const t=ai(e),n=e.proxy,s=e.ctx;co=!1,t.beforeCreate&&Vi(t.beforeCreate,e,"bc");const{data:r,computed:o,methods:i,watch:a,provide:c,inject:d,created:u,beforeMount:f,mounted:p,beforeUpdate:y,updated:g,activated:_,deactivated:O,beforeDestroy:L,beforeUnmount:j,destroyed:Q,unmounted:re,render:le,renderTracked:J,renderTriggered:ke,errorCaptured:oe,serverPrefetch:ie,expose:Re,inheritAttrs:Me,components:et,directives:tt,filters:z}=t;if(d&&Kd(d,s,null),i)for(const x in i){const he=i[x];se(he)&&(s[x]=he.bind(n))}if(r){const x=r.call(n,n);Oe(x)&&(e.data=ws(x))}if(co=!0,o)for(const x in o){const he=o[x],gt=se(he)?he.bind(n,n):se(he.get)?he.get.bind(n,n):pt,Wt=!se(he)&&se(he.set)?he.set.bind(n):pt,xt=te({get:gt,set:Wt});Object.defineProperty(s,x,{enumerable:!0,configurable:!0,get:()=>xt.value,set:st=>xt.value=st})}if(a)for(const x in a)Gl(a[x],s,n,x);if(c){const x=se(c)?c.call(n):c;Reflect.ownKeys(x).forEach(he=>{Vs(he,x[he])})}u&&Vi(u,e,"c");function b(x,he){Z(he)?he.forEach(gt=>x(gt.bind(n))):he&&x(he.bind(n))}if(b(Bd,f),b(Hn,p),b(Ud,y),b(qd,g),b(Nd,_),b(Ld,O),b(Vd,oe),b(Hd,J),b(jd,ke),b(Md,j),b(ii,re),b(Fd,ie),Z(Re))if(Re.length){const x=e.exposed||(e.exposed={});Re.forEach(he=>{Object.defineProperty(x,he,{get:()=>n[he],set:gt=>n[he]=gt})})}else e.exposed||(e.exposed={});le&&e.render===pt&&(e.render=le),Me!=null&&(e.inheritAttrs=Me),et&&(e.components=et),tt&&(e.directives=tt)}function Kd(e,t,n=pt){Z(e)&&(e=uo(e));for(const s in e){const r=e[s];let o;Oe(r)?"default"in r?o=Ct(r.from||s,r.default,!0):o=Ct(r.from||s):o=Ct(r),qe(o)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>o.value,set:i=>o.value=i}):t[s]=o}}function Vi(e,t,n){Et(Z(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,n)}function Gl(e,t,n,s){const r=s.includes(".")?Wl(n,s):()=>n[s];if(De(e)){const o=t[e];se(o)&&os(r,o)}else if(se(e))os(r,e.bind(n));else if(Oe(e))if(Z(e))e.forEach(o=>Gl(o,t,n,s));else{const o=se(e.handler)?e.handler.bind(n):t[e.handler];se(o)&&os(r,o,e)}}function ai(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:r,optionsCache:o,config:{optionMergeStrategies:i}}=e.appContext,a=o.get(t);let c;return a?c=a:!r.length&&!n&&!s?c=t:(c={},r.length&&r.forEach(d=>sr(c,d,i,!0)),sr(c,t,i)),Oe(t)&&o.set(t,c),c}function sr(e,t,n,s=!1){const{mixins:r,extends:o}=t;o&&sr(e,o,n,!0),r&&r.forEach(i=>sr(e,i,n,!0));for(const i in t)if(!(s&&i==="expose")){const a=zd[i]||n&&n[i];e[i]=a?a(e[i],t[i]):t[i]}return e}const zd={data:Wi,props:Qi,emits:Qi,methods:ns,computed:ns,beforeCreate:nt,created:nt,beforeMount:nt,mounted:nt,beforeUpdate:nt,updated:nt,beforeDestroy:nt,beforeUnmount:nt,destroyed:nt,unmounted:nt,activated:nt,deactivated:nt,errorCaptured:nt,serverPrefetch:nt,components:ns,directives:ns,watch:Yd,provide:Wi,inject:Gd};function Wi(e,t){return t?e?function(){return Ke(se(e)?e.call(this,this):e,se(t)?t.call(this,this):t)}:t:e}function Gd(e,t){return ns(uo(e),uo(t))}function uo(e){if(Z(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function nt(e,t){return e?[...new Set([].concat(e,t))]:t}function ns(e,t){return e?Ke(Object.create(null),e,t):t}function Qi(e,t){return e?Z(e)&&Z(t)?[...new Set([...e,...t])]:Ke(Object.create(null),Hi(e),Hi(t??{})):t}function Yd(e,t){if(!e)return t;if(!t)return e;const n=Ke(Object.create(null),e);for(const s in t)n[s]=nt(e[s],t[s]);return n}function Yl(){return{app:null,config:{isNativeTag:Iu,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Jd=0;function Xd(e,t){return function(s,r=null){se(s)||(s=Ke({},s)),r!=null&&!Oe(r)&&(r=null);const o=Yl(),i=new WeakSet;let a=!1;const c=o.app={_uid:Jd++,_component:s,_props:r,_container:null,_context:o,_instance:null,version:Cf,get config(){return o.config},set config(d){},use(d,...u){return i.has(d)||(d&&se(d.install)?(i.add(d),d.install(c,...u)):se(d)&&(i.add(d),d(c,...u))),c},mixin(d){return o.mixins.includes(d)||o.mixins.push(d),c},component(d,u){return u?(o.components[d]=u,c):o.components[d]},directive(d,u){return u?(o.directives[d]=u,c):o.directives[d]},mount(d,u,f){if(!a){const p=P(s,r);return p.appContext=o,f===!0?f="svg":f===!1&&(f=void 0),u&&t?t(p,d):e(p,d,f),a=!0,c._container=d,d.__vue_app__=c,wr(p.component)||p.component.proxy}},unmount(){a&&(e(null,c._container),delete c._container.__vue_app__)},provide(d,u){return o.provides[d]=u,c},runWithContext(d){const u=Dn;Dn=c;try{return d()}finally{Dn=u}}};return c}}let Dn=null;function Vs(e,t){if(We){let n=We.provides;const s=We.parent&&We.parent.provides;s===n&&(n=We.provides=Object.create(s)),n[e]=t}}function Ct(e,t,n=!1){const s=We||Ue;if(s||Dn){const r=s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:Dn._context.provides;if(r&&e in r)return r[e];if(arguments.length>1)return n&&se(t)?t.call(s&&s.proxy):t}}function Zd(){return!!(We||Ue||Dn)}function ef(e,t,n,s=!1){const r={},o={};Zs(o,vr,1),e.propsDefaults=Object.create(null),Jl(e,t,r,o);for(const i in e.propsOptions[0])i in r||(r[i]=void 0);n?e.props=s?r:$l(r):e.type.props?e.props=r:e.props=o,e.attrs=o}function tf(e,t,n,s){const{props:r,attrs:o,vnode:{patchFlag:i}}=e,a=ge(r),[c]=e.propsOptions;let d=!1;if((s||i>0)&&!(i&16)){if(i&8){const u=e.vnode.dynamicProps;for(let f=0;f<u.length;f++){let p=u[f];if(mr(e.emitsOptions,p))continue;const y=t[p];if(c)if(ye(o,p))y!==o[p]&&(o[p]=y,d=!0);else{const g=Pt(p);r[g]=fo(c,a,g,y,e,!1)}else y!==o[p]&&(o[p]=y,d=!0)}}}else{Jl(e,t,r,o)&&(d=!0);let u;for(const f in a)(!t||!ye(t,f)&&((u=vn(f))===f||!ye(t,u)))&&(c?n&&(n[f]!==void 0||n[u]!==void 0)&&(r[f]=fo(c,a,f,void 0,e,!0)):delete r[f]);if(o!==a)for(const f in o)(!t||!ye(t,f))&&(delete o[f],d=!0)}d&&Ut(e,"set","$attrs")}function Jl(e,t,n,s){const[r,o]=e.propsOptions;let i=!1,a;if(t)for(let c in t){if(rs(c))continue;const d=t[c];let u;r&&ye(r,u=Pt(c))?!o||!o.includes(u)?n[u]=d:(a||(a={}))[u]=d:mr(e.emitsOptions,c)||(!(c in s)||d!==s[c])&&(s[c]=d,i=!0)}if(o){const c=ge(n),d=a||xe;for(let u=0;u<o.length;u++){const f=o[u];n[f]=fo(r,c,f,d[f],e,!ye(d,f))}}return i}function fo(e,t,n,s,r,o){const i=e[n];if(i!=null){const a=ye(i,"default");if(a&&s===void 0){const c=i.default;if(i.type!==Function&&!i.skipFactory&&se(c)){const{propsDefaults:d}=r;if(n in d)s=d[n];else{const u=Es(r);s=d[n]=c.call(null,t),u()}}else s=c}i[0]&&(o&&!a?s=!1:i[1]&&(s===""||s===vn(n))&&(s=!0))}return s}function Xl(e,t,n=!1){const s=t.propsCache,r=s.get(e);if(r)return r;const o=e.props,i={},a=[];let c=!1;if(!se(e)){const u=f=>{c=!0;const[p,y]=Xl(f,t,!0);Ke(i,p),y&&a.push(...y)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!o&&!c)return Oe(e)&&s.set(e,In),In;if(Z(o))for(let u=0;u<o.length;u++){const f=Pt(o[u]);Ki(f)&&(i[f]=xe)}else if(o)for(const u in o){const f=Pt(u);if(Ki(f)){const p=o[u],y=i[f]=Z(p)||se(p)?{type:p}:Ke({},p);if(y){const g=Yi(Boolean,y.type),_=Yi(String,y.type);y[0]=g>-1,y[1]=_<0||g<_,(g>-1||ye(y,"default"))&&a.push(f)}}}const d=[i,a];return Oe(e)&&s.set(e,d),d}function Ki(e){return e[0]!=="$"&&!rs(e)}function zi(e){return e===null?"null":typeof e=="function"?e.name||"":typeof e=="object"&&e.constructor&&e.constructor.name||""}function Gi(e,t){return zi(e)===zi(t)}function Yi(e,t){return Z(t)?t.findIndex(n=>Gi(n,e)):se(t)&&Gi(t,e)?0:-1}const Zl=e=>e[0]==="_"||e==="$stable",li=e=>Z(e)?e.map(Tt):[Tt(e)],nf=(e,t,n)=>{if(t._n)return t;const s=H((...r)=>li(t(...r)),n);return s._c=!1,s},ec=(e,t,n)=>{const s=e._ctx;for(const r in e){if(Zl(r))continue;const o=e[r];if(se(o))t[r]=nf(r,o,s);else if(o!=null){const i=li(o);t[r]=()=>i}}},tc=(e,t)=>{const n=li(t);e.slots.default=()=>n},sf=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=ge(t),Zs(t,"_",n)):ec(t,e.slots={})}else e.slots={},t&&tc(e,t);Zs(e.slots,vr,1)},rf=(e,t,n)=>{const{vnode:s,slots:r}=e;let o=!0,i=xe;if(s.shapeFlag&32){const a=t._;a?n&&a===1?o=!1:(Ke(r,t),!n&&a===1&&delete r._):(o=!t.$stable,ec(t,r)),i=t}else t&&(tc(e,t),i={default:1});if(o)for(const a in r)!Zl(a)&&i[a]==null&&delete r[a]};function ho(e,t,n,s,r=!1){if(Z(e)){e.forEach((p,y)=>ho(p,t&&(Z(t)?t[y]:t),n,s,r));return}if(is(s)&&!r)return;const o=s.shapeFlag&4?wr(s.component)||s.component.proxy:s.el,i=r?null:o,{i:a,r:c}=e,d=t&&t.r,u=a.refs===xe?a.refs={}:a.refs,f=a.setupState;if(d!=null&&d!==c&&(De(d)?(u[d]=null,ye(f,d)&&(f[d]=null)):qe(d)&&(d.value=null)),se(c))nn(c,a,12,[i,u]);else{const p=De(c),y=qe(c);if(p||y){const g=()=>{if(e.f){const _=p?ye(f,c)?f[c]:u[c]:c.value;r?Z(_)&&Ko(_,o):Z(_)?_.includes(o)||_.push(o):p?(u[c]=[o],ye(f,c)&&(f[c]=u[c])):(c.value=[o],e.k&&(u[e.k]=c.value))}else p?(u[c]=i,ye(f,c)&&(f[c]=i)):y&&(c.value=i,e.k&&(u[e.k]=i))};i?(g.id=-1,rt(g,n)):g()}}}const rt=Od;function of(e){return af(e)}function af(e,t){const n=fl();n.__VUE__=!0;const{insert:s,remove:r,patchProp:o,createElement:i,createText:a,createComment:c,setText:d,setElementText:u,parentNode:f,nextSibling:p,setScopeId:y=pt,insertStaticContent:g}=e,_=(h,m,v,A=null,E=null,I=null,B=void 0,R=null,N=!!m.dynamicChildren)=>{if(h===m)return;h&&!Jn(h,m)&&(A=S(h),st(h,E,I,!0),h=null),m.patchFlag===-2&&(N=!1,m.dynamicChildren=null);const{type:$,ref:M,shapeFlag:G}=m;switch($){case _r:O(h,m,v,A);break;case rn:L(h,m,v,A);break;case Mr:h==null&&j(m,v,A,B);break;case ve:et(h,m,v,A,E,I,B,R,N);break;default:G&1?le(h,m,v,A,E,I,B,R,N):G&6?tt(h,m,v,A,E,I,B,R,N):(G&64||G&128)&&$.process(h,m,v,A,E,I,B,R,N,V)}M!=null&&E&&ho(M,h&&h.ref,I,m||h,!m)},O=(h,m,v,A)=>{if(h==null)s(m.el=a(m.children),v,A);else{const E=m.el=h.el;m.children!==h.children&&d(E,m.children)}},L=(h,m,v,A)=>{h==null?s(m.el=c(m.children||""),v,A):m.el=h.el},j=(h,m,v,A)=>{[h.el,h.anchor]=g(h.children,m,v,A,h.el,h.anchor)},Q=({el:h,anchor:m},v,A)=>{let E;for(;h&&h!==m;)E=p(h),s(h,v,A),h=E;s(m,v,A)},re=({el:h,anchor:m})=>{let v;for(;h&&h!==m;)v=p(h),r(h),h=v;r(m)},le=(h,m,v,A,E,I,B,R,N)=>{m.type==="svg"?B="svg":m.type==="math"&&(B="mathml"),h==null?J(m,v,A,E,I,B,R,N):ie(h,m,E,I,B,R,N)},J=(h,m,v,A,E,I,B,R)=>{let N,$;const{props:M,shapeFlag:G,transition:K,dirs:ee}=h;if(N=h.el=i(h.type,I,M&&M.is,M),G&8?u(N,h.children):G&16&&oe(h.children,N,null,A,E,qr(h,I),B,R),ee&&un(h,null,A,"created"),ke(N,h,h.scopeId,B,A),M){for(const Ce in M)Ce!=="value"&&!rs(Ce)&&o(N,Ce,null,M[Ce],I,h.children,A,E,ze);"value"in M&&o(N,"value",null,M.value,I),($=M.onVnodeBeforeMount)&&At($,A,h)}ee&&un(h,null,A,"beforeMount");const ce=lf(E,K);ce&&K.beforeEnter(N),s(N,m,v),(($=M&&M.onVnodeMounted)||ce||ee)&&rt(()=>{$&&At($,A,h),ce&&K.enter(N),ee&&un(h,null,A,"mounted")},E)},ke=(h,m,v,A,E)=>{if(v&&y(h,v),A)for(let I=0;I<A.length;I++)y(h,A[I]);if(E){let I=E.subTree;if(m===I){const B=E.vnode;ke(h,B,B.scopeId,B.slotScopeIds,E.parent)}}},oe=(h,m,v,A,E,I,B,R,N=0)=>{for(let $=N;$<h.length;$++){const M=h[$]=R?Jt(h[$]):Tt(h[$]);_(null,M,m,v,A,E,I,B,R)}},ie=(h,m,v,A,E,I,B)=>{const R=m.el=h.el;let{patchFlag:N,dynamicChildren:$,dirs:M}=m;N|=h.patchFlag&16;const G=h.props||xe,K=m.props||xe;let ee;if(v&&dn(v,!1),(ee=K.onVnodeBeforeUpdate)&&At(ee,v,m,h),M&&un(m,h,v,"beforeUpdate"),v&&dn(v,!0),$?Re(h.dynamicChildren,$,R,v,A,qr(m,E),I):B||he(h,m,R,null,v,A,qr(m,E),I,!1),N>0){if(N&16)Me(R,m,G,K,v,A,E);else if(N&2&&G.class!==K.class&&o(R,"class",null,K.class,E),N&4&&o(R,"style",G.style,K.style,E),N&8){const ce=m.dynamicProps;for(let Ce=0;Ce<ce.length;Ce++){const $e=ce[Ce],Fe=G[$e],_t=K[$e];(_t!==Fe||$e==="value")&&o(R,$e,Fe,_t,E,h.children,v,A,ze)}}N&1&&h.children!==m.children&&u(R,m.children)}else!B&&$==null&&Me(R,m,G,K,v,A,E);((ee=K.onVnodeUpdated)||M)&&rt(()=>{ee&&At(ee,v,m,h),M&&un(m,h,v,"updated")},A)},Re=(h,m,v,A,E,I,B)=>{for(let R=0;R<m.length;R++){const N=h[R],$=m[R],M=N.el&&(N.type===ve||!Jn(N,$)||N.shapeFlag&70)?f(N.el):v;_(N,$,M,null,A,E,I,B,!0)}},Me=(h,m,v,A,E,I,B)=>{if(v!==A){if(v!==xe)for(const R in v)!rs(R)&&!(R in A)&&o(h,R,v[R],null,B,m.children,E,I,ze);for(const R in A){if(rs(R))continue;const N=A[R],$=v[R];N!==$&&R!=="value"&&o(h,R,$,N,B,m.children,E,I,ze)}"value"in A&&o(h,"value",v.value,A.value,B)}},et=(h,m,v,A,E,I,B,R,N)=>{const $=m.el=h?h.el:a(""),M=m.anchor=h?h.anchor:a("");let{patchFlag:G,dynamicChildren:K,slotScopeIds:ee}=m;ee&&(R=R?R.concat(ee):ee),h==null?(s($,v,A),s(M,v,A),oe(m.children||[],v,M,E,I,B,R,N)):G>0&&G&64&&K&&h.dynamicChildren?(Re(h.dynamicChildren,K,v,E,I,B,R),(m.key!=null||E&&m===E.subTree)&&nc(h,m,!0)):he(h,m,v,M,E,I,B,R,N)},tt=(h,m,v,A,E,I,B,R,N)=>{m.slotScopeIds=R,h==null?m.shapeFlag&512?E.ctx.activate(m,v,A,B,N):z(m,v,A,E,I,B,N):C(h,m,N)},z=(h,m,v,A,E,I,B)=>{const R=h.component=yf(h,A,E);if(Ql(h)&&(R.ctx.renderer=V),gf(R),R.asyncDep){if(E&&E.registerDep(R,b),!h.el){const N=R.subTree=P(rn);L(null,N,m,v)}}else b(R,h,m,v,E,I,B)},C=(h,m,v)=>{const A=m.component=h.component;if(Sd(h,m,v))if(A.asyncDep&&!A.asyncResolved){x(A,m,v);return}else A.next=m,bd(A.update),A.effect.dirty=!0,A.update();else m.el=h.el,A.vnode=m},b=(h,m,v,A,E,I,B)=>{const R=()=>{if(h.isMounted){let{next:M,bu:G,u:K,parent:ee,vnode:ce}=h;{const xn=sc(h);if(xn){M&&(M.el=ce.el,x(h,M,B)),xn.asyncDep.then(()=>{h.isUnmounted||R()});return}}let Ce=M,$e;dn(h,!1),M?(M.el=ce.el,x(h,M,B)):M=ce,G&&js(G),($e=M.props&&M.props.onVnodeBeforeUpdate)&&At($e,ee,M,ce),dn(h,!0);const Fe=Br(h),_t=h.subTree;h.subTree=Fe,_(_t,Fe,f(_t.el),S(_t),h,E,I),M.el=Fe.el,Ce===null&&Ad(h,Fe.el),K&&rt(K,E),($e=M.props&&M.props.onVnodeUpdated)&&rt(()=>At($e,ee,M,ce),E)}else{let M;const{el:G,props:K}=m,{bm:ee,m:ce,parent:Ce}=h,$e=is(m);if(dn(h,!1),ee&&js(ee),!$e&&(M=K&&K.onVnodeBeforeMount)&&At(M,Ce,m),dn(h,!0),G&&Pe){const Fe=()=>{h.subTree=Br(h),Pe(G,h.subTree,h,E,null)};$e?m.type.__asyncLoader().then(()=>!h.isUnmounted&&Fe()):Fe()}else{const Fe=h.subTree=Br(h);_(null,Fe,v,A,h,E,I),m.el=Fe.el}if(ce&&rt(ce,E),!$e&&(M=K&&K.onVnodeMounted)){const Fe=m;rt(()=>At(M,Ce,Fe),E)}(m.shapeFlag&256||Ce&&is(Ce.vnode)&&Ce.vnode.shapeFlag&256)&&h.a&&rt(h.a,E),h.isMounted=!0,m=v=A=null}},N=h.effect=new Go(R,pt,()=>ri($),h.scope),$=h.update=()=>{N.dirty&&N.run()};$.id=h.uid,dn(h,!0),$()},x=(h,m,v)=>{m.component=h;const A=h.vnode.props;h.vnode=m,h.next=null,tf(h,m.props,A,v),rf(h,m.children,v),bn(),Mi(h),wn()},he=(h,m,v,A,E,I,B,R,N=!1)=>{const $=h&&h.children,M=h?h.shapeFlag:0,G=m.children,{patchFlag:K,shapeFlag:ee}=m;if(K>0){if(K&128){Wt($,G,v,A,E,I,B,R,N);return}else if(K&256){gt($,G,v,A,E,I,B,R,N);return}}ee&8?(M&16&&ze($,E,I),G!==$&&u(v,G)):M&16?ee&16?Wt($,G,v,A,E,I,B,R,N):ze($,E,I,!0):(M&8&&u(v,""),ee&16&&oe(G,v,A,E,I,B,R,N))},gt=(h,m,v,A,E,I,B,R,N)=>{h=h||In,m=m||In;const $=h.length,M=m.length,G=Math.min($,M);let K;for(K=0;K<G;K++){const ee=m[K]=N?Jt(m[K]):Tt(m[K]);_(h[K],ee,v,null,E,I,B,R,N)}$>M?ze(h,E,I,!0,!1,G):oe(m,v,A,E,I,B,R,N,G)},Wt=(h,m,v,A,E,I,B,R,N)=>{let $=0;const M=m.length;let G=h.length-1,K=M-1;for(;$<=G&&$<=K;){const ee=h[$],ce=m[$]=N?Jt(m[$]):Tt(m[$]);if(Jn(ee,ce))_(ee,ce,v,null,E,I,B,R,N);else break;$++}for(;$<=G&&$<=K;){const ee=h[G],ce=m[K]=N?Jt(m[K]):Tt(m[K]);if(Jn(ee,ce))_(ee,ce,v,null,E,I,B,R,N);else break;G--,K--}if($>G){if($<=K){const ee=K+1,ce=ee<M?m[ee].el:A;for(;$<=K;)_(null,m[$]=N?Jt(m[$]):Tt(m[$]),v,ce,E,I,B,R,N),$++}}else if($>K)for(;$<=G;)st(h[$],E,I,!0),$++;else{const ee=$,ce=$,Ce=new Map;for($=ce;$<=K;$++){const ct=m[$]=N?Jt(m[$]):Tt(m[$]);ct.key!=null&&Ce.set(ct.key,$)}let $e,Fe=0;const _t=K-ce+1;let xn=!1,$i=0;const Yn=new Array(_t);for($=0;$<_t;$++)Yn[$]=0;for($=ee;$<=G;$++){const ct=h[$];if(Fe>=_t){st(ct,E,I,!0);continue}let St;if(ct.key!=null)St=Ce.get(ct.key);else for($e=ce;$e<=K;$e++)if(Yn[$e-ce]===0&&Jn(ct,m[$e])){St=$e;break}St===void 0?st(ct,E,I,!0):(Yn[St-ce]=$+1,St>=$i?$i=St:xn=!0,_(ct,m[St],v,null,E,I,B,R,N),Fe++)}const Oi=xn?cf(Yn):In;for($e=Oi.length-1,$=_t-1;$>=0;$--){const ct=ce+$,St=m[ct],Ri=ct+1<M?m[ct+1].el:A;Yn[$]===0?_(null,St,v,Ri,E,I,B,R,N):xn&&($e<0||$!==Oi[$e]?xt(St,v,Ri,2):$e--)}}},xt=(h,m,v,A,E=null)=>{const{el:I,type:B,transition:R,children:N,shapeFlag:$}=h;if($&6){xt(h.component.subTree,m,v,A);return}if($&128){h.suspense.move(m,v,A);return}if($&64){B.move(h,m,v,V);return}if(B===ve){s(I,m,v);for(let G=0;G<N.length;G++)xt(N[G],m,v,A);s(h.anchor,m,v);return}if(B===Mr){Q(h,m,v);return}if(A!==2&&$&1&&R)if(A===0)R.beforeEnter(I),s(I,m,v),rt(()=>R.enter(I),E);else{const{leave:G,delayLeave:K,afterLeave:ee}=R,ce=()=>s(I,m,v),Ce=()=>{G(I,()=>{ce(),ee&&ee()})};K?K(I,ce,Ce):Ce()}else s(I,m,v)},st=(h,m,v,A=!1,E=!1)=>{const{type:I,props:B,ref:R,children:N,dynamicChildren:$,shapeFlag:M,patchFlag:G,dirs:K}=h;if(R!=null&&ho(R,null,v,h,!0),M&256){m.ctx.deactivate(h);return}const ee=M&1&&K,ce=!is(h);let Ce;if(ce&&(Ce=B&&B.onVnodeBeforeUnmount)&&At(Ce,m,h),M&6)$s(h.component,v,A);else{if(M&128){h.suspense.unmount(v,A);return}ee&&un(h,null,m,"beforeUnmount"),M&64?h.type.remove(h,m,v,E,V,A):$&&(I!==ve||G>0&&G&64)?ze($,m,v,!1,!0):(I===ve&&G&384||!E&&M&16)&&ze(N,m,v),A&&Cn(h)}(ce&&(Ce=B&&B.onVnodeUnmounted)||ee)&&rt(()=>{Ce&&At(Ce,m,h),ee&&un(h,null,m,"unmounted")},v)},Cn=h=>{const{type:m,el:v,anchor:A,transition:E}=h;if(m===ve){kn(v,A);return}if(m===Mr){re(h);return}const I=()=>{r(v),E&&!E.persisted&&E.afterLeave&&E.afterLeave()};if(h.shapeFlag&1&&E&&!E.persisted){const{leave:B,delayLeave:R}=E,N=()=>B(v,I);R?R(h.el,I,N):N()}else I()},kn=(h,m)=>{let v;for(;h!==m;)v=p(h),r(h),h=v;r(m)},$s=(h,m,v)=>{const{bum:A,scope:E,update:I,subTree:B,um:R}=h;A&&js(A),E.stop(),I&&(I.active=!1,st(B,h,m,v)),R&&rt(R,m),rt(()=>{h.isUnmounted=!0},m),m&&m.pendingBranch&&!m.isUnmounted&&h.asyncDep&&!h.asyncResolved&&h.suspenseId===m.pendingId&&(m.deps--,m.deps===0&&m.resolve())},ze=(h,m,v,A=!1,E=!1,I=0)=>{for(let B=I;B<h.length;B++)st(h[B],m,v,A,E)},S=h=>h.shapeFlag&6?S(h.component.subTree):h.shapeFlag&128?h.suspense.next():p(h.anchor||h.el);let q=!1;const D=(h,m,v)=>{h==null?m._vnode&&st(m._vnode,null,null,!0):_(m._vnode||null,h,m,null,null,null,v),q||(q=!0,Mi(),Ul(),q=!1),m._vnode=h},V={p:_,um:st,m:xt,r:Cn,mt:z,mc:oe,pc:he,pbc:Re,n:S,o:e};let we,Pe;return{render:D,hydrate:we,createApp:Xd(D,we)}}function qr({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function dn({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function lf(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function nc(e,t,n=!1){const s=e.children,r=t.children;if(Z(s)&&Z(r))for(let o=0;o<s.length;o++){const i=s[o];let a=r[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[o]=Jt(r[o]),a.el=i.el),n||nc(i,a)),a.type===_r&&(a.el=i.el)}}function cf(e){const t=e.slice(),n=[0];let s,r,o,i,a;const c=e.length;for(s=0;s<c;s++){const d=e[s];if(d!==0){if(r=n[n.length-1],e[r]<d){t[s]=r,n.push(s);continue}for(o=0,i=n.length-1;o<i;)a=o+i>>1,e[n[a]]<d?o=a+1:i=a;d<e[n[o]]&&(o>0&&(t[s]=n[o-1]),n[o]=s)}}for(o=n.length,i=n[o-1];o-- >0;)n[o]=i,i=t[i];return n}function sc(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:sc(t)}const uf=e=>e.__isTeleport,ve=Symbol.for("v-fgt"),_r=Symbol.for("v-txt"),rn=Symbol.for("v-cmt"),Mr=Symbol.for("v-stc"),ls=[];let wt=null;function w(e=!1){ls.push(wt=e?null:[])}function df(){ls.pop(),wt=ls[ls.length-1]||null}let ys=1;function Ji(e){ys+=e}function rc(e){return e.dynamicChildren=ys>0?wt||In:null,df(),ys>0&&wt&&wt.push(e),e}function T(e,t,n,s,r,o){return rc(l(e,t,n,s,r,o,!0))}function Se(e,t,n,s,r){return rc(P(e,t,n,s,r,!0))}function rr(e){return e?e.__v_isVNode===!0:!1}function Jn(e,t){return e.type===t.type&&e.key===t.key}const vr="__vInternal",oc=({key:e})=>e??null,Ws=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?De(e)||qe(e)||se(e)?{i:Ue,r:e,k:t,f:!!n}:e:null);function l(e,t=null,n=null,s=0,r=null,o=e===ve?0:1,i=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&oc(t),ref:t&&Ws(t),scopeId:yr,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Ue};return a?(ci(c,n),o&128&&e.normalize(c)):n&&(c.shapeFlag|=De(n)?8:16),ys>0&&!i&&wt&&(c.patchFlag>0||o&6)&&c.patchFlag!==32&&wt.push(c),c}const P=ff;function ff(e,t=null,n=null,s=0,r=null,o=!1){if((!e||e===jl)&&(e=rn),rr(e)){const a=Un(e,t,!0);return n&&ci(a,n),ys>0&&!o&&wt&&(a.shapeFlag&6?wt[wt.indexOf(e)]=a:wt.push(a)),a.patchFlag|=-2,a}if(Ef(e)&&(e=e.__vccOpts),t){t=hf(t);let{class:a,style:c}=t;a&&!De(a)&&(t.class=de(a)),Oe(c)&&(Rl(c)&&!Z(c)&&(c=Ke({},c)),t.style=on(c))}const i=De(e)?1:$d(e)?128:uf(e)?64:Oe(e)?4:se(e)?2:0;return l(e,t,n,s,r,i,o,!0)}function hf(e){return e?Rl(e)||vr in e?Ke({},e):e:null}function Un(e,t,n=!1){const{props:s,ref:r,patchFlag:o,children:i}=e,a=t?ic(s||{},t):s;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&oc(a),ref:t&&t.ref?n&&r?Z(r)?r.concat(Ws(t)):[r,Ws(t)]:Ws(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:i,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ve?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Un(e.ssContent),ssFallback:e.ssFallback&&Un(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function me(e=" ",t=0){return P(_r,null,e,t)}function ne(e="",t=!1){return t?(w(),Se(rn,null,e)):P(rn,null,e)}function Tt(e){return e==null||typeof e=="boolean"?P(rn):Z(e)?P(ve,null,e.slice()):typeof e=="object"?Jt(e):P(_r,null,String(e))}function Jt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Un(e)}function ci(e,t){let n=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(Z(t))n=16;else if(typeof t=="object")if(s&65){const r=t.default;r&&(r._c&&(r._d=!1),ci(e,r()),r._c&&(r._d=!0));return}else{n=32;const r=t._;!r&&!(vr in t)?t._ctx=Ue:r===3&&Ue&&(Ue.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else se(t)?(t={default:t,_ctx:Ue},n=32):(t=String(t),s&64?(n=16,t=[me(t)]):n=8);e.children=t,e.shapeFlag|=n}function ic(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const r in s)if(r==="class")t.class!==s.class&&(t.class=de([t.class,s.class]));else if(r==="style")t.style=on([t.style,s.style]);else if(lr(r)){const o=t[r],i=s[r];i&&o!==i&&!(Z(o)&&o.includes(i))&&(t[r]=o?[].concat(o,i):i)}else r!==""&&(t[r]=s[r])}return t}function At(e,t,n,s=null){Et(e,t,7,[n,s])}const pf=Yl();let mf=0;function yf(e,t,n){const s=e.type,r=(t?t.appContext:e.appContext)||pf,o={uid:mf++,vnode:e,type:s,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new ml(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Xl(s,r),emitsOptions:Ml(s,r),emit:null,emitted:null,propsDefaults:xe,inheritAttrs:s.inheritAttrs,ctx:xe,data:xe,props:xe,attrs:xe,slots:xe,refs:xe,setupState:xe,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=Cd.bind(null,o),e.ce&&e.ce(o),o}let We=null,or,po;{const e=fl(),t=(n,s)=>{let r;return(r=e[n])||(r=e[n]=[]),r.push(s),o=>{r.length>1?r.forEach(i=>i(o)):r[0](o)}};or=t("__VUE_INSTANCE_SETTERS__",n=>We=n),po=t("__VUE_SSR_SETTERS__",n=>br=n)}const Es=e=>{const t=We;return or(e),e.scope.on(),()=>{e.scope.off(),or(t)}},Xi=()=>{We&&We.scope.off(),or(null)};function ac(e){return e.vnode.shapeFlag&4}let br=!1;function gf(e,t=!1){t&&po(t);const{props:n,children:s}=e.vnode,r=ac(e);ef(e,n,r,t),sf(e,s);const o=r?_f(e,t):void 0;return t&&po(!1),o}function _f(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=hr(new Proxy(e.ctx,Wd));const{setup:s}=n;if(s){const r=e.setupContext=s.length>1?bf(e):null,o=Es(e);bn();const i=nn(s,e,0,[e.props,r]);if(wn(),o(),cl(i)){if(i.then(Xi,Xi),t)return i.then(a=>{Zi(e,a,t)}).catch(a=>{pr(a,e,0)});e.asyncDep=i}else Zi(e,i,t)}else lc(e,t)}function Zi(e,t,n){se(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Oe(t)&&(e.setupState=Ll(t)),lc(e,n)}let ea;function lc(e,t,n){const s=e.type;if(!e.render){if(!t&&ea&&!s.render){const r=s.template||ai(e).template;if(r){const{isCustomElement:o,compilerOptions:i}=e.appContext.config,{delimiters:a,compilerOptions:c}=s,d=Ke(Ke({isCustomElement:o,delimiters:a},i),c);s.render=ea(r,d)}}e.render=s.render||pt}{const r=Es(e);bn();try{Qd(e)}finally{wn(),r()}}}function vf(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return it(e,"get","$attrs"),t[n]}}))}function bf(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return vf(e)},slots:e.slots,emit:e.emit,expose:t}}function wr(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Ll(hr(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in as)return as[n](e)},has(t,n){return n in t||n in as}}))}function wf(e,t=!0){return se(e)?e.displayName||e.name:e.name||t&&e.__name}function Ef(e){return se(e)&&"__vccOpts"in e}const te=(e,t)=>fd(e,t,br);function cc(e,t,n){const s=arguments.length;return s===2?Oe(t)&&!Z(t)?rr(t)?P(e,null,[t]):P(e,t):P(e,null,t):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&rr(n)&&(n=[n]),P(e,t,n))}const Cf="3.4.21";/**
* @vue/runtime-dom v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const kf="http://www.w3.org/2000/svg",xf="http://www.w3.org/1998/Math/MathML",Xt=typeof document<"u"?document:null,ta=Xt&&Xt.createElement("template"),Sf={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{const r=t==="svg"?Xt.createElementNS(kf,e):t==="mathml"?Xt.createElementNS(xf,e):Xt.createElement(e,n?{is:n}:void 0);return e==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:e=>Xt.createTextNode(e),createComment:e=>Xt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Xt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,s,r,o){const i=n?n.previousSibling:t.lastChild;if(r&&(r===o||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),n),!(r===o||!(r=r.nextSibling)););else{ta.innerHTML=s==="svg"?`<svg>${e}</svg>`:s==="mathml"?`<math>${e}</math>`:e;const a=ta.content;if(s==="svg"||s==="mathml"){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}t.insertBefore(a,n)}return[i?i.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Af=Symbol("_vtc");function Tf(e,t,n){const s=e[Af];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const na=Symbol("_vod"),$f=Symbol("_vsh"),Of=Symbol(""),Rf=/(^|;)\s*display\s*:/;function Pf(e,t,n){const s=e.style,r=De(n);let o=!1;if(n&&!r){if(t)if(De(t))for(const i of t.split(";")){const a=i.slice(0,i.indexOf(":")).trim();n[a]==null&&Qs(s,a,"")}else for(const i in t)n[i]==null&&Qs(s,i,"");for(const i in n)i==="display"&&(o=!0),Qs(s,i,n[i])}else if(r){if(t!==n){const i=s[Of];i&&(n+=";"+i),s.cssText=n,o=Rf.test(n)}}else t&&e.removeAttribute("style");na in e&&(e[na]=o?s.display:"",e[$f]&&(s.display="none"))}const sa=/\s*!important$/;function Qs(e,t,n){if(Z(n))n.forEach(s=>Qs(e,t,s));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const s=If(e,t);sa.test(n)?e.setProperty(vn(s),n.replace(sa,""),"important"):e[s]=n}}const ra=["Webkit","Moz","ms"],Fr={};function If(e,t){const n=Fr[t];if(n)return n;let s=Pt(t);if(s!=="filter"&&s in e)return Fr[t]=s;s=dr(s);for(let r=0;r<ra.length;r++){const o=ra[r]+s;if(o in e)return Fr[t]=o}return t}const oa="http://www.w3.org/1999/xlink";function Nf(e,t,n,s,r){if(s&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(oa,t.slice(6,t.length)):e.setAttributeNS(oa,t,n);else{const o=Hu(t);n==null||o&&!hl(n)?e.removeAttribute(t):e.setAttribute(t,o?"":n)}}function Lf(e,t,n,s,r,o,i){if(t==="innerHTML"||t==="textContent"){s&&i(s,r,o),e[t]=n??"";return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){const d=a==="OPTION"?e.getAttribute("value")||"":e.value,u=n??"";(d!==u||!("_value"in e))&&(e.value=u),n==null&&e.removeAttribute(t),e._value=n;return}let c=!1;if(n===""||n==null){const d=typeof e[t];d==="boolean"?n=hl(n):n==null&&d==="string"?(n="",c=!0):d==="number"&&(n=0,c=!0)}try{e[t]=n}catch{}c&&e.removeAttribute(t)}function An(e,t,n,s){e.addEventListener(t,n,s)}function Df(e,t,n,s){e.removeEventListener(t,n,s)}const ia=Symbol("_vei");function Bf(e,t,n,s,r=null){const o=e[ia]||(e[ia]={}),i=o[t];if(s&&i)i.value=s;else{const[a,c]=Uf(t);if(s){const d=o[t]=Ff(s,r);An(e,a,d,c)}else i&&(Df(e,a,i,c),o[t]=void 0)}}const aa=/(?:Once|Passive|Capture)$/;function Uf(e){let t;if(aa.test(e)){t={};let s;for(;s=e.match(aa);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):vn(e.slice(2)),t]}let jr=0;const qf=Promise.resolve(),Mf=()=>jr||(qf.then(()=>jr=0),jr=Date.now());function Ff(e,t){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;Et(jf(s,n.value),t,5,[s])};return n.value=e,n.attached=Mf(),n}function jf(e,t){if(Z(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(s=>r=>!r._stopped&&s&&s(r))}else return t}const la=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Hf=(e,t,n,s,r,o,i,a,c)=>{const d=r==="svg";t==="class"?Tf(e,s,d):t==="style"?Pf(e,n,s):lr(t)?Qo(t)||Bf(e,t,n,s,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Vf(e,t,s,d))?Lf(e,t,s,o,i,a,c):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),Nf(e,t,s,d))};function Vf(e,t,n,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in e&&la(t)&&se(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return la(t)&&De(n)?!1:t in e}const ca=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Z(t)?n=>js(t,n):t};function Wf(e){e.target.composing=!0}function ua(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Hr=Symbol("_assign"),Je={created(e,{modifiers:{lazy:t,trim:n,number:s}},r){e[Hr]=ca(r);const o=s||r.props&&r.props.type==="number";An(e,t?"change":"input",i=>{if(i.target.composing)return;let a=e.value;n&&(a=a.trim()),o&&(a=no(a)),e[Hr](a)}),n&&An(e,"change",()=>{e.value=e.value.trim()}),t||(An(e,"compositionstart",Wf),An(e,"compositionend",ua),An(e,"change",ua))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:s,number:r}},o){if(e[Hr]=ca(o),e.composing)return;const i=r||e.type==="number"?no(e.value):e.value,a=t??"";i!==a&&(document.activeElement===e&&e.type!=="range"&&(n||s&&e.value.trim()===a)||(e.value=a))}},Qf={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Cs=(e,t)=>{const n=e._withKeys||(e._withKeys={}),s=t.join(".");return n[s]||(n[s]=r=>{if(!("key"in r))return;const o=vn(r.key);if(t.some(i=>i===o||Qf[i]===o))return e(r)})},Kf=Ke({patchProp:Hf},Sf);let da;function zf(){return da||(da=of(Kf))}const Gf=(...e)=>{const t=zf().createApp(...e),{mount:n}=t;return t.mount=s=>{const r=Jf(s);if(!r)return;const o=t._component;!se(o)&&!o.render&&!o.template&&(o.template=r.innerHTML),r.innerHTML="";const i=n(r,!1,Yf(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),i},t};function Yf(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Jf(e){return De(e)?document.querySelector(e):e}var Xf=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let uc;const Er=e=>uc=e,dc=Symbol();function mo(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var cs;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(cs||(cs={}));function Zf(){const e=yl(!0),t=e.run(()=>U({}));let n=[],s=[];const r=hr({install(o){Er(r),r._a=o,o.provide(dc,r),o.config.globalProperties.$pinia=r,s.forEach(i=>n.push(i)),s=[]},use(o){return!this._a&&!Xf?s.push(o):n.push(o),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return r}const fc=()=>{};function fa(e,t,n,s=fc){e.push(t);const r=()=>{const o=e.indexOf(t);o>-1&&(e.splice(o,1),s())};return!n&&gl()&&Wu(r),r}function Sn(e,...t){e.slice().forEach(n=>{n(...t)})}const eh=e=>e();function yo(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,s)=>e.set(s,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const s=t[n],r=e[n];mo(r)&&mo(s)&&e.hasOwnProperty(n)&&!qe(s)&&!tn(s)?e[n]=yo(r,s):e[n]=s}return e}const th=Symbol();function nh(e){return!mo(e)||!e.hasOwnProperty(th)}const{assign:Gt}=Object;function sh(e){return!!(qe(e)&&e.effect)}function rh(e,t,n,s){const{state:r,actions:o,getters:i}=t,a=n.state.value[e];let c;function d(){a||(n.state.value[e]=r?r():{});const u=md(n.state.value[e]);return Gt(u,o,Object.keys(i||{}).reduce((f,p)=>(f[p]=hr(te(()=>{Er(n);const y=n._s.get(e);return i[p].call(y,y)})),f),{}))}return c=hc(e,d,t,n,s,!0),c}function hc(e,t,n={},s,r,o){let i;const a=Gt({actions:{}},n),c={deep:!0};let d,u,f=[],p=[],y;const g=s.state.value[e];!o&&!g&&(s.state.value[e]={}),U({});let _;function O(oe){let ie;d=u=!1,typeof oe=="function"?(oe(s.state.value[e]),ie={type:cs.patchFunction,storeId:e,events:y}):(yo(s.state.value[e],oe),ie={type:cs.patchObject,payload:oe,storeId:e,events:y});const Re=_=Symbol();si().then(()=>{_===Re&&(d=!0)}),u=!0,Sn(f,ie,s.state.value[e])}const L=o?function(){const{state:ie}=n,Re=ie?ie():{};this.$patch(Me=>{Gt(Me,Re)})}:fc;function j(){i.stop(),f=[],p=[],s._s.delete(e)}function Q(oe,ie){return function(){Er(s);const Re=Array.from(arguments),Me=[],et=[];function tt(b){Me.push(b)}function z(b){et.push(b)}Sn(p,{args:Re,name:oe,store:le,after:tt,onError:z});let C;try{C=ie.apply(this&&this.$id===e?this:le,Re)}catch(b){throw Sn(et,b),b}return C instanceof Promise?C.then(b=>(Sn(Me,b),b)).catch(b=>(Sn(et,b),Promise.reject(b))):(Sn(Me,C),C)}}const re={_p:s,$id:e,$onAction:fa.bind(null,p),$patch:O,$reset:L,$subscribe(oe,ie={}){const Re=fa(f,oe,ie.detached,()=>Me()),Me=i.run(()=>os(()=>s.state.value[e],et=>{(ie.flush==="sync"?u:d)&&oe({storeId:e,type:cs.direct,events:y},et)},Gt({},c,ie)));return Re},$dispose:j},le=ws(re);s._s.set(e,le);const ke=(s._a&&s._a.runWithContext||eh)(()=>s._e.run(()=>(i=yl()).run(t)));for(const oe in ke){const ie=ke[oe];if(qe(ie)&&!sh(ie)||tn(ie))o||(g&&nh(ie)&&(qe(ie)?ie.value=g[oe]:yo(ie,g[oe])),s.state.value[e][oe]=ie);else if(typeof ie=="function"){const Re=Q(oe,ie);ke[oe]=Re,a.actions[oe]=ie}}return Gt(le,ke),Gt(ge(le),ke),Object.defineProperty(le,"$state",{get:()=>s.state.value[e],set:oe=>{O(ie=>{Gt(ie,oe)})}}),s._p.forEach(oe=>{Gt(le,i.run(()=>oe({store:le,app:s._a,pinia:s,options:a})))}),g&&o&&n.hydrate&&n.hydrate(le.$state,g),d=!0,u=!0,le}function ui(e,t,n){let s,r;const o=typeof t=="function";typeof e=="string"?(s=e,r=o?n:t):(r=e,s=e.id);function i(a,c){const d=Zd();return a=a||(d?Ct(dc,null):null),a&&Er(a),a=uc,a._s.has(s)||(o?hc(s,t,r,a):rh(s,r,a)),a._s.get(s)}return i.$id=s,i}const oh="bitd-vtt-client",ih="1.0.42",ah="module",lh={dev:"vite",colors:"node ./scripts/common-colors.mjs",build:"npm run colors && vue-tsc && vite build && node scripts/copy-index-as-404.mjs",preview:"vite preview",deploy:"node ./scripts/increment-version.mjs && npm run build && gh-pages -d dist"},ch={"@types/fast-json-patch":"^1.1.5","@types/socket.io-client":"^3.0.0","@types/uuid":"^9.0.8","@types/ws":"^8.5.10",axios:"^1.6.8",chalk:"^5.3.0","fast-json-patch":"^3.1.1","gh-pages":"^6.1.1","node-vibrant":"^3.2.1-alpha.1",pinia:"^2.1.7",rxjs:"^7.8.1","socket.io-client":"^4.7.5",uuid:"^9.0.1",vue:"^3.4.19","vue-router":"^4.3.2",ws:"^8.17.0"},uh={"@types/node":"^20.12.8","@vitejs/plugin-vue":"^5.0.4",sass:"^1.74.1",typescript:"^5.2.2",vite:"^5.1.4","vue-tsc":"^1.8.27"},dh={name:oh,private:!0,version:ih,type:ah,scripts:lh,dependencies:ch,devDependencies:uh},pc=e=>(Ae("data-v-e5afb3c7"),e=e(),Te(),e),fh=pc(()=>l("span",{class:"online"},"online",-1)),hh=pc(()=>l("span",{class:"in-the-dark"},"in the Dark",-1)),ph=[fh,hh],mh=ae({__name:"Logo",props:{big:{type:Boolean}},setup(e){const t=e;return(n,s)=>(w(),T("div",{class:de(["logo",{big:t.big}])},ph,2))}}),fe=(e,t)=>{const n=e.__vccOpts||e;for(const[s,r]of t)n[s]=r;return n},mc=fe(mh,[["__scopeId","data-v-e5afb3c7"]]),yh=e=>(Ae("data-v-63440d07"),e=e(),Te(),e),gh={class:"loading"},_h=yh(()=>l("i",{class:"fas fa-circle-notch fa-spin"},null,-1)),vh=ae({__name:"LoadingModal",setup(e){return(t,n)=>(w(),T("div",gh,[P(mc,{big:""}),_h]))}}),ks=fe(vh,[["__scopeId","data-v-63440d07"]]);var go=function(e,t){return go=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(n[r]=s[r])},go(e,t)};function Cr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");go(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function _o(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],s=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&s>=e.length&&(e=void 0),{value:e&&e[s++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function vo(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var s=n.call(e),r,o=[],i;try{for(;(t===void 0||t-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function bo(e,t,n){if(n||arguments.length===2)for(var s=0,r=t.length,o;s<r;s++)(o||!(s in t))&&(o||(o=Array.prototype.slice.call(t,0,s)),o[s]=t[s]);return e.concat(o||Array.prototype.slice.call(t))}function qt(e){return typeof e=="function"}function yc(e){var t=function(s){Error.call(s),s.stack=new Error().stack},n=e(t);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Vr=yc(function(e){return function(n){e(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(s,r){return r+1+") "+s.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function wo(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var kr=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,n,s,r,o;if(!this.closed){this.closed=!0;var i=this._parentage;if(i)if(this._parentage=null,Array.isArray(i))try{for(var a=_o(i),c=a.next();!c.done;c=a.next()){var d=c.value;d.remove(this)}}catch(_){t={error:_}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}else i.remove(this);var u=this.initialTeardown;if(qt(u))try{u()}catch(_){o=_ instanceof Vr?_.errors:[_]}var f=this._finalizers;if(f){this._finalizers=null;try{for(var p=_o(f),y=p.next();!y.done;y=p.next()){var g=y.value;try{ha(g)}catch(_){o=o??[],_ instanceof Vr?o=bo(bo([],vo(o)),vo(_.errors)):o.push(_)}}}catch(_){s={error:_}}finally{try{y&&!y.done&&(r=p.return)&&r.call(p)}finally{if(s)throw s.error}}}if(o)throw new Vr(o)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)ha(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}},e.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},e.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},e.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&wo(n,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&wo(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),gc=kr.EMPTY;function _c(e){return e instanceof kr||e&&"closed"in e&&qt(e.remove)&&qt(e.add)&&qt(e.unsubscribe)}function ha(e){qt(e)?e():e.unsubscribe()}var vc={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},bc={setTimeout:function(e,t){for(var n=[],s=2;s<arguments.length;s++)n[s-2]=arguments[s];return setTimeout.apply(void 0,bo([e,t],vo(n)))},clearTimeout:function(e){var t=bc.delegate;return((t==null?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function bh(e){bc.setTimeout(function(){throw e})}function pa(){}function Ks(e){e()}var wc=function(e){Cr(t,e);function t(n){var s=e.call(this)||this;return s.isStopped=!1,n?(s.destination=n,_c(n)&&n.add(s)):s.destination=kh,s}return t.create=function(n,s,r){return new Eo(n,s,r)},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(kr),wh=Function.prototype.bind;function Wr(e,t){return wh.call(e,t)}var Eh=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(s){Ds(s)}},e.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(s){Ds(s)}else Ds(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(n){Ds(n)}},e}(),Eo=function(e){Cr(t,e);function t(n,s,r){var o=e.call(this)||this,i;if(qt(n)||!n)i={next:n??void 0,error:s??void 0,complete:r??void 0};else{var a;o&&vc.useDeprecatedNextContext?(a=Object.create(n),a.unsubscribe=function(){return o.unsubscribe()},i={next:n.next&&Wr(n.next,a),error:n.error&&Wr(n.error,a),complete:n.complete&&Wr(n.complete,a)}):i=n}return o.destination=new Eh(i),o}return t}(wc);function Ds(e){bh(e)}function Ch(e){throw e}var kh={closed:!0,next:pa,error:Ch,complete:pa},xh=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Sh(e){return e}function Ah(e){return e.length===0?Sh:e.length===1?e[0]:function(n){return e.reduce(function(s,r){return r(s)},n)}}var ma=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,s){var r=this,o=$h(t)?t:new Eo(t,n,s);return Ks(function(){var i=r,a=i.operator,c=i.source;o.add(a?a.call(o,c):c?r._subscribe(o):r._trySubscribe(o))}),o},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},e.prototype.forEach=function(t,n){var s=this;return n=ya(n),new n(function(r,o){var i=new Eo({next:function(a){try{t(a)}catch(c){o(c),i.unsubscribe()}},error:o,complete:r});s.subscribe(i)})},e.prototype._subscribe=function(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)},e.prototype[xh]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Ah(t)(this)},e.prototype.toPromise=function(t){var n=this;return t=ya(t),new t(function(s,r){var o;n.subscribe(function(i){return o=i},function(i){return r(i)},function(){return s(o)})})},e.create=function(t){return new e(t)},e}();function ya(e){var t;return(t=e??vc.Promise)!==null&&t!==void 0?t:Promise}function Th(e){return e&&qt(e.next)&&qt(e.error)&&qt(e.complete)}function $h(e){return e&&e instanceof wc||Th(e)&&_c(e)}var Oh=yc(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Ec=function(e){Cr(t,e);function t(){var n=e.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return t.prototype.lift=function(n){var s=new ga(this,this);return s.operator=n,s},t.prototype._throwIfClosed=function(){if(this.closed)throw new Oh},t.prototype.next=function(n){var s=this;Ks(function(){var r,o;if(s._throwIfClosed(),!s.isStopped){s.currentObservers||(s.currentObservers=Array.from(s.observers));try{for(var i=_o(s.currentObservers),a=i.next();!a.done;a=i.next()){var c=a.value;c.next(n)}}catch(d){r={error:d}}finally{try{a&&!a.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}}})},t.prototype.error=function(n){var s=this;Ks(function(){if(s._throwIfClosed(),!s.isStopped){s.hasError=s.isStopped=!0,s.thrownError=n;for(var r=s.observers;r.length;)r.shift().error(n)}})},t.prototype.complete=function(){var n=this;Ks(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var s=n.observers;s.length;)s.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(n){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,n)},t.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},t.prototype._innerSubscribe=function(n){var s=this,r=this,o=r.hasError,i=r.isStopped,a=r.observers;return o||i?gc:(this.currentObservers=null,a.push(n),new kr(function(){s.currentObservers=null,wo(a,n)}))},t.prototype._checkFinalizedStatuses=function(n){var s=this,r=s.hasError,o=s.thrownError,i=s.isStopped;r?n.error(o):i&&n.complete()},t.prototype.asObservable=function(){var n=new ma;return n.source=this,n},t.create=function(n,s){return new ga(n,s)},t}(ma),ga=function(e){Cr(t,e);function t(n,s){var r=e.call(this)||this;return r.destination=n,r.source=s,r}return t.prototype.next=function(n){var s,r;(r=(s=this.destination)===null||s===void 0?void 0:s.next)===null||r===void 0||r.call(s,n)},t.prototype.error=function(n){var s,r;(r=(s=this.destination)===null||s===void 0?void 0:s.error)===null||r===void 0||r.call(s,n)},t.prototype.complete=function(){var n,s;(s=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||s===void 0||s.call(n)},t.prototype._subscribe=function(n){var s,r;return(r=(s=this.source)===null||s===void 0?void 0:s.subscribe(n))!==null&&r!==void 0?r:gc},t}(Ec);class W{constructor(){_e(this,"subject",new Ec)}static getInstance(){return this.instance||(this.instance=new this)}dispatch(t){this.subject.next(t)}static open(t,n){this.getInstance().dispatch({modal:t,modalConfig:n})}static close(t){this.getInstance().dispatch({modal:null}),t&&t()}addEventListener(t){this.subject.subscribe(t)}removeEventListener(){this.subject.unsubscribe()}}_e(W,"instance",null);function Cc(e,t){return function(){return e.apply(t,arguments)}}const{toString:Rh}=Object.prototype,{getPrototypeOf:di}=Object,xr=(e=>t=>{const n=Rh.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Lt=e=>(e=e.toLowerCase(),t=>xr(t)===e),Sr=e=>t=>typeof t===e,{isArray:Vn}=Array,gs=Sr("undefined");function Ph(e){return e!==null&&!gs(e)&&e.constructor!==null&&!gs(e.constructor)&&mt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const kc=Lt("ArrayBuffer");function Ih(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&kc(e.buffer),t}const Nh=Sr("string"),mt=Sr("function"),xc=Sr("number"),Ar=e=>e!==null&&typeof e=="object",Lh=e=>e===!0||e===!1,zs=e=>{if(xr(e)!=="object")return!1;const t=di(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Dh=Lt("Date"),Bh=Lt("File"),Uh=Lt("Blob"),qh=Lt("FileList"),Mh=e=>Ar(e)&&mt(e.pipe),Fh=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||mt(e.append)&&((t=xr(e))==="formdata"||t==="object"&&mt(e.toString)&&e.toString()==="[object FormData]"))},jh=Lt("URLSearchParams"),Hh=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function xs(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let s,r;if(typeof e!="object"&&(e=[e]),Vn(e))for(s=0,r=e.length;s<r;s++)t.call(null,e[s],s,e);else{const o=n?Object.getOwnPropertyNames(e):Object.keys(e),i=o.length;let a;for(s=0;s<i;s++)a=o[s],t.call(null,e[a],a,e)}}function Sc(e,t){t=t.toLowerCase();const n=Object.keys(e);let s=n.length,r;for(;s-- >0;)if(r=n[s],t===r.toLowerCase())return r;return null}const Ac=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Tc=e=>!gs(e)&&e!==Ac;function Co(){const{caseless:e}=Tc(this)&&this||{},t={},n=(s,r)=>{const o=e&&Sc(t,r)||r;zs(t[o])&&zs(s)?t[o]=Co(t[o],s):zs(s)?t[o]=Co({},s):Vn(s)?t[o]=s.slice():t[o]=s};for(let s=0,r=arguments.length;s<r;s++)arguments[s]&&xs(arguments[s],n);return t}const Vh=(e,t,n,{allOwnKeys:s}={})=>(xs(t,(r,o)=>{n&&mt(r)?e[o]=Cc(r,n):e[o]=r},{allOwnKeys:s}),e),Wh=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Qh=(e,t,n,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},Kh=(e,t,n,s)=>{let r,o,i;const a={};if(t=t||{},e==null)return t;do{for(r=Object.getOwnPropertyNames(e),o=r.length;o-- >0;)i=r[o],(!s||s(i,e,t))&&!a[i]&&(t[i]=e[i],a[i]=!0);e=n!==!1&&di(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},zh=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const s=e.indexOf(t,n);return s!==-1&&s===n},Gh=e=>{if(!e)return null;if(Vn(e))return e;let t=e.length;if(!xc(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},Yh=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&di(Uint8Array)),Jh=(e,t)=>{const s=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=s.next())&&!r.done;){const o=r.value;t.call(e,o[0],o[1])}},Xh=(e,t)=>{let n;const s=[];for(;(n=e.exec(t))!==null;)s.push(n);return s},Zh=Lt("HTMLFormElement"),ep=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,r){return s.toUpperCase()+r}),_a=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),tp=Lt("RegExp"),$c=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),s={};xs(n,(r,o)=>{let i;(i=t(r,o,e))!==!1&&(s[o]=i||r)}),Object.defineProperties(e,s)},np=e=>{$c(e,(t,n)=>{if(mt(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=e[n];if(mt(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},sp=(e,t)=>{const n={},s=r=>{r.forEach(o=>{n[o]=!0})};return Vn(e)?s(e):s(String(e).split(t)),n},rp=()=>{},op=(e,t)=>(e=+e,Number.isFinite(e)?e:t),Qr="abcdefghijklmnopqrstuvwxyz",va="0123456789",Oc={DIGIT:va,ALPHA:Qr,ALPHA_DIGIT:Qr+Qr.toUpperCase()+va},ip=(e=16,t=Oc.ALPHA_DIGIT)=>{let n="";const{length:s}=t;for(;e--;)n+=t[Math.random()*s|0];return n};function ap(e){return!!(e&&mt(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const lp=e=>{const t=new Array(10),n=(s,r)=>{if(Ar(s)){if(t.indexOf(s)>=0)return;if(!("toJSON"in s)){t[r]=s;const o=Vn(s)?[]:{};return xs(s,(i,a)=>{const c=n(i,r+1);!gs(c)&&(o[a]=c)}),t[r]=void 0,o}}return s};return n(e,0)},cp=Lt("AsyncFunction"),up=e=>e&&(Ar(e)||mt(e))&&mt(e.then)&&mt(e.catch),k={isArray:Vn,isArrayBuffer:kc,isBuffer:Ph,isFormData:Fh,isArrayBufferView:Ih,isString:Nh,isNumber:xc,isBoolean:Lh,isObject:Ar,isPlainObject:zs,isUndefined:gs,isDate:Dh,isFile:Bh,isBlob:Uh,isRegExp:tp,isFunction:mt,isStream:Mh,isURLSearchParams:jh,isTypedArray:Yh,isFileList:qh,forEach:xs,merge:Co,extend:Vh,trim:Hh,stripBOM:Wh,inherits:Qh,toFlatObject:Kh,kindOf:xr,kindOfTest:Lt,endsWith:zh,toArray:Gh,forEachEntry:Jh,matchAll:Xh,isHTMLForm:Zh,hasOwnProperty:_a,hasOwnProp:_a,reduceDescriptors:$c,freezeMethods:np,toObjectSet:sp,toCamelCase:ep,noop:rp,toFiniteNumber:op,findKey:Sc,global:Ac,isContextDefined:Tc,ALPHABET:Oc,generateString:ip,isSpecCompliantForm:ap,toJSONObject:lp,isAsyncFn:cp,isThenable:up};function pe(e,t,n,s,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),s&&(this.request=s),r&&(this.response=r)}k.inherits(pe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:k.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Rc=pe.prototype,Pc={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Pc[e]={value:e}});Object.defineProperties(pe,Pc);Object.defineProperty(Rc,"isAxiosError",{value:!0});pe.from=(e,t,n,s,r,o)=>{const i=Object.create(Rc);return k.toFlatObject(e,i,function(c){return c!==Error.prototype},a=>a!=="isAxiosError"),pe.call(i,e.message,t,n,s,r),i.cause=e,i.name=e.name,o&&Object.assign(i,o),i};const dp=null;function ko(e){return k.isPlainObject(e)||k.isArray(e)}function Ic(e){return k.endsWith(e,"[]")?e.slice(0,-2):e}function ba(e,t,n){return e?e.concat(t).map(function(r,o){return r=Ic(r),!n&&o?"["+r+"]":r}).join(n?".":""):t}function fp(e){return k.isArray(e)&&!e.some(ko)}const hp=k.toFlatObject(k,{},null,function(t){return/^is[A-Z]/.test(t)});function Tr(e,t,n){if(!k.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=k.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,O){return!k.isUndefined(O[_])});const s=n.metaTokens,r=n.visitor||u,o=n.dots,i=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&k.isSpecCompliantForm(t);if(!k.isFunction(r))throw new TypeError("visitor must be a function");function d(g){if(g===null)return"";if(k.isDate(g))return g.toISOString();if(!c&&k.isBlob(g))throw new pe("Blob is not supported. Use a Buffer instead.");return k.isArrayBuffer(g)||k.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function u(g,_,O){let L=g;if(g&&!O&&typeof g=="object"){if(k.endsWith(_,"{}"))_=s?_:_.slice(0,-2),g=JSON.stringify(g);else if(k.isArray(g)&&fp(g)||(k.isFileList(g)||k.endsWith(_,"[]"))&&(L=k.toArray(g)))return _=Ic(_),L.forEach(function(Q,re){!(k.isUndefined(Q)||Q===null)&&t.append(i===!0?ba([_],re,o):i===null?_:_+"[]",d(Q))}),!1}return ko(g)?!0:(t.append(ba(O,_,o),d(g)),!1)}const f=[],p=Object.assign(hp,{defaultVisitor:u,convertValue:d,isVisitable:ko});function y(g,_){if(!k.isUndefined(g)){if(f.indexOf(g)!==-1)throw Error("Circular reference detected in "+_.join("."));f.push(g),k.forEach(g,function(L,j){(!(k.isUndefined(L)||L===null)&&r.call(t,L,k.isString(j)?j.trim():j,_,p))===!0&&y(L,_?_.concat(j):[j])}),f.pop()}}if(!k.isObject(e))throw new TypeError("data must be an object");return y(e),t}function wa(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function fi(e,t){this._pairs=[],e&&Tr(e,this,t)}const Nc=fi.prototype;Nc.append=function(t,n){this._pairs.push([t,n])};Nc.toString=function(t){const n=t?function(s){return t.call(this,s,wa)}:wa;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function pp(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Lc(e,t,n){if(!t)return e;const s=n&&n.encode||pp,r=n&&n.serialize;let o;if(r?o=r(t,n):o=k.isURLSearchParams(t)?t.toString():new fi(t,n).toString(s),o){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class Ea{constructor(){this.handlers=[]}use(t,n,s){return this.handlers.push({fulfilled:t,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){k.forEach(this.handlers,function(s){s!==null&&t(s)})}}const Dc={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},mp=typeof URLSearchParams<"u"?URLSearchParams:fi,yp=typeof FormData<"u"?FormData:null,gp=typeof Blob<"u"?Blob:null,_p={isBrowser:!0,classes:{URLSearchParams:mp,FormData:yp,Blob:gp},protocols:["http","https","file","blob","url","data"]},Bc=typeof window<"u"&&typeof document<"u",vp=(e=>Bc&&["ReactNative","NativeScript","NS"].indexOf(e)<0)(typeof navigator<"u"&&navigator.product),bp=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",wp=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Bc,hasStandardBrowserEnv:vp,hasStandardBrowserWebWorkerEnv:bp},Symbol.toStringTag,{value:"Module"})),Ot={...wp,..._p};function Ep(e,t){return Tr(e,new Ot.classes.URLSearchParams,Object.assign({visitor:function(n,s,r,o){return Ot.isNode&&k.isBuffer(n)?(this.append(s,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},t))}function Cp(e){return k.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function kp(e){const t={},n=Object.keys(e);let s;const r=n.length;let o;for(s=0;s<r;s++)o=n[s],t[o]=e[o];return t}function Uc(e){function t(n,s,r,o){let i=n[o++];if(i==="__proto__")return!0;const a=Number.isFinite(+i),c=o>=n.length;return i=!i&&k.isArray(r)?r.length:i,c?(k.hasOwnProp(r,i)?r[i]=[r[i],s]:r[i]=s,!a):((!r[i]||!k.isObject(r[i]))&&(r[i]=[]),t(n,s,r[i],o)&&k.isArray(r[i])&&(r[i]=kp(r[i])),!a)}if(k.isFormData(e)&&k.isFunction(e.entries)){const n={};return k.forEachEntry(e,(s,r)=>{t(Cp(s),r,n,0)}),n}return null}function xp(e,t,n){if(k.isString(e))try{return(t||JSON.parse)(e),k.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(e)}const Ss={transitional:Dc,adapter:["xhr","http"],transformRequest:[function(t,n){const s=n.getContentType()||"",r=s.indexOf("application/json")>-1,o=k.isObject(t);if(o&&k.isHTMLForm(t)&&(t=new FormData(t)),k.isFormData(t))return r?JSON.stringify(Uc(t)):t;if(k.isArrayBuffer(t)||k.isBuffer(t)||k.isStream(t)||k.isFile(t)||k.isBlob(t))return t;if(k.isArrayBufferView(t))return t.buffer;if(k.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(o){if(s.indexOf("application/x-www-form-urlencoded")>-1)return Ep(t,this.formSerializer).toString();if((a=k.isFileList(t))||s.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Tr(a?{"files[]":t}:t,c&&new c,this.formSerializer)}}return o||r?(n.setContentType("application/json",!1),xp(t)):t}],transformResponse:[function(t){const n=this.transitional||Ss.transitional,s=n&&n.forcedJSONParsing,r=this.responseType==="json";if(t&&k.isString(t)&&(s&&!this.responseType||r)){const i=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(t)}catch(a){if(i)throw a.name==="SyntaxError"?pe.from(a,pe.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ot.classes.FormData,Blob:Ot.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};k.forEach(["delete","get","head","post","put","patch"],e=>{Ss.headers[e]={}});const Sp=k.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ap=e=>{const t={};let n,s,r;return e&&e.split(`
`).forEach(function(i){r=i.indexOf(":"),n=i.substring(0,r).trim().toLowerCase(),s=i.substring(r+1).trim(),!(!n||t[n]&&Sp[n])&&(n==="set-cookie"?t[n]?t[n].push(s):t[n]=[s]:t[n]=t[n]?t[n]+", "+s:s)}),t},Ca=Symbol("internals");function Xn(e){return e&&String(e).trim().toLowerCase()}function Gs(e){return e===!1||e==null?e:k.isArray(e)?e.map(Gs):String(e)}function Tp(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(e);)t[s[1]]=s[2];return t}const $p=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Kr(e,t,n,s,r){if(k.isFunction(s))return s.call(this,t,n);if(r&&(t=n),!!k.isString(t)){if(k.isString(s))return t.indexOf(s)!==-1;if(k.isRegExp(s))return s.test(t)}}function Op(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,s)=>n.toUpperCase()+s)}function Rp(e,t){const n=k.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+n,{value:function(r,o,i){return this[s].call(this,t,r,o,i)},configurable:!0})})}let yt=class{constructor(t){t&&this.set(t)}set(t,n,s){const r=this;function o(a,c,d){const u=Xn(c);if(!u)throw new Error("header name must be a non-empty string");const f=k.findKey(r,u);(!f||r[f]===void 0||d===!0||d===void 0&&r[f]!==!1)&&(r[f||c]=Gs(a))}const i=(a,c)=>k.forEach(a,(d,u)=>o(d,u,c));return k.isPlainObject(t)||t instanceof this.constructor?i(t,n):k.isString(t)&&(t=t.trim())&&!$p(t)?i(Ap(t),n):t!=null&&o(n,t,s),this}get(t,n){if(t=Xn(t),t){const s=k.findKey(this,t);if(s){const r=this[s];if(!n)return r;if(n===!0)return Tp(r);if(k.isFunction(n))return n.call(this,r,s);if(k.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Xn(t),t){const s=k.findKey(this,t);return!!(s&&this[s]!==void 0&&(!n||Kr(this,this[s],s,n)))}return!1}delete(t,n){const s=this;let r=!1;function o(i){if(i=Xn(i),i){const a=k.findKey(s,i);a&&(!n||Kr(s,s[a],a,n))&&(delete s[a],r=!0)}}return k.isArray(t)?t.forEach(o):o(t),r}clear(t){const n=Object.keys(this);let s=n.length,r=!1;for(;s--;){const o=n[s];(!t||Kr(this,this[o],o,t,!0))&&(delete this[o],r=!0)}return r}normalize(t){const n=this,s={};return k.forEach(this,(r,o)=>{const i=k.findKey(s,o);if(i){n[i]=Gs(r),delete n[o];return}const a=t?Op(o):String(o).trim();a!==o&&delete n[o],n[a]=Gs(r),s[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return k.forEach(this,(s,r)=>{s!=null&&s!==!1&&(n[r]=t&&k.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const s=new this(t);return n.forEach(r=>s.set(r)),s}static accessor(t){const s=(this[Ca]=this[Ca]={accessors:{}}).accessors,r=this.prototype;function o(i){const a=Xn(i);s[a]||(Rp(r,i),s[a]=!0)}return k.isArray(t)?t.forEach(o):o(t),this}};yt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);k.reduceDescriptors(yt.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[n]=s}}});k.freezeMethods(yt);function zr(e,t){const n=this||Ss,s=t||n,r=yt.from(s.headers);let o=s.data;return k.forEach(e,function(a){o=a.call(n,o,r.normalize(),t?t.status:void 0)}),r.normalize(),o}function qc(e){return!!(e&&e.__CANCEL__)}function As(e,t,n){pe.call(this,e??"canceled",pe.ERR_CANCELED,t,n),this.name="CanceledError"}k.inherits(As,pe,{__CANCEL__:!0});function Pp(e,t,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?e(n):t(new pe("Request failed with status code "+n.status,[pe.ERR_BAD_REQUEST,pe.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const Ip=Ot.hasStandardBrowserEnv?{write(e,t,n,s,r,o){const i=[e+"="+encodeURIComponent(t)];k.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),k.isString(s)&&i.push("path="+s),k.isString(r)&&i.push("domain="+r),o===!0&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Np(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Lp(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Mc(e,t){return e&&!Np(t)?Lp(e,t):t}const Dp=Ot.hasStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let s;function r(o){let i=o;return t&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return s=r(window.location.href),function(i){const a=k.isString(i)?r(i):i;return a.protocol===s.protocol&&a.host===s.host}}():function(){return function(){return!0}}();function Bp(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Up(e,t){e=e||10;const n=new Array(e),s=new Array(e);let r=0,o=0,i;return t=t!==void 0?t:1e3,function(c){const d=Date.now(),u=s[o];i||(i=d),n[r]=c,s[r]=d;let f=o,p=0;for(;f!==r;)p+=n[f++],f=f%e;if(r=(r+1)%e,r===o&&(o=(o+1)%e),d-i<t)return;const y=u&&d-u;return y?Math.round(p*1e3/y):void 0}}function ka(e,t){let n=0;const s=Up(50,250);return r=>{const o=r.loaded,i=r.lengthComputable?r.total:void 0,a=o-n,c=s(a),d=o<=i;n=o;const u={loaded:o,total:i,progress:i?o/i:void 0,bytes:a,rate:c||void 0,estimated:c&&i&&d?(i-o)/c:void 0,event:r};u[t?"download":"upload"]=!0,e(u)}}const qp=typeof XMLHttpRequest<"u",Mp=qp&&function(e){return new Promise(function(n,s){let r=e.data;const o=yt.from(e.headers).normalize();let{responseType:i,withXSRFToken:a}=e,c;function d(){e.cancelToken&&e.cancelToken.unsubscribe(c),e.signal&&e.signal.removeEventListener("abort",c)}let u;if(k.isFormData(r)){if(Ot.hasStandardBrowserEnv||Ot.hasStandardBrowserWebWorkerEnv)o.setContentType(!1);else if((u=o.getContentType())!==!1){const[_,...O]=u?u.split(";").map(L=>L.trim()).filter(Boolean):[];o.setContentType([_||"multipart/form-data",...O].join("; "))}}let f=new XMLHttpRequest;if(e.auth){const _=e.auth.username||"",O=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";o.set("Authorization","Basic "+btoa(_+":"+O))}const p=Mc(e.baseURL,e.url);f.open(e.method.toUpperCase(),Lc(p,e.params,e.paramsSerializer),!0),f.timeout=e.timeout;function y(){if(!f)return;const _=yt.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders()),L={data:!i||i==="text"||i==="json"?f.responseText:f.response,status:f.status,statusText:f.statusText,headers:_,config:e,request:f};Pp(function(Q){n(Q),d()},function(Q){s(Q),d()},L),f=null}if("onloadend"in f?f.onloadend=y:f.onreadystatechange=function(){!f||f.readyState!==4||f.status===0&&!(f.responseURL&&f.responseURL.indexOf("file:")===0)||setTimeout(y)},f.onabort=function(){f&&(s(new pe("Request aborted",pe.ECONNABORTED,e,f)),f=null)},f.onerror=function(){s(new pe("Network Error",pe.ERR_NETWORK,e,f)),f=null},f.ontimeout=function(){let O=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const L=e.transitional||Dc;e.timeoutErrorMessage&&(O=e.timeoutErrorMessage),s(new pe(O,L.clarifyTimeoutError?pe.ETIMEDOUT:pe.ECONNABORTED,e,f)),f=null},Ot.hasStandardBrowserEnv&&(a&&k.isFunction(a)&&(a=a(e)),a||a!==!1&&Dp(p))){const _=e.xsrfHeaderName&&e.xsrfCookieName&&Ip.read(e.xsrfCookieName);_&&o.set(e.xsrfHeaderName,_)}r===void 0&&o.setContentType(null),"setRequestHeader"in f&&k.forEach(o.toJSON(),function(O,L){f.setRequestHeader(L,O)}),k.isUndefined(e.withCredentials)||(f.withCredentials=!!e.withCredentials),i&&i!=="json"&&(f.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&f.addEventListener("progress",ka(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&f.upload&&f.upload.addEventListener("progress",ka(e.onUploadProgress)),(e.cancelToken||e.signal)&&(c=_=>{f&&(s(!_||_.type?new As(null,e,f):_),f.abort(),f=null)},e.cancelToken&&e.cancelToken.subscribe(c),e.signal&&(e.signal.aborted?c():e.signal.addEventListener("abort",c)));const g=Bp(p);if(g&&Ot.protocols.indexOf(g)===-1){s(new pe("Unsupported protocol "+g+":",pe.ERR_BAD_REQUEST,e));return}f.send(r||null)})},xo={http:dp,xhr:Mp};k.forEach(xo,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const xa=e=>`- ${e}`,Fp=e=>k.isFunction(e)||e===null||e===!1,Fc={getAdapter:e=>{e=k.isArray(e)?e:[e];const{length:t}=e;let n,s;const r={};for(let o=0;o<t;o++){n=e[o];let i;if(s=n,!Fp(n)&&(s=xo[(i=String(n)).toLowerCase()],s===void 0))throw new pe(`Unknown adapter '${i}'`);if(s)break;r[i||"#"+o]=s}if(!s){const o=Object.entries(r).map(([a,c])=>`adapter ${a} `+(c===!1?"is not supported by the environment":"is not available in the build"));let i=t?o.length>1?`since :
`+o.map(xa).join(`
`):" "+xa(o[0]):"as no adapter specified";throw new pe("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return s},adapters:xo};function Gr(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new As(null,e)}function Sa(e){return Gr(e),e.headers=yt.from(e.headers),e.data=zr.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Fc.getAdapter(e.adapter||Ss.adapter)(e).then(function(s){return Gr(e),s.data=zr.call(e,e.transformResponse,s),s.headers=yt.from(s.headers),s},function(s){return qc(s)||(Gr(e),s&&s.response&&(s.response.data=zr.call(e,e.transformResponse,s.response),s.response.headers=yt.from(s.response.headers))),Promise.reject(s)})}const Aa=e=>e instanceof yt?{...e}:e;function qn(e,t){t=t||{};const n={};function s(d,u,f){return k.isPlainObject(d)&&k.isPlainObject(u)?k.merge.call({caseless:f},d,u):k.isPlainObject(u)?k.merge({},u):k.isArray(u)?u.slice():u}function r(d,u,f){if(k.isUndefined(u)){if(!k.isUndefined(d))return s(void 0,d,f)}else return s(d,u,f)}function o(d,u){if(!k.isUndefined(u))return s(void 0,u)}function i(d,u){if(k.isUndefined(u)){if(!k.isUndefined(d))return s(void 0,d)}else return s(void 0,u)}function a(d,u,f){if(f in t)return s(d,u);if(f in e)return s(void 0,d)}const c={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:a,headers:(d,u)=>r(Aa(d),Aa(u),!0)};return k.forEach(Object.keys(Object.assign({},e,t)),function(u){const f=c[u]||r,p=f(e[u],t[u],u);k.isUndefined(p)&&f!==a||(n[u]=p)}),n}const jc="1.6.8",hi={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{hi[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const Ta={};hi.transitional=function(t,n,s){function r(o,i){return"[Axios v"+jc+"] Transitional option '"+o+"'"+i+(s?". "+s:"")}return(o,i,a)=>{if(t===!1)throw new pe(r(i," has been removed"+(n?" in "+n:"")),pe.ERR_DEPRECATED);return n&&!Ta[i]&&(Ta[i]=!0,console.warn(r(i," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(o,i,a):!0}};function jp(e,t,n){if(typeof e!="object")throw new pe("options must be an object",pe.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let r=s.length;for(;r-- >0;){const o=s[r],i=t[o];if(i){const a=e[o],c=a===void 0||i(a,o,e);if(c!==!0)throw new pe("option "+o+" must be "+c,pe.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new pe("Unknown option "+o,pe.ERR_BAD_OPTION)}}const So={assertOptions:jp,validators:hi},Kt=So.validators;let gn=class{constructor(t){this.defaults=t,this.interceptors={request:new Ea,response:new Ea}}async request(t,n){try{return await this._request(t,n)}catch(s){if(s instanceof Error){let r;Error.captureStackTrace?Error.captureStackTrace(r={}):r=new Error;const o=r.stack?r.stack.replace(/^.+\n/,""):"";s.stack?o&&!String(s.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+o):s.stack=o}throw s}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=qn(this.defaults,n);const{transitional:s,paramsSerializer:r,headers:o}=n;s!==void 0&&So.assertOptions(s,{silentJSONParsing:Kt.transitional(Kt.boolean),forcedJSONParsing:Kt.transitional(Kt.boolean),clarifyTimeoutError:Kt.transitional(Kt.boolean)},!1),r!=null&&(k.isFunction(r)?n.paramsSerializer={serialize:r}:So.assertOptions(r,{encode:Kt.function,serialize:Kt.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let i=o&&k.merge(o.common,o[n.method]);o&&k.forEach(["delete","get","head","post","put","patch","common"],g=>{delete o[g]}),n.headers=yt.concat(i,o);const a=[];let c=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(n)===!1||(c=c&&_.synchronous,a.unshift(_.fulfilled,_.rejected))});const d=[];this.interceptors.response.forEach(function(_){d.push(_.fulfilled,_.rejected)});let u,f=0,p;if(!c){const g=[Sa.bind(this),void 0];for(g.unshift.apply(g,a),g.push.apply(g,d),p=g.length,u=Promise.resolve(n);f<p;)u=u.then(g[f++],g[f++]);return u}p=a.length;let y=n;for(f=0;f<p;){const g=a[f++],_=a[f++];try{y=g(y)}catch(O){_.call(this,O);break}}try{u=Sa.call(this,y)}catch(g){return Promise.reject(g)}for(f=0,p=d.length;f<p;)u=u.then(d[f++],d[f++]);return u}getUri(t){t=qn(this.defaults,t);const n=Mc(t.baseURL,t.url);return Lc(n,t.params,t.paramsSerializer)}};k.forEach(["delete","get","head","options"],function(t){gn.prototype[t]=function(n,s){return this.request(qn(s||{},{method:t,url:n,data:(s||{}).data}))}});k.forEach(["post","put","patch"],function(t){function n(s){return function(o,i,a){return this.request(qn(a||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:o,data:i}))}}gn.prototype[t]=n(),gn.prototype[t+"Form"]=n(!0)});let Hp=class Hc{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const s=this;this.promise.then(r=>{if(!s._listeners)return;let o=s._listeners.length;for(;o-- >0;)s._listeners[o](r);s._listeners=null}),this.promise.then=r=>{let o;const i=new Promise(a=>{s.subscribe(a),o=a}).then(r);return i.cancel=function(){s.unsubscribe(o)},i},t(function(o,i,a){s.reason||(s.reason=new As(o,i,a),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}static source(){let t;return{token:new Hc(function(r){t=r}),cancel:t}}};function Vp(e){return function(n){return e.apply(null,n)}}function Wp(e){return k.isObject(e)&&e.isAxiosError===!0}const Ao={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ao).forEach(([e,t])=>{Ao[t]=e});function Vc(e){const t=new gn(e),n=Cc(gn.prototype.request,t);return k.extend(n,gn.prototype,t,{allOwnKeys:!0}),k.extend(n,t,null,{allOwnKeys:!0}),n.create=function(r){return Vc(qn(e,r))},n}const Ne=Vc(Ss);Ne.Axios=gn;Ne.CanceledError=As;Ne.CancelToken=Hp;Ne.isCancel=qc;Ne.VERSION=jc;Ne.toFormData=Tr;Ne.AxiosError=pe;Ne.Cancel=Ne.CanceledError;Ne.all=function(t){return Promise.all(t)};Ne.spread=Vp;Ne.isAxiosError=Wp;Ne.mergeConfig=qn;Ne.AxiosHeaders=yt;Ne.formToJSON=e=>Uc(k.isHTMLForm(e)?new FormData(e):e);Ne.getAdapter=Fc.getAdapter;Ne.HttpStatusCode=Ao;Ne.default=Ne;const{Axios:Pk,AxiosError:Ik,CanceledError:Nk,isCancel:Lk,CancelToken:Dk,VERSION:Bk,all:Uk,Cancel:qk,isAxiosError:Mk,spread:Fk,toFormData:jk,AxiosHeaders:Hk,HttpStatusCode:Ft,formToJSON:Vk,getAdapter:Wk,mergeConfig:Qk}=Ne,Xe=ui("auth",()=>{const e=U(),t=U(),n=localStorage.getItem("refreshToken");n&&(e.value=n);const s=o=>{e.value=o,o?localStorage.setItem("refreshToken",o):localStorage.removeItem("refreshToken")};return{accessToken:t,refreshToken:e,storeRefreshToken:s,clear:()=>{s(null),t.value=null}}}),pi=location.hostname==="localhost"?"http://localhost:3005":"https://bitd-vtt-server-production.up.railway.app";console.log("BASE_URL:",pi);const Qe=Ne.create({baseURL:pi,timeout:1e4,withCredentials:!0,headers:{"Content-Type":"application/json"}});function Qp(){Kp()}function Kp(){Qe.interceptors.request.use(async e=>(e||(e={}),e.headers.Authorization=`Bearer ${Xe().accessToken}`,e)),Qe.interceptors.response.use(e=>e,async e=>{var n,s,r,o;const t=["/auth/token","/account/login","/account/register"];if(((n=e.response)==null?void 0:n.status)===Ft.Unauthorized&&!t.includes(e.config.url)){if((s=e.config.url)!=null&&s.includes("/auth/token"))return Xe().clear(),Nt.push("/login"),Promise.reject("Invalid refresh token");if(!Xe().refreshToken)return Promise.reject(((o=(r=e.response)==null?void 0:r.data)==null?void 0:o.message)||"No refresh token found");await Wc();const i=e.config;return i.headers.Authorization=`Bearer ${Xe().accessToken}`,Qe(i)}return Promise.reject(e)})}async function Wc(){let e;try{console.log("@fetchAccessToken: refreshToken:",Xe().refreshToken),e=await Qe.put("/auth/token",{refreshToken:Xe().refreshToken})}catch{console.error("Invalid refresh token"),Ti();return}Xe().accessToken=e.data.accessToken}const To=[{id:"791e4a6b-8f2e-41b2-8410-09fdb69d22e2",name:"Crystal",author:"Icons8",source:"https://icons8.com",url:"/images/portrait-images/icons8-crystal-100.png",commonColor:"#8E3E63"},{id:"762c4875-c258-443a-8d88-adeaab82b31c",name:"Joker",author:"Icons8",source:"https://icons8.com",url:"/images/portrait-images/icons8-joker-100.png",commonColor:"#D2649A"},{id:"a1bee44a-c856-4f54-b665-4de8c278d117",name:"Battle",author:"Icons8",source:"https://icons8.com",url:"/images/portrait-images/icons8-battle-100.png",commonColor:"#577B8D"},{id:"7d5f18bc-a32d-4aca-a51d-507b827c8683",name:"Pawn",author:"Icons8",source:"https://icons8.com",url:"/images/portrait-images/icons8-pawn-100.png",commonColor:"#40A578"},{id:"5895f6e3-05b7-42e4-9b5f-19bb3d4ca33e",name:"Rook",author:"Icons8",source:"https://icons8.com",url:"/images/portrait-images/icons8-rook-100.png",commonColor:"#A91D3A"}],be=ui("user",()=>{const e=U(),t=U(),n=U(!0),s=U(),r=U([]),o=U([...To]);return{id:e,username:t,portrait:s,isGuest:n,games:r,clear:()=>{e.value=null,t.value=null,s.value=null,n.value=!0,r.value=[]},portraits:o}}),He=ui("game",()=>{const e=U(null),t=()=>{e.value=null},n=te(()=>{var s;return(s=e.value)==null?void 0:s.players[be().id]});return{game:e,userPlayer:n,clear:t}});/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */var zp=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,r){s.__proto__=r}||function(s,r){for(var o in r)r.hasOwnProperty(o)&&(s[o]=r[o])},e(t,n)};return function(t,n){e(t,n);function s(){this.constructor=t}t.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}}(),Gp=Object.prototype.hasOwnProperty;function $o(e,t){return Gp.call(e,t)}function Oo(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var s=[];for(var r in e)$o(e,r)&&s.push(r);return s}function ft(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function Ro(e){for(var t=0,n=e.length,s;t<n;){if(s=e.charCodeAt(t),s>=48&&s<=57){t++;continue}return!1}return!0}function fn(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function Qc(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function Po(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(Po(e[t]))return!0}else if(typeof e=="object"){for(var s=Oo(e),r=s.length,o=0;o<r;o++)if(Po(e[s[o]]))return!0}}return!1}function $a(e,t){var n=[e];for(var s in t){var r=typeof t[s]=="object"?JSON.stringify(t[s],null,2):t[s];typeof r<"u"&&n.push(s+": "+r)}return n.join(`
`)}var Kc=function(e){zp(t,e);function t(n,s,r,o,i){var a=this.constructor,c=e.call(this,$a(n,{name:s,index:r,operation:o,tree:i}))||this;return c.name=s,c.index=r,c.operation=o,c.tree=i,Object.setPrototypeOf(c,a.prototype),c.message=$a(n,{name:s,index:r,operation:o,tree:i}),c}return t}(Error),Ie=Kc,Yp=ft,Pn={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var s=e[t];return delete e[t],{newDocument:n,removed:s}},replace:function(e,t,n){var s=e[t];return e[t]=this.value,{newDocument:n,removed:s}},move:function(e,t,n){var s=ir(n,this.path);s&&(s=ft(s));var r=_n(n,{op:"remove",path:this.from}).removed;return _n(n,{op:"add",path:this.path,value:r}),{newDocument:n,removed:s}},copy:function(e,t,n){var s=ir(n,this.from);return _n(n,{op:"add",path:this.path,value:ft(s)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:_s(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},Jp={add:function(e,t,n){return Ro(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){var s=e.splice(t,1);return{newDocument:n,removed:s[0]}},replace:function(e,t,n){var s=e[t];return e[t]=this.value,{newDocument:n,removed:s}},move:Pn.move,copy:Pn.copy,test:Pn.test,_get:Pn._get};function ir(e,t){if(t=="")return e;var n={op:"_get",path:t};return _n(e,n),n.value}function _n(e,t,n,s,r,o){if(n===void 0&&(n=!1),s===void 0&&(s=!0),r===void 0&&(r=!0),o===void 0&&(o=0),n&&(typeof n=="function"?n(t,0,e,t.path):ar(t,0)),t.path===""){var i={newDocument:e};if(t.op==="add")return i.newDocument=t.value,i;if(t.op==="replace")return i.newDocument=t.value,i.removed=e,i;if(t.op==="move"||t.op==="copy")return i.newDocument=ir(e,t.from),t.op==="move"&&(i.removed=e),i;if(t.op==="test"){if(i.test=_s(e,t.value),i.test===!1)throw new Ie("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return i.newDocument=e,i}else{if(t.op==="remove")return i.removed=e,i.newDocument=null,i;if(t.op==="_get")return t.value=e,i;if(n)throw new Ie("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",o,t,e);return i}}else{s||(e=ft(e));var a=t.path||"",c=a.split("/"),d=e,u=1,f=c.length,p=void 0,y=void 0,g=void 0;for(typeof n=="function"?g=n:g=ar;;){if(y=c[u],y&&y.indexOf("~")!=-1&&(y=Qc(y)),r&&(y=="__proto__"||y=="prototype"&&u>0&&c[u-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&p===void 0&&(d[y]===void 0?p=c.slice(0,u).join("/"):u==f-1&&(p=t.path),p!==void 0&&g(t,0,e,p)),u++,Array.isArray(d)){if(y==="-")y=d.length;else{if(n&&!Ro(y))throw new Ie("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",o,t,e);Ro(y)&&(y=~~y)}if(u>=f){if(n&&t.op==="add"&&y>d.length)throw new Ie("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",o,t,e);var i=Jp[t.op].call(t,d,y,e);if(i.test===!1)throw new Ie("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return i}}else if(u>=f){var i=Pn[t.op].call(t,d,y,e);if(i.test===!1)throw new Ie("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return i}if(d=d[y],n&&u<f&&(!d||typeof d!="object"))throw new Ie("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",o,t,e)}}}function $r(e,t,n,s,r){if(s===void 0&&(s=!0),r===void 0&&(r=!0),n&&!Array.isArray(t))throw new Ie("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");s||(e=ft(e));for(var o=new Array(t.length),i=0,a=t.length;i<a;i++)o[i]=_n(e,t[i],n,!0,r,i),e=o[i].newDocument;return o.newDocument=e,o}function Xp(e,t,n){var s=_n(e,t);if(s.test===!1)throw new Ie("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return s.newDocument}function ar(e,t,n,s){if(typeof e!="object"||e===null||Array.isArray(e))throw new Ie("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(Pn[e.op]){if(typeof e.path!="string")throw new Ie("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new Ie('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new Ie("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new Ie("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&Po(e.value))throw new Ie("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n){if(e.op=="add"){var r=e.path.split("/").length,o=s.split("/").length;if(r!==o+1&&r!==o)throw new Ie("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==s)throw new Ie("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if(e.op==="move"||e.op==="copy"){var i={op:"_get",path:e.from,value:void 0},a=zc([i],n);if(a&&a.name==="OPERATION_PATH_UNRESOLVABLE")throw new Ie("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}}else throw new Ie("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n)}function zc(e,t,n){try{if(!Array.isArray(e))throw new Ie("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)$r(ft(t),ft(e),n||!0);else{n=n||ar;for(var s=0;s<e.length;s++)n(e[s],s,t,void 0)}}catch(r){if(r instanceof Ie)return r;throw r}}function _s(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=Array.isArray(e),s=Array.isArray(t),r,o,i;if(n&&s){if(o=e.length,o!=t.length)return!1;for(r=o;r--!==0;)if(!_s(e[r],t[r]))return!1;return!0}if(n!=s)return!1;var a=Object.keys(e);if(o=a.length,o!==Object.keys(t).length)return!1;for(r=o;r--!==0;)if(!t.hasOwnProperty(a[r]))return!1;for(r=o;r--!==0;)if(i=a[r],!_s(e[i],t[i]))return!1;return!0}return e!==e&&t!==t}const Zp=Object.freeze(Object.defineProperty({__proto__:null,JsonPatchError:Ie,_areEquals:_s,applyOperation:_n,applyPatch:$r,applyReducer:Xp,deepClone:Yp,getValueByPointer:ir,validate:zc,validator:ar},Symbol.toStringTag,{value:"Module"}));/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2021 Joachim Wester
 * MIT license
 */var mi=new WeakMap,em=function(){function e(t){this.observers=new Map,this.obj=t}return e}(),tm=function(){function e(t,n){this.callback=t,this.observer=n}return e}();function nm(e){return mi.get(e)}function sm(e,t){return e.observers.get(t)}function rm(e,t){e.observers.delete(t.callback)}function om(e,t){t.unobserve()}function im(e,t){var n=[],s,r=nm(e);if(!r)r=new em(e),mi.set(e,r);else{var o=sm(r,t);s=o&&o.observer}if(s)return s;if(s={},r.value=ft(e),t){s.callback=t,s.next=null;var i=function(){Io(s)},a=function(){clearTimeout(s.next),s.next=setTimeout(i)};typeof window<"u"&&(window.addEventListener("mouseup",a),window.addEventListener("keyup",a),window.addEventListener("mousedown",a),window.addEventListener("keydown",a),window.addEventListener("change",a))}return s.patches=n,s.object=e,s.unobserve=function(){Io(s),clearTimeout(s.next),rm(r,s),typeof window<"u"&&(window.removeEventListener("mouseup",a),window.removeEventListener("keyup",a),window.removeEventListener("mousedown",a),window.removeEventListener("keydown",a),window.removeEventListener("change",a))},r.observers.set(t,new tm(t,s)),s}function Io(e,t){t===void 0&&(t=!1);var n=mi.get(e.object);yi(n.value,e.object,e.patches,"",t),e.patches.length&&$r(n.value,e.patches);var s=e.patches;return s.length>0&&(e.patches=[],e.callback&&e.callback(s)),s}function yi(e,t,n,s,r){if(t!==e){typeof t.toJSON=="function"&&(t=t.toJSON());for(var o=Oo(t),i=Oo(e),a=!1,c=i.length-1;c>=0;c--){var d=i[c],u=e[d];if($o(t,d)&&!(t[d]===void 0&&u!==void 0&&Array.isArray(t)===!1)){var f=t[d];typeof u=="object"&&u!=null&&typeof f=="object"&&f!=null&&Array.isArray(u)===Array.isArray(f)?yi(u,f,n,s+"/"+fn(d),r):u!==f&&(r&&n.push({op:"test",path:s+"/"+fn(d),value:ft(u)}),n.push({op:"replace",path:s+"/"+fn(d),value:ft(f)}))}else Array.isArray(e)===Array.isArray(t)?(r&&n.push({op:"test",path:s+"/"+fn(d),value:ft(u)}),n.push({op:"remove",path:s+"/"+fn(d)}),a=!0):(r&&n.push({op:"test",path:s,value:e}),n.push({op:"replace",path:s,value:t}))}if(!(!a&&o.length==i.length))for(var c=0;c<o.length;c++){var d=o[c];!$o(e,d)&&t[d]!==void 0&&n.push({op:"add",path:s+"/"+fn(d),value:ft(t[d])})}}}function am(e,t,n){n===void 0&&(n=!1);var s=[];return yi(e,t,s,"",n),s}const lm=Object.freeze(Object.defineProperty({__proto__:null,compare:am,generate:Io,observe:im,unobserve:om},Symbol.toStringTag,{value:"Module"}));Object.assign({},Zp,lm,{JsonPatchError:Kc,deepClone:ft,escapePathComponent:fn,unescapePathComponent:Qc});const It=Object.create(null);It.open="0";It.close="1";It.ping="2";It.pong="3";It.message="4";It.upgrade="5";It.noop="6";const Ys=Object.create(null);Object.keys(It).forEach(e=>{Ys[It[e]]=e});const No={type:"error",data:"parser error"},Gc=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Yc=typeof ArrayBuffer=="function",Jc=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,gi=({type:e,data:t},n,s)=>Gc&&t instanceof Blob?n?s(t):Oa(t,s):Yc&&(t instanceof ArrayBuffer||Jc(t))?n?s(t):Oa(new Blob([t]),s):s(It[e]+(t||"")),Oa=(e,t)=>{const n=new FileReader;return n.onload=function(){const s=n.result.split(",")[1];t("b"+(s||""))},n.readAsDataURL(e)};function Ra(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Yr;function cm(e,t){if(Gc&&e.data instanceof Blob)return e.data.arrayBuffer().then(Ra).then(t);if(Yc&&(e.data instanceof ArrayBuffer||Jc(e.data)))return t(Ra(e.data));gi(e,!1,n=>{Yr||(Yr=new TextEncoder),t(Yr.encode(n))})}const Pa="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ss=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<Pa.length;e++)ss[Pa.charCodeAt(e)]=e;const um=e=>{let t=e.length*.75,n=e.length,s,r=0,o,i,a,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const d=new ArrayBuffer(t),u=new Uint8Array(d);for(s=0;s<n;s+=4)o=ss[e.charCodeAt(s)],i=ss[e.charCodeAt(s+1)],a=ss[e.charCodeAt(s+2)],c=ss[e.charCodeAt(s+3)],u[r++]=o<<2|i>>4,u[r++]=(i&15)<<4|a>>2,u[r++]=(a&3)<<6|c&63;return d},dm=typeof ArrayBuffer=="function",_i=(e,t)=>{if(typeof e!="string")return{type:"message",data:Xc(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:fm(e.substring(1),t)}:Ys[n]?e.length>1?{type:Ys[n],data:e.substring(1)}:{type:Ys[n]}:No},fm=(e,t)=>{if(dm){const n=um(e);return Xc(n,t)}else return{base64:!0,data:e}},Xc=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},Zc="",hm=(e,t)=>{const n=e.length,s=new Array(n);let r=0;e.forEach((o,i)=>{gi(o,!1,a=>{s[i]=a,++r===n&&t(s.join(Zc))})})},pm=(e,t)=>{const n=e.split(Zc),s=[];for(let r=0;r<n.length;r++){const o=_i(n[r],t);if(s.push(o),o.type==="error")break}return s};function mm(){return new TransformStream({transform(e,t){cm(e,n=>{const s=n.length;let r;if(s<126)r=new Uint8Array(1),new DataView(r.buffer).setUint8(0,s);else if(s<65536){r=new Uint8Array(3);const o=new DataView(r.buffer);o.setUint8(0,126),o.setUint16(1,s)}else{r=new Uint8Array(9);const o=new DataView(r.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(s))}e.data&&typeof e.data!="string"&&(r[0]|=128),t.enqueue(r),t.enqueue(n)})}})}let Jr;function Bs(e){return e.reduce((t,n)=>t+n.length,0)}function Us(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let s=0;for(let r=0;r<t;r++)n[r]=e[0][s++],s===e[0].length&&(e.shift(),s=0);return e.length&&s<e[0].length&&(e[0]=e[0].slice(s)),n}function ym(e,t){Jr||(Jr=new TextDecoder);const n=[];let s=0,r=-1,o=!1;return new TransformStream({transform(i,a){for(n.push(i);;){if(s===0){if(Bs(n)<1)break;const c=Us(n,1);o=(c[0]&128)===128,r=c[0]&127,r<126?s=3:r===126?s=1:s=2}else if(s===1){if(Bs(n)<2)break;const c=Us(n,2);r=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),s=3}else if(s===2){if(Bs(n)<8)break;const c=Us(n,8),d=new DataView(c.buffer,c.byteOffset,c.length),u=d.getUint32(0);if(u>Math.pow(2,21)-1){a.enqueue(No);break}r=u*Math.pow(2,32)+d.getUint32(4),s=3}else{if(Bs(n)<r)break;const c=Us(n,r);a.enqueue(_i(o?c:Jr.decode(c),t)),s=0}if(r===0||r>e){a.enqueue(No);break}}}})}const eu=4;function Le(e){if(e)return gm(e)}function gm(e){for(var t in Le.prototype)e[t]=Le.prototype[t];return e}Le.prototype.on=Le.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Le.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};Le.prototype.off=Le.prototype.removeListener=Le.prototype.removeAllListeners=Le.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var s,r=0;r<n.length;r++)if(s=n[r],s===t||s.fn===t){n.splice(r,1);break}return n.length===0&&delete this._callbacks["$"+e],this};Le.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],s=1;s<arguments.length;s++)t[s-1]=arguments[s];if(n){n=n.slice(0);for(var s=0,r=n.length;s<r;++s)n[s].apply(this,t)}return this};Le.prototype.emitReserved=Le.prototype.emit;Le.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Le.prototype.hasListeners=function(e){return!!this.listeners(e).length};const ht=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function tu(e,...t){return t.reduce((n,s)=>(e.hasOwnProperty(s)&&(n[s]=e[s]),n),{})}const _m=ht.setTimeout,vm=ht.clearTimeout;function Or(e,t){t.useNativeTimers?(e.setTimeoutFn=_m.bind(ht),e.clearTimeoutFn=vm.bind(ht)):(e.setTimeoutFn=ht.setTimeout.bind(ht),e.clearTimeoutFn=ht.clearTimeout.bind(ht))}const bm=1.33;function wm(e){return typeof e=="string"?Em(e):Math.ceil((e.byteLength||e.size)*bm)}function Em(e){let t=0,n=0;for(let s=0,r=e.length;s<r;s++)t=e.charCodeAt(s),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(s++,n+=4);return n}function Cm(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function km(e){let t={},n=e.split("&");for(let s=0,r=n.length;s<r;s++){let o=n[s].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}class xm extends Error{constructor(t,n,s){super(t),this.description=n,this.context=s,this.type="TransportError"}}class vi extends Le{constructor(t){super(),this.writable=!1,Or(this,t),this.opts=t,this.query=t.query,this.socket=t.socket}onError(t,n,s){return super.emitReserved("error",new xm(t,n,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=_i(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=Cm(t);return n.length?"?"+n:""}}const nu="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Lo=64,Sm={};let Ia=0,qs=0,Na;function La(e){let t="";do t=nu[e%Lo]+t,e=Math.floor(e/Lo);while(e>0);return t}function su(){const e=La(+new Date);return e!==Na?(Ia=0,Na=e):e+"."+La(Ia++)}for(;qs<Lo;qs++)Sm[nu[qs]]=qs;let ru=!1;try{ru=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Am=ru;function ou(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||Am))return new XMLHttpRequest}catch{}if(!t)try{return new ht[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function Tm(){}const $m=function(){return new ou({xdomain:!1}).responseType!=null}();class Om extends vi{constructor(t){if(super(t),this.polling=!1,typeof location<"u"){const s=location.protocol==="https:";let r=location.port;r||(r=s?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||r!==t.port}const n=t&&t.forceBase64;this.supportsBinary=$m&&!n,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let s=0;this.polling&&(s++,this.once("pollComplete",function(){--s||n()})),this.writable||(s++,this.once("drain",function(){--s||n()}))}else n()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=s=>{if(this.readyState==="opening"&&s.type==="open"&&this.onOpen(),s.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(s)};pm(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,hm(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=su()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}request(t={}){return Object.assign(t,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new Rt(this.uri(),t)}doWrite(t,n){const s=this.request({method:"POST",data:t});s.on("success",n),s.on("error",(r,o)=>{this.onError("xhr post error",r,o)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,s)=>{this.onError("xhr poll error",n,s)}),this.pollXhr=t}}class Rt extends Le{constructor(t,n){super(),Or(this,n),this.opts=n,this.method=n.method||"GET",this.uri=t,this.data=n.data!==void 0?n.data:null,this.create()}create(){var t;const n=tu(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this.opts.xd;const s=this.xhr=new ou(n);try{s.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let r in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(r)&&s.setRequestHeader(r,this.opts.extraHeaders[r])}}catch{}if(this.method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{s.setRequestHeader("Accept","*/*")}catch{}(t=this.opts.cookieJar)===null||t===void 0||t.addCookies(s),"withCredentials"in s&&(s.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(s.timeout=this.opts.requestTimeout),s.onreadystatechange=()=>{var r;s.readyState===3&&((r=this.opts.cookieJar)===null||r===void 0||r.parseCookies(s)),s.readyState===4&&(s.status===200||s.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof s.status=="number"?s.status:0)},0))},s.send(this.data)}catch(r){this.setTimeoutFn(()=>{this.onError(r)},0);return}typeof document<"u"&&(this.index=Rt.requestsCount++,Rt.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=Tm,t)try{this.xhr.abort()}catch{}typeof document<"u"&&delete Rt.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}Rt.requestsCount=0;Rt.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Da);else if(typeof addEventListener=="function"){const e="onpagehide"in ht?"pagehide":"unload";addEventListener(e,Da,!1)}}function Da(){for(let e in Rt.requests)Rt.requests.hasOwnProperty(e)&&Rt.requests[e].abort()}const bi=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0),Ms=ht.WebSocket||ht.MozWebSocket,Ba=!0,Rm="arraybuffer",Ua=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Pm extends vi{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),n=this.opts.protocols,s=Ua?{}:tu(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=Ba&&!Ua?n?new Ms(t,n):new Ms(t):new Ms(t,n,s)}catch(r){return this.emitReserved("error",r)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const s=t[n],r=n===t.length-1;gi(s,this.supportsBinary,o=>{const i={};try{Ba&&this.ws.send(o)}catch{}r&&bi(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=su()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}check(){return!!Ms}}class Im extends vi{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(t=>{const n=ym(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=t.readable.pipeThrough(n).getReader(),r=mm();r.readable.pipeTo(t.writable),this.writer=r.writable.getWriter();const o=()=>{s.read().then(({done:a,value:c})=>{a||(this.onPacket(c),o())}).catch(a=>{})};o();const i={type:"open"};this.query.sid&&(i.data=`{"sid":"${this.query.sid}"}`),this.writer.write(i).then(()=>this.onOpen())})}))}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const s=t[n],r=n===t.length-1;this.writer.write(s).then(()=>{r&&bi(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this.transport)===null||t===void 0||t.close()}}const Nm={websocket:Pm,webtransport:Im,polling:Om},Lm=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Dm=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Do(e){if(e.length>2e3)throw"URI too long";const t=e,n=e.indexOf("["),s=e.indexOf("]");n!=-1&&s!=-1&&(e=e.substring(0,n)+e.substring(n,s).replace(/:/g,";")+e.substring(s,e.length));let r=Lm.exec(e||""),o={},i=14;for(;i--;)o[Dm[i]]=r[i]||"";return n!=-1&&s!=-1&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=Bm(o,o.path),o.queryKey=Um(o,o.query),o}function Bm(e,t){const n=/\/{2,9}/g,s=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&s.splice(0,1),t.slice(-1)=="/"&&s.splice(s.length-1,1),s}function Um(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,r,o){r&&(n[r]=o)}),n}let iu=class Tn extends Le{constructor(t,n={}){super(),this.binaryType=Rm,this.writeBuffer=[],t&&typeof t=="object"&&(n=t,t=null),t?(t=Do(t),n.hostname=t.host,n.secure=t.protocol==="https"||t.protocol==="wss",n.port=t.port,t.query&&(n.query=t.query)):n.host&&(n.hostname=Do(n.host).host),Or(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=n.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=km(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=eu,n.transport=t,this.id&&(n.sid=this.id);const s=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new Nm[t](s)}open(){let t;if(this.opts.rememberUpgrade&&Tn.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch{this.transports.shift(),this.open();return}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",n=>this.onClose("transport close",n))}probe(t){let n=this.createTransport(t),s=!1;Tn.priorWebsocketSuccess=!1;const r=()=>{s||(n.send([{type:"ping",data:"probe"}]),n.once("packet",f=>{if(!s)if(f.type==="pong"&&f.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Tn.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(u(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const p=new Error("probe error");p.transport=n.name,this.emitReserved("upgradeError",p)}}))};function o(){s||(s=!0,u(),n.close(),n=null)}const i=f=>{const p=new Error("probe error: "+f);p.transport=n.name,o(),this.emitReserved("upgradeError",p)};function a(){i("transport closed")}function c(){i("socket closed")}function d(f){n&&f.name!==n.name&&o()}const u=()=>{n.removeListener("open",r),n.removeListener("error",i),n.removeListener("close",a),this.off("close",c),this.off("upgrading",d)};n.once("open",r),n.once("error",i),n.once("close",a),this.once("close",c),this.once("upgrading",d),this.upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{s||n.open()},200):n.open()}onOpen(){if(this.readyState="open",Tn.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let t=0;const n=this.upgrades.length;for(;t<n;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),this.resetPingTimeout(),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const n=new Error("server error");n.code=t.data,this.onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let s=0;s<this.writeBuffer.length;s++){const r=this.writeBuffer[s].data;if(r&&(n+=wm(r)),s>0&&n>this.maxPayload)return this.writeBuffer.slice(0,s);n+=2}return this.writeBuffer}write(t,n,s){return this.sendPacket("message",t,n,s),this}send(t,n,s){return this.sendPacket("message",t,n,s),this}sendPacket(t,n,s,r){if(typeof n=="function"&&(r=n,n=void 0),typeof s=="function"&&(r=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;const o={type:t,data:n,options:s};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),r&&this.once("flush",r),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},s=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():t()}):this.upgrading?s():t()),this}onError(t){Tn.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,n){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const n=[];let s=0;const r=t.length;for(;s<r;s++)~this.transports.indexOf(t[s])&&n.push(t[s]);return n}};iu.protocol=eu;function qm(e,t="",n){let s=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),s=Do(e)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const o=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+o+":"+s.port+t,s.href=s.protocol+"://"+o+(n&&n.port===s.port?"":":"+s.port),s}const Mm=typeof ArrayBuffer=="function",Fm=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,au=Object.prototype.toString,jm=typeof Blob=="function"||typeof Blob<"u"&&au.call(Blob)==="[object BlobConstructor]",Hm=typeof File=="function"||typeof File<"u"&&au.call(File)==="[object FileConstructor]";function wi(e){return Mm&&(e instanceof ArrayBuffer||Fm(e))||jm&&e instanceof Blob||Hm&&e instanceof File}function Js(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,s=e.length;n<s;n++)if(Js(e[n]))return!0;return!1}if(wi(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Js(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&Js(e[n]))return!0;return!1}function Vm(e){const t=[],n=e.data,s=e;return s.data=Bo(n,t),s.attachments=t.length,{packet:s,buffers:t}}function Bo(e,t){if(!e)return e;if(wi(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let s=0;s<e.length;s++)n[s]=Bo(e[s],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=Bo(e[s],t));return n}return e}function Wm(e,t){return e.data=Uo(e.data,t),delete e.attachments,e}function Uo(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=Uo(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=Uo(e[n],t));return e}const Qm=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Km=5;var ue;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(ue||(ue={}));class zm{constructor(t){this.replacer=t}encode(t){return(t.type===ue.EVENT||t.type===ue.ACK)&&Js(t)?this.encodeAsBinary({type:t.type===ue.EVENT?ue.BINARY_EVENT:ue.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===ue.BINARY_EVENT||t.type===ue.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=Vm(t),s=this.encodeAsString(n.packet),r=n.buffers;return r.unshift(s),r}}function qa(e){return Object.prototype.toString.call(e)==="[object Object]"}class Ei extends Le{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const s=n.type===ue.BINARY_EVENT;s||n.type===ue.BINARY_ACK?(n.type=s?ue.EVENT:ue.ACK,this.reconstructor=new Gm(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(wi(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const s={type:Number(t.charAt(0))};if(ue[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===ue.BINARY_EVENT||s.type===ue.BINARY_ACK){const o=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const i=t.substring(o,n);if(i!=Number(i)||t.charAt(n)!=="-")throw new Error("Illegal attachments");s.attachments=Number(i)}if(t.charAt(n+1)==="/"){const o=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););s.nsp=t.substring(o,n)}else s.nsp="/";const r=t.charAt(n+1);if(r!==""&&Number(r)==r){const o=n+1;for(;++n;){const i=t.charAt(n);if(i==null||Number(i)!=i){--n;break}if(n===t.length)break}s.id=Number(t.substring(o,n+1))}if(t.charAt(++n)){const o=this.tryParse(t.substr(n));if(Ei.isPayloadValid(s.type,o))s.data=o;else throw new Error("invalid payload")}return s}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case ue.CONNECT:return qa(n);case ue.DISCONNECT:return n===void 0;case ue.CONNECT_ERROR:return typeof n=="string"||qa(n);case ue.EVENT:case ue.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&Qm.indexOf(n[0])===-1);case ue.ACK:case ue.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Gm{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=Wm(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Ym=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Ei,Encoder:zm,get PacketType(){return ue},protocol:Km},Symbol.toStringTag,{value:"Module"}));function bt(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const Jm=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class lu extends Le{constructor(t,n,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[bt(t,"open",this.onopen.bind(this)),bt(t,"packet",this.onpacket.bind(this)),bt(t,"error",this.onerror.bind(this)),bt(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){if(Jm.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const s={type:ue.EVENT,data:n};if(s.options={},s.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const i=this.ids++,a=n.pop();this._registerAckCallback(i,a),s.id=i}const r=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!r||!this.connected)||(this.connected?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(t,n){var s;const r=(s=this.flags.timeout)!==null&&s!==void 0?s:this._opts.ackTimeout;if(r===void 0){this.acks[t]=n;return}const o=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===t&&this.sendBuffer.splice(a,1);n.call(this,new Error("operation has timed out"))},r),i=(...a)=>{this.io.clearTimeoutFn(o),n.apply(this,a)};i.withError=!0,this.acks[t]=i}emitWithAck(t,...n){return new Promise((s,r)=>{const o=(i,a)=>i?r(i):s(a);o.withError=!0,n.push(o),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((r,...o)=>s!==this._queue[0]?void 0:(r!==null?s.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(r)):(this._queue.shift(),n&&n(null,...o)),s.pending=!1,this._drainQueue())),this._queue.push(s),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:ue.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(s=>String(s.id)===t)){const s=this.acks[t];delete this.acks[t],s.withError&&s.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case ue.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case ue.EVENT:case ue.BINARY_EVENT:this.onevent(t);break;case ue.ACK:case ue.BINARY_ACK:this.onack(t);break;case ue.DISCONNECT:this.ondisconnect();break;case ue.CONNECT_ERROR:this.destroy();const s=new Error(t.data.message);s.data=t.data.data,this.emitReserved("connect_error",s);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const s of n)s.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let s=!1;return function(...r){s||(s=!0,n.packet({type:ue.ACK,id:t,data:r}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(delete this.acks[t.id],n.withError&&t.data.unshift(null),n.apply(this,t.data))}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:ue.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let s=0;s<n.length;s++)if(t===n[s])return n.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let s=0;s<n.length;s++)if(t===n[s])return n.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const s of n)s.apply(this,t.data)}}}function Wn(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Wn.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};Wn.prototype.reset=function(){this.attempts=0};Wn.prototype.setMin=function(e){this.ms=e};Wn.prototype.setMax=function(e){this.max=e};Wn.prototype.setJitter=function(e){this.jitter=e};class qo extends Le{constructor(t,n){var s;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Or(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((s=n.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new Wn({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const r=n.parser||Ym;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new iu(this.uri,this.opts);const n=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const r=bt(n,"open",function(){s.onopen(),t&&t()}),o=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),t?t(a):this.maybeReconnectOnOpen()},i=bt(n,"error",o);if(this._timeout!==!1){const a=this._timeout,c=this.setTimeoutFn(()=>{r(),o(new Error("timeout")),n.close()},a);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(r),this.subs.push(i),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(bt(t,"ping",this.onping.bind(this)),bt(t,"data",this.ondata.bind(this)),bt(t,"error",this.onerror.bind(this)),bt(t,"close",this.onclose.bind(this)),bt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){bi(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let s=this.nsps[t];return s?this._autoConnect&&!s.active&&s.connect():(s=new lu(this,t,n),this.nsps[t]=s),s}_destroy(t){const n=Object.keys(this.nsps);for(const s of n)if(this.nsps[s].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let s=0;s<n.length;s++)this.engine.write(n[s],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,n){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(r=>{r?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",r)):t.onreconnect()}))},n);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Zn={};function Xs(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=qm(e,t.path||"/socket.io"),s=n.source,r=n.id,o=n.path,i=Zn[r]&&o in Zn[r].nsps,a=t.forceNew||t["force new connection"]||t.multiplex===!1||i;let c;return a?c=new qo(s,t):(Zn[r]||(Zn[r]=new qo(s,t)),c=Zn[r]),n.query&&!t.query&&(t.query=n.queryKey),c.socket(n.path,t)}Object.assign(Xs,{Manager:qo,Socket:lu,io:Xs,connect:Xs});let vt=null;function Xm(e){console.log("@game-controller: connectToGame"),W.open(ks),vt&&(vt.disconnect(),vt=null);const t={query:{gameId:e,token:Xe().refreshToken}};vt=Xs(pi,t),vt.on("connect",ty),vt.on("disconnect",ny),vt.on("patch",ey),vt.on("error",sy),W.close()}function Zm(){vt&&(vt.disconnect(),vt=null,He().clear())}function ey(e){try{const{patches:t}=e;console.log("@game-controller: onReceivePatch:",t),He().game=$r(He().game||{},t).newDocument}catch(t){console.error("Failed to patch:",t);return}}function ty(){console.log("@game-controller: onOpen")}function ny(){console.log("@game-controller: onClose")}function sy(e){console.log("@game-controller: onError:",e)}async function ot(e){var t;await Qe.patch(`/game/${(t=He().game)==null?void 0:t._id}`,e)}const Rr=[{id:"46c018c0-de33-4bd2-9024-71548b22db7e",name:"Forest",author:"Dan Meyers",source:"https://unsplash.com/photos/tall-trees-wB6B3AqXjy0",url:"/images/cover-images/forest.jpg",commonColor:"#8b7d73"},{id:"9131e281-184e-4e2d-8994-8536f9d3c0d0",name:"Forest 2",author:"Simon Berger",source:"https://unsplash.com/photos/grayscale-photo-of-trees-and-pathway-rydQVdwcgUQ",url:"/images/cover-images/forest-2.jpg",commonColor:"#7f7f7f"},{id:"2e2ec06d-97b4-4cce-b88d-a58c10b8bef8",name:"Castle",author:"Cederic Vandenberghe",source:"https://unsplash.com/photos/closeup-photo-of-castle-with-mist-21DP3hytVHw",url:"/images/cover-images/castle.jpg",commonColor:"#3f7690"},{id:"230ecd94-c69b-4444-a7e2-2585a2652051",name:"Broadsword",author:"Jonathan Kemper",source:"https://unsplash.com/photos/brown-wooden-handle-bar-on-brown-wooden-table-4_ZvmLAeIZk",url:"/images/cover-images/broadsword.jpg",commonColor:"#6c4c34"},{id:"16761f54-5c0c-4f56-8274-f04af8e7f33e",name:"Warband",author:"Hasan Almasi",source:"https://unsplash.com/photos/people-gathering-on-street-during-nighttime-OwqLxCvoVxI",url:"/images/cover-images/warband.jpg",commonColor:"#c34e33"}],ry=e=>(Ae("data-v-bc5094d5"),e=e(),Te(),e),oy=["src"],iy={class:"game-card__content"},ay={class:"row info"},ly={class:"tag"},cy={class:"row users"},uy=ry(()=>l("i",{class:"fas fa-users"},null,-1)),dy={class:"date-created"},fy=ae({__name:"GameCard",props:{game:{type:Object,required:!0}},setup(e){const t=e,n=te(()=>Rr.find(o=>o.id===t.game.coverImage)),s=te(()=>t.game.players[be().id]),r=te(()=>new Date(t.game.dateCreated).toLocaleDateString());return(o,i)=>{var a,c;return w(),T("div",{class:"game-card",style:on({backgroundColor:(a=n.value)==null?void 0:a.commonColor})},[l("img",{src:(c=n.value)==null?void 0:c.url},null,8,oy),l("div",iy,[l("h2",null,F(t.game.name),1),l("div",ay,[l("span",ly,F(s.value.role),1),l("div",cy,[uy,l("span",null,F(Object.keys(t.game.players).length),1)]),l("p",dy,F(r.value),1)])])],4)}}}),hy=fe(fy,[["__scopeId","data-v-bc5094d5"]]),py=e=>(Ae("data-v-3245c5b7"),e=e(),Te(),e),my={class:"ribbon__content"},yy=["innerHTML"],gy=py(()=>l("i",{class:"fas fa-times"},null,-1)),_y=[gy],vy=ae({__name:"Ribbon",props:{id:{},message:{},onActivate:{type:Function}},setup(e){const t=e;function n(){localStorage.setItem("ribbon."+t.id,"true"),s.value=!1}const s=U(!localStorage.getItem("ribbon."+t.id));return(r,o)=>(w(),T("div",{class:de(["ribbon",{"ribbon--hidden":!s.value}])},[l("div",my,[l("p",{innerHTML:r.message,onClick:o[0]||(o[0]=(...i)=>r.onActivate&&r.onActivate(...i))},null,8,yy),l("button",{class:"btn btn--icon",onClick:n},_y)])],2))}}),by=fe(vy,[["__scopeId","data-v-3245c5b7"]]),wy="/images/fitd-logo.webp",Ey={},Ci=e=>(Ae("data-v-ba692196"),e=e(),Te(),e),Cy={class:"divider"},ky=Ci(()=>l("div",{class:"line"},null,-1)),xy=Ci(()=>l("div",{class:"middle-symbol"},"❖",-1)),Sy=Ci(()=>l("div",{class:"line"},null,-1)),Ay=[ky,xy,Sy];function Ty(e,t){return w(),T("div",Cy,Ay)}const Be=fe(Ey,[["render",Ty],["__scopeId","data-v-ba692196"]]),$y={},Oy={class:"modal"},Ry={class:"modal__content"};function Py(e,t){return w(),T("div",Oy,[ms(e.$slots,"header",{},void 0),l("div",Ry,[ms(e.$slots,"content",{},void 0)])])}const at=fe($y,[["render",Py],["__scopeId","data-v-000cd069"]]),Iy=e=>(Ae("data-v-b77cb2fd"),e=e(),Te(),e),Ny={class:"modal__header"},Ly=Iy(()=>l("i",{class:"fas fa-times"},null,-1)),Dy=[Ly],By=ae({__name:"ModalHeader",props:{closeButton:Boolean,closeButtonAction:Function},setup(e){const t=e;function n(){t.closeButtonAction?t.closeButtonAction():W.close()}return(s,r)=>(w(),T("div",Ny,[ms(s.$slots,"default",{},void 0),e.closeButton?(w(),T("button",{key:0,class:"btn--icon",onClick:n},Dy)):ne("",!0)]))}}),lt=fe(By,[["__scopeId","data-v-b77cb2fd"]]),Dt=e=>(Ae("data-v-38e33c2b"),e=e(),Te(),e),Uy=Dt(()=>l("h2",null,"Attribution",-1)),qy={class:"attribution"},My=Dt(()=>l("p",null,[me(" This work is based on "),l("a",{class:"anchor-link",href:"http://www.bladesinthedark.com/",target:"_blank"}," Blades in the Dark "),me(" , product of One Seven Design, developed and authored by John Harper, and licensed for our use under the "),l("a",{class:"anchor-link",href:"http://creativecommons.org/licenses/by/3.0/",target:"_blank"}," Creative Commons Attribution 3.0 Unported license ")],-1)),Fy=Dt(()=>l("a",{class:"anchor-link",href:"https://olinkirk.land",target:"_blank"},"Olin Kirkland",-1)),jy=Dt(()=>l("br",null,null,-1)),Hy={class:"muted"},Vy=Dt(()=>l("img",{src:wy},null,-1)),Wy=Dt(()=>l("p",null," Blades in the Dark™ is a trademark of One Seven Design. The Forged in the Dark Logo is © One Seven Design, and is used with permission ",-1)),Qy=Dt(()=>l("p",{class:"images-description"},[me(" Illustrations are by "),l("a",{class:"anchor-link",href:"https://www.reddit.com/user/perryphery/submitted/",target:"_blank"},"u/perryphery on Reddit")],-1)),Ky=Dt(()=>l("p",{class:"images-description"},[me(" Cover images are from "),l("a",{class:"anchor-link",href:"https://unsplash.com/",target:"_blank"},"Unsplash")],-1)),zy={class:"images"},Gy=["href"],Yy=["src"],Jy=Dt(()=>l("br",null,null,-1)),Xy={class:"muted"},Zy=Dt(()=>l("p",{class:"images-description"},[me(" Icons are from "),l("a",{class:"anchor-link",href:"https://fontawesome.com/",target:"_blank"},"Font Awesome"),me(" and "),l("a",{class:"anchor-link",href:"https://icons8.com/"},"Icons8")],-1)),eg=ae({__name:"AttributionModal",setup(e){const t=new Date().getFullYear(),n=s=>{const[r,o]=s.split(" ");return o?`${r} ${o[0]}.`:r};return(s,r)=>(w(),Se(at,null,{header:H(()=>[P(lt,{closeButton:""},{default:H(()=>[Uy]),_:1})]),content:H(()=>[l("div",qy,[My,P(Be),l("p",null,[me(" This website is made and maintained by "),Fy,jy,l("span",Hy,"© "+F(X(t))+" Olin Kirkland | All rights reserved",1)]),P(Be),Vy,Wy,P(Be),Qy,P(Be),Ky,l("ul",zy,[(w(!0),T(ve,null,je(X(Rr),o=>(w(),T("li",{key:o.id},[l("a",{href:o.source,target:"_blank"},[l("img",{src:o.url},null,8,Yy),l("p",null,[me(F(o.name),1),Jy,l("span",Xy,"by "+F(n(o.author)),1)])],8,Gy)]))),128))]),P(Be),Zy,me("   ")])]),_:1}))}}),cu=fe(eg,[["__scopeId","data-v-38e33c2b"]]),tg={crew:{reputations:["Ambitious","Brutal","Daring","Honorable","Professional","Savvy","Subtle","Strange"],lairs:[{name:"Abandoned Clock Tower",districts:["Six Towers","Crow's Foot","Coalridge"]},{name:"Sewers Beneath the City",districts:["Charterhall","Nightmarket","Barrowcleft"]},{name:"Old Lighthouse",districts:["The Docks","Nightmarket","Crow's Foot"]},{name:"Disused Theater",districts:["Silkshore","Brightstone","Six Towers"]},{name:"Forgotten Crypt",districts:["Dunslough","Charhollow","Coalridge"]},{name:"Luxury Bathhouse",districts:["Brightstone","Silkshore","Charterhall"]},{name:"Library Catacombs",districts:["Charterhall","Six Towers","Brightstone"]},{name:"Derelict Ship",districts:["The Docks","Nightmarket","Crow's Foot"]},{name:"Tunnels Beneath a Bridge",districts:["Crow's Foot","Charterhall","Barrowcleft"]},{name:"Camouflaged Forest Bunker",districts:["Dunslough","Barrowcleft","Charhollow"]}],"upgrade-descriptions":{crew:{"assassin-rigging":"You get 2 free load worth of weapon or gear items. For example, you could carry a pistol (a weapon) and burglary tools (gear) for zero load.","ironhook-contacts":"Your Tier is effectively +1 higher in prison. This counts for any Tier-related element in prison, including the incarceration roll (see page 148).","elite-skulks":"All of your cohorts with the Skulks type get +1d to quality rolls for Skulk-related actions.","elite-thugs":"All of your cohorts with the Thugs type get +1d to quality rolls for Thug-related actions.",hardened:"Each PC gets +1 trauma box. This costs three upgrades to unlock, not just one. This may bring a PC with 4 trauma back into play if you wish.","bravos-rigging":"You get 2 free load worth of weapon or armor items. For example, you could carry a sword & pistol or wear normal armor for zero load.","elite-rovers":"All of your cohorts with the Rovers type get +1d to quality rolls for Rover-related actions.","cult-rigging":"You get 2 free load worth of document or implement items. For example, you could carry a profane book of curses and a demon's hand for zero load.","ritual-sanctum-in-lair":"This counts as a sacred and arcane workshop for occult practices and rituals.","elite-adepts":"All of your cohorts with the Adepts type get +1d to quality rolls for Adept-related actions.",ordained:"Each PC gets +1 trauma box. This costs three upgrades to unlock, not just one. This may bring a PC with 4 trauma back into play if you wish.","hawker-rigging":"One carried item is concealed and has no load. For example, you could carry a load of drugs or a weapon, perfectly concealed, for zero load.","elite-rooks":"All of your cohorts with the Rooks type get +1d to quality rolls for Rook-related actions.",composed:"Each PC gets +1 stress box. This costs three upgrades to unlock, not just one.","thief-rigging":"You get 2 free load worth of tool or gear items. For example, you could carry burglary gear and tinkering tools for zero load.","underground-maps-and-passkeys":"You have easy passage through the underground canals, tunnels, and basements of the city.",steady:"Each PC gets +1 stress box. This costs three upgrades to unlock, not just one.","smuggler-rigging":"Two of your carried items are perfectly concealed. For example, you could carry 1 load of contraband and a pistol, perfectly concealed, even against a pat down.",camouflage:"Your vehicles are perfectly concealed when at rest. They blend in as part of the environment, or as an uninteresting civilian vehicle (your choice).",barge:"Add mobility to your lair. You can move it to a new location as a downtime activity."},categories:{lair:"Lair upgrades improve the crew's lair, making it more secure, more useful, or more comfortable.",training:"Training upgrades improve the crew's ability to earn xp during downtime.",quality:"improves the quality rating of all the PCs items of that type, beyond the quality established by the crew's Tier and fine items"},lair:{"boat-house":"You have a boat, a dock on a waterway, and a small shack to store boating supplies. A second upgrade improves the boat with armor and more cargo capacity.","carriage-house":"You have a carriage, two goats to pull it, and a stable. A second upgrade improves the carriage with armor and larger, swifter goats. Horses are very rare in Doskvol—most carriages in the city use the large Akorosian goat as their draft animal.",cohort:"A cohort is a gang or a single expert NPC who works for your crew. For all the details on cohorts, see the following pages.","hidden-lair":"Your lair has a secret location and is disguised to hide it from view. If your lair is discovered, use two downtime activities and pay coin equal to your Tier to relocate it and hide it once again.",quarters:"Your lair includes living quarters for the crew. Without this upgrade, each PC sleeps elsewhere, and is vulnerable when they do so.","secure-lair":"Your lair has locks, alarms, and traps to thwart intruders. A second upgrade improves the defenses to include arcane measures that work against spirits. You might roll your crew's Tier if these measures are ever put to the test, to see how well they thwart an intruder.",vault:"Your lair has a secure vault, increasing your storage capacity for coin to 8. A second upgrade increases your capacity to 16. A separate part of your vault can be used as a holding cell.",workshop:"Your lair has a workshop appointed with tools for tinkering and alchemy, as well as a small library of books, documents, and maps. You may accomplish long-term projects with these assets without leaving your lair.",quality:"Each upgrade improves the quality rating of all the PCs' items of that type, beyond the quality established by the crew's Tier and fine items. You can improve the quality of Documents, Gear (covers Burglary Gear and Climbing Gear), Arcane Implements, Subterfuge Supplies, Tools (covers Demolitions Tools and Tinkering Tools), and Weapons. So, if you are Tier 0, with fine lockpicks (+1) and the Quality upgrade for gear (+1), you could contend equally with a Tier II quality lock."},training:{insight:"Earn 2 xp (instead of 1) when you train your <em>Insight</em> during downtime.",prowess:"Earn 2 xp (instead of 1) when you train your <em>Prowess</em> during downtime.",resolve:"Earn 2 xp (instead of 1) when you train your <em>Resolve</em> during downtime.",personal:"Earn 2 xp (instead of 1) when you train your <em>Playbook</em> during downtime.",mastery:"Your crew has access to master level training. You may advance your action ratings to 4 (until you unlock this upgrade, PC action ratings are capped at 3). This costs four upgrade boxes to unlock."},quality:{documents:"Improves the quality rating of all the crew's documents.",gear:"Improves the quality rating of all the crew's Burglary Gear and Climbing Gear.",implements:"Improves the quality rating of all the crew's Arcane Implements.",supplies:"Improves the quality rating of all the crew's Subterfuge Supplies.",tools:"Improves the quality rating of all the crew's Demolitions Tools and Tinkering Tools.",weapons:"Improves the quality rating of all the crew's weapons."}}}},ng={districts:[{name:"Brightstone",blurb:"The grand mansions and luxury shops of the wealthy elite."},{name:"Charterhall",blurb:"The city's civic offices and the hub for shops, artisans, and commerce."},{name:"Six Towers",blurb:"A formerly rich district, now worn down and dilapidated."},{name:"Silkshore",blurb:"The 'red lamp district' and artist community."},{name:"Nightmarket",blurb:"The trade center for exotic goods imported by rail. Many vendors also trade in illicit goods."},{name:"Crow's Foot",blurb:"A cramped neighborhood of multi-level streets, ruled by gangs."},{name:"The Docks",blurb:"Rough taverns, tattoo parlors, fighting pits, and warehouses."},{name:"Barrowcleft",blurb:"Residences and markets for the farmers who work the fields and eeleries."},{name:"Coalridge",blurb:"The remnants of Doskvol's original hilltop mining settlement, now home to laborers and industrial factories."},{name:"Charhollow",blurb:"A maze of tenements and squalid row houses."},{name:"Dunslough",blurb:"A labor camp served by convicts and a ghetto for the destitute poor."}]},sg={sheets:tg,lexicon:ng};async function rg(e,t){try{const n=await Qe.post("/game/new",{gameName:e,coverImage:t,codex:sg});if(n.status===Ft.Ok)return console.log(n.data),be().games=n.data,null}catch(n){return n.response.data}}async function og(){var e;try{if((await Qe.post(`/game/${(e=He().game)==null?void 0:e._id}/leave`)).status===Ft.Ok)return He().clear(),await Kn(),null}catch(t){return t.response.data}}function ig(e){const t=To.find(s=>s.id==="791e4a6b-8f2e-41b2-8410-09fdb69d22e2");return e&&To.find(s=>e===s.id)||t}const ag=["src"],lg=ae({__name:"Portrait",props:{portraitId:{}},setup(e){const t=e,n=te(()=>ig(t.portraitId));return(s,r)=>(w(),T("div",{class:"portrait",style:on({backgroundColor:n.value.commonColor})},[l("img",{src:n.value.url,alt:"Portrait"},null,8,ag)],4))}}),Pr=fe(lg,[["__scopeId","data-v-ce4fddda"]]),Ts=e=>(Ae("data-v-90e063bd"),e=e(),Te(),e),cg=Ts(()=>l("h2",null,"Game Preview",-1)),ug={class:"game-preview"},dg=["src"],fg={class:"overlay"},hg={class:"row center game-join-bar"},pg={class:"tag"},mg={class:"row users"},yg=Ts(()=>l("i",{class:"fas fa-users"},null,-1)),gg=Ts(()=>l("span",null,"Play",-1)),_g=[gg],vg=Ts(()=>l("h3",null,"Players",-1)),bg={class:"players-container"},wg=Ts(()=>l("i",{class:"fas fa-circle-notch fa-spin"},null,-1)),Eg=[wg],Cg=ae({__name:"GamePreviewModal",props:{game:{}},setup(e){const t=e,n=te(()=>t.game.players[be().id]),s=te(()=>Rr.find(o=>o.id===t.game.coverImage));function r(){Nt.push({name:"game",params:{id:t.game._id}}),W.close()}return(o,i)=>(w(),Se(at,null,{header:H(()=>[P(lt,{closeButton:""},{default:H(()=>[cg]),_:1})]),content:H(()=>{var a,c;return[l("div",ug,[l("div",{class:"title-block",style:on({backgroundColor:(a=s.value)==null?void 0:a.commonColor})},[l("img",{class:"game-preview__cover",src:(c=s.value)==null?void 0:c.url},null,8,dg),l("div",fg,[l("h1",null,F(o.game.name),1)])],4),l("div",hg,[l("span",pg,F(n.value.role),1),l("div",mg,[yg,l("span",null,F(Object.keys(o.game.players).length),1)]),l("button",{class:"btn mobile-full-width",onClick:r},_g)]),P(Be),vg,l("div",bg,[l("div",{class:de(["row center waiting-players",{collapsed:Object.keys(o.game.players).length>0}])},Eg,2),l("ul",{class:de(["players",{collapsed:Object.keys(o.game.players).length===0}])},[(w(!0),T(ve,null,je(o.game.players,(d,u)=>(w(),T("li",{class:"row",key:u},[P(Pr,{portraitId:d.portrait},null,8,["portraitId"]),l("span",null,F(d.username),1)]))),128))],2)])])]}),_:1}))}}),uu=fe(Cg,[["__scopeId","data-v-90e063bd"]]),En=e=>(Ae("data-v-e3ba015e"),e=e(),Te(),e),kg=En(()=>l("h2",null,"New Game",-1)),xg={class:"game"},Sg=En(()=>l("p",null,[me(" Create a new "),l("em",null,"Blades in the Dark"),me(" game. "),l("br"),l("span",{class:"muted"}," You can invite players once the game has been created. ")],-1)),Ag={class:"inputs"},Tg={class:"input-group"},$g=En(()=>l("label",{for:"gameName"},"Game Name",-1)),Og={key:0,class:"reminder shake-once"},Rg={class:"input-group"},Pg=En(()=>l("label",{for:"coverImage"},"Cover Image",-1)),Ig={class:"cover-image-list"},Ng=["onClick"],Lg=["src","onLoad","onError"],Dg={key:0,class:"overlay"},Bg={class:"caption"},Ug={key:1,class:"fas fa-check-circle"},qg={key:0,class:"alert"},Mg=En(()=>l("i",{class:"fas fa-exclamation-circle"},null,-1)),Fg=En(()=>l("i",{class:"fas fa-times"},null,-1)),jg=[Fg],Hg={class:"row center"},Vg={key:0,class:"fas fa-circle-notch fa-spin"},Wg=En(()=>l("span",null,"Create Game",-1)),Qg=ae({__name:"CreateGameModal",setup(e){const t=U(Rr.map(u=>({...u,loaded:!1}))),n=U(""),s=U(!1),r=U(""),o=U(!1),i=te(()=>o.value&&r.value.length===0?"Every game should have a name":null),a=U(t.value[0].id),c=te(()=>r.value.length>0);async function d(){if(!c.value&&(!o.value||i.value)){o.value=!0,document.querySelectorAll(".reminder").forEach(p=>{p.classList.remove("shake-once"),p.offsetWidth,p.classList.add("shake-once")});return}s.value=!0,n.value="";const u=await rg(r.value,a.value);s.value=!1,u?n.value=u:W.open(uu,{game:be().games.find(f=>f.name===r.value)})}return(u,f)=>(w(),Se(at,{class:de({disabled:s.value})},{header:H(()=>[P(lt,{closeButton:""},{default:H(()=>[kg]),_:1})]),content:H(()=>[l("div",xg,[Sg,l("div",Ag,[l("div",Tg,[$g,Ye(l("input",{type:"text",onInput:f[0]||(f[0]=p=>o.value=!0),onKeyup:Cs(d,["enter"]),placeholder:"Enter a name","onUpdate:modelValue":f[1]||(f[1]=p=>r.value=p)},null,544),[[Je,r.value]]),i.value?(w(),T("span",Og,F(i.value),1)):ne("",!0)]),l("div",Rg,[Pg,l("ul",Ig,[(w(!0),T(ve,null,je(t.value,p=>(w(),T("li",{key:p.id},[l("button",{onClick:y=>a.value=p.id,style:on({backgroundColor:p.commonColor})},[l("img",{src:p.url,onLoad:y=>p.loaded=!0,onError:y=>p.loaded=!0,class:de({loaded:p.loaded})},null,42,Lg),a.value===p.id?(w(),T("div",Dg)):ne("",!0),l("div",Bg,[l("span",null,F(p.name),1)]),a.value===p.id?(w(),T("i",Ug)):ne("",!0)],12,Ng)]))),128))])])]),n.value?(w(),T("div",qg,[Mg,l("span",null,F(n.value),1),l("button",{class:"btn btn--icon close",onClick:f[2]||(f[2]=p=>n.value="")},jg)])):ne("",!0),l("div",Hg,[l("button",{class:"btn mobile-full-width",onClick:d},[s.value?(w(),T("i",Vg)):ne("",!0),Wg])])])]),_:1},8,["class"]))}}),Kg=fe(Qg,[["__scopeId","data-v-e3ba015e"]]),du=e=>(Ae("data-v-4ebc0b1b"),e=e(),Te(),e),zg={class:"page"},Gg={class:"game-list"},Yg=du(()=>l("i",{class:"fas fa-folder-plus"},null,-1)),Jg=du(()=>l("span",null,"New Game",-1)),Xg=[Yg,Jg],Zg=ae({__name:"TheHomePage",setup(e){async function t(){W.open(Kg)}const n=te(()=>be().games);function s(r){W.open(uu,{game:r})}return Hn(()=>{Kn()}),(r,o)=>(w(),T("div",zg,[P(by,{id:"welcome-ribbon",message:"<em>Online in the Dark</em> is an unofficial tool designed for playing <em>Blades in the Dark</em> online. Click to view the full attribution.",onActivate:()=>{X(W).open(cu)}},null,8,["onActivate"]),l("ul",Gg,[(w(!0),T(ve,null,je(n.value,i=>(w(),T("li",{key:i._id},[P(hy,{game:i,onClick:a=>s(i)},null,8,["game","onClick"])]))),128)),l("li",null,[l("div",{class:"new-game-card",onClick:t},Xg)])])]))}}),e_=fe(Zg,[["__scopeId","data-v-4ebc0b1b"]]);async function t_(e){W.open(ks);try{const t=await Qe.post(`/invite/${e}`);if(t.status===Ft.Ok){const n=t.data.gameId;Nt.push({name:Ho.GAME,params:{id:n}})}}catch(t){console.error(t),Nt.push({name:Ho.HOME}),W.close();return}W.close()}const n_={},s_={class:"panel"};function r_(e,t){return w(),T("div",s_,[ms(e.$slots,"default",{},void 0)])}const fu=fe(n_,[["render",r_],["__scopeId","data-v-c9a6184a"]]);/*!
  * vue-router v4.3.2
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const $n=typeof document<"u";function o_(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const Ee=Object.assign;function Xr(e,t){const n={};for(const s in t){const r=t[s];n[s]=kt(r)?r.map(e):e(r)}return n}const us=()=>{},kt=Array.isArray,hu=/#/g,i_=/&/g,a_=/\//g,l_=/=/g,c_=/\?/g,pu=/\+/g,u_=/%5B/g,d_=/%5D/g,mu=/%5E/g,f_=/%60/g,yu=/%7B/g,h_=/%7C/g,gu=/%7D/g,p_=/%20/g;function ki(e){return encodeURI(""+e).replace(h_,"|").replace(u_,"[").replace(d_,"]")}function m_(e){return ki(e).replace(yu,"{").replace(gu,"}").replace(mu,"^")}function Mo(e){return ki(e).replace(pu,"%2B").replace(p_,"+").replace(hu,"%23").replace(i_,"%26").replace(f_,"`").replace(yu,"{").replace(gu,"}").replace(mu,"^")}function y_(e){return Mo(e).replace(l_,"%3D")}function g_(e){return ki(e).replace(hu,"%23").replace(c_,"%3F")}function __(e){return e==null?"":g_(e).replace(a_,"%2F")}function vs(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const v_=/\/$/,b_=e=>e.replace(v_,"");function Zr(e,t,n="/"){let s,r={},o="",i="";const a=t.indexOf("#");let c=t.indexOf("?");return a<c&&a>=0&&(c=-1),c>-1&&(s=t.slice(0,c),o=t.slice(c+1,a>-1?a:t.length),r=e(o)),a>-1&&(s=s||t.slice(0,a),i=t.slice(a,t.length)),s=k_(s??t,n),{fullPath:s+(o&&"?")+o+i,path:s,query:r,hash:vs(i)}}function w_(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Ma(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function E_(e,t,n){const s=t.matched.length-1,r=n.matched.length-1;return s>-1&&s===r&&Mn(t.matched[s],n.matched[r])&&_u(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Mn(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function _u(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!C_(e[n],t[n]))return!1;return!0}function C_(e,t){return kt(e)?Fa(e,t):kt(t)?Fa(t,e):e===t}function Fa(e,t){return kt(t)?e.length===t.length&&e.every((n,s)=>n===t[s]):e.length===1&&e[0]===t}function k_(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),s=e.split("/"),r=s[s.length-1];(r===".."||r===".")&&s.push("");let o=n.length-1,i,a;for(i=0;i<s.length;i++)if(a=s[i],a!==".")if(a==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+s.slice(i).join("/")}var bs;(function(e){e.pop="pop",e.push="push"})(bs||(bs={}));var ds;(function(e){e.back="back",e.forward="forward",e.unknown=""})(ds||(ds={}));function x_(e){if(!e)if($n){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),b_(e)}const S_=/^[^#]+#/;function A_(e,t){return e.replace(S_,"#")+t}function T_(e,t){const n=document.documentElement.getBoundingClientRect(),s=e.getBoundingClientRect();return{behavior:t.behavior,left:s.left-n.left-(t.left||0),top:s.top-n.top-(t.top||0)}}const Ir=()=>({left:window.scrollX,top:window.scrollY});function $_(e){let t;if("el"in e){const n=e.el,s=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;t=T_(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function ja(e,t){return(history.state?history.state.position-t:-1)+e}const Fo=new Map;function O_(e,t){Fo.set(e,t)}function R_(e){const t=Fo.get(e);return Fo.delete(e),t}let P_=()=>location.protocol+"//"+location.host;function vu(e,t){const{pathname:n,search:s,hash:r}=t,o=e.indexOf("#");if(o>-1){let a=r.includes(e.slice(o))?e.slice(o).length:1,c=r.slice(a);return c[0]!=="/"&&(c="/"+c),Ma(c,"")}return Ma(n,e)+s+r}function I_(e,t,n,s){let r=[],o=[],i=null;const a=({state:p})=>{const y=vu(e,location),g=n.value,_=t.value;let O=0;if(p){if(n.value=y,t.value=p,i&&i===g){i=null;return}O=_?p.position-_.position:0}else s(y);r.forEach(L=>{L(n.value,g,{delta:O,type:bs.pop,direction:O?O>0?ds.forward:ds.back:ds.unknown})})};function c(){i=n.value}function d(p){r.push(p);const y=()=>{const g=r.indexOf(p);g>-1&&r.splice(g,1)};return o.push(y),y}function u(){const{history:p}=window;p.state&&p.replaceState(Ee({},p.state,{scroll:Ir()}),"")}function f(){for(const p of o)p();o=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:c,listen:d,destroy:f}}function Ha(e,t,n,s=!1,r=!1){return{back:e,current:t,forward:n,replaced:s,position:window.history.length,scroll:r?Ir():null}}function N_(e){const{history:t,location:n}=window,s={value:vu(e,n)},r={value:t.state};r.value||o(s.value,{back:null,current:s.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function o(c,d,u){const f=e.indexOf("#"),p=f>-1?(n.host&&document.querySelector("base")?e:e.slice(f))+c:P_()+e+c;try{t[u?"replaceState":"pushState"](d,"",p),r.value=d}catch(y){console.error(y),n[u?"replace":"assign"](p)}}function i(c,d){const u=Ee({},t.state,Ha(r.value.back,c,r.value.forward,!0),d,{position:r.value.position});o(c,u,!0),s.value=c}function a(c,d){const u=Ee({},r.value,t.state,{forward:c,scroll:Ir()});o(u.current,u,!0);const f=Ee({},Ha(s.value,c,null),{position:u.position+1},d);o(c,f,!1),s.value=c}return{location:s,state:r,push:a,replace:i}}function L_(e){e=x_(e);const t=N_(e),n=I_(e,t.state,t.location,t.replace);function s(o,i=!0){i||n.pauseListeners(),history.go(o)}const r=Ee({location:"",base:e,go:s,createHref:A_.bind(null,e)},t,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function D_(e){return typeof e=="string"||e&&typeof e=="object"}function bu(e){return typeof e=="string"||typeof e=="symbol"}const zt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},wu=Symbol("");var Va;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Va||(Va={}));function Fn(e,t){return Ee(new Error,{type:e,[wu]:!0},t)}function Bt(e,t){return e instanceof Error&&wu in e&&(t==null||!!(e.type&t))}const Wa="[^/]+?",B_={sensitive:!1,strict:!1,start:!0,end:!0},U_=/[.+*?^${}()[\]/\\]/g;function q_(e,t){const n=Ee({},B_,t),s=[];let r=n.start?"^":"";const o=[];for(const d of e){const u=d.length?[]:[90];n.strict&&!d.length&&(r+="/");for(let f=0;f<d.length;f++){const p=d[f];let y=40+(n.sensitive?.25:0);if(p.type===0)f||(r+="/"),r+=p.value.replace(U_,"\\$&"),y+=40;else if(p.type===1){const{value:g,repeatable:_,optional:O,regexp:L}=p;o.push({name:g,repeatable:_,optional:O});const j=L||Wa;if(j!==Wa){y+=10;try{new RegExp(`(${j})`)}catch(re){throw new Error(`Invalid custom RegExp for param "${g}" (${j}): `+re.message)}}let Q=_?`((?:${j})(?:/(?:${j}))*)`:`(${j})`;f||(Q=O&&d.length<2?`(?:/${Q})`:"/"+Q),O&&(Q+="?"),r+=Q,y+=20,O&&(y+=-8),_&&(y+=-20),j===".*"&&(y+=-50)}u.push(y)}s.push(u)}if(n.strict&&n.end){const d=s.length-1;s[d][s[d].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const i=new RegExp(r,n.sensitive?"":"i");function a(d){const u=d.match(i),f={};if(!u)return null;for(let p=1;p<u.length;p++){const y=u[p]||"",g=o[p-1];f[g.name]=y&&g.repeatable?y.split("/"):y}return f}function c(d){let u="",f=!1;for(const p of e){(!f||!u.endsWith("/"))&&(u+="/"),f=!1;for(const y of p)if(y.type===0)u+=y.value;else if(y.type===1){const{value:g,repeatable:_,optional:O}=y,L=g in d?d[g]:"";if(kt(L)&&!_)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const j=kt(L)?L.join("/"):L;if(!j)if(O)p.length<2&&(u.endsWith("/")?u=u.slice(0,-1):f=!0);else throw new Error(`Missing required param "${g}"`);u+=j}}return u||"/"}return{re:i,score:s,keys:o,parse:a,stringify:c}}function M_(e,t){let n=0;for(;n<e.length&&n<t.length;){const s=t[n]-e[n];if(s)return s;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function F_(e,t){let n=0;const s=e.score,r=t.score;for(;n<s.length&&n<r.length;){const o=M_(s[n],r[n]);if(o)return o;n++}if(Math.abs(r.length-s.length)===1){if(Qa(s))return 1;if(Qa(r))return-1}return r.length-s.length}function Qa(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const j_={type:0,value:""},H_=/[a-zA-Z0-9_]/;function V_(e){if(!e)return[[]];if(e==="/")return[[j_]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(y){throw new Error(`ERR (${n})/"${d}": ${y}`)}let n=0,s=n;const r=[];let o;function i(){o&&r.push(o),o=[]}let a=0,c,d="",u="";function f(){d&&(n===0?o.push({type:0,value:d}):n===1||n===2||n===3?(o.length>1&&(c==="*"||c==="+")&&t(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:d,regexp:u,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):t("Invalid state to consume buffer"),d="")}function p(){d+=c}for(;a<e.length;){if(c=e[a++],c==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:c==="/"?(d&&f(),i()):c===":"?(f(),n=1):p();break;case 4:p(),n=s;break;case 1:c==="("?n=2:H_.test(c)?p():(f(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--);break;case 2:c===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+c:n=3:u+=c;break;case 3:f(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--,u="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${d}"`),f(),i(),r}function W_(e,t,n){const s=q_(V_(e.path),n),r=Ee(s,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function Q_(e,t){const n=[],s=new Map;t=Ga({strict:!1,end:!0,sensitive:!1},t);function r(u){return s.get(u)}function o(u,f,p){const y=!p,g=K_(u);g.aliasOf=p&&p.record;const _=Ga(t,u),O=[g];if("alias"in u){const Q=typeof u.alias=="string"?[u.alias]:u.alias;for(const re of Q)O.push(Ee({},g,{components:p?p.record.components:g.components,path:re,aliasOf:p?p.record:g}))}let L,j;for(const Q of O){const{path:re}=Q;if(f&&re[0]!=="/"){const le=f.record.path,J=le[le.length-1]==="/"?"":"/";Q.path=f.record.path+(re&&J+re)}if(L=W_(Q,f,_),p?p.alias.push(L):(j=j||L,j!==L&&j.alias.push(L),y&&u.name&&!za(L)&&i(u.name)),g.children){const le=g.children;for(let J=0;J<le.length;J++)o(le[J],L,p&&p.children[J])}p=p||L,(L.record.components&&Object.keys(L.record.components).length||L.record.name||L.record.redirect)&&c(L)}return j?()=>{i(j)}:us}function i(u){if(bu(u)){const f=s.get(u);f&&(s.delete(u),n.splice(n.indexOf(f),1),f.children.forEach(i),f.alias.forEach(i))}else{const f=n.indexOf(u);f>-1&&(n.splice(f,1),u.record.name&&s.delete(u.record.name),u.children.forEach(i),u.alias.forEach(i))}}function a(){return n}function c(u){let f=0;for(;f<n.length&&F_(u,n[f])>=0&&(u.record.path!==n[f].record.path||!Eu(u,n[f]));)f++;n.splice(f,0,u),u.record.name&&!za(u)&&s.set(u.record.name,u)}function d(u,f){let p,y={},g,_;if("name"in u&&u.name){if(p=s.get(u.name),!p)throw Fn(1,{location:u});_=p.record.name,y=Ee(Ka(f.params,p.keys.filter(j=>!j.optional).concat(p.parent?p.parent.keys.filter(j=>j.optional):[]).map(j=>j.name)),u.params&&Ka(u.params,p.keys.map(j=>j.name))),g=p.stringify(y)}else if(u.path!=null)g=u.path,p=n.find(j=>j.re.test(g)),p&&(y=p.parse(g),_=p.record.name);else{if(p=f.name?s.get(f.name):n.find(j=>j.re.test(f.path)),!p)throw Fn(1,{location:u,currentLocation:f});_=p.record.name,y=Ee({},f.params,u.params),g=p.stringify(y)}const O=[];let L=p;for(;L;)O.unshift(L.record),L=L.parent;return{name:_,path:g,params:y,matched:O,meta:G_(O)}}return e.forEach(u=>o(u)),{addRoute:o,resolve:d,removeRoute:i,getRoutes:a,getRecordMatcher:r}}function Ka(e,t){const n={};for(const s of t)s in e&&(n[s]=e[s]);return n}function K_(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:z_(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function z_(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const s in e.components)t[s]=typeof n=="object"?n[s]:n;return t}function za(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function G_(e){return e.reduce((t,n)=>Ee(t,n.meta),{})}function Ga(e,t){const n={};for(const s in e)n[s]=s in t?t[s]:e[s];return n}function Eu(e,t){return t.children.some(n=>n===e||Eu(e,n))}function Y_(e){const t={};if(e===""||e==="?")return t;const s=(e[0]==="?"?e.slice(1):e).split("&");for(let r=0;r<s.length;++r){const o=s[r].replace(pu," "),i=o.indexOf("="),a=vs(i<0?o:o.slice(0,i)),c=i<0?null:vs(o.slice(i+1));if(a in t){let d=t[a];kt(d)||(d=t[a]=[d]),d.push(c)}else t[a]=c}return t}function Ya(e){let t="";for(let n in e){const s=e[n];if(n=y_(n),s==null){s!==void 0&&(t+=(t.length?"&":"")+n);continue}(kt(s)?s.map(o=>o&&Mo(o)):[s&&Mo(s)]).forEach(o=>{o!==void 0&&(t+=(t.length?"&":"")+n,o!=null&&(t+="="+o))})}return t}function J_(e){const t={};for(const n in e){const s=e[n];s!==void 0&&(t[n]=kt(s)?s.map(r=>r==null?null:""+r):s==null?s:""+s)}return t}const X_=Symbol(""),Ja=Symbol(""),xi=Symbol(""),Si=Symbol(""),jo=Symbol("");function es(){let e=[];function t(s){return e.push(s),()=>{const r=e.indexOf(s);r>-1&&e.splice(r,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Zt(e,t,n,s,r,o=i=>i()){const i=s&&(s.enterCallbacks[r]=s.enterCallbacks[r]||[]);return()=>new Promise((a,c)=>{const d=p=>{p===!1?c(Fn(4,{from:n,to:t})):p instanceof Error?c(p):D_(p)?c(Fn(2,{from:t,to:p})):(i&&s.enterCallbacks[r]===i&&typeof p=="function"&&i.push(p),a())},u=o(()=>e.call(s&&s.instances[r],t,n,d));let f=Promise.resolve(u);e.length<3&&(f=f.then(d)),f.catch(p=>c(p))})}function eo(e,t,n,s,r=o=>o()){const o=[];for(const i of e)for(const a in i.components){let c=i.components[a];if(!(t!=="beforeRouteEnter"&&!i.instances[a]))if(Z_(c)){const u=(c.__vccOpts||c)[t];u&&o.push(Zt(u,n,s,i,a,r))}else{let d=c();o.push(()=>d.then(u=>{if(!u)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${i.path}"`));const f=o_(u)?u.default:u;i.components[a]=f;const y=(f.__vccOpts||f)[t];return y&&Zt(y,n,s,i,a,r)()}))}}return o}function Z_(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Xa(e){const t=Ct(xi),n=Ct(Si),s=te(()=>{const c=X(e.to);return t.resolve(c)}),r=te(()=>{const{matched:c}=s.value,{length:d}=c,u=c[d-1],f=n.matched;if(!u||!f.length)return-1;const p=f.findIndex(Mn.bind(null,u));if(p>-1)return p;const y=Za(c[d-2]);return d>1&&Za(u)===y&&f[f.length-1].path!==y?f.findIndex(Mn.bind(null,c[d-2])):p}),o=te(()=>r.value>-1&&sv(n.params,s.value.params)),i=te(()=>r.value>-1&&r.value===n.matched.length-1&&_u(n.params,s.value.params));function a(c={}){return nv(c)?t[X(e.replace)?"replace":"push"](X(e.to)).catch(us):Promise.resolve()}return{route:s,href:te(()=>s.value.href),isActive:o,isExactActive:i,navigate:a}}const ev=ae({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Xa,setup(e,{slots:t}){const n=ws(Xa(e)),{options:s}=Ct(xi),r=te(()=>({[el(e.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[el(e.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=t.default&&t.default(n);return e.custom?o:cc("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},o)}}}),tv=ev;function nv(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function sv(e,t){for(const n in t){const s=t[n],r=e[n];if(typeof s=="string"){if(s!==r)return!1}else if(!kt(r)||r.length!==s.length||s.some((o,i)=>o!==r[i]))return!1}return!0}function Za(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const el=(e,t,n)=>e??t??n,rv=ae({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const s=Ct(jo),r=te(()=>e.route||s.value),o=Ct(Ja,0),i=te(()=>{let d=X(o);const{matched:u}=r.value;let f;for(;(f=u[d])&&!f.components;)d++;return d}),a=te(()=>r.value.matched[i.value]);Vs(Ja,te(()=>i.value+1)),Vs(X_,a),Vs(jo,r);const c=U();return os(()=>[c.value,a.value,e.name],([d,u,f],[p,y,g])=>{u&&(u.instances[f]=d,y&&y!==u&&d&&d===p&&(u.leaveGuards.size||(u.leaveGuards=y.leaveGuards),u.updateGuards.size||(u.updateGuards=y.updateGuards))),d&&u&&(!y||!Mn(u,y)||!p)&&(u.enterCallbacks[f]||[]).forEach(_=>_(d))},{flush:"post"}),()=>{const d=r.value,u=e.name,f=a.value,p=f&&f.components[u];if(!p)return tl(n.default,{Component:p,route:d});const y=f.props[u],g=y?y===!0?d.params:typeof y=="function"?y(d):y:null,O=cc(p,Ee({},g,t,{onVnodeUnmounted:L=>{L.component.isUnmounted&&(f.instances[u]=null)},ref:c}));return tl(n.default,{Component:O,route:d})||O}}});function tl(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const ov=rv;function iv(e){const t=Q_(e.routes,e),n=e.parseQuery||Y_,s=e.stringifyQuery||Ya,r=e.history,o=es(),i=es(),a=es(),c=io(zt);let d=zt;$n&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Xr.bind(null,S=>""+S),f=Xr.bind(null,__),p=Xr.bind(null,vs);function y(S,q){let D,V;return bu(S)?(D=t.getRecordMatcher(S),V=q):V=S,t.addRoute(V,D)}function g(S){const q=t.getRecordMatcher(S);q&&t.removeRoute(q)}function _(){return t.getRoutes().map(S=>S.record)}function O(S){return!!t.getRecordMatcher(S)}function L(S,q){if(q=Ee({},q||c.value),typeof S=="string"){const m=Zr(n,S,q.path),v=t.resolve({path:m.path},q),A=r.createHref(m.fullPath);return Ee(m,v,{params:p(v.params),hash:vs(m.hash),redirectedFrom:void 0,href:A})}let D;if(S.path!=null)D=Ee({},S,{path:Zr(n,S.path,q.path).path});else{const m=Ee({},S.params);for(const v in m)m[v]==null&&delete m[v];D=Ee({},S,{params:f(m)}),q.params=f(q.params)}const V=t.resolve(D,q),we=S.hash||"";V.params=u(p(V.params));const Pe=w_(s,Ee({},S,{hash:m_(we),path:V.path})),h=r.createHref(Pe);return Ee({fullPath:Pe,hash:we,query:s===Ya?J_(S.query):S.query||{}},V,{redirectedFrom:void 0,href:h})}function j(S){return typeof S=="string"?Zr(n,S,c.value.path):Ee({},S)}function Q(S,q){if(d!==S)return Fn(8,{from:q,to:S})}function re(S){return ke(S)}function le(S){return re(Ee(j(S),{replace:!0}))}function J(S){const q=S.matched[S.matched.length-1];if(q&&q.redirect){const{redirect:D}=q;let V=typeof D=="function"?D(S):D;return typeof V=="string"&&(V=V.includes("?")||V.includes("#")?V=j(V):{path:V},V.params={}),Ee({query:S.query,hash:S.hash,params:V.path!=null?{}:S.params},V)}}function ke(S,q){const D=d=L(S),V=c.value,we=S.state,Pe=S.force,h=S.replace===!0,m=J(D);if(m)return ke(Ee(j(m),{state:typeof m=="object"?Ee({},we,m.state):we,force:Pe,replace:h}),q||D);const v=D;v.redirectedFrom=q;let A;return!Pe&&E_(s,V,D)&&(A=Fn(16,{to:v,from:V}),xt(V,V,!0,!1)),(A?Promise.resolve(A):Re(v,V)).catch(E=>Bt(E)?Bt(E,2)?E:Wt(E):he(E,v,V)).then(E=>{if(E){if(Bt(E,2))return ke(Ee({replace:h},j(E.to),{state:typeof E.to=="object"?Ee({},we,E.to.state):we,force:Pe}),q||v)}else E=et(v,V,!0,h,we);return Me(v,V,E),E})}function oe(S,q){const D=Q(S,q);return D?Promise.reject(D):Promise.resolve()}function ie(S){const q=kn.values().next().value;return q&&typeof q.runWithContext=="function"?q.runWithContext(S):S()}function Re(S,q){let D;const[V,we,Pe]=av(S,q);D=eo(V.reverse(),"beforeRouteLeave",S,q);for(const m of V)m.leaveGuards.forEach(v=>{D.push(Zt(v,S,q))});const h=oe.bind(null,S,q);return D.push(h),ze(D).then(()=>{D=[];for(const m of o.list())D.push(Zt(m,S,q));return D.push(h),ze(D)}).then(()=>{D=eo(we,"beforeRouteUpdate",S,q);for(const m of we)m.updateGuards.forEach(v=>{D.push(Zt(v,S,q))});return D.push(h),ze(D)}).then(()=>{D=[];for(const m of Pe)if(m.beforeEnter)if(kt(m.beforeEnter))for(const v of m.beforeEnter)D.push(Zt(v,S,q));else D.push(Zt(m.beforeEnter,S,q));return D.push(h),ze(D)}).then(()=>(S.matched.forEach(m=>m.enterCallbacks={}),D=eo(Pe,"beforeRouteEnter",S,q,ie),D.push(h),ze(D))).then(()=>{D=[];for(const m of i.list())D.push(Zt(m,S,q));return D.push(h),ze(D)}).catch(m=>Bt(m,8)?m:Promise.reject(m))}function Me(S,q,D){a.list().forEach(V=>ie(()=>V(S,q,D)))}function et(S,q,D,V,we){const Pe=Q(S,q);if(Pe)return Pe;const h=q===zt,m=$n?history.state:{};D&&(V||h?r.replace(S.fullPath,Ee({scroll:h&&m&&m.scroll},we)):r.push(S.fullPath,we)),c.value=S,xt(S,q,D,h),Wt()}let tt;function z(){tt||(tt=r.listen((S,q,D)=>{if(!$s.listening)return;const V=L(S),we=J(V);if(we){ke(Ee(we,{replace:!0}),V).catch(us);return}d=V;const Pe=c.value;$n&&O_(ja(Pe.fullPath,D.delta),Ir()),Re(V,Pe).catch(h=>Bt(h,12)?h:Bt(h,2)?(ke(h.to,V).then(m=>{Bt(m,20)&&!D.delta&&D.type===bs.pop&&r.go(-1,!1)}).catch(us),Promise.reject()):(D.delta&&r.go(-D.delta,!1),he(h,V,Pe))).then(h=>{h=h||et(V,Pe,!1),h&&(D.delta&&!Bt(h,8)?r.go(-D.delta,!1):D.type===bs.pop&&Bt(h,20)&&r.go(-1,!1)),Me(V,Pe,h)}).catch(us)}))}let C=es(),b=es(),x;function he(S,q,D){Wt(S);const V=b.list();return V.length?V.forEach(we=>we(S,q,D)):console.error(S),Promise.reject(S)}function gt(){return x&&c.value!==zt?Promise.resolve():new Promise((S,q)=>{C.add([S,q])})}function Wt(S){return x||(x=!S,z(),C.list().forEach(([q,D])=>S?D(S):q()),C.reset()),S}function xt(S,q,D,V){const{scrollBehavior:we}=e;if(!$n||!we)return Promise.resolve();const Pe=!D&&R_(ja(S.fullPath,0))||(V||!D)&&history.state&&history.state.scroll||null;return si().then(()=>we(S,q,Pe)).then(h=>h&&$_(h)).catch(h=>he(h,S,q))}const st=S=>r.go(S);let Cn;const kn=new Set,$s={currentRoute:c,listening:!0,addRoute:y,removeRoute:g,hasRoute:O,getRoutes:_,resolve:L,options:e,push:re,replace:le,go:st,back:()=>st(-1),forward:()=>st(1),beforeEach:o.add,beforeResolve:i.add,afterEach:a.add,onError:b.add,isReady:gt,install(S){const q=this;S.component("RouterLink",tv),S.component("RouterView",ov),S.config.globalProperties.$router=q,Object.defineProperty(S.config.globalProperties,"$route",{enumerable:!0,get:()=>X(c)}),$n&&!Cn&&c.value===zt&&(Cn=!0,re(r.location).catch(we=>{}));const D={};for(const we in zt)Object.defineProperty(D,we,{get:()=>c.value[we],enumerable:!0});S.provide(xi,q),S.provide(Si,$l(D)),S.provide(jo,c);const V=S.unmount;kn.add(S),S.unmount=function(){kn.delete(S),kn.size<1&&(d=zt,tt&&tt(),tt=null,c.value=zt,Cn=!1,x=!1),V()}}};function ze(S){return S.reduce((q,D)=>q.then(()=>ie(D)),Promise.resolve())}return $s}function av(e,t){const n=[],s=[],r=[],o=Math.max(t.matched.length,e.matched.length);for(let i=0;i<o;i++){const a=t.matched[i];a&&(e.matched.find(d=>Mn(d,a))?s.push(a):n.push(a));const c=e.matched[i];c&&(t.matched.find(d=>Mn(d,c))||r.push(c))}return[n,s,r]}function Cu(){return Ct(Si)}const lv={class:"page"},cv=l("h1",null,"INVITE PAGE",-1),uv=ae({__name:"TheInvitePage",setup(e){const n=Cu().params.code;return Hn(()=>{t_(n)}),(s,r)=>(w(),T("div",lv,[cv,P(fu,null,{default:H(()=>[l("p",null,F(X(n)),1)]),_:1})]))}}),ku=e=>(Ae("data-v-c2b83b82"),e=e(),Te(),e),dv={class:"page"},fv=ku(()=>l("h1",null,"404",-1)),hv=ku(()=>l("p",null,"This page does not exist.",-1)),pv=ae({__name:"TheLostPage",setup(e){function t(){Nt.push("/")}return(n,s)=>(w(),T("div",dv,[P(fu,{id:"lost"},{default:H(()=>[fv,hv,l("button",{class:"btn",onClick:s[0]||(s[0]=r=>t())},"Return to Home Page")]),_:1})]))}}),mv=fe(pv,[["__scopeId","data-v-c2b83b82"]]),xu=[{id:"e52f27b1-e5f6-42de-9889-c2d9aeeb3b0d",name:"Assassin Crew",author:"Perryphery",source:"",url:"/images/crews/assassins.jpg",commonColor:"#a27043"},{id:"ab9c33a6-2710-41ff-a814-edf6b648af54",name:"Bravos Crew",author:"Perryphery",source:"",url:"/images/crews/bravos.jpg",commonColor:"#e88b62"},{id:"7544b3a4-0e4d-4758-9870-cd5b8f7774cb",name:"Cult Crew",author:"Perryphery",source:"",url:"/images/crews/cult.jpg",commonColor:"#c94c34"},{id:"13867125-73d8-4399-a550-db499a4eedfe",name:"Hawkers Crew",author:"Perryphery",source:"",url:"/images/crews/hawkers.jpg",commonColor:"#bfa53f"},{id:"bbc1bf16-dc4d-4e97-a898-0bf9e688d327",name:"Shadows Crew",author:"Perryphery",source:"",url:"/images/crews/shadows.jpg",commonColor:"#a27043"},{id:"de509b5c-f37c-4975-9768-5e123d24e19b",name:"Smugglers Crew",author:"Perryphery",source:"",url:"/images/crews/smugglers.jpg",commonColor:"#dac684"}],yv=["src"],gv={class:"sheet-card__content"},_v={class:"row info"},vv={class:"tag"},bv=ae({__name:"SheetCard",props:{sheet:{type:Object,required:!0}},setup(e){const t=e,n=te(()=>{const r=t.sheet.sheetType;if(r==="crew")return t.sheet.crewType;if(r==="character")return t.sheet.characterType}),s=te(()=>xu.find(r=>r.id===t.sheet.image));return(r,o)=>{var i,a;return w(),T("div",{class:"sheet-card",style:on({backgroundColor:(i=s.value)==null?void 0:i.commonColor})},[l("img",{src:(a=s.value)==null?void 0:a.url},null,8,yv),l("div",gv,[l("h2",null,F(t.sheet.name),1),l("div",_v,[l("span",vv,F(n.value),1)])])],4)}}}),nl=fe(bv,[["__scopeId","data-v-243a74b3"]]),wv=["innerHTML"],Ev=ae({__name:"Tooltip",props:{text:{},top:{type:Boolean}},setup(e){const t=U(null);return(n,s)=>(w(),T("div",{class:de(["tooltip",{"tooltip--top":n.top}]),ref_key:"tooltip",ref:t},[l("span",{innerHTML:n.text},null,8,wv)],2))}}),Cv=fe(Ev,[["__scopeId","data-v-5e947be2"]]),kv={class:"player-bar"},xv=ae({__name:"PlayerBar",setup(e){return(t,n)=>{var s;return w(),T("ul",kv,[(w(!0),T(ve,null,je((s=X(He)().game)==null?void 0:s.players,(r,o)=>(w(),T("li",{key:o,class:de({"inactive-player":!r.isOnline})},[P(Pr,{portraitId:r.portrait},null,8,["portraitId"]),P(Cv,{top:"",text:r.username},null,8,["text"]),l("div",{class:de(["online-indicator",{"online-indicator--online":r.isOnline}])},null,2)],2))),128))])}}}),Sv=fe(xv,[["__scopeId","data-v-8422fb27"]]),Av={class:"confirm"},Tv=["innerHTML"],$v={class:"row wrap"},Ov=ae({__name:"ConfirmModal",props:{title:{},message:{},onConfirm:{type:Function},onCancel:{type:Function},confirmText:{},cancelText:{}},setup(e){const t=e;function n(){t.onCancel?t.onCancel():W.close()}return(s,r)=>(w(),Se(at,null,{header:H(()=>[P(lt,{closeButton:"",closeButtonAction:n},{default:H(()=>[l("h2",null,F(t.title),1)]),_:1})]),content:H(()=>[l("div",Av,[l("p",{innerHTML:t.message},null,8,Tv),l("div",$v,[l("button",{class:"btn btn--alt mobile-full-width",onClick:r[0]||(r[0]=(...o)=>t.onConfirm&&t.onConfirm(...o))},[l("span",null,F(t.confirmText||"Yes"),1)]),l("button",{class:"btn mobile-full-width",onClick:n},[l("span",null,F(t.cancelText||"No, I changed my mind"),1)])])])]),_:1}))}}),Ai=fe(Ov,[["__scopeId","data-v-f18967fd"]]);function sl(e){return e.length===0?e:e.charAt(0).toUpperCase()+e.slice(1)}const Rv=e=>(Ae("data-v-3e71d588"),e=e(),Te(),e),Pv={class:"template-picker"},Iv=Rv(()=>l("p",null," The crew type you choose determines the group's purpose, their special abilities, and how they advance. ",-1)),Nv=["background-color"],Lv=["src"],Dv={class:"row mobile-only"},Bv=ae({__name:"SheetTemplatePickerModal",props:{sheetType:String,templateTypeKey:String,templates:Object,onConfirm:{type:Function,required:!0}},setup(e){const t=e;function n(i){return xu.find(a=>a.id===i)}function s(i){console.log("template",i),t.onConfirm(t.sheetType,i),W.close()}const r=U(0);function o(i){const a=i.children[0].clientWidth,c=(i.scrollLeft+a/2)/a;r.value=Math.floor(c)}return(i,a)=>(w(),Se(at,null,{header:H(()=>[P(lt,{closeButton:""},{default:H(()=>[l("h2",null,"Choose a "+F(e.sheetType)+" template",1)]),_:1})]),content:H(()=>[l("div",Pv,[Iv,l("ul",{class:"scroll-container",ref:"carouselRef",onScroll:a[0]||(a[0]=c=>o(c.target))},[(w(!0),T(ve,null,je(e.templates,(c,d,u)=>{var f,p;return w(),T("li",null,[(w(),T("div",{class:de(["template-card",{active:r.value==u,"left-of-active":r.value>u,"right-of-active":r.value<u}]),key:c.id,"background-color":(f=n(c.image))==null?void 0:f.commonColor},[l("img",{src:(p=n(c.image))==null?void 0:p.url,alt:"template image"},null,8,Lv),l("h3",null,F(c[e.templateTypeKey]),1),l("p",null,F(c[e.templateTypeKey+"Description"]),1)],10,Nv))])}),256))],544),l("div",Dv,[l("button",{class:"btn mobile-full-width",onClick:a[1]||(a[1]=c=>s(Object.values(t.templates)[r.value]))},[l("span",null,"New "+F(X(sl)(Object.keys(t.templates||[])[r.value]))+" "+F(X(sl)(e.sheetType||"sheet")),1)])])])]),_:1}))}}),Uv=fe(Bv,[["__scopeId","data-v-3e71d588"]]);let Fs;const qv=new Uint8Array(16);function Mv(){if(!Fs&&(Fs=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Fs))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Fs(qv)}const Ve=[];for(let e=0;e<256;++e)Ve.push((e+256).toString(16).slice(1));function Fv(e,t=0){return Ve[e[t+0]]+Ve[e[t+1]]+Ve[e[t+2]]+Ve[e[t+3]]+"-"+Ve[e[t+4]]+Ve[e[t+5]]+"-"+Ve[e[t+6]]+Ve[e[t+7]]+"-"+Ve[e[t+8]]+Ve[e[t+9]]+"-"+Ve[e[t+10]]+Ve[e[t+11]]+Ve[e[t+12]]+Ve[e[t+13]]+Ve[e[t+14]]+Ve[e[t+15]]}const jv=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),rl={randomUUID:jv};function Hv(e,t,n){if(rl.randomUUID&&!t&&!e)return rl.randomUUID();e=e||{};const s=e.random||(e.rng||Mv)();return s[6]=s[6]&15|64,s[8]=s[8]&63|128,Fv(s)}class Vv{constructor(){_e(this,"id");_e(this,"sheetType");_e(this,"createdBy");_e(this,"createdAt");_e(this,"image");this.id=Hv(),this.sheetType="sheet",this.createdBy=be().id,this.createdAt=Date.now(),this.image=""}}function Wv(){return[]}class Qn extends Vv{constructor(){super();_e(this,"name","Untitled Crew");_e(this,"reputationType","Ambitious");_e(this,"lair","An abandoned warehouse");_e(this,"lairDistrict","Crow's Foot");_e(this,"huntingGroundsDistrict","Crow's Foot");_e(this,"reputation",0);_e(this,"turf",0);_e(this,"hold","strong");_e(this,"tier",0);_e(this,"heat",0);_e(this,"wantedLevel",0);_e(this,"coin",0);_e(this,"vaults",0);_e(this,"crewExperience",0);_e(this,"crewType","");_e(this,"crewTypeDescription","");_e(this,"specialAbilities",[]);_e(this,"image","e52f27b1-e5f6-42de-9889-c2d9aeeb3b0d");_e(this,"contacts",[]);_e(this,"crewUpgrades",[]);_e(this,"lairUpgrades",[{id:"carriage-house",name:"Carriage",description:"",quantity:0,maxQuantity:2},{id:"boat-house",name:"Boat",description:"",quantity:0,maxQuantity:2},{id:"hidden-lair",name:"Hidden",description:"",quantity:0,maxQuantity:1},{id:"quarters",name:"Quarters",description:"",quantity:0,maxQuantity:1},{id:"secure-lair",name:"Secure",description:"",quantity:0,maxQuantity:2},{id:"vault",name:"Vault",description:"",quantity:0,maxQuantity:2},{id:"workshop",name:"Workshop",description:"",quantity:0,maxQuantity:1}]);_e(this,"trainingUpgrades",[{id:"insight",name:"Insight",description:"",quantity:0,maxQuantity:1},{id:"prowess",name:"Prowess",description:"",quantity:0,maxQuantity:1},{id:"resolve",name:"Resolve",description:"",quantity:0,maxQuantity:1},{id:"personal",name:"Personal",description:"",quantity:0,maxQuantity:1},{id:"mastery",name:"Mastery",description:"",quantity:0,maxQuantity:4}]);_e(this,"qualityUpgrades",[{id:"documents",name:"Documents",description:"",quantity:0,maxQuantity:1},{id:"gear",name:"Gear",description:"",quantity:0,maxQuantity:1},{id:"implements",name:"Implements",description:"",quantity:0,maxQuantity:1},{id:"supplies",name:"Supplies",description:"",quantity:0,maxQuantity:1},{id:"tools",name:"Tools",description:"",quantity:0,maxQuantity:1},{id:"weapons",name:"Weapons",description:"",quantity:0,maxQuantity:1}]);_e(this,"claims",[]);this.sheetType="crew"}applyUpgradesDescriptionsFromCodex(){var s;const n=(s=He().game)==null?void 0:s.codex.sheets.crew["upgrade-descriptions"];this.crewUpgrades.forEach(r=>{var i;const o=(i=n==null?void 0:n.crew)==null?void 0:i[r.id];o?r.description=o:r.description||(r.description="no description found for "+r.id)}),this.lairUpgrades.forEach(r=>{const o=n.lair[r.id];o?r.description=o:r.description||(r.description="no description found for "+r.id)}),this.trainingUpgrades.forEach(r=>{const o=n.training[r.id];o?r.description=o:r.description||(r.description="no description found for "+r.id)}),this.qualityUpgrades.forEach(r=>{const o=n.quality[r.id];o?r.description=o:r.description||(r.description="no description found for "+r.id)})}}class Qv extends Qn{constructor(){super(),this.name="Untitled Assassins",this.crewType="Assassins",this.crewTypeDescription="Murderers for hire",this.image="e52f27b1-e5f6-42de-9889-c2d9aeeb3b0d",this.specialAbilities=[{id:"assassins-deadly",name:"Deadly",description:"Each PC may add +1 action rating to Hunt, Prowl, or Skirmish (up to a max rating of 3).",quantity:0,maxQuantity:1},{id:"assassins-crows-veil",name:"Crow's Veil",description:"Due to hard-won experience or occult ritual, your activities are hidden from the notice of the death-seeker crows. You don't take extra heat when killing is involved on a score.",quantity:0,maxQuantity:1},{id:"assassins-emberdeath",name:"Emberdeath",description:"Due to hard-won experience or occult ritual, you know the arcane method to destroy a living victim's spirit at the moment you kill them. Take 3 stress to channel electroplasmic energy from the ghost field to disintegrate the spirit and dead body in a shower of sparking embers.",quantity:0,maxQuantity:1},{id:"assassins-no-traces",name:"No Traces",description:"When you keep an operation quiet or make it look like an accident, you get half the rep value of the target (round up) instead of zero. When you end downtime with zero heat, take +1 rep.",quantity:0,maxQuantity:1},{id:"assassins-patron",name:"Patron",description:"When you advance your Tier, it costs half the coin it normally would. Who is your patron? Why do they help you?",quantity:0,maxQuantity:1},{id:"assassins-predators",name:"Predators",description:"When you use stealth or subterfuge to commit murder, take +1d to the engagement roll.",quantity:0,maxQuantity:1},{id:"assassins-vipers",name:"Vipers",description:"When you acquire or craft poisons, you get +1 result level to your roll. When you employ a poison, you are specially prepared to be immune to its effects.",quantity:0,maxQuantity:1},{id:"assassins-veteran",name:"Veteran",description:"Choose a special ability from another crew.",quantity:0,maxQuantity:3}],this.contacts=[],this.crewUpgrades=[{id:"assassin-rigging",name:"Assassin Rigging",description:"2 free load of weapons or gear.",quantity:0,maxQuantity:1},{id:"ironhook-contacts",name:"Ironhook Contacts",description:"+1 Tier in prison.",quantity:0,maxQuantity:1},{id:"elite-skulks",name:"Elite Skulks",description:"",quantity:0,maxQuantity:1},{id:"elite-thugs",name:"Elite Thugs",description:"",quantity:0,maxQuantity:1},{id:"hardened",name:"Hardened",description:"+1 trauma box.",quantity:0,maxQuantity:3}],this.applyUpgradesDescriptionsFromCodex(),this.claims=[]}}class Kv extends Qn{constructor(){super(),this.name="Untitled Bravos",this.crewType="Bravos",this.crewTypeDescription="Mercenaries, thugs, & killers",this.image="ab9c33a6-2710-41ff-a814-edf6b648af54",this.specialAbilities=[{id:"dangerous",name:"Dangerous",description:"Each PC may add +1 action rating to Hunt, Skirmish, or Wreck (up to a max rating of 3).",quantity:0,maxQuantity:1},{id:"blood-brothers",name:"Blood Brothers",description:"When you fight alongside your cohorts in combat, they get +1d for teamwork rolls (setup and group actions). All of your cohorts get the Thugs type for free (if they're already Thugs, add another type).",quantity:0,maxQuantity:1},{id:"door-kickers",name:"Door Kickers",description:"When you execute an assault plan, take +1d to the engagement roll.",quantity:0,maxQuantity:1},{id:"fiends",name:"Fiends",description:"Fear is as good as respect. You may count each wanted level as if it was turf.",quantity:0,maxQuantity:1},{id:"forged-in-the-fire",name:"Forged in the Fire",description:"Each PC has been toughened by cruel experience. You get +1d to resistance rolls.",quantity:0,maxQuantity:1},{id:"patron",name:"Patron",description:"When you advance your Tier, it costs half the coin it normally would. Who is your patron? Why do they help you?",quantity:0,maxQuantity:1},{id:"war-dogs",name:"War Dogs",description:"When you’re at war (-3 faction status), your crew does not suffer -1 hold and PCs still get two downtime activities, instead of just one.",quantity:0,maxQuantity:1},{id:"veteran",name:"Veteran",description:"Choose a special ability from another crew.",quantity:0,maxQuantity:3}],this.contacts=[],this.crewUpgrades=[{id:"bravos-rigging",name:"Bravos Rigging",description:"2 free load of weapons or armor.",quantity:0,maxQuantity:1},{id:"elite-skulks",name:"Elite Skulks",description:"",quantity:0,maxQuantity:1},{id:"elite-thugs",name:"Elite Thugs",description:"",quantity:0,maxQuantity:1},{id:"hardened",name:"Hardened",description:"+1 trauma box.",quantity:0,maxQuantity:3},{id:"ironhook-contacts",name:"Ironhook Contacts",description:"+1 Tier in prison.",quantity:0,maxQuantity:1}],this.applyUpgradesDescriptionsFromCodex(),this.claims=[]}}class zv extends Qn{constructor(){super(),this.name="Untitled Cult",this.crewType="Cult",this.crewTypeDescription="Acolytes of a deity",this.image="7544b3a4-0e4d-4758-9870-cd5b8f7774cb",this.specialAbilities=[{id:"chosen",name:"Chosen",description:"Each PC may add +1 action rating to Attune, Study, or Sway (up to a max rating of 3).",quantity:0,maxQuantity:1},{id:"anointed",name:"Anointed",description:"You get +1d to resistance rolls against supernatural threats. You get +1d to healing rolls when you have supernatural harm.",quantity:0,maxQuantity:1},{id:"bound-in-darkness",name:"Bound in Darkness",description:"You may use teamwork with any cult member, regardless of the distance separating you. By taking 1 stress, your whispered message is heard by every cultist.",quantity:0,maxQuantity:1},{id:"conviction",name:"Conviction",description:"Each PC gains an additional Vice: Worship. When you indulge this vice and bring a pleasing sacrifice, you don't overindulge if you clear excess stress. In addition, your deity will assist any one action roll you make—from now until you indulge this vice again.",quantity:0,maxQuantity:1},{id:"glory-incarnate",name:"Glory Incarnate",description:"Your deity sometimes manifests in the physical world. This can be a great boon, but the priorities and values of a god are not those of mortals. You have been warned.",quantity:0,maxQuantity:1},{id:"sealed-in-blood",name:"Sealed in Blood",description:"Each human sacrifice yields -3 stress cost for any ritual you perform.",quantity:0,maxQuantity:1},{id:"zealotry",name:"Zealotry",description:"Your cohorts have abandoned their reason to devote themselves to the cult. They will undertake any service, no matter how dangerous or strange. They gain +1d to rolls against enemies of the faith.",quantity:0,maxQuantity:1},{id:"veteran",name:"Veteran",description:"Choose a special ability from another crew.",quantity:0,maxQuantity:3}],this.contacts=[],this.crewUpgrades=[{id:"cult-rigging",name:"Cult Rigging",description:"2 free load of documents or implements.",quantity:0,maxQuantity:1},{id:"ritual-sanctum-in-lair",name:"Ritual Sanctum in Lair",description:"",quantity:0,maxQuantity:1},{id:"elite-adepts",name:"Elite Adepts",description:"",quantity:0,maxQuantity:1},{id:"elite-thugs",name:"Elite Thugs",description:"",quantity:0,maxQuantity:1},{id:"ordained",name:"Ordained",description:"+1 trauma box.",quantity:0,maxQuantity:3}],this.applyUpgradesDescriptionsFromCodex(),this.claims=[]}}class Gv extends Qn{constructor(){super(),this.name="Untitled Hawkers",this.crewType="Hawkers",this.crewTypeDescription="Vice dealers",this.image="13867125-73d8-4399-a550-db499a4eedfe",this.specialAbilities=[{id:"silver-tongues",name:"Silver Tongues",description:"Each PC may add +1 action rating to Command, Consort, or Sway (up to a max rating of 3).",quantity:0,maxQuantity:1},{id:"accord",name:"Accord",description:"Sometimes friends are as good as territory. You may count up to three +3 faction statuses you hold as if they are turf.",quantity:0,maxQuantity:1},{id:"the-good-stuff",name:"The Good Stuff",description:"Your merchandise is exquisite. The product quality is equal to your Tier+2. When you deal with a crew or faction, the GM will tell you who among them is hooked on your product (one, a few, many, or all).",quantity:0,maxQuantity:1},{id:"ghost-market",name:"Ghost Market",description:"Through arcane ritual or hard-won experience, you have discovered how to prepare your product for sale to ghosts and/or demons. They do not pay in coin. What do they pay with?",quantity:0,maxQuantity:1},{id:"high-society",name:"High Society",description:"It's all about who you know. Take -1 heat during downtime and +1d to gather info about the city's elite.",quantity:0,maxQuantity:1},{id:"hooked",name:"Hooked",description:"Your gang members use your product. Add the savage, unreliable, or wild flaw to your gangs to give them +1 quality.",quantity:0,maxQuantity:1},{id:"patron",name:"Patron",description:"When you advance your Tier, it costs half the coin it normally would. Who is your patron? Why do they help you?",quantity:0,maxQuantity:1},{id:"veteran",name:"Veteran",description:"Choose a special ability from another crew.",quantity:0,maxQuantity:3}],this.contacts=[],this.crewUpgrades=[{id:"hawkers-rigging",name:"Hawkers Rigging",description:"1 carried item is concealed and has no load",quantity:0,maxQuantity:1},{id:"ironhook-contacts",name:"Ironhook Contacts",description:"+1 Tier in prison.",quantity:0,maxQuantity:1},{id:"elite-rooks",name:"Elite Rooks",description:"",quantity:0,maxQuantity:1},{id:"elite-thugs",name:"Elite Thugs",description:"",quantity:0,maxQuantity:1},{id:"composed",name:"Composed",description:"+1 stress box.",quantity:0,maxQuantity:3}],this.applyUpgradesDescriptionsFromCodex(),this.claims=[]}}class Yv extends Qn{constructor(){super(),this.name="Untitled Shadows",this.crewType="Shadows",this.crewTypeDescription="Thieves, spies, and saboteurs",this.image="bbc1bf16-dc4d-4e97-a898-0bf9e688d327",this.specialAbilities=[{id:"everyone-steals",name:"Everyone Steals",description:"Each PC may add +1 action rating to Prowl, Finesse, or Tinker (up to a max rating of 3).",quantity:0,maxQuantity:1},{id:"ghost-echoes",name:"Ghost Echoes",description:"From weird experience or occult ritual, all crew members gain the ability to see and interact with the ghostly structures, streets, and objects within the echo of Doskvol that exists in the ghost field.",quantity:0,maxQuantity:1},{id:"pack-rats",name:"Pack Rats",description:"Your lair is a jumble of stolen items. When you roll to acquire an asset, take +1d.",quantity:0,maxQuantity:1},{id:"patron",name:"Patron",description:"When you advance your Tier, it costs half the coin it normally would. Who is your patron? Why do they help you?",quantity:0,maxQuantity:1},{id:"second-story",name:"Second Story",description:"When you execute a clandestine infiltration, you get +1d to the engagement roll.",quantity:0,maxQuantity:1},{id:"slippery",name:"Slippery",description:"When you roll entanglements, roll twice and keep the one you want. When you reduce heat on the crew, take +1d.",quantity:0,maxQuantity:1},{id:"synchronized",name:"Synchronized",description:"When you perform a group action, you may count multiple 6s from different rolls as a critical success.",quantity:0,maxQuantity:1},{id:"veteran",name:"Veteran",description:"Choose a special ability from another crew.",quantity:0,maxQuantity:3}],this.contacts=[],this.crewUpgrades=[{id:"thief-rigging",name:"Thief Rigging",description:"2 free load of tools or gear.",quantity:0,maxQuantity:1},{id:"underground-maps-and-passkeys",name:"Underground Maps and Passkeys",description:"",quantity:0,maxQuantity:1},{id:"elite-rooks",name:"Elite Rooks",description:"",quantity:0,maxQuantity:1},{id:"elite-skulks",name:"Elite Skulks",description:"",quantity:0,maxQuantity:1},{id:"steady",name:"Steady",description:"+1 stress box.",quantity:0,maxQuantity:3}],this.applyUpgradesDescriptionsFromCodex(),this.claims=[]}}class Jv extends Qn{constructor(){super(),this.name="Untitled Smugglers",this.crewType="Smugglers",this.crewTypeDescription="Suppliers of illicit goods",this.image="de509b5c-f37c-4975-9768-5e123d24e19b",this.specialAbilities=[{id:"like-part-of-the-family",name:"Like Part of the Family",description:"Create one of your vehicles as a cohort (use the vehicle edges and flaws, below). Its quality is equal to your Tier +1.",quantity:0,maxQuantity:1},{id:"all-hands",name:"All Hands",description:"During downtime, one of your cohorts may perform a downtime activity for the crew to acquire an asset, reduce heat, or work on a long-term project.",quantity:0,maxQuantity:1},{id:"ghost-passage",name:"Ghost Passage",description:'From harsh experience or occult ritual, all crew members become immune to possession by spirits, but may choose to "carry" a second ghost as a passenger within their body.',quantity:0,maxQuantity:1},{id:"just-passing-through",name:"Just Passing Through",description:"During downtime, take -1 heat. When your heat is 4 or less, you get +1d to deceive people when you pass yourselves off as ordinary citizens.",quantity:0,maxQuantity:1},{id:"leverage",name:"Leverage",description:"Your crew supplies contraband for other factions. Your success is good for them. Whenever you gain rep, gain +1 rep.",quantity:0,maxQuantity:1},{id:"reavers",name:"Reavers",description:"When you go into conflict aboard a vehicle, you gain +1 effect for vehicle damage and speed. Your vehicle gains armor.",quantity:0,maxQuantity:1},{id:"renegades",name:"Renegades",description:"Each PC may add +1 action rating to Finesse, Prowl, or Skirmish (up to a max rating of 3).",quantity:0,maxQuantity:1},{id:"veteran",name:"Veteran",description:"Choose a special ability from another crew.",quantity:0,maxQuantity:3}],this.contacts=[],this.crewUpgrades=[{id:"smugglers-rigging",name:"Smugglers Rigging",description:"2 items carried are perfectly concealed.",quantity:0,maxQuantity:1},{id:"camoflage",name:"Camoflage",description:"Vehicles are perfectly concealed at rest",quantity:0,maxQuantity:1},{id:"elite-rovers",name:"Elite Rovers",description:"",quantity:0,maxQuantity:1},{id:"barge",name:"Barge",description:"",quantity:0,maxQuantity:1},{id:"steady",name:"Steady",description:"+1 stress box.",quantity:0,maxQuantity:3}],this.applyUpgradesDescriptionsFromCodex(),this.claims=[]}}function Xv(){return{assassins:new Qv,bravos:new Kv,cult:new zv,hawkers:new Gv,shadows:new Yv,smugglers:new Jv}}function Zv(e){return e==="crew"?Xv():e==="character"?Wv():{}}const eb=l("h1",null,"CHARACTER SHEET",-1),tb=ae({__name:"TheCharacterSheet",props:{sheet:{}},setup(e){return(t,n)=>(w(),T(ve,null,[eb,l("pre",null,F(JSON.stringify(t.sheet,null,2)),1)],64))}}),nb=ae({__name:"Checkbox",props:{modelValue:{type:[String,Boolean,Array],required:!0},label:{type:String,required:!1},value:{type:String,required:!1}},setup(e,{emit:t}){const n=e,s=t,r=te(()=>n.value&&Array.isArray(n.modelValue)?n.modelValue.includes(n.value):n.modelValue);function o(i){if(i.preventDefault(),!(n.value&&Array.isArray(n.modelValue)))return s("update:modelValue",!n.modelValue);n.modelValue.includes(n.value)?n.modelValue.splice(n.modelValue.indexOf(n.value),1):n.modelValue.push(n.value),s("update:modelValue",n.modelValue)}return(i,a)=>{var c;return w(),T("div",{class:de(["checkbox-group",{compact:!((c=e.label)!=null&&c.length),checked:r.value}]),onClick:o},[l("i",{class:de(["fas",r.value?"fa-check-circle":"fa-circle"])},null,2),l("p",null,F(e.label),1)],2)}}}),On=fe(nb,[["__scopeId","data-v-31c1de5c"]]),an=e=>(Ae("data-v-5e116a4b"),e=e(),Te(),e),sb={class:"edit"},rb={class:"input-group"},ob=an(()=>l("label",{for:"name"},"Name",-1)),ib=an(()=>l("label",{for:"id"},[me("ID "),l("label",{class:"muted"},"(permanent)")],-1)),ab={class:"input-group stretch"},lb={for:"description"},cb={class:"muted"},ub={class:"input-group"},db=an(()=>l("label",{for:"maxQuantity"},"Max Quantity",-1)),fb={key:0,class:"row"},hb=an(()=>l("span",null,"Cancel",-1)),pb=[hb],mb=an(()=>l("span",null,"New",-1)),yb=[mb],gb={key:1,class:"row"},_b=an(()=>l("i",{class:"fas fa-trash"},null,-1)),vb=an(()=>l("span",null,"Delete",-1)),bb=[_b,vb],wb=an(()=>l("span",null,"Save",-1)),Eb=[wb],Cb=ae({__name:"EditEffectableModal",props:{propertyName:{},effectable:{},onEdit:{type:Function},onDelete:{type:Function},idPrefix:{},onCreateNew:{type:Function}},setup(e){const t=e,n={id:"",name:"",description:"",quantity:0,maxQuantity:1},s=U({...t.effectable||n});function r(c){if(!t.onCreateNew)return;let d=(t.idPrefix||"")+"-"+c;d=d.toLowerCase().replace(/ /g,"-").replace(/[^a-z0-9-]/g,""),s.value.id=d}function o(){t.onCreateNew&&(t.onCreateNew(s.value),W.close())}function i(){t.onEdit&&(t.onEdit(s.value),W.close())}function a(){t.onDelete&&(t.onDelete(s.value.id),W.close())}return(c,d)=>(w(),Se(at,null,{header:H(()=>[P(lt,{closeButton:""},{default:H(()=>[l("h2",null,F(t.onCreateNew?"Create":"Edit")+" "+F(c.propertyName),1)]),_:1})]),content:H(()=>[l("div",sb,[l("div",rb,[ob,Ye(l("input",{type:"text",id:"name","onUpdate:modelValue":d[0]||(d[0]=u=>s.value.name=u),placeholder:"Enter a memorable name",onInput:d[1]||(d[1]=u=>r(s.value.name))},null,544),[[Je,s.value.name]])]),l("div",{class:de(["input-group",{disabled:!t.onCreateNew}])},[ib,Ye(l("input",{type:"text",id:"id","onUpdate:modelValue":d[2]||(d[2]=u=>s.value.id=u),placeholder:"A hyphenated identifier"},null,512),[[Je,s.value.id]])],2),l("div",ab,[l("label",lb,[me("Description "),l("label",cb,"("+F(s.value.description.length)+" / 400) ",1)]),Ye(l("textarea",{id:"description","onUpdate:modelValue":d[3]||(d[3]=u=>s.value.description=u),placeholder:"A brief description"},null,512),[[Je,s.value.description]])]),l("div",ub,[db,Ye(l("input",{type:"number",id:"maxQuantity","onUpdate:modelValue":d[4]||(d[4]=u=>s.value.maxQuantity=u),placeholder:"1, 2, 3..."},null,512),[[Je,s.value.maxQuantity]])]),t.onCreateNew?(w(),T("div",fb,[l("button",{class:"btn btn--alt mobile-full-width",onClick:d[5]||(d[5]=(...u)=>X(W).close&&X(W).close(...u))},pb),l("button",{class:"btn mobile-full-width",onClick:o},yb)])):(w(),T("div",gb,[l("button",{class:"btn btn--alt mobile-full-width",onClick:a},bb),l("button",{class:"btn mobile-full-width",onClick:i},Eb)]))])]),_:1}))}}),Rn=fe(Cb,[["__scopeId","data-v-5e116a4b"]]),kb=e=>(Ae("data-v-5c0bb3c1"),e=e(),Te(),e),xb={class:"header"},Sb=kb(()=>l("i",{class:"fas fa-edit"},null,-1)),Ab=[Sb],Tb={class:"row selection-bar"},$b=["innerHTML"],Ob=ae({__name:"AbilityTile",props:{ability:{},idPrefix:{},propertyName:{},change:{type:Function},onEdit:{type:Function},onDelete:{type:Function}},setup(e){const t=e,n=U(r(t.ability.quantity));function s(a){let c=n.value;c=c.filter(u=>parseInt(u)<=parseInt(a));const d=Math.max(...c.map(u=>parseInt(u)));c=c.map(u=>parseInt(u)<=d?u:a),n.value=Array.from({length:d},(u,f)=>(f+1).toString()),t.change(d)}function r(a){return Array.from({length:a},(c,d)=>(d+1).toString())}function o(a){t.onEdit(a)}function i(a){t.onDelete(a)}return(a,c)=>(w(),T("div",{class:de(["ability-tile",{active:t.ability.quantity>0}])},[l("div",xb,[l("h2",null,F(t.ability.name),1),l("button",{class:"btn btn--icon",onClick:c[0]||(c[0]=d=>X(W).open(Rn,{propertyName:a.propertyName,effectable:t.ability,idPrefix:t.idPrefix,onDelete:i,onEdit:o}))},Ab)]),l("div",Tb,[(w(!0),T(ve,null,je(a.ability.maxQuantity,d=>(w(),Se(On,{key:a.ability.id+d,modelValue:n.value,"onUpdate:modelValue":[c[1]||(c[1]=u=>n.value=u),u=>s(d.toString())],value:d.toString()},null,8,["modelValue","value","onUpdate:modelValue"]))),128))]),l("p",{innerHTML:t.ability.description},null,8,$b)],2))}}),ts=fe(Ob,[["__scopeId","data-v-5c0bb3c1"]]),Rb=ae({__name:"CollapsingShelf",props:{show:{type:Boolean}},setup(e){const t=e;return(n,s)=>(w(),T("div",{class:de(["shelf",{show:t.show}])},[ms(n.$slots,"default",{},void 0)],2))}}),ut=fe(Rb,[["__scopeId","data-v-5c22fd0d"]]);function Pb(e){return Ib(0,e)}function Ib(e,t){return Math.floor(Math.random()*(t-e)+e)}function ol(e){return e[Pb(e.length)]}const Y=e=>(Ae("data-v-26a31dde"),e=e(),Te(),e),Nb={class:"sheet-layout__nested"},Lb={class:"input-group"},Db=Y(()=>l("label",{for:"crew-name"},"Name",-1)),Bb=["value"],Ub=Y(()=>l("p",null,"Choose a name for your crew.",-1)),qb={class:"input-group"},Mb=Y(()=>l("label",{for:"reputation-type"},"Reputation",-1)),Fb=["value"],jb=Y(()=>l("p",null,"Choose how other underworld factions see you.",-1)),Hb={class:"text-list"},Vb=["onMousedown"],Wb={class:"input-group"},Qb=Y(()=>l("label",{for:"crew-lair"},"Lair",-1)),Kb=["value"],zb=Y(()=>l("p",null,"What does your lair look like?",-1)),Gb=Y(()=>l("i",{class:"fas fa-random"},null,-1)),Yb=Y(()=>l("span",null,"Randomize",-1)),Jb=[Gb,Yb],Xb={class:"input-group"},Zb=Y(()=>l("label",{for:"crew-lair-district"},"District",-1)),ew=["value"],tw=Y(()=>l("p",null,"Where is your lair located?",-1)),nw={class:"text-list"},sw=["onMousedown"],rw={class:"input-block"},ow={class:"input-group"},iw=Y(()=>l("label",{for:"crew-rep"},"Rep",-1)),aw=["value"],lw=Y(()=>l("p",null,"How much rep does your crew have?",-1)),cw={class:"input-group"},uw=Y(()=>l("label",{for:"crew-turf"},"Turf",-1)),dw=["value"],fw=Y(()=>l("p",null,"How much turf does your crew control?",-1)),hw={class:"input-block"},pw={class:"input-group"},mw=Y(()=>l("label",{for:"crew-hold"},"Hold",-1)),yw={class:"row"},gw=Y(()=>l("p",null,"How strong is your crew's hold on its turf?",-1)),_w={class:"input-group"},vw=Y(()=>l("label",{for:"crew-tier"},"Tier",-1)),bw=["value"],ww=Y(()=>l("p",null,"What tier is your crew?",-1)),Ew=Y(()=>l("section",null,[l("span",null,"CLAIMS (TODO)")],-1)),Cw={class:"input-block"},kw={class:"input-group"},xw=Y(()=>l("label",{for:"crew-heat"},"Heat",-1)),Sw=["value"],Aw=Y(()=>l("p",null,"How much heat is your crew generating?",-1)),Tw={class:"input-group"},$w=Y(()=>l("label",{for:"crew-wanted-level"},"Wanted Level",-1)),Ow=["value"],Rw=Y(()=>l("p",null,"How much attention is the law giving your crew?",-1)),Pw={class:"input-block"},Iw={class:"input-group"},Nw=Y(()=>l("label",{for:"crew-coin"},"Coin",-1)),Lw=["value"],Dw=Y(()=>l("p",null,"How much coin does your crew have squirreled away?",-1)),Bw={class:"input-group"},Uw=Y(()=>l("label",{for:"crew-vaults"},"Vaults",-1)),qw=["value"],Mw=Y(()=>l("p",null," Vaults represent the storage capacity for your crew's coin. ",-1)),Fw=Y(()=>l("label",{for:"crew-abilities"},"Special Abilities",-1)),jw={class:"row"},Hw=Y(()=>l("span",null,"New",-1)),Vw=[Hw],Ww={key:0},Qw=Y(()=>l("em",null,"❖ No special abilities selected",-1)),Kw=[Qw],zw={class:"input-group"},Gw=Y(()=>l("label",{for:"crew-xp"},"Crew XP",-1)),Yw=["value"],Jw=Y(()=>l("p",null,"How much experience has your crew accumulated?",-1)),Xw=Y(()=>l("section",null,[l("span",null,"CONTACTS (TODO)")],-1)),Zw=Y(()=>l("label",{for:"crew-upgrades"},"Crew Upgrades",-1)),e1={class:"row"},t1=Y(()=>l("span",null,"New",-1)),n1=[t1],s1={key:0},r1=Y(()=>l("em",null,"❖ No crew upgrades selected",-1)),o1=[r1],i1=Y(()=>l("label",{for:"crew-lair-upgrades"},"Lair Upgrades",-1)),a1={class:"row"},l1=Y(()=>l("span",null,"New",-1)),c1=[l1],u1={key:0},d1=Y(()=>l("em",null,"❖ No lair upgrades selected",-1)),f1=[d1],h1=Y(()=>l("label",{for:"crew-training-upgrades"},"Training Upgrades",-1)),p1={class:"row"},m1=Y(()=>l("span",null,"New",-1)),y1=[m1],g1={key:0},_1=Y(()=>l("em",null,"❖ No training upgrades selected",-1)),v1=[_1],b1=Y(()=>l("label",{for:"crew-quality-upgrades"},"Quality Upgrades",-1)),w1={class:"row"},E1=Y(()=>l("span",null,"New",-1)),C1=[E1],k1={key:0},x1=Y(()=>l("em",null,"❖ No quality upgrades selected",-1)),S1=[x1],A1=Y(()=>l("section",null,[l("span",null,"COHORTS (TODO)")],-1)),T1={class:"row center mobile-nav"},$1=Y(()=>l("i",{class:"fas fa-file-alt"},null,-1)),O1=Y(()=>l("i",{class:"fas fa-file-alt"},null,-1)),R1=Y(()=>l("i",{class:"fas fa-file-alt"},null,-1)),P1=ae({__name:"TheCrewSheet",props:{sheet:{}},setup(e){var tt;const t=(tt=He().game)==null?void 0:tt.codex;Hn(()=>{document.addEventListener("blur",n,!0)}),ii(()=>{document.removeEventListener("blur",n,!0)});function n(z){i.value=null}const s=e,r=U(0),o=U(null),i=U();function a(z,C){console.log("onChangeValue",z,C);const b=`/data/sheets/${s.sheet.id}/${C}`;ot([{op:"replace",path:b,value:z}])}function c(z){const C=Math.round(z.scrollLeft/z.clientWidth);r.value=C}function d(z){o.value&&(o.value.scrollTo({top:0}),o.value.scrollTo({left:o.value.clientWidth*z,behavior:"smooth"}))}function u(){const z=t.sheets.crew.lairs,{name:C,districts:b}=ol(z),x=ol(b);a(C,"lair"),a(x,"lairDistrict")}function f(z,C){const b=s.sheet.specialAbilities.findIndex(he=>he.id===z.id),x=`/data/sheets/${s.sheet.id}/specialAbilities/${b}/quantity`;ot([{op:"replace",path:x,value:C}])}const p=U(!1),y=te(()=>p.value?s.sheet.crewUpgrades.filter(z=>z.quantity>0):s.sheet.crewUpgrades),g=U(!1),_=te(()=>g.value?s.sheet.lairUpgrades.filter(z=>z.quantity>0):s.sheet.lairUpgrades),O=U(!1),L=te(()=>O.value?s.sheet.trainingUpgrades.filter(z=>z.quantity>0):s.sheet.trainingUpgrades),j=U(!1),Q=te(()=>j.value?s.sheet.qualityUpgrades.filter(z=>z.quantity>0):s.sheet.qualityUpgrades);function re(z,C){const b=s.sheet.crewUpgrades.findIndex(x=>x.id===z.id);ot([{op:"replace",path:`/data/sheets/${s.sheet.id}/${C}Upgrades/${b}`,value:z}])}function le(z,C){const b=s.sheet.crewUpgrades.findIndex(x=>x.id===z);ot([{op:"remove",path:`/data/sheets/${s.sheet.id}/${C}Upgrades/${b}`}])}function J(z,C,b){const x=s.sheet[`${b}Upgrades`].findIndex(gt=>gt.id===z.id);if(x===-1)return console.error("Upgrade not found",z);const he=`/data/sheets/${s.sheet.id}/${b}Upgrades/${x}/quantity`;ot([{op:"replace",path:he,value:C}])}function ke(z,C){ot([{op:"add",path:`/data/sheets/${s.sheet.id}/${C}Upgrades/-`,value:z}])}const oe=U(!1),ie=te(()=>oe.value?s.sheet.specialAbilities.filter(z=>z.quantity>0):s.sheet.specialAbilities);function Re(z){const C=s.sheet.specialAbilities.findIndex(b=>b.id===z.id);ot([{op:"replace",path:`/data/sheets/${s.sheet.id}/specialAbilities/${C}`,value:z}])}function Me(z){const C=s.sheet.specialAbilities.findIndex(b=>b.id===z);ot([{op:"remove",path:`/data/sheets/${s.sheet.id}/specialAbilities/${C}`}])}function et(z){ot([{op:"add",path:`/data/sheets/${s.sheet.id}/specialAbilities/-`,value:z}])}return(z,C)=>(w(),T("div",Nb,[l("div",{class:"crew-layout",ref_key:"carouselRef",ref:o,onScroll:C[36]||(C[36]=b=>c(b.target))},[l("div",{class:de(["main-and-claims",{active:r.value==0}])},[l("section",null,[l("div",Lb,[Db,l("input",{id:"crew-name",type:"text",value:s.sheet.name,onFocus:C[0]||(C[0]=b=>i.value="name"),onChange:C[1]||(C[1]=b=>{var x;return a((x=b.target)==null?void 0:x.value,"name")})},null,40,Bb),P(ut,{show:i.value=="name"},{default:H(()=>[Ub]),_:1},8,["show"])]),l("div",qb,[Mb,l("input",{id:"reputation-type",type:"text",value:s.sheet.reputationType,onFocus:C[2]||(C[2]=b=>i.value="reputation-type"),onChange:C[3]||(C[3]=b=>{var x;return a((x=b.target)==null?void 0:x.value,"reputationType")})},null,40,Fb),P(ut,{show:i.value=="reputation-type"},{default:H(()=>[jb,l("div",Hb,[(w(!0),T(ve,null,je(X(t).sheets.crew.reputations,b=>(w(),T("button",{class:"btn btn--text",onMousedown:x=>a(b,"reputationType")},F(b),41,Vb))),256))])]),_:1},8,["show"])]),P(Be),l("div",Wb,[Qb,l("input",{id:"crew-lair",type:"text",value:s.sheet.lair,onFocus:C[4]||(C[4]=b=>i.value="lair"),onChange:C[5]||(C[5]=b=>{var x;return a((x=b.target)==null?void 0:x.value,"lair")})},null,40,Kb),P(ut,{show:i.value=="lair"},{default:H(()=>[zb,l("button",{class:"btn btn--icon",onMousedown:u},Jb,32)]),_:1},8,["show"]),l("div",Xb,[Zb,l("input",{id:"crew-lair-district",type:"text",value:s.sheet.lairDistrict,onFocus:C[6]||(C[6]=b=>i.value="lair-district"),onChange:C[7]||(C[7]=b=>{var x;return a((x=b.target)==null?void 0:x.value,"lair-district")})},null,40,ew),P(ut,{show:i.value=="lair-district"},{default:H(()=>[tw,l("div",nw,[(w(!0),T(ve,null,je(X(t).lexicon.districts.map(b=>b.name),b=>(w(),T("button",{class:"btn btn--text",key:b,onMousedown:x=>a(b,"lairDistrict")},F(b),41,sw))),128))])]),_:1},8,["show"])])])]),P(Be),l("section",null,[l("div",rw,[l("div",ow,[iw,l("input",{id:"crew-rep",type:"number",pattern:"[0-9]*",value:s.sheet.reputation,onFocus:C[8]||(C[8]=b=>i.value="reputation"),onChange:C[9]||(C[9]=b=>{var x;return a((x=b.target)==null?void 0:x.value,"reputation")})},null,40,aw),P(ut,{show:i.value=="reputation"},{default:H(()=>[lw]),_:1},8,["show"])]),l("div",cw,[uw,l("input",{id:"crew-turf",type:"number",pattern:"[0-9]*",value:s.sheet.turf,onFocus:C[10]||(C[10]=b=>i.value="turf"),onChange:C[11]||(C[11]=b=>{var x;return a((x=b.target)==null?void 0:x.value,"turf")})},null,40,dw),P(ut,{show:i.value=="turf"},{default:H(()=>[fw]),_:1},8,["show"])])]),l("div",hw,[l("div",pw,[mw,l("div",yw,[l("button",{class:de(["btn btn--tab",{active:s.sheet.hold=="weak"}]),onClick:C[12]||(C[12]=b=>a("weak","hold"))}," Weak ",2),l("button",{class:de(["btn btn--tab",{active:s.sheet.hold=="strong"}]),onClick:C[13]||(C[13]=b=>a("strong","hold"))}," Strong ",2)]),P(ut,{show:i.value=="hold"},{default:H(()=>[gw]),_:1},8,["show"])]),l("div",_w,[vw,l("input",{id:"crew-tier",type:"number",pattern:"[0-9]*",value:s.sheet.tier,onFocus:C[14]||(C[14]=b=>i.value="tier"),onChange:C[15]||(C[15]=b=>{var x;return a((x=b.target)==null?void 0:x.value,"tier")})},null,40,bw),P(ut,{show:i.value=="tier"},{default:H(()=>[ww]),_:1},8,["show"])])])]),P(Be),Ew,P(Be),l("section",null,[l("div",Cw,[l("div",kw,[xw,l("input",{id:"crew-heat",type:"number",pattern:"[0-9]*",value:s.sheet.heat,onFocus:C[16]||(C[16]=b=>i.value="heat"),onChange:C[17]||(C[17]=b=>{var x;return a((x=b.target)==null?void 0:x.value,"heat")})},null,40,Sw),P(ut,{show:i.value=="heat"},{default:H(()=>[Aw]),_:1},8,["show"])]),l("div",Tw,[$w,l("input",{id:"crew-wanted-level",type:"number",pattern:"[0-9]*",value:s.sheet.wantedLevel,onFocus:C[18]||(C[18]=b=>i.value="wanted-level"),onChange:C[19]||(C[19]=b=>{var x;return a((x=b.target)==null?void 0:x.value,"wantedLevel")})},null,40,Ow),P(ut,{show:i.value=="wanted-level"},{default:H(()=>[Rw]),_:1},8,["show"])])]),l("div",Pw,[l("div",Iw,[Nw,l("input",{id:"crew-coin",type:"number",pattern:"[0-9]*",value:s.sheet.coin,onFocus:C[20]||(C[20]=b=>i.value="coin"),onChange:C[21]||(C[21]=b=>{var x;return a((x=b.target)==null?void 0:x.value,"coin")})},null,40,Lw),P(ut,{show:i.value=="coin"},{default:H(()=>[Dw]),_:1},8,["show"])]),l("div",Bw,[Uw,l("input",{id:"crew-vaults",type:"number",pattern:"[0-9]*",value:s.sheet.vaults,onFocus:C[22]||(C[22]=b=>i.value="vaults"),onChange:C[23]||(C[23]=b=>{var x;return a((x=b.target)==null?void 0:x.value,"vaults")})},null,40,qw),P(ut,{show:i.value=="vaults"},{default:H(()=>[Mw]),_:1},8,["show"])])])])],2),l("div",{class:de(["abilities-xp-and-contacts",{active:r.value==1}])},[l("section",null,[Fw,l("div",jw,[l("button",{class:"btn",onClick:C[24]||(C[24]=b=>X(W).open(Rn,{propertyName:"Special Ability",idPrefix:z.sheet.crewType,onCreateNew:et}))},Vw),P(On,{modelValue:oe.value,"onUpdate:modelValue":C[25]||(C[25]=b=>oe.value=b),label:"Show only selected"},null,8,["modelValue"])]),(w(!0),T(ve,null,je(ie.value,b=>(w(),Se(ts,{key:b.id,ability:b,idPrefix:s.sheet.crewType,propertyName:"Special Ability",change:x=>f(b,x),onEdit:Re,onDelete:Me},null,8,["ability","idPrefix","change"]))),128)),ie.value.length==0?(w(),T("p",Ww,Kw)):ne("",!0)]),P(Be),l("section",null,[l("div",zw,[Gw,l("input",{id:"crew-xp",type:"number",pattern:"[0-9]*",value:s.sheet.crewExperience,onFocus:C[26]||(C[26]=b=>i.value="xp"),onChange:C[27]||(C[27]=b=>{var x;return a((x=b.target)==null?void 0:x.value,"xp")})},null,40,Yw),P(ut,{show:i.value=="xp"},{default:H(()=>[Jw]),_:1},8,["show"])])]),P(Be),Xw],2),l("div",{class:de(["upgrades-and-cohorts",{active:r.value==2}])},[l("section",null,[Zw,l("div",e1,[l("button",{class:"btn",onClick:C[28]||(C[28]=b=>X(W).open(Rn,{propertyName:"Upgrade",idPrefix:z.sheet.crewType+"-upgrade",onCreateNew:x=>ke(x,"crew")}))},n1),P(On,{modelValue:p.value,"onUpdate:modelValue":C[29]||(C[29]=b=>p.value=b),label:"Show only selected"},null,8,["modelValue"])]),(w(!0),T(ve,null,je(y.value,b=>(w(),Se(ts,{key:b.id,ability:b,idPrefix:s.sheet.crewType+"-upgrade",propertyName:"Upgrade",change:x=>{J(b,x,"crew")},onEdit:x=>{re(x,"crew")},onDelete:x=>le(x,"crew")},null,8,["ability","idPrefix","change","onEdit","onDelete"]))),128)),y.value.length==0?(w(),T("p",s1,o1)):ne("",!0)]),P(Be),l("section",null,[i1,l("div",a1,[l("button",{class:"btn",onClick:C[30]||(C[30]=b=>X(W).open(Rn,{propertyName:"Upgrade",idPrefix:z.sheet.crewType+"-lair-upgrade",onCreateNew:x=>ke(x,"lair")}))},c1),P(On,{modelValue:g.value,"onUpdate:modelValue":C[31]||(C[31]=b=>g.value=b),label:"Show only selected"},null,8,["modelValue"])]),(w(!0),T(ve,null,je(_.value,b=>(w(),Se(ts,{key:b.id,ability:b,idPrefix:s.sheet.crewType+"-lair-upgrade",propertyName:"Upgrade",change:x=>{J(b,x,"lair")},onEdit:x=>{re(x,"lair")},onDelete:x=>le(x,"lair")},null,8,["ability","idPrefix","change","onEdit","onDelete"]))),128)),_.value.length==0?(w(),T("p",u1,f1)):ne("",!0)]),P(Be),l("section",null,[h1,l("div",p1,[l("button",{class:"btn",onClick:C[32]||(C[32]=b=>X(W).open(Rn,{propertyName:"Upgrade",idPrefix:z.sheet.crewType+"-training-upgrade",onCreateNew:x=>ke(x,"training")}))},y1),P(On,{modelValue:O.value,"onUpdate:modelValue":C[33]||(C[33]=b=>O.value=b),label:"Show only selected"},null,8,["modelValue"])]),(w(!0),T(ve,null,je(L.value,b=>(w(),Se(ts,{key:b.id,ability:b,idPrefix:s.sheet.crewType+"-training-upgrade",propertyName:"Upgrade",change:x=>{J(b,x,"training")},onEdit:x=>{re(x,"training")},onDelete:x=>le(x,"training")},null,8,["ability","idPrefix","change","onEdit","onDelete"]))),128)),L.value.length==0?(w(),T("p",g1,v1)):ne("",!0)]),P(Be),l("section",null,[b1,l("div",w1,[l("button",{class:"btn",onClick:C[34]||(C[34]=b=>X(W).open(Rn,{propertyName:"Upgrade",idPrefix:z.sheet.crewType+"-quality-upgrade",onCreateNew:x=>ke(x,"quality")}))},C1),P(On,{modelValue:j.value,"onUpdate:modelValue":C[35]||(C[35]=b=>j.value=b),label:"Show only selected"},null,8,["modelValue"])]),(w(!0),T(ve,null,je(Q.value,b=>(w(),Se(ts,{key:b.id,ability:b,idPrefix:s.sheet.crewType+"-quality-upgrade",propertyName:"Upgrade",change:x=>{J(b,x,"quality")},onEdit:x=>{re(x,"quality")},onDelete:x=>le(x,"quality")},null,8,["ability","idPrefix","change","onEdit","onDelete"]))),128)),Q.value.length==0?(w(),T("p",k1,S1)):ne("",!0)]),P(Be),A1],2)],544),l("div",T1,[l("button",{class:de(["btn btn--tab",{active:r.value==0}]),onClick:C[37]||(C[37]=b=>d(0))},[me(" 1 "),$1],2),l("button",{class:de(["btn btn--tab",{active:r.value==1}]),onClick:C[38]||(C[38]=b=>d(1))},[me(" 2 "),O1],2),l("button",{class:de(["btn btn--tab",{active:r.value==2}]),onClick:C[39]||(C[39]=b=>d(2))},[me(" 3 "),R1],2)])]))}}),I1=fe(P1,[["__scopeId","data-v-26a31dde"]]),jt=e=>(Ae("data-v-64a4bb98"),e=e(),Te(),e),N1={class:"page"},L1={class:"controls"},D1={key:0,class:"row center"},B1=["onClick"],U1={key:1,class:"row sheet-controls"},q1=jt(()=>l("i",{class:"fas fa-arrow-left"},null,-1)),M1=jt(()=>l("span",{class:"mobile-hidden"},"Back",-1)),F1=[q1,M1],j1={class:"breadcrumbs"},H1=jt(()=>l("span",{class:"mobile-hidden"},"Sheets",-1)),V1=jt(()=>l("i",{class:"fas fa-angle-right"},null,-1)),W1=jt(()=>l("i",{class:"fas fa-trash"},null,-1)),Q1=jt(()=>l("span",{class:"mobile-hidden"},"Delete",-1)),K1=[W1,Q1],z1={key:0,class:"sheet-layout"},G1={key:1,class:"sheet-select-layout"},Y1={key:0,class:"sheet-list"},J1=jt(()=>l("i",{class:"fas fa-folder-plus"},null,-1)),X1={key:1,class:"sheet-list"},Z1=jt(()=>l("i",{class:"fas fa-folder-plus"},null,-1)),e0=jt(()=>l("i",{class:"fas fa-cogs"},null,-1)),t0=[e0],n0={key:1,class:"model-overlay"},s0=ae({__name:"TheGamePage",setup(e){const t=Cu(),n=U("crew"),s=te(()=>{var f,p;return Object.values(((p=(f=He().game)==null?void 0:f.data)==null?void 0:p.sheets)||[])}),r=te(()=>s.value.filter(f=>f.sheetType==="crew")),o=te(()=>s.value.filter(f=>f.sheetType==="character")),i=U(null),a=U(!1);Hn(()=>{const f=t.params.id;Xm(f)});function c(){W.open(Uv,{sheetType:n.value,templateTypeKey:"crewType",templates:Zv(n.value),onConfirm:d})}function d(f,p){var y,g;if(!p)return console.error("Sheet not found");(g=(y=He().game)==null?void 0:y.data)!=null&&g.sheets?ot([{op:"add",path:`/data/sheets/${p.id}`,value:p}]):ot([{op:"replace",path:"/data",value:{sheets:{[p.id]:p}}}])}function u(){i.value&&W.open(Ai,{title:"Delete Sheet",message:`Are you sure you want to delete <em>${i.value.name}</em> ${i.value.sheetType} sheet?`,confirmText:"Yes, delete it",onConfirm:()=>{var f;ot([{op:"remove",path:`/data/sheets/${(f=i.value)==null?void 0:f.id}`}]),i.value=null,W.close()}})}return(f,p)=>{var y,g;return w(),T(ve,null,[l("div",N1,[l("div",L1,[i.value?(w(),T("div",U1,[l("button",{class:"btn btn--icon",onClick:p[0]||(p[0]=_=>i.value=null)},F1),l("h2",j1,[l("span",null,[l("span",null,F(i.value.sheetType),1),H1]),V1,l("span",null,F(i.value.name),1)]),l("button",{class:"btn btn--icon delete",onClick:u},K1)])):(w(),T("div",D1,[(w(),T(ve,null,je(["crew","character"],_=>l("button",{class:de(["btn btn--tab",{active:n.value===_}]),onClick:O=>n.value=_},[l("span",null,F(_)+" Sheets",1)],10,B1)),64))]))]),i.value?(w(),T("div",z1,[((y=i.value)==null?void 0:y.sheetType)==="crew"?(w(),Se(I1,{key:0,sheet:i.value},null,8,["sheet"])):ne("",!0),((g=i.value)==null?void 0:g.sheetType)==="character"?(w(),Se(tb,{key:1,sheet:i.value},null,8,["sheet"])):ne("",!0)])):(w(),T("div",G1,[n.value==="crew"?(w(),T("ul",Y1,[(w(!0),T(ve,null,je(r.value,_=>(w(),T("li",{key:_.id},[P(nl,{sheet:_,onClick:O=>i.value=_},null,8,["sheet","onClick"])]))),128)),l("li",null,[l("div",{class:"new-sheet-card",onClick:c},[J1,l("span",null,"New "+F(n.value),1)])])])):n.value==="character"?(w(),T("ul",X1,[(w(!0),T(ve,null,je(o.value,_=>(w(),T("li",{key:_.id},[P(nl,{sheet:_,onClick:O=>i.value=_},null,8,["sheet","onClick"])]))),128)),l("li",null,[l("div",{class:"new-sheet-card",onClick:c},[Z1,l("span",null,"New "+F(n.value),1)])])])):ne("",!0),P(Sv,{class:"mobile-hidden"})]))]),a.value?ne("",!0):(w(),T("button",{key:0,class:"btn btn--icon debug",onClick:p[1]||(p[1]=_=>a.value=!0)},t0)),a.value?(w(),T("div",n0,[l("pre",null,F(JSON.stringify(X(He)().game,null,2)),1),l("button",{class:"btn debug btn",onClick:p[2]||(p[2]=_=>a.value=!1)}," Close ")])):ne("",!0)],64)}}}),r0=fe(s0,[["__scopeId","data-v-64a4bb98"]]),o0=U();var Ho=(e=>(e.HOME="home",e.GAMES="games",e.GAME="game",e.INVITE="invite",e.SETTINGS="settings",e.LOST="lost",e))(Ho||{});const i0=[{path:"/",components:{page:e_},name:"home"},{path:"/game/:id",components:{page:r0},name:"game"},{path:"/invite/:code",components:{page:uv},name:"invite"},{path:"/:pathMatch(.*)*",components:{page:mv},name:"lost"}],a0={history:L_(),routes:i0},Nt=iv(a0);Nt.afterEach(async(e,t)=>{});Nt.beforeEach(async(e,t,n)=>{Zm(),W.open(ks,{backgroundClass:"opaque"}),Xe().refreshToken&&!Xe().accessToken&&await Wc(),be().id||(console.log("@index.ts: fetchMyAccount() because no user id"),await Kn()),(!Xe().refreshToken||!be().id)&&await Su(),W.close(),o0.value=e.name,n()});async function Su(){try{const e=await Qe.post("/account/create-guest");return e.data.refreshToken&&(Xe().storeRefreshToken(e.data.refreshToken),Xe().accessToken=e.data.accessToken,console.log("@account.ts: fetchMyAccount() because of createGuest"),await Kn()),e.data}catch{return null}}async function l0(e,t){var n;try{const r=!e||!t?{}:{username:e,password:t};console.log("registerAccount payload:",r);const o=await Qe.post("/account/create",r);return console.log("response:",o),o.status!==Ft.Ok?o.data:(console.log("@account.ts: fetchMyAccount() because of registerAccount"),await Kn(),null)}catch(s){return(n=s==null?void 0:s.response)==null?void 0:n.data}}async function c0(e,t){var n;try{const s=await Qe.post("/account/login",{username:e,password:t});return s.data.refreshToken&&(Xe().storeRefreshToken(s.data.refreshToken),Xe().accessToken=s.data.accessToken,console.log("@account.ts: fetchMyAccount() because of login"),await Kn()),s.data}catch(s){return(n=s==null?void 0:s.response)==null?void 0:n.data}}async function Kn(){try{const e=await Qe.get("/account/me");return e.data?(be().id=e.data.id,be().username=e.data.username,be().isGuest=e.data.isGuest,be().portrait=e.data.portrait,be().games=e.data.games,e.data):null}catch{return null}}async function Ti(){Xe().clear(),be().clear(),He().clear(),Nt.push("/"),W.open(ks),await Su(),W.close()}async function u0(e){var t;try{const n=await Qe.delete("/account/me",{data:{password:e}});return n.status!==Ft.Ok?n.data:null}catch(n){return(t=n==null?void 0:n.response)==null?void 0:t.data}}async function d0(e){var t;try{const n=await Qe.put("/account/username",{newUsername:e});return n.status!==Ft.Ok?n.data:(be().username=e,null)}catch(n){return(t=n==null?void 0:n.response)==null?void 0:t.data}}async function f0(e,t){var n;try{const s=await Qe.put("/account/password",{password:e,newPassword:t});return s.status!==Ft.Ok?s.data:null}catch(s){return(n=s==null?void 0:s.response)==null?void 0:n.data}}async function h0(e){var t;try{const n=await Qe.put("/account/portrait",{portraitId:e});return n.status!==Ft.Ok?n.data:(be().portrait=e,null)}catch(n){return(t=n==null?void 0:n.response)==null?void 0:t.data}}let to;async function p0(){return to||(to=(await Qe.get("/version")).data),to}const m0=e=>(Ae("data-v-53a78928"),e=e(),Te(),e),y0={class:"info"},g0=["innerHTML"],_0=m0(()=>l("span",null,"Okay",-1)),v0=[_0],b0=ae({__name:"InfoModal",props:{title:{},message:{}},setup(e){const t=e;return(n,s)=>(w(),Se(at,null,{header:H(()=>[P(lt,null,{default:H(()=>[l("h2",null,F(t.title),1)]),_:1})]),content:H(()=>[l("div",y0,[l("p",{innerHTML:t.message},null,8,g0),l("button",{class:"btn mobile-full-width",onClick:s[0]||(s[0]=(...r)=>X(W).close&&X(W).close(...r))},v0)])]),_:1}))}}),Au=fe(b0,[["__scopeId","data-v-53a78928"]]),Ht=e=>(Ae("data-v-fd8ada18"),e=e(),Te(),e),w0=Ht(()=>l("h2",null,"Change Password",-1)),E0={class:"change-password"},C0=Ht(()=>l("p",null,[me("Choose a new "),l("em",null,"password"),me(" for your account.")],-1)),k0=Ht(()=>l("p",{class:"muted"}," Your new password should be at least 8 characters long. ",-1)),x0={class:"inputs"},S0={class:"input-group"},A0=Ht(()=>l("label",{for:"password"},"Current Password",-1)),T0={key:0,class:"reminder shake-once"},$0={class:"input-group"},O0=Ht(()=>l("label",{for:"password"},"New Password",-1)),R0={key:0,class:"reminder shake-once"},P0={class:"input-group"},I0=Ht(()=>l("label",{for:"confirm-password"},"Confirm New Password",-1)),N0={key:0,class:"reminder shake-once"},L0={key:0,class:"alert"},D0=Ht(()=>l("i",{class:"fas fa-exclamation-circle"},null,-1)),B0=Ht(()=>l("i",{class:"fas fa-times"},null,-1)),U0=[B0],q0={class:"row center"},M0={key:0,class:"fas fa-circle-notch fa-spin"},F0=Ht(()=>l("span",null,"Change Password",-1)),j0=ae({__name:"ChangePasswordModal",setup(e){const t=U(""),n=U(!1),s=U(""),r=U(!1),o=te(()=>a.value&&i.value.length===0?"Enter your current password":null),i=U(""),a=U(!1),c=te(()=>a.value?i.value.length===0?"Come up with something clever":i.value.length<8?"Must be at least 8 characters":i.value.length>64?"Can't be more than 64 characters":null:null),d=U(""),u=U(!1),f=te(()=>u.value?d.value.length===0?"Your new password again":i.value!==d.value?"Passwords don't match":null:null);async function p(){if(!r.value||!a.value||!u.value||o.value||c.value||f.value){r.value=!0,a.value=!0,u.value=!0,document.querySelectorAll(".reminder").forEach(_=>{_.classList.remove("shake-once"),_.offsetWidth,_.classList.add("shake-once")});return}n.value=!0,t.value="";const y=await f0(s.value,i.value);n.value=!1,y?t.value=y:W.open(Au,{title:"Success",message:"Your password has been changed successfully."})}return(y,g)=>(w(),Se(at,{class:de({disabled:n.value})},{header:H(()=>[P(lt,{closeButton:""},{default:H(()=>[w0]),_:1})]),content:H(()=>[l("div",E0,[C0,k0,l("div",x0,[l("div",S0,[A0,Ye(l("input",{type:"password",onInput:g[0]||(g[0]=_=>r.value=!0),placeholder:"Your current password","onUpdate:modelValue":g[1]||(g[1]=_=>s.value=_)},null,544),[[Je,s.value]]),o.value?(w(),T("span",T0,F(o.value),1)):ne("",!0)]),l("div",$0,[O0,Ye(l("input",{type:"password",onInput:g[2]||(g[2]=_=>a.value=!0),placeholder:"Create a new password","onUpdate:modelValue":g[3]||(g[3]=_=>i.value=_)},null,544),[[Je,i.value]]),c.value?(w(),T("span",R0,F(c.value),1)):ne("",!0)]),l("div",P0,[I0,Ye(l("input",{type:"password",onInput:g[4]||(g[4]=_=>u.value=!0),onKeyup:Cs(p,["enter"]),placeholder:"Confirm your new password","onUpdate:modelValue":g[5]||(g[5]=_=>d.value=_)},null,544),[[Je,d.value]]),f.value?(w(),T("span",N0,F(f.value),1)):ne("",!0)])]),t.value?(w(),T("div",L0,[D0,l("span",null,F(t.value),1),l("button",{class:"btn btn--icon close",onClick:g[6]||(g[6]=_=>t.value="")},U0)])):ne("",!0),l("div",q0,[l("button",{class:"btn mobile-full-width",onClick:p},[n.value?(w(),T("i",M0)):ne("",!0),F0])])])]),_:1},8,["class"]))}}),H0=fe(j0,[["__scopeId","data-v-fd8ada18"]]),zn=e=>(Ae("data-v-af22bc65"),e=e(),Te(),e),V0=zn(()=>l("h2",null,"Change Username",-1)),W0={class:"change-username"},Q0=zn(()=>l("p",null,[me("Choose a new "),l("em",null,"username"),me(" for your account.")],-1)),K0={class:"muted"},z0={class:"inputs"},G0={class:"input-group"},Y0=zn(()=>l("label",{for:"username"},"New Username",-1)),J0={key:0,class:"reminder shake-once"},X0={key:0,class:"alert"},Z0=zn(()=>l("i",{class:"fas fa-exclamation-circle"},null,-1)),eE=zn(()=>l("i",{class:"fas fa-times"},null,-1)),tE=[eE],nE={class:"row center"},sE={key:0,class:"fas fa-circle-notch fa-spin"},rE=zn(()=>l("span",null,"Change Username",-1)),oE=ae({__name:"ChangeUsernameModal",setup(e){const t=U(""),n=U(!1),s=U(""),r=U(!1),o=te(()=>r.value?s.value.length===0?"What should we call you?":s.value.length<3?"Must be at least 3 characters":s.value.length>24?"Must have no more than 16 characters":/^[a-zA-Z0-9]+$/.test(s.value)?null:"Letters and numbers only":null);async function i(){if(!r.value||o.value){r.value=!0,document.querySelectorAll(".reminder").forEach(d=>{d.classList.remove("shake-once"),d.offsetWidth,d.classList.add("shake-once")});return}n.value=!0,t.value="";const a=await d0(s.value);n.value=!1,a?t.value=a:W.open(Au,{title:"Success",message:`Username has been changed successfully. Your username is now <em>${s.value}</em>.`})}return(a,c)=>(w(),Se(at,{class:de({disabled:n.value})},{header:H(()=>[P(lt,{closeButton:""},{default:H(()=>[V0]),_:1})]),content:H(()=>[l("div",W0,[Q0,l("p",K0,[me(" Your current username is "),l("em",null,F(X(be)().username),1),me(". ")]),l("div",z0,[l("div",G0,[Y0,Ye(l("input",{type:"text",onInput:c[0]||(c[0]=d=>r.value=!0),onKeydown:Cs(i,["enter"]),placeholder:"Enter a new username","onUpdate:modelValue":c[1]||(c[1]=d=>s.value=d)},null,544),[[Je,s.value]]),o.value?(w(),T("span",J0,F(o.value),1)):ne("",!0)])]),t.value?(w(),T("div",X0,[Z0,l("span",null,F(t.value),1),l("button",{class:"btn btn--icon close",onClick:c[2]||(c[2]=d=>t.value="")},tE)])):ne("",!0),l("div",nE,[l("button",{class:"btn mobile-full-width",onClick:i},[n.value?(w(),T("i",sE)):ne("",!0),rE])])])]),_:1},8,["class"]))}}),iE=fe(oE,[["__scopeId","data-v-af22bc65"]]),ln=e=>(Ae("data-v-0286b377"),e=e(),Te(),e),aE=ln(()=>l("h2",null,"Delete Account",-1)),lE={class:"confirm"},cE=ln(()=>l("p",null,[me(" This action is "),l("em",null,"irreversible"),me(". All data related to your account will be "),l("em",null,"lost"),me(". Are you sure you want to continue and delete your account? ")],-1)),uE={class:"input-group"},dE=ln(()=>l("label",{for:"password"},"Password",-1)),fE={key:0,class:"alert"},hE=ln(()=>l("i",{class:"fas fa-exclamation-circle"},null,-1)),pE=ln(()=>l("i",{class:"fas fa-times"},null,-1)),mE=[pE],yE={class:"column center"},gE=ln(()=>l("span",null,"No, I want to keep my account",-1)),_E=[gE],vE=ln(()=>l("span",{class:"muted"},"or",-1)),bE=ln(()=>l("span",null,"Yes, I want to delete my account",-1)),wE=[bE],EE=ae({__name:"ConfirmDeleteAccountModal",setup(e){const t=U(""),n=U(""),s=U(!1);async function r(){s.value=!0,n.value="",n.value=await u0(t.value),n.value||(W.close(),Ti()),s.value=!1}return(o,i)=>(w(),Se(at,{disabled:s.value},{header:H(()=>[P(lt,{closeButton:""},{default:H(()=>[aE]),_:1})]),content:H(()=>[l("div",lE,[cE,l("div",uE,[dE,Ye(l("input",{id:"password",type:"password",placeholder:"Enter your password","onUpdate:modelValue":i[0]||(i[0]=a=>t.value=a)},null,512),[[Je,t.value]])]),n.value?(w(),T("div",fE,[hE,l("span",null,F(n.value),1),l("button",{class:"btn btn--icon close",onClick:i[1]||(i[1]=a=>n.value="")},mE)])):ne("",!0),P(Be),l("div",yE,[l("button",{class:"btn",onClick:i[2]||(i[2]=a=>X(W).close())},_E),vE,l("button",{class:de(["btn btn--text",{disabled:!t.value}]),onClick:r},wE,2)])])]),_:1},8,["disabled"]))}}),CE=fe(EE,[["__scopeId","data-v-0286b377"]]),cn=e=>(Ae("data-v-497ae5b4"),e=e(),Te(),e),kE=cn(()=>l("h2",null,"Login",-1)),xE={class:"login"},SE=cn(()=>l("p",null,[me("Enter your "),l("em",null,"username"),me(" and "),l("em",null,"password"),me(".")],-1)),AE={class:"inputs"},TE={class:"input-group"},$E=cn(()=>l("label",{for:"username"},"Username",-1)),OE={key:0,class:"reminder shake-once"},RE={class:"input-group"},PE=cn(()=>l("label",{for:"password"},"Password",-1)),IE={key:0,class:"reminder shake-once"},NE={key:0,class:"alert"},LE=cn(()=>l("i",{class:"fas fa-exclamation-circle"},null,-1)),DE=cn(()=>l("i",{class:"fas fa-times"},null,-1)),BE=[DE],UE={class:"row center"},qE={key:0,class:"fas fa-circle-notch fa-spin"},ME=cn(()=>l("span",null,"Login",-1)),FE=cn(()=>l("p",null,"Don't have an account?",-1)),jE=ae({__name:"LoginModal",setup(e){const t=U(""),n=U(!1),s=U(""),r=U(!1),o=te(()=>r.value&&s.value.length===0?"Your username, please":null),i=U(""),a=U(!1),c=te(()=>a.value&&i.value.length===0?"Did you forget something?":null),d=te(()=>s.value.length>0&&i.value.length>0);async function u(){if(!d.value&&(!r.value||!a||o.value||c.value)){r.value=!0,a.value=!0,document.querySelectorAll(".reminder").forEach(g=>{g.classList.remove("shake-once"),g.offsetWidth,g.classList.add("shake-once")});return}n.value=!0,t.value="";const p=await c0(s.value,i.value);n.value=!1,p.refreshToken?W.close():t.value=p}function f(){W.open($u)}return(p,y)=>(w(),Se(at,{class:de({disabled:n.value})},{header:H(()=>[P(lt,{closeButton:""},{default:H(()=>[kE]),_:1})]),content:H(()=>[l("div",xE,[SE,l("div",AE,[l("div",TE,[$E,Ye(l("input",{type:"text",onInput:y[0]||(y[0]=g=>r.value=!0),placeholder:"Enter a username","onUpdate:modelValue":y[1]||(y[1]=g=>s.value=g)},null,544),[[Je,s.value]]),o.value?(w(),T("span",OE,F(o.value),1)):ne("",!0)]),l("div",RE,[PE,Ye(l("input",{type:"password",onInput:y[2]||(y[2]=g=>a.value=!0),onKeyup:Cs(u,["enter"]),placeholder:"Create a password","onUpdate:modelValue":y[3]||(y[3]=g=>i.value=g)},null,544),[[Je,i.value]]),c.value?(w(),T("span",IE,F(c.value),1)):ne("",!0)])]),t.value?(w(),T("div",NE,[LE,l("span",null,F(t.value),1),l("button",{class:"btn btn--icon close",onClick:y[4]||(y[4]=g=>t.value="")},BE)])):ne("",!0),l("div",UE,[l("button",{class:"btn mobile-full-width",onClick:u},[n.value?(w(),T("i",qE)):ne("",!0),ME])]),l("div",{class:"row center"},[FE,l("button",{class:"btn btn--text",onClick:f}," Register ")])])]),_:1},8,["class"]))}}),Tu=fe(jE,[["__scopeId","data-v-497ae5b4"]]),Vt=e=>(Ae("data-v-bb068875"),e=e(),Te(),e),HE=Vt(()=>l("h2",null,"Register your Account",-1)),VE={class:"create-account"},WE=Vt(()=>l("p",null,[me(" Choose a "),l("em",null,"username"),me(" and "),l("em",null,"password"),me(" to register your account. ")],-1)),QE={class:"inputs"},KE={class:"input-group"},zE=Vt(()=>l("label",{for:"username"},"Username",-1)),GE={key:0,class:"reminder shake-once"},YE={class:"input-group"},JE=Vt(()=>l("label",{for:"password"},"Password",-1)),XE={key:0,class:"reminder shake-once"},ZE={class:"input-group"},eC=Vt(()=>l("label",{for:"confirm-password"},"Confirm Password",-1)),tC={key:0,class:"reminder shake-once"},nC={key:0,class:"alert"},sC=Vt(()=>l("i",{class:"fas fa-exclamation-circle"},null,-1)),rC=Vt(()=>l("i",{class:"fas fa-times"},null,-1)),oC=[rC],iC={class:"row center"},aC={key:0,class:"fas fa-circle-notch fa-spin"},lC=Vt(()=>l("span",null,"Register Account",-1)),cC=Vt(()=>l("p",null,"Already have an account?",-1)),uC=ae({__name:"CreateAccountModal",setup(e){const t=U(""),n=U(!1),s=U(""),r=U(!1),o=te(()=>r.value?s.value.length===0?"What should we call you?":s.value.length<3?"Must be at least 3 characters":s.value.length>24?"Must have no more than 16 characters":/^[a-zA-Z0-9]+$/.test(s.value)?null:"Letters and numbers only":null),i=U(""),a=U(!1),c=te(()=>a.value?i.value.length===0?"Come up with something clever":i.value.length<8?"Must be at least 8 characters":i.value.length>64?"Can't be more than 64 characters":null:null),d=U(""),u=U(!1),f=te(()=>u.value?d.value.length===0?"Your password again":i.value!==d.value?"Passwords don't match":null:null);async function p(){if(!r.value||!a.value||!u.value||o.value||c.value||f.value){r.value=!0,a.value=!0,u.value=!0,document.querySelectorAll(".reminder").forEach(O=>{O.classList.remove("shake-once"),O.offsetWidth,O.classList.add("shake-once")});return}n.value=!0,t.value="";const g=await l0(s.value,i.value);n.value=!1,g?t.value=g:W.close()}function y(){W.open(Tu)}return(g,_)=>(w(),Se(at,{class:de({disabled:n.value})},{header:H(()=>[P(lt,{closeButton:""},{default:H(()=>[HE]),_:1})]),content:H(()=>[l("div",VE,[WE,l("div",QE,[l("div",KE,[zE,Ye(l("input",{type:"text",onInput:_[0]||(_[0]=O=>r.value=!0),placeholder:"Enter a username","onUpdate:modelValue":_[1]||(_[1]=O=>s.value=O)},null,544),[[Je,s.value]]),o.value?(w(),T("span",GE,F(o.value),1)):ne("",!0)]),l("div",YE,[JE,Ye(l("input",{type:"password",onInput:_[2]||(_[2]=O=>a.value=!0),placeholder:"Create a password","onUpdate:modelValue":_[3]||(_[3]=O=>i.value=O)},null,544),[[Je,i.value]]),c.value?(w(),T("span",XE,F(c.value),1)):ne("",!0)]),l("div",ZE,[eC,Ye(l("input",{type:"password",onInput:_[4]||(_[4]=O=>u.value=!0),onKeyup:Cs(p,["enter"]),placeholder:"Confirm your password","onUpdate:modelValue":_[5]||(_[5]=O=>d.value=O)},null,544),[[Je,d.value]]),f.value?(w(),T("span",tC,F(f.value),1)):ne("",!0)])]),t.value?(w(),T("div",nC,[sC,l("span",null,F(t.value),1),l("button",{class:"btn btn--icon close",onClick:_[6]||(_[6]=O=>t.value="")},oC)])):ne("",!0),l("div",iC,[l("button",{class:"btn mobile-full-width",onClick:p},[n.value?(w(),T("i",aC)):ne("",!0),lC])]),l("div",{class:"row center"},[cC,l("button",{class:"btn btn--text",onClick:y},"Log in")])])]),_:1},8,["class"]))}}),$u=fe(uC,[["__scopeId","data-v-bb068875"]]),Ze=e=>(Ae("data-v-265ed790"),e=e(),Te(),e),dC={class:"account"},fC=Ze(()=>l("p",null,"Choose a portrait from the list below.",-1)),hC={class:"portrait-select"},pC=["onClick"],mC={key:0,class:"overlay"},yC={key:1,class:"fas fa-check-circle"},gC={key:0},_C=Ze(()=>l("p",null,"You are currently logged in as a guest.",-1)),vC={key:0,class:"row"},bC=Ze(()=>l("span",null,"Register Account",-1)),wC=[bC],EC=Ze(()=>l("i",{class:"fas fa-sign-out-alt"},null,-1)),CC=Ze(()=>l("span",null,"Login",-1)),kC=[EC,CC],xC={key:1,class:"account-management"},SC=Ze(()=>l("p",null," Change your username. This will also change your display name in all games. ",-1)),AC=Ze(()=>l("i",{class:"fas fa-user-edit"},null,-1)),TC=Ze(()=>l("span",null,"Change Username",-1)),$C=[AC,TC],OC=Ze(()=>l("p",null,"Change your password.",-1)),RC=Ze(()=>l("i",{class:"fas fa-key"},null,-1)),PC=Ze(()=>l("span",null,"Change Password",-1)),IC=[RC,PC],NC={class:"attribution"},LC={class:"muted"},DC=Ze(()=>l("p",null,[me(" This work is based on "),l("a",{class:"anchor-link",href:"http://www.bladesinthedark.com/",target:"_blank"}," Blades in the Dark "),me(" , product of One Seven Design, developed and authored by John Harper, and licensed for our use under the "),l("a",{class:"anchor-link",href:"http://creativecommons.org/licenses/by/3.0/",target:"_blank"}," Creative Commons Attribution 3.0 Unported license ")],-1)),BC=Ze(()=>l("span",null,"View Full Attribution",-1)),UC=[BC],qC={class:"center"},MC=Ze(()=>l("span",null,"Sign Out",-1)),FC=[MC],jC=Ze(()=>l("span",null,"Delete Account",-1)),HC=[jC],VC={class:"row center id-block"},WC={class:"muted text-center"},QC=Ze(()=>l("i",{class:"fas fa-copy"},null,-1)),KC=[QC],zC={class:"muted text-center"},GC=ae({__name:"AccountModal",setup(e){const t=U("");Hn(()=>{p0().then(f=>t.value=`${dh.version} • ${f}`)});const n=new Date().getFullYear();function s(){W.open(Ai,{title:"Sign Out",message:"Are you sure you want to sign out?",onConfirm:()=>Ti(),onCancel:()=>W.open(Ou),onConfirmText:"Yes, I want to sign out",onCancelText:"No, keep me signed in"})}function r(){W.open(CE)}function o(){W.open(Tu)}function i(){navigator.clipboard.writeText(be().id)}function a(){W.open($u)}function c(f){h0(f)}function d(){W.open(iE)}function u(){W.open(H0)}return(f,p)=>{const y=oi("Divider");return w(),Se(at,null,{header:H(()=>[P(lt,{closeButton:""},{default:H(()=>[l("h2",null,F(X(be)().username)+"'s Account",1)]),_:1})]),content:H(()=>[l("div",dC,[l("section",null,[fC,l("ul",hC,[(w(!0),T(ve,null,je(X(be)().portraits,g=>(w(),T("li",{key:g.id,onClick:_=>c(g.id),class:de({selected:g.id===X(be)().portrait})},[P(Pr,{portraitId:g.id},null,8,["portraitId"]),g.id===X(be)().portrait?(w(),T("div",mC)):ne("",!0),g.id===X(be)().portrait?(w(),T("i",yC)):ne("",!0)],10,pC))),128))])]),P(y),X(be)().isGuest?(w(),T("section",gC,[_C,X(be)().isGuest?(w(),T("div",vC,[l("button",{class:"btn",onClick:a},wC),l("button",{class:"btn btn--alt",onClick:o},kC)])):ne("",!0)])):(w(),T("section",xC,[l("div",{class:"input-group"},[SC,l("button",{class:"btn mobile-full-width",onClick:d},$C)]),l("div",{class:"input-group"},[OC,l("button",{class:"btn mobile-full-width",onClick:u},IC)])])),P(y),l("section",NC,[l("p",null,[l("span",LC,"© "+F(X(n))+" Olin Kirkland | All rights reserved",1)]),DC,l("button",{class:"btn btn--alt mobile-full-width",onClick:p[0]||(p[0]=()=>X(W).open(cu))},UC)]),P(y),l("section",qC,[X(be)().isGuest?ne("",!0):(w(),T("button",{key:0,class:"btn btn--text",onClick:s},FC)),X(be)().isGuest?ne("",!0):(w(),T("button",{key:1,class:"btn btn--text",onClick:r},HC)),l("div",VC,[l("p",WC,"ID: "+F(X(be)().id),1),l("button",{class:"btn btn--icon muted",onClick:i},KC)]),l("p",zC,F(t.value),1)])])]),_:1})}}}),Ou=fe(GC,[["__scopeId","data-v-265ed790"]]);var Vo=(e=>(e.PLAYER="player",e.GM="gm",e.ADMIN="admin",e))(Vo||{});const il=["tiny","big","happy","sad","smart","funny","serious","crazy","silly","brave","shy","loud","quiet","fast","slow","strong","weak","bright","dark","hot","cold","hard","soft","sharp","dull","clean","dirty","smooth","rough","old","new","sweet","sour","bitter","spicy","tasty","gross","fresh","stale","thick","thin","straight","curved","simple","complex","friendly","fierce","gentle","wild","calm"],al=["dog","cat","bird","fish","rabbit","lion","tiger","elephant","monkey","snake","turtle","spider","horse","cow","sheep","goat","pig","chicken","duck","mouse","bear","fox","wolf","deer","whale","shark","dolphin","octopus","frog","crocodile","dragon","unicorn","phoenix","eagle","hawk","owl","penguin","koala","panda","squirrel","bat","bee","ant","butterfly","mosquito","snail","slug","lizard","crab","lobster","starfish","tree","flower","mountain","river","ocean","lake","island","desert","forest","cave","rock","cloud","sun","moon","star","planet","galaxy","comet","asteroid","meteor","rain","snow","wind","storm","rainbow","thunder","lightning","fire","ice","earth","sky","sea","sand","dust","grass","leaf","root","branch","twig","stone","pebble","sand","soil","mud","clay","metal","gold","silver","copper","iron","bronze","steel","aluminum","platinum","diamond","ruby","sapphire","emerald","crystal","gem","pearl","amber","ivory","bone","horn","feather","fur","hair","wool","silk","cotton","leather","cloth","fabric","thread","needle","scissors","knife","sword","shield","bow","arrow","spear","axe","hammer","nail","screw","bolt","nut","washer","glue","tape","rope","chain","wire","cable","net","mesh","web","hook","latch","lock","key","door","window","wall","floor","ceiling","roof","stairs","bridge","path","road","street","alley","lane","highway","avenue","boulevard","square","park","garden","yard","field","meadow","pasture","orchard","vineyard","farm","barn","shed","house","home","cottage","cabin","villa","palace","castle","tower","fort","church","temple","mosque","synagogue","shrine","monastery","cathedral","chapel","grave","tomb","crypt","pyramid","sphinx","statue","monument","obelisk","arch","gate","fence","wall","hedge","barrier","barricade","fountain","pool","pond","lake","river","stream","waterfall","spring","well","oasis","beach","coast","cliff","canyon","valley","plateau","mountain","hill","peak","summit","volcano","crater","glacier","iceberg","cave","tunnel","mine","cemetery","graveyard","mausoleum","sanctuary","altar","shrine","mosque","temple","church","synagogue","cathedral","monastery","abbey","cloister","nunnery","chapel","crypt","tomb","grave","ossuary","sarcophagus","catacomb","columbarium","graveyard","cemetary","burialground","necropolis","pyramid","museum","gallery","exhibition","exhibit","art","sculpture","painting","portrait","landscape","stilllife","history","ancient","medieval","renaissance","modern","contemporary","abstract","realism","impressionism","expressionism","surrealism","cubism","dadaism","futurism","constructivism","minimalism","popart","opart","kineticart","environmentalart","performanceart","installationart","conceptualart","videoart","digitalart","netart","virtualart","interactivart","landart","streetart","graffiti","photography","photojournalism","documentary","landscape","portrait","wildlife","nature","macro","micro","aerial","underwater","night","longexposure","blackandwhite","color","fineart","commercial","editorial","fashion","beauty","portrait","product","food","interior","architecture","cityscape","event","wedding","sports","action","adventure","travel","street","documentary","candid","photojournalism","landscape","wildlife","nature","macro","aerial","underwater","night","longexposure","blackandwhite","color","fineart","commercial","editorial","fashion","beauty","portrait","product","food","interior","architecture","cityscape","event","wedding","sports","action","adventure","travel","street","documentary","candid"];function YC(){const e=il[Math.floor(Math.random()*il.length)],t=al[Math.floor(Math.random()*al.length)],n=Math.floor(Math.random()*900)+100;return`${e}-${t}-${n}`}const Gn=e=>(Ae("data-v-bcea3429"),e=e(),Te(),e),JC=Gn(()=>l("h2",null,"Game Options",-1)),XC={class:"options"},ZC={class:"game-name"},ek={class:"input-group"},tk=Gn(()=>l("label",{for:"name"},"Game Name",-1)),nk={key:0,class:"reminder shake-once"},sk={class:"invite"},rk=Gn(()=>l("label",null,"Invite Link",-1)),ok={class:"row invite-block"},ik={class:"row"},ak={class:"muted text-center"},lk=Gn(()=>l("i",{class:"fas fa-copy"},null,-1)),ck=[lk],uk=Gn(()=>l("i",{class:"fas fa-sync"},null,-1)),dk=[uk],fk=Gn(()=>l("span",null," Leave Game ",-1)),hk=[fk],pk=ae({__name:"GameOptionsModal",setup(e){var c;const t=U(null),n=U((c=He().game)==null?void 0:c.name),s=te(()=>{var d;return`${window.location.origin}/invite/${(d=He().game)==null?void 0:d.inviteCode}`});function r(){if(!n.value){t.value="Name cannot be empty";return}t.value=null,ot([{op:"replace",path:"/name",value:n.value}])}function o(){navigator.clipboard.writeText(s.value)}function i(){ot([{op:"replace",path:"/inviteCode",value:YC()}])}function a(){W.open(Ai,{title:"Leave Game",message:"Are you sure you want to leave the game?",confirmText:"Leave Game",onConfirm:async()=>{W.open(ks),await og(),Nt.push("/"),W.close()}})}return(d,u)=>(w(),Se(at,null,{header:H(()=>[P(lt,{closeButton:""},{default:H(()=>[JC]),_:1})]),content:H(()=>{var f,p;return[l("div",XC,[l("section",ZC,[l("div",ek,[tk,Ye(l("input",{type:"text",class:de({disabled:((f=X(He)().userPlayer)==null?void 0:f.role)!==X(Vo).GM}),onChange:r,placeholder:"Enter a descriptive name","onUpdate:modelValue":u[0]||(u[0]=y=>n.value=y)},null,34),[[Je,n.value]]),t.value?(w(),T("span",nk,F(t.value),1)):ne("",!0)])]),l("section",sk,[rk,l("div",ok,[l("div",ik,[l("p",ak,F(s.value),1),l("button",{class:"btn btn--icon muted",onClick:o},ck)]),((p=X(He)().userPlayer)==null?void 0:p.role)===X(Vo).GM?(w(),T("button",{key:0,class:"btn btn--icon muted",onClick:i},dk)):ne("",!0)])]),P(Be),l("button",{class:"btn btn--alt",onClick:a},hk)])]}),_:1}))}}),mk=fe(pk,[["__scopeId","data-v-bcea3429"]]),yk=e=>(Ae("data-v-3bc7c2c2"),e=e(),Te(),e),gk={class:"logo"},_k={class:"account"},vk=yk(()=>l("i",{class:"fas fa-cog"},null,-1)),bk=[vk],wk=ae({__name:"TheNavigation",setup(e){function t(){W.open(Ou)}function n(){W.open(mk)}return(s,r)=>{var i;const o=oi("router-link");return w(),T("nav",null,[l("div",gk,[P(o,{to:"/"},{default:H(()=>[P(mc)]),_:1})]),l("div",_k,[(i=X(He)().game)!=null&&i._id?(w(),T("button",{key:0,class:"btn btn--icon game-options",onClick:n},bk)):ne("",!0),l("button",{class:"btn btn--account",onClick:t},[P(Pr,{portraitId:X(be)().portrait},null,8,["portraitId"]),l("span",null,F(X(be)().username||"Account"),1)])])])}}}),Ek=fe(wk,[["__scopeId","data-v-3bc7c2c2"]]),Ck=ae({__name:"TheModalContainer",setup(e){const t=U(),n=io(null),s=io(null),r=U();function o(){var i;(i=s.value)!=null&&i.closeOnClick&&W.close()}return W.getInstance().addEventListener(({modal:i,modalConfig:a})=>{var c;if((c=document.activeElement)==null||c.blur(),!i)return n.value=null;n.value={...i},s.value={...a},requestAnimationFrame(()=>{var g,_;r.value&&clearInterval(r.value);const d=(g=t.value)==null?void 0:g.$el;if(!d)return;const u=d.querySelector(".modal__header")?[d.querySelector(".modal__header")]:[],f=Array.from(((_=d.querySelector(".modal__content > div"))==null?void 0:_.children)||[]),p=[...u,...f];window.modalChildren=p;const y=d.querySelector("input:not(.disabled)");y&&y.focus(),p.forEach(O=>O.classList.add("hidden")),r.value=setInterval(()=>{if(!p.length)console.log("clearing interval"),clearInterval(r.value);else{const O=p.shift();O==null||O.classList.remove("hidden")}},50)})}),(i,a)=>{var c;return n.value?(w(),T("div",{key:0,class:de(["modal-container",(c=s.value)==null?void 0:c.backgroundClass])},[l("div",{class:"modal-container__background",onClick:a[0]||(a[0]=d=>o())}),(w(),Se(Td(n.value),ic(s.value,{ref_key:"modalRef",ref:t}),null,16))],2)):ne("",!0)}}}),kk=fe(Ck,[["__scopeId","data-v-ba331f79"]]),xk={class:"page-layout"},Sk={class:"page-layout__content"},Ak=ae({__name:"App",setup(e){return(t,n)=>{const s=oi("router-view");return w(),T(ve,null,[l("div",xk,[P(Ek),l("div",Sk,[P(s,{name:"page"})])]),P(kk)],64)}}});Qp();const Nr=Gf(Ak);Nr.component("Divider",Be);const Tk=Zf();Nr.use(Tk);Nr.use(Nt);Nr.mount("#app");
