var Xu=Object.defineProperty;var Zu=(e,t,n)=>t in e?Xu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ue=(e,t,n)=>(Zu(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();/**
* @vue/shared v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function li(e,t){const n=new Set(e.split(","));return s=>n.has(s)}const Ie={},Vn=[],vt=()=>{},ed=()=>!1,wo=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),ci=e=>e.startsWith("onUpdate:"),tt=Object.assign,ui=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},td=Object.prototype.hasOwnProperty,_e=(e,t)=>td.call(e,t),ne=Array.isArray,Wn=e=>xo(e)==="[object Map]",kl=e=>xo(e)==="[object Set]",ae=e=>typeof e=="function",Qe=e=>typeof e=="string",ts=e=>typeof e=="symbol",Le=e=>e!==null&&typeof e=="object",El=e=>(Le(e)||ae(e))&&ae(e.then)&&ae(e.catch),Sl=Object.prototype.toString,xo=e=>Sl.call(e),nd=e=>xo(e).slice(8,-1),Tl=e=>xo(e)==="[object Object]",di=e=>Qe(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,ms=li(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Co=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},sd=/-(\w)/g,Ft=Co(e=>e.replace(sd,(t,n)=>n?n.toUpperCase():"")),od=/\B([A-Z])/g,qn=Co(e=>e.replace(od,"-$1").toLowerCase()),ko=Co(e=>e.charAt(0).toUpperCase()+e.slice(1)),Yo=Co(e=>e?`on${ko(e)}`:""),mn=(e,t)=>!Object.is(e,t),Xs=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},uo=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},vr=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let zi;const $l=()=>zi||(zi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ht(e){if(ne(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],o=Qe(s)?ld(s):Ht(s);if(o)for(const r in o)t[r]=o[r]}return t}else if(Qe(e)||Le(e))return e}const rd=/;(?![^(]*\))/g,id=/:([^]+)/,ad=/\/\*[^]*?\*\//g;function ld(e){const t={};return e.replace(ad,"").split(rd).forEach(n=>{if(n){const s=n.split(id);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function K(e){let t="";if(Qe(e))t=e;else if(ne(e))for(let n=0;n<e.length;n++){const s=K(e[n]);s&&(t+=s+" ")}else if(Le(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const cd="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ud=li(cd);function Al(e){return!!e||e===""}const N=e=>Qe(e)?e:e==null?"":ne(e)||Le(e)&&(e.toString===Sl||!ae(e.toString))?JSON.stringify(e,Ol,2):String(e),Ol=(e,t)=>t&&t.__v_isRef?Ol(e,t.value):Wn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[s,o],r)=>(n[Jo(s,r)+" =>"]=o,n),{})}:kl(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Jo(n))}:ts(t)?Jo(t):Le(t)&&!ne(t)&&!Tl(t)?String(t):t,Jo=(e,t="")=>{var n;return ts(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ft;class Rl{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=ft,!t&&ft&&(this.index=(ft.scopes||(ft.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=ft;try{return ft=this,t()}finally{ft=n}}}on(){ft=this}off(){ft=this.parent}stop(t){if(this._active){let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this._active=!1}}}function Pl(e){return new Rl(e)}function dd(e,t=ft){t&&t.active&&t.effects.push(e)}function Il(){return ft}function hd(e){ft&&ft.cleanups.push(e)}let An;class hi{constructor(t,n,s,o){this.fn=t,this.trigger=n,this.scheduler=s,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,dd(this,o)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,Nn();for(let t=0;t<this._depsLength;t++){const n=this.deps[t];if(n.computed&&(fd(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),Ln()}return this._dirtyLevel>=4}set dirty(t){this._dirtyLevel=t?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=hn,n=An;try{return hn=!0,An=this,this._runnings++,Ki(this),this.fn()}finally{Yi(this),this._runnings--,An=n,hn=t}}stop(){var t;this.active&&(Ki(this),Yi(this),(t=this.onStop)==null||t.call(this),this.active=!1)}}function fd(e){return e.value}function Ki(e){e._trackId++,e._depsLength=0}function Yi(e){if(e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)ql(e.deps[t],e);e.deps.length=e._depsLength}}function ql(e,t){const n=e.get(t);n!==void 0&&t._trackId!==n&&(e.delete(t),e.size===0&&e.cleanup())}let hn=!0,_r=0;const Nl=[];function Nn(){Nl.push(hn),hn=!1}function Ln(){const e=Nl.pop();hn=e===void 0?!0:e}function fi(){_r++}function pi(){for(_r--;!_r&&br.length;)br.shift()()}function Ll(e,t,n){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const s=e.deps[e._depsLength];s!==t?(s&&ql(s,e),e.deps[e._depsLength++]=t):e._depsLength++}}const br=[];function Dl(e,t,n){fi();for(const s of e.keys()){let o;s._dirtyLevel<t&&(o??(o=e.get(s)===s._trackId))&&(s._shouldSchedule||(s._shouldSchedule=s._dirtyLevel===0),s._dirtyLevel=t),s._shouldSchedule&&(o??(o=e.get(s)===s._trackId))&&(s.trigger(),(!s._runnings||s.allowRecurse)&&s._dirtyLevel!==2&&(s._shouldSchedule=!1,s.scheduler&&br.push(s.scheduler)))}pi()}const Ul=(e,t)=>{const n=new Map;return n.cleanup=e,n.computed=t,n},ho=new WeakMap,On=Symbol(""),wr=Symbol("");function ct(e,t,n){if(hn&&An){let s=ho.get(e);s||ho.set(e,s=new Map);let o=s.get(n);o||s.set(n,o=Ul(()=>s.delete(n))),Ll(An,o)}}function Kt(e,t,n,s,o,r){const i=ho.get(e);if(!i)return;let l=[];if(t==="clear")l=[...i.values()];else if(n==="length"&&ne(e)){const c=Number(s);i.forEach((h,u)=>{(u==="length"||!ts(u)&&u>=c)&&l.push(h)})}else switch(n!==void 0&&l.push(i.get(n)),t){case"add":ne(e)?di(n)&&l.push(i.get("length")):(l.push(i.get(On)),Wn(e)&&l.push(i.get(wr)));break;case"delete":ne(e)||(l.push(i.get(On)),Wn(e)&&l.push(i.get(wr)));break;case"set":Wn(e)&&l.push(i.get(On));break}fi();for(const c of l)c&&Dl(c,4);pi()}function pd(e,t){var n;return(n=ho.get(e))==null?void 0:n.get(t)}const md=li("__proto__,__v_isRef,__isVue"),Bl=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ts)),Ji=yd();function yd(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const s=be(this);for(let r=0,i=this.length;r<i;r++)ct(s,"get",r+"");const o=s[t](...n);return o===-1||o===!1?s[t](...n.map(be)):o}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Nn(),fi();const s=be(this)[t].apply(this,n);return pi(),Ln(),s}}),e}function gd(e){const t=be(this);return ct(t,"has",e),t.hasOwnProperty(e)}class Ml{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,s){const o=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!o;if(n==="__v_isReadonly")return o;if(n==="__v_isShallow")return r;if(n==="__v_raw")return s===(o?r?Od:Hl:r?Ql:jl).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const i=ne(t);if(!o){if(i&&_e(Ji,n))return Reflect.get(Ji,n,s);if(n==="hasOwnProperty")return gd}const l=Reflect.get(t,n,s);return(ts(n)?Bl.has(n):md(n))||(o||ct(t,"get",n),r)?l:Ve(l)?i&&di(n)?l:l.value:Le(l)?o?Wl(l):Rs(l):l}}class Fl extends Ml{constructor(t=!1){super(!1,t)}set(t,n,s,o){let r=t[n];if(!this._isShallow){const c=Kn(r);if(!fo(s)&&!Kn(s)&&(r=be(r),s=be(s)),!ne(t)&&Ve(r)&&!Ve(s))return c?!1:(r.value=s,!0)}const i=ne(t)&&di(n)?Number(n)<t.length:_e(t,n),l=Reflect.set(t,n,s,o);return t===be(o)&&(i?mn(s,r)&&Kt(t,"set",n,s):Kt(t,"add",n,s)),l}deleteProperty(t,n){const s=_e(t,n);t[n];const o=Reflect.deleteProperty(t,n);return o&&s&&Kt(t,"delete",n,void 0),o}has(t,n){const s=Reflect.has(t,n);return(!ts(n)||!Bl.has(n))&&ct(t,"has",n),s}ownKeys(t){return ct(t,"iterate",ne(t)?"length":On),Reflect.ownKeys(t)}}class vd extends Ml{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const _d=new Fl,bd=new vd,wd=new Fl(!0),mi=e=>e,Eo=e=>Reflect.getPrototypeOf(e);function Bs(e,t,n=!1,s=!1){e=e.__v_raw;const o=be(e),r=be(t);n||(mn(t,r)&&ct(o,"get",t),ct(o,"get",r));const{has:i}=Eo(o),l=s?mi:n?vi:Cs;if(i.call(o,t))return l(e.get(t));if(i.call(o,r))return l(e.get(r));e!==o&&e.get(t)}function Ms(e,t=!1){const n=this.__v_raw,s=be(n),o=be(e);return t||(mn(e,o)&&ct(s,"has",e),ct(s,"has",o)),e===o?n.has(e):n.has(e)||n.has(o)}function Fs(e,t=!1){return e=e.__v_raw,!t&&ct(be(e),"iterate",On),Reflect.get(e,"size",e)}function Xi(e){e=be(e);const t=be(this);return Eo(t).has.call(t,e)||(t.add(e),Kt(t,"add",e,e)),this}function Zi(e,t){t=be(t);const n=be(this),{has:s,get:o}=Eo(n);let r=s.call(n,e);r||(e=be(e),r=s.call(n,e));const i=o.call(n,e);return n.set(e,t),r?mn(t,i)&&Kt(n,"set",e,t):Kt(n,"add",e,t),this}function ea(e){const t=be(this),{has:n,get:s}=Eo(t);let o=n.call(t,e);o||(e=be(e),o=n.call(t,e)),s&&s.call(t,e);const r=t.delete(e);return o&&Kt(t,"delete",e,void 0),r}function ta(){const e=be(this),t=e.size!==0,n=e.clear();return t&&Kt(e,"clear",void 0,void 0),n}function js(e,t){return function(s,o){const r=this,i=r.__v_raw,l=be(i),c=t?mi:e?vi:Cs;return!e&&ct(l,"iterate",On),i.forEach((h,u)=>s.call(o,c(h),c(u),r))}}function Qs(e,t,n){return function(...s){const o=this.__v_raw,r=be(o),i=Wn(r),l=e==="entries"||e===Symbol.iterator&&i,c=e==="keys"&&i,h=o[e](...s),u=n?mi:t?vi:Cs;return!t&&ct(r,"iterate",c?wr:On),{next(){const{value:d,done:f}=h.next();return f?{value:d,done:f}:{value:l?[u(d[0]),u(d[1])]:u(d),done:f}},[Symbol.iterator](){return this}}}}function sn(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function xd(){const e={get(r){return Bs(this,r)},get size(){return Fs(this)},has:Ms,add:Xi,set:Zi,delete:ea,clear:ta,forEach:js(!1,!1)},t={get(r){return Bs(this,r,!1,!0)},get size(){return Fs(this)},has:Ms,add:Xi,set:Zi,delete:ea,clear:ta,forEach:js(!1,!0)},n={get(r){return Bs(this,r,!0)},get size(){return Fs(this,!0)},has(r){return Ms.call(this,r,!0)},add:sn("add"),set:sn("set"),delete:sn("delete"),clear:sn("clear"),forEach:js(!0,!1)},s={get(r){return Bs(this,r,!0,!0)},get size(){return Fs(this,!0)},has(r){return Ms.call(this,r,!0)},add:sn("add"),set:sn("set"),delete:sn("delete"),clear:sn("clear"),forEach:js(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{e[r]=Qs(r,!1,!1),n[r]=Qs(r,!0,!1),t[r]=Qs(r,!1,!0),s[r]=Qs(r,!0,!0)}),[e,n,t,s]}const[Cd,kd,Ed,Sd]=xd();function yi(e,t){const n=t?e?Sd:Ed:e?kd:Cd;return(s,o,r)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?s:Reflect.get(_e(n,o)&&o in s?n:s,o,r)}const Td={get:yi(!1,!1)},$d={get:yi(!1,!0)},Ad={get:yi(!0,!1)},jl=new WeakMap,Ql=new WeakMap,Hl=new WeakMap,Od=new WeakMap;function Rd(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Pd(e){return e.__v_skip||!Object.isExtensible(e)?0:Rd(nd(e))}function Rs(e){return Kn(e)?e:gi(e,!1,_d,Td,jl)}function Vl(e){return gi(e,!1,wd,$d,Ql)}function Wl(e){return gi(e,!0,bd,Ad,Hl)}function gi(e,t,n,s,o){if(!Le(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=o.get(e);if(r)return r;const i=Pd(e);if(i===0)return e;const l=new Proxy(e,i===2?s:n);return o.set(e,l),l}function fn(e){return Kn(e)?fn(e.__v_raw):!!(e&&e.__v_isReactive)}function Kn(e){return!!(e&&e.__v_isReadonly)}function fo(e){return!!(e&&e.__v_isShallow)}function Gl(e){return fn(e)||Kn(e)}function be(e){const t=e&&e.__v_raw;return t?be(t):e}function So(e){return Object.isExtensible(e)&&uo(e,"__v_skip",!0),e}const Cs=e=>Le(e)?Rs(e):e,vi=e=>Le(e)?Wl(e):e;class zl{constructor(t,n,s,o){this.getter=t,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new hi(()=>t(this._value),()=>Zs(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=s}get value(){const t=be(this);return(!t._cacheable||t.effect.dirty)&&mn(t._value,t._value=t.effect.run())&&Zs(t,4),Kl(t),t.effect._dirtyLevel>=2&&Zs(t,2),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function Id(e,t,n=!1){let s,o;const r=ae(e);return r?(s=e,o=vt):(s=e.get,o=e.set),new zl(s,o,r||!o,n)}function Kl(e){var t;hn&&An&&(e=be(e),Ll(An,(t=e.dep)!=null?t:e.dep=Ul(()=>e.dep=void 0,e instanceof zl?e:void 0)))}function Zs(e,t=4,n){e=be(e);const s=e.dep;s&&Dl(s,t)}function Ve(e){return!!(e&&e.__v_isRef===!0)}function D(e){return Yl(e,!1)}function xr(e){return Yl(e,!0)}function Yl(e,t){return Ve(e)?e:new qd(e,t)}class qd{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:be(t),this._value=n?t:Cs(t)}get value(){return Kl(this),this._value}set value(t){const n=this.__v_isShallow||fo(t)||Kn(t);t=n?t:be(t),mn(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:Cs(t),Zs(this,4))}}function Q(e){return Ve(e)?e.value:e}const Nd={get:(e,t,n)=>Q(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const o=e[t];return Ve(o)&&!Ve(n)?(o.value=n,!0):Reflect.set(e,t,n,s)}};function Jl(e){return fn(e)?e:new Proxy(e,Nd)}function Ld(e){const t=ne(e)?new Array(e.length):{};for(const n in e)t[n]=Ud(e,n);return t}class Dd{constructor(t,n,s){this._object=t,this._key=n,this._defaultValue=s,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return pd(be(this._object),this._key)}}function Ud(e,t,n){const s=e[t];return Ve(s)?s:new Dd(e,t,n)}/**
* @vue/runtime-core v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function pn(e,t,n,s){try{return s?e(...s):e()}catch(o){To(o,t,n)}}function Tt(e,t,n,s){if(ae(e)){const r=pn(e,t,n,s);return r&&El(r)&&r.catch(i=>{To(i,t,n)}),r}const o=[];for(let r=0;r<e.length;r++)o.push(Tt(e[r],t,n,s));return o}function To(e,t,n,s=!0){const o=t?t.vnode:null;if(t){let r=t.parent;const i=t.proxy,l=`https://vuejs.org/error-reference/#runtime-${n}`;for(;r;){const h=r.ec;if(h){for(let u=0;u<h.length;u++)if(h[u](e,i,l)===!1)return}r=r.parent}const c=t.appContext.config.errorHandler;if(c){pn(c,null,10,[e,i,l]);return}}Bd(e,n,o,s)}function Bd(e,t,n,s=!0){console.error(e)}let ks=!1,Cr=!1;const nt=[];let Lt=0;const Gn=[];let ln=null,Tn=0;const Xl=Promise.resolve();let _i=null;function bi(e){const t=_i||Xl;return e?t.then(this?e.bind(this):e):t}function Md(e){let t=Lt+1,n=nt.length;for(;t<n;){const s=t+n>>>1,o=nt[s],r=Es(o);r<e||r===e&&o.pre?t=s+1:n=s}return t}function wi(e){(!nt.length||!nt.includes(e,ks&&e.allowRecurse?Lt+1:Lt))&&(e.id==null?nt.push(e):nt.splice(Md(e.id),0,e),Zl())}function Zl(){!ks&&!Cr&&(Cr=!0,_i=Xl.then(tc))}function Fd(e){const t=nt.indexOf(e);t>Lt&&nt.splice(t,1)}function jd(e){ne(e)?Gn.push(...e):(!ln||!ln.includes(e,e.allowRecurse?Tn+1:Tn))&&Gn.push(e),Zl()}function na(e,t,n=ks?Lt+1:0){for(;n<nt.length;n++){const s=nt[n];if(s&&s.pre){if(e&&s.id!==e.uid)continue;nt.splice(n,1),n--,s()}}}function ec(e){if(Gn.length){const t=[...new Set(Gn)].sort((n,s)=>Es(n)-Es(s));if(Gn.length=0,ln){ln.push(...t);return}for(ln=t,Tn=0;Tn<ln.length;Tn++)ln[Tn]();ln=null,Tn=0}}const Es=e=>e.id==null?1/0:e.id,Qd=(e,t)=>{const n=Es(e)-Es(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function tc(e){Cr=!1,ks=!0,nt.sort(Qd);try{for(Lt=0;Lt<nt.length;Lt++){const t=nt[Lt];t&&t.active!==!1&&pn(t,null,14)}}finally{Lt=0,nt.length=0,ec(),ks=!1,_i=null,(nt.length||Gn.length)&&tc()}}function Hd(e,t,...n){if(e.isUnmounted)return;const s=e.vnode.props||Ie;let o=n;const r=t.startsWith("update:"),i=r&&t.slice(7);if(i&&i in s){const u=`${i==="modelValue"?"model":i}Modifiers`,{number:d,trim:f}=s[u]||Ie;f&&(o=n.map(v=>Qe(v)?v.trim():v)),d&&(o=n.map(vr))}let l,c=s[l=Yo(t)]||s[l=Yo(Ft(t))];!c&&r&&(c=s[l=Yo(qn(t))]),c&&Tt(c,e,6,o);const h=s[l+"Once"];if(h){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,Tt(h,e,6,o)}}function nc(e,t,n=!1){const s=t.emitsCache,o=s.get(e);if(o!==void 0)return o;const r=e.emits;let i={},l=!1;if(!ae(e)){const c=h=>{const u=nc(h,t,!0);u&&(l=!0,tt(i,u))};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!r&&!l?(Le(e)&&s.set(e,null),null):(ne(r)?r.forEach(c=>i[c]=null):tt(i,r),Le(e)&&s.set(e,i),i)}function $o(e,t){return!e||!wo(t)?!1:(t=t.slice(2).replace(/Once$/,""),_e(e,t[0].toLowerCase()+t.slice(1))||_e(e,qn(t))||_e(e,t))}let He=null,Ao=null;function po(e){const t=He;return He=e,Ao=e&&e.type.__scopeId||null,t}function we(e){Ao=e}function xe(){Ao=null}function B(e,t=He,n){if(!t||e._n)return e;const s=(...o)=>{s._d&&fa(-1);const r=po(t);let i;try{i=e(...o)}finally{po(r),s._d&&fa(1)}return i};return s._n=!0,s._c=!0,s._d=!0,s}function Xo(e){const{type:t,vnode:n,proxy:s,withProxy:o,props:r,propsOptions:[i],slots:l,attrs:c,emit:h,render:u,renderCache:d,data:f,setupState:v,ctx:_,inheritAttrs:x}=e;let P,L;const H=po(e);try{if(n.shapeFlag&4){const ee=o||s,de=ee;P=qt(u.call(de,ee,d,r,v,f,_)),L=c}else{const ee=t;P=qt(ee.length>1?ee(r,{attrs:c,slots:l,emit:h}):ee(r,null)),L=t.props?c:Vd(c)}}catch(ee){vs.length=0,To(ee,e,1),P=q(yn)}let V=P;if(L&&x!==!1){const ee=Object.keys(L),{shapeFlag:de}=V;ee.length&&de&7&&(i&&ee.some(ci)&&(L=Wd(L,i)),V=Jn(V,L))}return n.dirs&&(V=Jn(V),V.dirs=V.dirs?V.dirs.concat(n.dirs):n.dirs),n.transition&&(V.transition=n.transition),P=V,po(H),P}const Vd=e=>{let t;for(const n in e)(n==="class"||n==="style"||wo(n))&&((t||(t={}))[n]=e[n]);return t},Wd=(e,t)=>{const n={};for(const s in e)(!ci(s)||!(s.slice(9)in t))&&(n[s]=e[s]);return n};function Gd(e,t,n){const{props:s,children:o,component:r}=e,{props:i,children:l,patchFlag:c}=t,h=r.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return s?sa(s,i,h):!!i;if(c&8){const u=t.dynamicProps;for(let d=0;d<u.length;d++){const f=u[d];if(i[f]!==s[f]&&!$o(h,f))return!0}}}else return(o||l)&&(!l||!l.$stable)?!0:s===i?!1:s?i?sa(s,i,h):!0:!!i;return!1}function sa(e,t,n){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let o=0;o<s.length;o++){const r=s[o];if(t[r]!==e[r]&&!$o(n,r))return!0}return!1}function zd({vnode:e,parent:t},n){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s===e)(e=t.vnode).el=n,t=t.parent;else break}}const sc="components";function Oo(e,t){return rc(sc,e,!0,t)||e}const oc=Symbol.for("v-ndc");function Kd(e){return Qe(e)?rc(sc,e,!1)||e:e||oc}function rc(e,t,n=!0,s=!1){const o=He||Ze;if(o){const r=o.type;{const l=Fh(r,!1);if(l&&(l===t||l===Ft(t)||l===ko(Ft(t))))return r}const i=oa(o[e]||r[e],t)||oa(o.appContext[e],t);return!i&&s?r:i}}function oa(e,t){return e&&(e[t]||e[Ft(t)]||e[ko(Ft(t))])}const Yd=e=>e.__isSuspense;function Jd(e,t){t&&t.pendingBranch?ne(e)?t.effects.push(...e):t.effects.push(e):jd(e)}const Xd=Symbol.for("v-scx"),Zd=()=>$t(Xd),Hs={};function Bt(e,t,n){return ic(e,t,n)}function ic(e,t,{immediate:n,deep:s,flush:o,once:r,onTrack:i,onTrigger:l}=Ie){if(t&&r){const Y=t;t=(...$e)=>{Y(...$e),de()}}const c=Ze,h=Y=>s===!0?Y:$n(Y,s===!1?1:void 0);let u,d=!1,f=!1;if(Ve(e)?(u=()=>e.value,d=fo(e)):fn(e)?(u=()=>h(e),d=!0):ne(e)?(f=!0,d=e.some(Y=>fn(Y)||fo(Y)),u=()=>e.map(Y=>{if(Ve(Y))return Y.value;if(fn(Y))return h(Y);if(ae(Y))return pn(Y,c,2)})):ae(e)?t?u=()=>pn(e,c,2):u=()=>(v&&v(),Tt(e,c,3,[_])):u=vt,t&&s){const Y=u;u=()=>$n(Y())}let v,_=Y=>{v=V.onStop=()=>{pn(Y,c,4),v=V.onStop=void 0}},x;if(qo)if(_=vt,t?n&&Tt(t,c,3,[u(),f?[]:void 0,_]):u(),o==="sync"){const Y=Zd();x=Y.__watcherHandles||(Y.__watcherHandles=[])}else return vt;let P=f?new Array(e.length).fill(Hs):Hs;const L=()=>{if(!(!V.active||!V.dirty))if(t){const Y=V.run();(s||d||(f?Y.some(($e,re)=>mn($e,P[re])):mn(Y,P)))&&(v&&v(),Tt(t,c,3,[Y,P===Hs?void 0:f&&P[0]===Hs?[]:P,_]),P=Y)}else V.run()};L.allowRecurse=!!t;let H;o==="sync"?H=L:o==="post"?H=()=>lt(L,c&&c.suspense):(L.pre=!0,c&&(L.id=c.uid),H=()=>wi(L));const V=new hi(u,vt,H),ee=Il(),de=()=>{V.stop(),ee&&ui(ee.effects,V)};return t?n?L():P=V.run():o==="post"?lt(V.run.bind(V),c&&c.suspense):V.run(),x&&x.push(de),de}function eh(e,t,n){const s=this.proxy,o=Qe(e)?e.includes(".")?ac(s,e):()=>s[e]:e.bind(s,s);let r;ae(t)?r=t:(r=t.handler,n=t);const i=Ps(this),l=ic(o,r.bind(s),n);return i(),l}function ac(e,t){const n=t.split(".");return()=>{let s=e;for(let o=0;o<n.length&&s;o++)s=s[n[o]];return s}}function $n(e,t,n=0,s){if(!Le(e)||e.__v_skip)return e;if(t&&t>0){if(n>=t)return e;n++}if(s=s||new Set,s.has(e))return e;if(s.add(e),Ve(e))$n(e.value,t,n,s);else if(ne(e))for(let o=0;o<e.length;o++)$n(e[o],t,n,s);else if(kl(e)||Wn(e))e.forEach(o=>{$n(o,t,n,s)});else if(Tl(e))for(const o in e)$n(e[o],t,n,s);return e}function Se(e,t){if(He===null)return e;const n=No(He)||He.proxy,s=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[r,i,l,c=Ie]=t[o];r&&(ae(r)&&(r={mounted:r,updated:r}),r.deep&&$n(i),s.push({dir:r,instance:n,value:i,oldValue:void 0,arg:l,modifiers:c}))}return e}function wn(e,t,n,s){const o=e.dirs,r=t&&t.dirs;for(let i=0;i<o.length;i++){const l=o[i];r&&(l.oldValue=r[i].value);let c=l.dir[s];c&&(Nn(),Tt(c,n,8,[e.el,l,e,t]),Ln())}}/*! #__NO_SIDE_EFFECTS__ */function te(e,t){return ae(e)?tt({name:e.name},t,{setup:e}):e}const ys=e=>!!e.type.__asyncLoader,lc=e=>e.type.__isKeepAlive;function th(e,t){cc(e,"a",t)}function nh(e,t){cc(e,"da",t)}function cc(e,t,n=Ze){const s=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(Ro(t,s,n),n){let o=n.parent;for(;o&&o.parent;)lc(o.parent.vnode)&&sh(s,t,n,o),o=o.parent}}function sh(e,t,n,s){const o=Ro(t,e,s,!0);ns(()=>{ui(s[t],o)},n)}function Ro(e,t,n=Ze,s=!1){if(n){const o=n[e]||(n[e]=[]),r=t.__weh||(t.__weh=(...i)=>{if(n.isUnmounted)return;Nn();const l=Ps(n),c=Tt(t,n,e,i);return l(),Ln(),c});return s?o.unshift(r):o.push(r),r}}const Jt=e=>(t,n=Ze)=>(!qo||e==="sp")&&Ro(e,(...s)=>t(...s),n),oh=Jt("bm"),Xt=Jt("m"),rh=Jt("bu"),ih=Jt("u"),ah=Jt("bum"),ns=Jt("um"),lh=Jt("sp"),ch=Jt("rtg"),uh=Jt("rtc");function dh(e,t=Ze){Ro("ec",e,t)}function fe(e,t,n,s){let o;const r=n;if(ne(e)||Qe(e)){o=new Array(e.length);for(let i=0,l=e.length;i<l;i++)o[i]=t(e[i],i,void 0,r)}else if(typeof e=="number"){o=new Array(e);for(let i=0;i<e;i++)o[i]=t(i+1,i,void 0,r)}else if(Le(e))if(e[Symbol.iterator])o=Array.from(e,(i,l)=>t(i,l,void 0,r));else{const i=Object.keys(e);o=new Array(i.length);for(let l=0,c=i.length;l<c;l++){const h=i[l];o[l]=t(e[h],h,l,r)}}else o=[];return o}function Yn(e,t,n={},s,o){if(He.isCE||He.parent&&ys(He.parent)&&He.parent.isCE)return t!=="default"&&(n.name=t),q("slot",n,s);let r=e[t];r&&r._c&&(r._d=!1),b();const i=r&&uc(r(n)),l=ce(J,{key:n.key||i&&i.key||`_${t}`},i||[],i&&e._===1?64:-2);return r&&r._c&&(r._d=!0),l}function uc(e){return e.some(t=>yo(t)?!(t.type===yn||t.type===J&&!uc(t.children)):!0)?e:null}const kr=e=>e?Cc(e)?No(e)||e.proxy:kr(e.parent):null,gs=tt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>kr(e.parent),$root:e=>kr(e.root),$emit:e=>e.emit,$options:e=>xi(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,wi(e.update)}),$nextTick:e=>e.n||(e.n=bi.bind(e.proxy)),$watch:e=>eh.bind(e)}),Zo=(e,t)=>e!==Ie&&!e.__isScriptSetup&&_e(e,t),hh={get({_:e},t){const{ctx:n,setupState:s,data:o,props:r,accessCache:i,type:l,appContext:c}=e;let h;if(t[0]!=="$"){const v=i[t];if(v!==void 0)switch(v){case 1:return s[t];case 2:return o[t];case 4:return n[t];case 3:return r[t]}else{if(Zo(s,t))return i[t]=1,s[t];if(o!==Ie&&_e(o,t))return i[t]=2,o[t];if((h=e.propsOptions[0])&&_e(h,t))return i[t]=3,r[t];if(n!==Ie&&_e(n,t))return i[t]=4,n[t];Er&&(i[t]=0)}}const u=gs[t];let d,f;if(u)return t==="$attrs"&&ct(e,"get",t),u(e);if((d=l.__cssModules)&&(d=d[t]))return d;if(n!==Ie&&_e(n,t))return i[t]=4,n[t];if(f=c.config.globalProperties,_e(f,t))return f[t]},set({_:e},t,n){const{data:s,setupState:o,ctx:r}=e;return Zo(o,t)?(o[t]=n,!0):s!==Ie&&_e(s,t)?(s[t]=n,!0):_e(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(r[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:o,propsOptions:r}},i){let l;return!!n[i]||e!==Ie&&_e(e,i)||Zo(t,i)||(l=r[0])&&_e(l,i)||_e(s,i)||_e(gs,i)||_e(o.config.globalProperties,i)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:_e(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function ra(e){return ne(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Er=!0;function fh(e){const t=xi(e),n=e.proxy,s=e.ctx;Er=!1,t.beforeCreate&&ia(t.beforeCreate,e,"bc");const{data:o,computed:r,methods:i,watch:l,provide:c,inject:h,created:u,beforeMount:d,mounted:f,beforeUpdate:v,updated:_,activated:x,deactivated:P,beforeDestroy:L,beforeUnmount:H,destroyed:V,unmounted:ee,render:de,renderTracked:Y,renderTriggered:$e,errorCaptured:re,serverPrefetch:ie,expose:ke,inheritAttrs:De,components:We,directives:Ye,filters:mt}=t;if(h&&ph(h,s,null),i)for(const pe in i){const me=i[pe];ae(me)&&(s[pe]=me.bind(n))}if(o){const pe=o.call(n,n);Le(pe)&&(e.data=Rs(pe))}if(Er=!0,r)for(const pe in r){const me=r[pe],at=ae(me)?me.bind(n,n):ae(me.get)?me.get.bind(n,n):vt,ut=!ae(me)&&ae(me.set)?me.set.bind(n):vt,rt=G({get:at,set:ut});Object.defineProperty(s,pe,{enumerable:!0,configurable:!0,get:()=>rt.value,set:qe=>rt.value=qe})}if(l)for(const pe in l)dc(l[pe],s,n,pe);if(c){const pe=ae(c)?c.call(n):c;Reflect.ownKeys(pe).forEach(me=>{eo(me,pe[me])})}u&&ia(u,e,"c");function le(pe,me){ne(me)?me.forEach(at=>pe(at.bind(n))):me&&pe(me.bind(n))}if(le(oh,d),le(Xt,f),le(rh,v),le(ih,_),le(th,x),le(nh,P),le(dh,re),le(uh,Y),le(ch,$e),le(ah,H),le(ns,ee),le(lh,ie),ne(ke))if(ke.length){const pe=e.exposed||(e.exposed={});ke.forEach(me=>{Object.defineProperty(pe,me,{get:()=>n[me],set:at=>n[me]=at})})}else e.exposed||(e.exposed={});de&&e.render===vt&&(e.render=de),De!=null&&(e.inheritAttrs=De),We&&(e.components=We),Ye&&(e.directives=Ye)}function ph(e,t,n=vt){ne(e)&&(e=Sr(e));for(const s in e){const o=e[s];let r;Le(o)?"default"in o?r=$t(o.from||s,o.default,!0):r=$t(o.from||s):r=$t(o),Ve(r)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>r.value,set:i=>r.value=i}):t[s]=r}}function ia(e,t,n){Tt(ne(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,n)}function dc(e,t,n,s){const o=s.includes(".")?ac(n,s):()=>n[s];if(Qe(e)){const r=t[e];ae(r)&&Bt(o,r)}else if(ae(e))Bt(o,e.bind(n));else if(Le(e))if(ne(e))e.forEach(r=>dc(r,t,n,s));else{const r=ae(e.handler)?e.handler.bind(n):t[e.handler];ae(r)&&Bt(o,r,e)}}function xi(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:o,optionsCache:r,config:{optionMergeStrategies:i}}=e.appContext,l=r.get(t);let c;return l?c=l:!o.length&&!n&&!s?c=t:(c={},o.length&&o.forEach(h=>mo(c,h,i,!0)),mo(c,t,i)),Le(t)&&r.set(t,c),c}function mo(e,t,n,s=!1){const{mixins:o,extends:r}=t;r&&mo(e,r,n,!0),o&&o.forEach(i=>mo(e,i,n,!0));for(const i in t)if(!(s&&i==="expose")){const l=mh[i]||n&&n[i];e[i]=l?l(e[i],t[i]):t[i]}return e}const mh={data:aa,props:la,emits:la,methods:fs,computed:fs,beforeCreate:it,created:it,beforeMount:it,mounted:it,beforeUpdate:it,updated:it,beforeDestroy:it,beforeUnmount:it,destroyed:it,unmounted:it,activated:it,deactivated:it,errorCaptured:it,serverPrefetch:it,components:fs,directives:fs,watch:gh,provide:aa,inject:yh};function aa(e,t){return t?e?function(){return tt(ae(e)?e.call(this,this):e,ae(t)?t.call(this,this):t)}:t:e}function yh(e,t){return fs(Sr(e),Sr(t))}function Sr(e){if(ne(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function it(e,t){return e?[...new Set([].concat(e,t))]:t}function fs(e,t){return e?tt(Object.create(null),e,t):t}function la(e,t){return e?ne(e)&&ne(t)?[...new Set([...e,...t])]:tt(Object.create(null),ra(e),ra(t??{})):t}function gh(e,t){if(!e)return t;if(!t)return e;const n=tt(Object.create(null),e);for(const s in t)n[s]=it(e[s],t[s]);return n}function hc(){return{app:null,config:{isNativeTag:ed,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let vh=0;function _h(e,t){return function(s,o=null){ae(s)||(s=tt({},s)),o!=null&&!Le(o)&&(o=null);const r=hc(),i=new WeakSet;let l=!1;const c=r.app={_uid:vh++,_component:s,_props:o,_container:null,_context:r,_instance:null,version:Qh,get config(){return r.config},set config(h){},use(h,...u){return i.has(h)||(h&&ae(h.install)?(i.add(h),h.install(c,...u)):ae(h)&&(i.add(h),h(c,...u))),c},mixin(h){return r.mixins.includes(h)||r.mixins.push(h),c},component(h,u){return u?(r.components[h]=u,c):r.components[h]},directive(h,u){return u?(r.directives[h]=u,c):r.directives[h]},mount(h,u,d){if(!l){const f=q(s,o);return f.appContext=r,d===!0?d="svg":d===!1&&(d=void 0),u&&t?t(f,h):e(f,h,d),l=!0,c._container=h,h.__vue_app__=c,No(f.component)||f.component.proxy}},unmount(){l&&(e(null,c._container),delete c._container.__vue_app__)},provide(h,u){return r.provides[h]=u,c},runWithContext(h){const u=zn;zn=c;try{return h()}finally{zn=u}}};return c}}let zn=null;function eo(e,t){if(Ze){let n=Ze.provides;const s=Ze.parent&&Ze.parent.provides;s===n&&(n=Ze.provides=Object.create(s)),n[e]=t}}function $t(e,t,n=!1){const s=Ze||He;if(s||zn){const o=s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:zn._context.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&ae(t)?t.call(s&&s.proxy):t}}function bh(){return!!(Ze||He||zn)}function wh(e,t,n,s=!1){const o={},r={};uo(r,Io,1),e.propsDefaults=Object.create(null),fc(e,t,o,r);for(const i in e.propsOptions[0])i in o||(o[i]=void 0);n?e.props=s?o:Vl(o):e.type.props?e.props=o:e.props=r,e.attrs=r}function xh(e,t,n,s){const{props:o,attrs:r,vnode:{patchFlag:i}}=e,l=be(o),[c]=e.propsOptions;let h=!1;if((s||i>0)&&!(i&16)){if(i&8){const u=e.vnode.dynamicProps;for(let d=0;d<u.length;d++){let f=u[d];if($o(e.emitsOptions,f))continue;const v=t[f];if(c)if(_e(r,f))v!==r[f]&&(r[f]=v,h=!0);else{const _=Ft(f);o[_]=Tr(c,l,_,v,e,!1)}else v!==r[f]&&(r[f]=v,h=!0)}}}else{fc(e,t,o,r)&&(h=!0);let u;for(const d in l)(!t||!_e(t,d)&&((u=qn(d))===d||!_e(t,u)))&&(c?n&&(n[d]!==void 0||n[u]!==void 0)&&(o[d]=Tr(c,l,d,void 0,e,!0)):delete o[d]);if(r!==l)for(const d in r)(!t||!_e(t,d))&&(delete r[d],h=!0)}h&&Kt(e,"set","$attrs")}function fc(e,t,n,s){const[o,r]=e.propsOptions;let i=!1,l;if(t)for(let c in t){if(ms(c))continue;const h=t[c];let u;o&&_e(o,u=Ft(c))?!r||!r.includes(u)?n[u]=h:(l||(l={}))[u]=h:$o(e.emitsOptions,c)||(!(c in s)||h!==s[c])&&(s[c]=h,i=!0)}if(r){const c=be(n),h=l||Ie;for(let u=0;u<r.length;u++){const d=r[u];n[d]=Tr(o,c,d,h[d],e,!_e(h,d))}}return i}function Tr(e,t,n,s,o,r){const i=e[n];if(i!=null){const l=_e(i,"default");if(l&&s===void 0){const c=i.default;if(i.type!==Function&&!i.skipFactory&&ae(c)){const{propsDefaults:h}=o;if(n in h)s=h[n];else{const u=Ps(o);s=h[n]=c.call(null,t),u()}}else s=c}i[0]&&(r&&!l?s=!1:i[1]&&(s===""||s===qn(n))&&(s=!0))}return s}function pc(e,t,n=!1){const s=t.propsCache,o=s.get(e);if(o)return o;const r=e.props,i={},l=[];let c=!1;if(!ae(e)){const u=d=>{c=!0;const[f,v]=pc(d,t,!0);tt(i,f),v&&l.push(...v)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!r&&!c)return Le(e)&&s.set(e,Vn),Vn;if(ne(r))for(let u=0;u<r.length;u++){const d=Ft(r[u]);ca(d)&&(i[d]=Ie)}else if(r)for(const u in r){const d=Ft(u);if(ca(d)){const f=r[u],v=i[d]=ne(f)||ae(f)?{type:f}:tt({},f);if(v){const _=ha(Boolean,v.type),x=ha(String,v.type);v[0]=_>-1,v[1]=x<0||_<x,(_>-1||_e(v,"default"))&&l.push(d)}}}const h=[i,l];return Le(e)&&s.set(e,h),h}function ca(e){return e[0]!=="$"&&!ms(e)}function ua(e){return e===null?"null":typeof e=="function"?e.name||"":typeof e=="object"&&e.constructor&&e.constructor.name||""}function da(e,t){return ua(e)===ua(t)}function ha(e,t){return ne(t)?t.findIndex(n=>da(n,e)):ae(t)&&da(t,e)?0:-1}const mc=e=>e[0]==="_"||e==="$stable",Ci=e=>ne(e)?e.map(qt):[qt(e)],Ch=(e,t,n)=>{if(t._n)return t;const s=B((...o)=>Ci(t(...o)),n);return s._c=!1,s},yc=(e,t,n)=>{const s=e._ctx;for(const o in e){if(mc(o))continue;const r=e[o];if(ae(r))t[o]=Ch(o,r,s);else if(r!=null){const i=Ci(r);t[o]=()=>i}}},gc=(e,t)=>{const n=Ci(t);e.slots.default=()=>n},kh=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=be(t),uo(t,"_",n)):yc(t,e.slots={})}else e.slots={},t&&gc(e,t);uo(e.slots,Io,1)},Eh=(e,t,n)=>{const{vnode:s,slots:o}=e;let r=!0,i=Ie;if(s.shapeFlag&32){const l=t._;l?n&&l===1?r=!1:(tt(o,t),!n&&l===1&&delete o._):(r=!t.$stable,yc(t,o)),i=t}else t&&(gc(e,t),i={default:1});if(r)for(const l in o)!mc(l)&&i[l]==null&&delete o[l]};function $r(e,t,n,s,o=!1){if(ne(e)){e.forEach((f,v)=>$r(f,t&&(ne(t)?t[v]:t),n,s,o));return}if(ys(s)&&!o)return;const r=s.shapeFlag&4?No(s.component)||s.component.proxy:s.el,i=o?null:r,{i:l,r:c}=e,h=t&&t.r,u=l.refs===Ie?l.refs={}:l.refs,d=l.setupState;if(h!=null&&h!==c&&(Qe(h)?(u[h]=null,_e(d,h)&&(d[h]=null)):Ve(h)&&(h.value=null)),ae(c))pn(c,l,12,[i,u]);else{const f=Qe(c),v=Ve(c);if(f||v){const _=()=>{if(e.f){const x=f?_e(d,c)?d[c]:u[c]:c.value;o?ne(x)&&ui(x,r):ne(x)?x.includes(r)||x.push(r):f?(u[c]=[r],_e(d,c)&&(d[c]=u[c])):(c.value=[r],e.k&&(u[e.k]=c.value))}else f?(u[c]=i,_e(d,c)&&(d[c]=i)):v&&(c.value=i,e.k&&(u[e.k]=i))};i?(_.id=-1,lt(_,n)):_()}}}const lt=Jd;function Sh(e){return Th(e)}function Th(e,t){const n=$l();n.__VUE__=!0;const{insert:s,remove:o,patchProp:r,createElement:i,createText:l,createComment:c,setText:h,setElementText:u,parentNode:d,nextSibling:f,setScopeId:v=vt,insertStaticContent:_}=e,x=(p,g,T,E=null,k=null,m=null,y=void 0,S=null,A=!!g.dynamicChildren)=>{if(p===g)return;p&&!cs(p,g)&&(E=O(p),qe(p,k,m,!0),p=null),g.patchFlag===-2&&(A=!1,g.dynamicChildren=null);const{type:$,ref:w,shapeFlag:R}=g;switch($){case Po:P(p,g,T,E);break;case yn:L(p,g,T,E);break;case tr:p==null&&H(g,T,E,y);break;case J:We(p,g,T,E,k,m,y,S,A);break;default:R&1?de(p,g,T,E,k,m,y,S,A):R&6?Ye(p,g,T,E,k,m,y,S,A):(R&64||R&128)&&$.process(p,g,T,E,k,m,y,S,A,W)}w!=null&&k&&$r(w,p&&p.ref,m,g||p,!g)},P=(p,g,T,E)=>{if(p==null)s(g.el=l(g.children),T,E);else{const k=g.el=p.el;g.children!==p.children&&h(k,g.children)}},L=(p,g,T,E)=>{p==null?s(g.el=c(g.children||""),T,E):g.el=p.el},H=(p,g,T,E)=>{[p.el,p.anchor]=_(p.children,g,T,E,p.el,p.anchor)},V=({el:p,anchor:g},T,E)=>{let k;for(;p&&p!==g;)k=f(p),s(p,T,E),p=k;s(g,T,E)},ee=({el:p,anchor:g})=>{let T;for(;p&&p!==g;)T=f(p),o(p),p=T;o(g)},de=(p,g,T,E,k,m,y,S,A)=>{g.type==="svg"?y="svg":g.type==="math"&&(y="mathml"),p==null?Y(g,T,E,k,m,y,S,A):ie(p,g,k,m,y,S,A)},Y=(p,g,T,E,k,m,y,S)=>{let A,$;const{props:w,shapeFlag:R,transition:z,dirs:oe}=p;if(A=p.el=i(p.type,m,w&&w.is,w),R&8?u(A,p.children):R&16&&re(p.children,A,null,E,k,er(p,m),y,S),oe&&wn(p,null,E,"created"),$e(A,p,p.scopeId,y,E),w){for(const Oe in w)Oe!=="value"&&!ms(Oe)&&r(A,Oe,null,w[Oe],m,p.children,E,k,Be);"value"in w&&r(A,"value",null,w.value,m),($=w.onVnodeBeforeMount)&&It($,E,p)}oe&&wn(p,null,E,"beforeMount");const he=$h(k,z);he&&z.beforeEnter(A),s(A,g,T),(($=w&&w.onVnodeMounted)||he||oe)&&lt(()=>{$&&It($,E,p),he&&z.enter(A),oe&&wn(p,null,E,"mounted")},k)},$e=(p,g,T,E,k)=>{if(T&&v(p,T),E)for(let m=0;m<E.length;m++)v(p,E[m]);if(k){let m=k.subTree;if(g===m){const y=k.vnode;$e(p,y,y.scopeId,y.slotScopeIds,k.parent)}}},re=(p,g,T,E,k,m,y,S,A=0)=>{for(let $=A;$<p.length;$++){const w=p[$]=S?cn(p[$]):qt(p[$]);x(null,w,g,T,E,k,m,y,S)}},ie=(p,g,T,E,k,m,y)=>{const S=g.el=p.el;let{patchFlag:A,dynamicChildren:$,dirs:w}=g;A|=p.patchFlag&16;const R=p.props||Ie,z=g.props||Ie;let oe;if(T&&xn(T,!1),(oe=z.onVnodeBeforeUpdate)&&It(oe,T,g,p),w&&wn(g,p,T,"beforeUpdate"),T&&xn(T,!0),$?ke(p.dynamicChildren,$,S,T,E,er(g,k),m):y||me(p,g,S,null,T,E,er(g,k),m,!1),A>0){if(A&16)De(S,g,R,z,T,E,k);else if(A&2&&R.class!==z.class&&r(S,"class",null,z.class,k),A&4&&r(S,"style",R.style,z.style,k),A&8){const he=g.dynamicProps;for(let Oe=0;Oe<he.length;Oe++){const Ne=he[Oe],Ge=R[Ne],xt=z[Ne];(xt!==Ge||Ne==="value")&&r(S,Ne,Ge,xt,k,p.children,T,E,Be)}}A&1&&p.children!==g.children&&u(S,g.children)}else!y&&$==null&&De(S,g,R,z,T,E,k);((oe=z.onVnodeUpdated)||w)&&lt(()=>{oe&&It(oe,T,g,p),w&&wn(g,p,T,"updated")},E)},ke=(p,g,T,E,k,m,y)=>{for(let S=0;S<g.length;S++){const A=p[S],$=g[S],w=A.el&&(A.type===J||!cs(A,$)||A.shapeFlag&70)?d(A.el):T;x(A,$,w,null,E,k,m,y,!0)}},De=(p,g,T,E,k,m,y)=>{if(T!==E){if(T!==Ie)for(const S in T)!ms(S)&&!(S in E)&&r(p,S,T[S],null,y,g.children,k,m,Be);for(const S in E){if(ms(S))continue;const A=E[S],$=T[S];A!==$&&S!=="value"&&r(p,S,$,A,y,g.children,k,m,Be)}"value"in E&&r(p,"value",T.value,E.value,y)}},We=(p,g,T,E,k,m,y,S,A)=>{const $=g.el=p?p.el:l(""),w=g.anchor=p?p.anchor:l("");let{patchFlag:R,dynamicChildren:z,slotScopeIds:oe}=g;oe&&(S=S?S.concat(oe):oe),p==null?(s($,T,E),s(w,T,E),re(g.children||[],T,w,k,m,y,S,A)):R>0&&R&64&&z&&p.dynamicChildren?(ke(p.dynamicChildren,z,T,k,m,y,S),(g.key!=null||k&&g===k.subTree)&&vc(p,g,!0)):me(p,g,T,w,k,m,y,S,A)},Ye=(p,g,T,E,k,m,y,S,A)=>{g.slotScopeIds=S,p==null?g.shapeFlag&512?k.ctx.activate(g,T,E,y,A):mt(g,T,E,k,m,y,A):Je(p,g,A)},mt=(p,g,T,E,k,m,y)=>{const S=p.component=Lh(p,E,k);if(lc(p)&&(S.ctx.renderer=W),Dh(S),S.asyncDep){if(k&&k.registerDep(S,le),!p.el){const A=S.subTree=q(yn);L(null,A,g,T)}}else le(S,p,g,T,k,m,y)},Je=(p,g,T)=>{const E=g.component=p.component;if(Gd(p,g,T))if(E.asyncDep&&!E.asyncResolved){pe(E,g,T);return}else E.next=g,Fd(E.update),E.effect.dirty=!0,E.update();else g.el=p.el,E.vnode=g},le=(p,g,T,E,k,m,y)=>{const S=()=>{if(p.isMounted){let{next:w,bu:R,u:z,parent:oe,vnode:he}=p;{const Un=_c(p);if(Un){w&&(w.el=he.el,pe(p,w,y)),Un.asyncDep.then(()=>{p.isUnmounted||S()});return}}let Oe=w,Ne;xn(p,!1),w?(w.el=he.el,pe(p,w,y)):w=he,R&&Xs(R),(Ne=w.props&&w.props.onVnodeBeforeUpdate)&&It(Ne,oe,w,he),xn(p,!0);const Ge=Xo(p),xt=p.subTree;p.subTree=Ge,x(xt,Ge,d(xt.el),O(xt),p,k,m),w.el=Ge.el,Oe===null&&zd(p,Ge.el),z&&lt(z,k),(Ne=w.props&&w.props.onVnodeUpdated)&&lt(()=>It(Ne,oe,w,he),k)}else{let w;const{el:R,props:z}=g,{bm:oe,m:he,parent:Oe}=p,Ne=ys(g);if(xn(p,!1),oe&&Xs(oe),!Ne&&(w=z&&z.onVnodeBeforeMount)&&It(w,Oe,g),xn(p,!0),R&&Ee){const Ge=()=>{p.subTree=Xo(p),Ee(R,p.subTree,p,k,null)};Ne?g.type.__asyncLoader().then(()=>!p.isUnmounted&&Ge()):Ge()}else{const Ge=p.subTree=Xo(p);x(null,Ge,T,E,p,k,m),g.el=Ge.el}if(he&&lt(he,k),!Ne&&(w=z&&z.onVnodeMounted)){const Ge=g;lt(()=>It(w,Oe,Ge),k)}(g.shapeFlag&256||Oe&&ys(Oe.vnode)&&Oe.vnode.shapeFlag&256)&&p.a&&lt(p.a,k),p.isMounted=!0,g=T=E=null}},A=p.effect=new hi(S,vt,()=>wi($),p.scope),$=p.update=()=>{A.dirty&&A.run()};$.id=p.uid,xn(p,!0),$()},pe=(p,g,T)=>{g.component=p;const E=p.vnode.props;p.vnode=g,p.next=null,xh(p,g.props,E,T),Eh(p,g.children,T),Nn(),na(p),Ln()},me=(p,g,T,E,k,m,y,S,A=!1)=>{const $=p&&p.children,w=p?p.shapeFlag:0,R=g.children,{patchFlag:z,shapeFlag:oe}=g;if(z>0){if(z&128){ut($,R,T,E,k,m,y,S,A);return}else if(z&256){at($,R,T,E,k,m,y,S,A);return}}oe&8?(w&16&&Be($,k,m),R!==$&&u(T,R)):w&16?oe&16?ut($,R,T,E,k,m,y,S,A):Be($,k,m,!0):(w&8&&u(T,""),oe&16&&re(R,T,E,k,m,y,S,A))},at=(p,g,T,E,k,m,y,S,A)=>{p=p||Vn,g=g||Vn;const $=p.length,w=g.length,R=Math.min($,w);let z;for(z=0;z<R;z++){const oe=g[z]=A?cn(g[z]):qt(g[z]);x(p[z],oe,T,null,k,m,y,S,A)}$>w?Be(p,k,m,!0,!1,R):re(g,T,E,k,m,y,S,A,R)},ut=(p,g,T,E,k,m,y,S,A)=>{let $=0;const w=g.length;let R=p.length-1,z=w-1;for(;$<=R&&$<=z;){const oe=p[$],he=g[$]=A?cn(g[$]):qt(g[$]);if(cs(oe,he))x(oe,he,T,null,k,m,y,S,A);else break;$++}for(;$<=R&&$<=z;){const oe=p[R],he=g[z]=A?cn(g[z]):qt(g[z]);if(cs(oe,he))x(oe,he,T,null,k,m,y,S,A);else break;R--,z--}if($>R){if($<=z){const oe=z+1,he=oe<w?g[oe].el:E;for(;$<=z;)x(null,g[$]=A?cn(g[$]):qt(g[$]),T,he,k,m,y,S,A),$++}}else if($>z)for(;$<=R;)qe(p[$],k,m,!0),$++;else{const oe=$,he=$,Oe=new Map;for($=he;$<=z;$++){const ht=g[$]=A?cn(g[$]):qt(g[$]);ht.key!=null&&Oe.set(ht.key,$)}let Ne,Ge=0;const xt=z-he+1;let Un=!1,Vi=0;const ls=new Array(xt);for($=0;$<xt;$++)ls[$]=0;for($=oe;$<=R;$++){const ht=p[$];if(Ge>=xt){qe(ht,k,m,!0);continue}let Pt;if(ht.key!=null)Pt=Oe.get(ht.key);else for(Ne=he;Ne<=z;Ne++)if(ls[Ne-he]===0&&cs(ht,g[Ne])){Pt=Ne;break}Pt===void 0?qe(ht,k,m,!0):(ls[Pt-he]=$+1,Pt>=Vi?Vi=Pt:Un=!0,x(ht,g[Pt],T,null,k,m,y,S,A),Ge++)}const Wi=Un?Ah(ls):Vn;for(Ne=Wi.length-1,$=xt-1;$>=0;$--){const ht=he+$,Pt=g[ht],Gi=ht+1<w?g[ht+1].el:E;ls[$]===0?x(null,Pt,T,Gi,k,m,y,S,A):Un&&(Ne<0||$!==Wi[Ne]?rt(Pt,T,Gi,2):Ne--)}}},rt=(p,g,T,E,k=null)=>{const{el:m,type:y,transition:S,children:A,shapeFlag:$}=p;if($&6){rt(p.component.subTree,g,T,E);return}if($&128){p.suspense.move(g,T,E);return}if($&64){y.move(p,g,T,W);return}if(y===J){s(m,g,T);for(let R=0;R<A.length;R++)rt(A[R],g,T,E);s(p.anchor,g,T);return}if(y===tr){V(p,g,T);return}if(E!==2&&$&1&&S)if(E===0)S.beforeEnter(m),s(m,g,T),lt(()=>S.enter(m),k);else{const{leave:R,delayLeave:z,afterLeave:oe}=S,he=()=>s(m,g,T),Oe=()=>{R(m,()=>{he(),oe&&oe()})};z?z(m,he,Oe):Oe()}else s(m,g,T)},qe=(p,g,T,E=!1,k=!1)=>{const{type:m,props:y,ref:S,children:A,dynamicChildren:$,shapeFlag:w,patchFlag:R,dirs:z}=p;if(S!=null&&$r(S,null,T,p,!0),w&256){g.ctx.deactivate(p);return}const oe=w&1&&z,he=!ys(p);let Oe;if(he&&(Oe=y&&y.onVnodeBeforeUnmount)&&It(Oe,g,p),w&6)Wt(p.component,T,E);else{if(w&128){p.suspense.unmount(T,E);return}oe&&wn(p,null,g,"beforeUnmount"),w&64?p.type.remove(p,g,T,k,W,E):$&&(m!==J||R>0&&R&64)?Be($,g,T,!1,!0):(m===J&&R&384||!k&&w&16)&&Be(A,g,T),E&&wt(p)}(he&&(Oe=y&&y.onVnodeUnmounted)||oe)&&lt(()=>{Oe&&It(Oe,g,p),oe&&wn(p,null,g,"unmounted")},T)},wt=p=>{const{type:g,el:T,anchor:E,transition:k}=p;if(g===J){dt(T,E);return}if(g===tr){ee(p);return}const m=()=>{o(T),k&&!k.persisted&&k.afterLeave&&k.afterLeave()};if(p.shapeFlag&1&&k&&!k.persisted){const{leave:y,delayLeave:S}=k,A=()=>y(T,m);S?S(p.el,m,A):A()}else m()},dt=(p,g)=>{let T;for(;p!==g;)T=f(p),o(p),p=T;o(g)},Wt=(p,g,T)=>{const{bum:E,scope:k,update:m,subTree:y,um:S}=p;E&&Xs(E),k.stop(),m&&(m.active=!1,qe(y,p,g,T)),S&&lt(S,g),lt(()=>{p.isUnmounted=!0},g),g&&g.pendingBranch&&!g.isUnmounted&&p.asyncDep&&!p.asyncResolved&&p.suspenseId===g.pendingId&&(g.deps--,g.deps===0&&g.resolve())},Be=(p,g,T,E=!1,k=!1,m=0)=>{for(let y=m;y<p.length;y++)qe(p[y],g,T,E,k)},O=p=>p.shapeFlag&6?O(p.component.subTree):p.shapeFlag&128?p.suspense.next():f(p.anchor||p.el);let M=!1;const U=(p,g,T)=>{p==null?g._vnode&&qe(g._vnode,null,null,!0):x(g._vnode||null,p,g,null,null,null,T),M||(M=!0,na(),ec(),M=!1),g._vnode=p},W={p:x,um:qe,m:rt,r:wt,mt,mc:re,pc:me,pbc:ke,n:O,o:e};let ge,Ee;return{render:U,hydrate:ge,createApp:_h(U,ge)}}function er({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function xn({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function $h(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function vc(e,t,n=!1){const s=e.children,o=t.children;if(ne(s)&&ne(o))for(let r=0;r<s.length;r++){const i=s[r];let l=o[r];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=o[r]=cn(o[r]),l.el=i.el),n||vc(i,l)),l.type===Po&&(l.el=i.el)}}function Ah(e){const t=e.slice(),n=[0];let s,o,r,i,l;const c=e.length;for(s=0;s<c;s++){const h=e[s];if(h!==0){if(o=n[n.length-1],e[o]<h){t[s]=o,n.push(s);continue}for(r=0,i=n.length-1;r<i;)l=r+i>>1,e[n[l]]<h?r=l+1:i=l;h<e[n[r]]&&(r>0&&(t[s]=n[r-1]),n[r]=s)}}for(r=n.length,i=n[r-1];r-- >0;)n[r]=i,i=t[i];return n}function _c(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:_c(t)}const Oh=e=>e.__isTeleport,J=Symbol.for("v-fgt"),Po=Symbol.for("v-txt"),yn=Symbol.for("v-cmt"),tr=Symbol.for("v-stc"),vs=[];let St=null;function b(e=!1){vs.push(St=e?null:[])}function Rh(){vs.pop(),St=vs[vs.length-1]||null}let Ss=1;function fa(e){Ss+=e}function bc(e){return e.dynamicChildren=Ss>0?St||Vn:null,Rh(),Ss>0&&St&&St.push(e),e}function C(e,t,n,s,o,r){return bc(a(e,t,n,s,o,r,!0))}function ce(e,t,n,s,o){return bc(q(e,t,n,s,o,!0))}function yo(e){return e?e.__v_isVNode===!0:!1}function cs(e,t){return e.type===t.type&&e.key===t.key}const Io="__vInternal",wc=({key:e})=>e??null,to=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Qe(e)||Ve(e)||ae(e)?{i:He,r:e,k:t,f:!!n}:e:null);function a(e,t=null,n=null,s=0,o=null,r=e===J?0:1,i=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&wc(t),ref:t&&to(t),scopeId:Ao,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:He};return l?(ki(c,n),r&128&&e.normalize(c)):n&&(c.shapeFlag|=Qe(n)?8:16),Ss>0&&!i&&St&&(c.patchFlag>0||r&6)&&c.patchFlag!==32&&St.push(c),c}const q=Ph;function Ph(e,t=null,n=null,s=0,o=null,r=!1){if((!e||e===oc)&&(e=yn),yo(e)){const l=Jn(e,t,!0);return n&&ki(l,n),Ss>0&&!r&&St&&(l.shapeFlag&6?St[St.indexOf(e)]=l:St.push(l)),l.patchFlag|=-2,l}if(jh(e)&&(e=e.__vccOpts),t){t=Ih(t);let{class:l,style:c}=t;l&&!Qe(l)&&(t.class=K(l)),Le(c)&&(Gl(c)&&!ne(c)&&(c=tt({},c)),t.style=Ht(c))}const i=Qe(e)?1:Yd(e)?128:Oh(e)?64:Le(e)?4:ae(e)?2:0;return a(e,t,n,s,o,i,r,!0)}function Ih(e){return e?Gl(e)||Io in e?tt({},e):e:null}function Jn(e,t,n=!1){const{props:s,ref:o,patchFlag:r,children:i}=e,l=t?xc(s||{},t):s;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&wc(l),ref:t&&t.ref?n&&o?ne(o)?o.concat(to(t)):[o,to(t)]:to(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:i,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==J?r===-1?16:r|16:r,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Jn(e.ssContent),ssFallback:e.ssFallback&&Jn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function X(e=" ",t=0){return q(Po,null,e,t)}function F(e="",t=!1){return t?(b(),ce(yn,null,e)):q(yn,null,e)}function qt(e){return e==null||typeof e=="boolean"?q(yn):ne(e)?q(J,null,e.slice()):typeof e=="object"?cn(e):q(Po,null,String(e))}function cn(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Jn(e)}function ki(e,t){let n=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(ne(t))n=16;else if(typeof t=="object")if(s&65){const o=t.default;o&&(o._c&&(o._d=!1),ki(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!(Io in t)?t._ctx=He:o===3&&He&&(He.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else ae(t)?(t={default:t,_ctx:He},n=32):(t=String(t),s&64?(n=16,t=[X(t)]):n=8);e.children=t,e.shapeFlag|=n}function xc(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const o in s)if(o==="class")t.class!==s.class&&(t.class=K([t.class,s.class]));else if(o==="style")t.style=Ht([t.style,s.style]);else if(wo(o)){const r=t[o],i=s[o];i&&r!==i&&!(ne(r)&&r.includes(i))&&(t[o]=r?[].concat(r,i):i)}else o!==""&&(t[o]=s[o])}return t}function It(e,t,n,s=null){Tt(e,t,7,[n,s])}const qh=hc();let Nh=0;function Lh(e,t,n){const s=e.type,o=(t?t.appContext:e.appContext)||qh,r={uid:Nh++,vnode:e,type:s,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new Rl(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:pc(s,o),emitsOptions:nc(s,o),emit:null,emitted:null,propsDefaults:Ie,inheritAttrs:s.inheritAttrs,ctx:Ie,data:Ie,props:Ie,attrs:Ie,slots:Ie,refs:Ie,setupState:Ie,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=Hd.bind(null,r),e.ce&&e.ce(r),r}let Ze=null,go,Ar;{const e=$l(),t=(n,s)=>{let o;return(o=e[n])||(o=e[n]=[]),o.push(s),r=>{o.length>1?o.forEach(i=>i(r)):o[0](r)}};go=t("__VUE_INSTANCE_SETTERS__",n=>Ze=n),Ar=t("__VUE_SSR_SETTERS__",n=>qo=n)}const Ps=e=>{const t=Ze;return go(e),e.scope.on(),()=>{e.scope.off(),go(t)}},pa=()=>{Ze&&Ze.scope.off(),go(null)};function Cc(e){return e.vnode.shapeFlag&4}let qo=!1;function Dh(e,t=!1){t&&Ar(t);const{props:n,children:s}=e.vnode,o=Cc(e);wh(e,n,o,t),kh(e,s);const r=o?Uh(e,t):void 0;return t&&Ar(!1),r}function Uh(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=So(new Proxy(e.ctx,hh));const{setup:s}=n;if(s){const o=e.setupContext=s.length>1?Mh(e):null,r=Ps(e);Nn();const i=pn(s,e,0,[e.props,o]);if(Ln(),r(),El(i)){if(i.then(pa,pa),t)return i.then(l=>{ma(e,l,t)}).catch(l=>{To(l,e,0)});e.asyncDep=i}else ma(e,i,t)}else kc(e,t)}function ma(e,t,n){ae(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Le(t)&&(e.setupState=Jl(t)),kc(e,n)}let ya;function kc(e,t,n){const s=e.type;if(!e.render){if(!t&&ya&&!s.render){const o=s.template||xi(e).template;if(o){const{isCustomElement:r,compilerOptions:i}=e.appContext.config,{delimiters:l,compilerOptions:c}=s,h=tt(tt({isCustomElement:r,delimiters:l},i),c);s.render=ya(o,h)}}e.render=s.render||vt}{const o=Ps(e);Nn();try{fh(e)}finally{Ln(),o()}}}function Bh(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return ct(e,"get","$attrs"),t[n]}}))}function Mh(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return Bh(e)},slots:e.slots,emit:e.emit,expose:t}}function No(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Jl(So(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in gs)return gs[n](e)},has(t,n){return n in t||n in gs}}))}function Fh(e,t=!0){return ae(e)?e.displayName||e.name:e.name||t&&e.__name}function jh(e){return ae(e)&&"__vccOpts"in e}const G=(e,t)=>Id(e,t,qo);function Ec(e,t,n){const s=arguments.length;return s===2?Le(t)&&!ne(t)?yo(t)?q(e,null,[t]):q(e,t):q(e,null,t):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&yo(n)&&(n=[n]),q(e,t,n))}const Qh="3.4.21";/**
* @vue/runtime-dom v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Hh="http://www.w3.org/2000/svg",Vh="http://www.w3.org/1998/Math/MathML",un=typeof document<"u"?document:null,ga=un&&un.createElement("template"),Wh={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{const o=t==="svg"?un.createElementNS(Hh,e):t==="mathml"?un.createElementNS(Vh,e):un.createElement(e,n?{is:n}:void 0);return e==="select"&&s&&s.multiple!=null&&o.setAttribute("multiple",s.multiple),o},createText:e=>un.createTextNode(e),createComment:e=>un.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>un.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,s,o,r){const i=n?n.previousSibling:t.lastChild;if(o&&(o===r||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),!(o===r||!(o=o.nextSibling)););else{ga.innerHTML=s==="svg"?`<svg>${e}</svg>`:s==="mathml"?`<math>${e}</math>`:e;const l=ga.content;if(s==="svg"||s==="mathml"){const c=l.firstChild;for(;c.firstChild;)l.appendChild(c.firstChild);l.removeChild(c)}t.insertBefore(l,n)}return[i?i.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Gh=Symbol("_vtc");function zh(e,t,n){const s=e[Gh];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const va=Symbol("_vod"),Kh=Symbol("_vsh"),Yh=Symbol(""),Jh=/(^|;)\s*display\s*:/;function Xh(e,t,n){const s=e.style,o=Qe(n);let r=!1;if(n&&!o){if(t)if(Qe(t))for(const i of t.split(";")){const l=i.slice(0,i.indexOf(":")).trim();n[l]==null&&no(s,l,"")}else for(const i in t)n[i]==null&&no(s,i,"");for(const i in n)i==="display"&&(r=!0),no(s,i,n[i])}else if(o){if(t!==n){const i=s[Yh];i&&(n+=";"+i),s.cssText=n,r=Jh.test(n)}}else t&&e.removeAttribute("style");va in e&&(e[va]=r?s.display:"",e[Kh]&&(s.display="none"))}const _a=/\s*!important$/;function no(e,t,n){if(ne(n))n.forEach(s=>no(e,t,s));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const s=Zh(e,t);_a.test(n)?e.setProperty(qn(s),n.replace(_a,""),"important"):e[s]=n}}const ba=["Webkit","Moz","ms"],nr={};function Zh(e,t){const n=nr[t];if(n)return n;let s=Ft(t);if(s!=="filter"&&s in e)return nr[t]=s;s=ko(s);for(let o=0;o<ba.length;o++){const r=ba[o]+s;if(r in e)return nr[t]=r}return t}const wa="http://www.w3.org/1999/xlink";function ef(e,t,n,s,o){if(s&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(wa,t.slice(6,t.length)):e.setAttributeNS(wa,t,n);else{const r=ud(t);n==null||r&&!Al(n)?e.removeAttribute(t):e.setAttribute(t,r?"":n)}}function tf(e,t,n,s,o,r,i){if(t==="innerHTML"||t==="textContent"){s&&i(s,o,r),e[t]=n??"";return}const l=e.tagName;if(t==="value"&&l!=="PROGRESS"&&!l.includes("-")){const h=l==="OPTION"?e.getAttribute("value")||"":e.value,u=n??"";(h!==u||!("_value"in e))&&(e.value=u),n==null&&e.removeAttribute(t),e._value=n;return}let c=!1;if(n===""||n==null){const h=typeof e[t];h==="boolean"?n=Al(n):n==null&&h==="string"?(n="",c=!0):h==="number"&&(n=0,c=!0)}try{e[t]=n}catch{}c&&e.removeAttribute(t)}function Mn(e,t,n,s){e.addEventListener(t,n,s)}function nf(e,t,n,s){e.removeEventListener(t,n,s)}const xa=Symbol("_vei");function sf(e,t,n,s,o=null){const r=e[xa]||(e[xa]={}),i=r[t];if(s&&i)i.value=s;else{const[l,c]=of(t);if(s){const h=r[t]=lf(s,o);Mn(e,l,h,c)}else i&&(nf(e,l,i,c),r[t]=void 0)}}const Ca=/(?:Once|Passive|Capture)$/;function of(e){let t;if(Ca.test(e)){t={};let s;for(;s=e.match(Ca);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):qn(e.slice(2)),t]}let sr=0;const rf=Promise.resolve(),af=()=>sr||(rf.then(()=>sr=0),sr=Date.now());function lf(e,t){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;Tt(cf(s,n.value),t,5,[s])};return n.value=e,n.attached=af(),n}function cf(e,t){if(ne(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(s=>o=>!o._stopped&&s&&s(o))}else return t}const ka=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,uf=(e,t,n,s,o,r,i,l,c)=>{const h=o==="svg";t==="class"?zh(e,s,h):t==="style"?Xh(e,n,s):wo(t)?ci(t)||sf(e,t,n,s,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):df(e,t,s,h))?tf(e,t,s,r,i,l,c):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),ef(e,t,s,h))};function df(e,t,n,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in e&&ka(t)&&ae(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const o=e.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return ka(t)&&Qe(n)?!1:t in e}const Ea=e=>{const t=e.props["onUpdate:modelValue"]||!1;return ne(t)?n=>Xs(t,n):t};function hf(e){e.target.composing=!0}function Sa(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const or=Symbol("_assign"),Te={created(e,{modifiers:{lazy:t,trim:n,number:s}},o){e[or]=Ea(o);const r=s||o.props&&o.props.type==="number";Mn(e,t?"change":"input",i=>{if(i.target.composing)return;let l=e.value;n&&(l=l.trim()),r&&(l=vr(l)),e[or](l)}),n&&Mn(e,"change",()=>{e.value=e.value.trim()}),t||(Mn(e,"compositionstart",hf),Mn(e,"compositionend",Sa),Mn(e,"change",Sa))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:s,number:o}},r){if(e[or]=Ea(r),e.composing)return;const i=o||e.type==="number"?vr(e.value):e.value,l=t??"";i!==l&&(document.activeElement===e&&e.type!=="range"&&(n||s&&e.value.trim()===l)||(e.value=l))}},ff={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Is=(e,t)=>{const n=e._withKeys||(e._withKeys={}),s=t.join(".");return n[s]||(n[s]=o=>{if(!("key"in o))return;const r=qn(o.key);if(t.some(i=>i===r||ff[i]===r))return e(o)})},pf=tt({patchProp:uf},Wh);let Ta;function mf(){return Ta||(Ta=Sh(pf))}const yf=(...e)=>{const t=mf().createApp(...e),{mount:n}=t;return t.mount=s=>{const o=vf(s);if(!o)return;const r=t._component;!ae(r)&&!r.render&&!r.template&&(r.template=o.innerHTML),o.innerHTML="";const i=n(o,!1,gf(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),i},t};function gf(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function vf(e){return Qe(e)?document.querySelector(e):e}var _f=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let Sc;const Lo=e=>Sc=e,Tc=Symbol();function Or(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var _s;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(_s||(_s={}));function bf(){const e=Pl(!0),t=e.run(()=>D({}));let n=[],s=[];const o=So({install(r){Lo(o),o._a=r,r.provide(Tc,o),r.config.globalProperties.$pinia=o,s.forEach(i=>n.push(i)),s=[]},use(r){return!this._a&&!_f?s.push(r):n.push(r),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return o}const $c=()=>{};function $a(e,t,n,s=$c){e.push(t);const o=()=>{const r=e.indexOf(t);r>-1&&(e.splice(r,1),s())};return!n&&Il()&&hd(o),o}function Bn(e,...t){e.slice().forEach(n=>{n(...t)})}const wf=e=>e();function Rr(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,s)=>e.set(s,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const s=t[n],o=e[n];Or(o)&&Or(s)&&e.hasOwnProperty(n)&&!Ve(s)&&!fn(s)?e[n]=Rr(o,s):e[n]=s}return e}const xf=Symbol();function Cf(e){return!Or(e)||!e.hasOwnProperty(xf)}const{assign:an}=Object;function kf(e){return!!(Ve(e)&&e.effect)}function Ef(e,t,n,s){const{state:o,actions:r,getters:i}=t,l=n.state.value[e];let c;function h(){l||(n.state.value[e]=o?o():{});const u=Ld(n.state.value[e]);return an(u,r,Object.keys(i||{}).reduce((d,f)=>(d[f]=So(G(()=>{Lo(n);const v=n._s.get(e);return i[f].call(v,v)})),d),{}))}return c=Ac(e,h,t,n,s,!0),c}function Ac(e,t,n={},s,o,r){let i;const l=an({actions:{}},n),c={deep:!0};let h,u,d=[],f=[],v;const _=s.state.value[e];!r&&!_&&(s.state.value[e]={}),D({});let x;function P(re){let ie;h=u=!1,typeof re=="function"?(re(s.state.value[e]),ie={type:_s.patchFunction,storeId:e,events:v}):(Rr(s.state.value[e],re),ie={type:_s.patchObject,payload:re,storeId:e,events:v});const ke=x=Symbol();bi().then(()=>{x===ke&&(h=!0)}),u=!0,Bn(d,ie,s.state.value[e])}const L=r?function(){const{state:ie}=n,ke=ie?ie():{};this.$patch(De=>{an(De,ke)})}:$c;function H(){i.stop(),d=[],f=[],s._s.delete(e)}function V(re,ie){return function(){Lo(s);const ke=Array.from(arguments),De=[],We=[];function Ye(le){De.push(le)}function mt(le){We.push(le)}Bn(f,{args:ke,name:re,store:de,after:Ye,onError:mt});let Je;try{Je=ie.apply(this&&this.$id===e?this:de,ke)}catch(le){throw Bn(We,le),le}return Je instanceof Promise?Je.then(le=>(Bn(De,le),le)).catch(le=>(Bn(We,le),Promise.reject(le))):(Bn(De,Je),Je)}}const ee={_p:s,$id:e,$onAction:$a.bind(null,f),$patch:P,$reset:L,$subscribe(re,ie={}){const ke=$a(d,re,ie.detached,()=>De()),De=i.run(()=>Bt(()=>s.state.value[e],We=>{(ie.flush==="sync"?u:h)&&re({storeId:e,type:_s.direct,events:v},We)},an({},c,ie)));return ke},$dispose:H},de=Rs(ee);s._s.set(e,de);const $e=(s._a&&s._a.runWithContext||wf)(()=>s._e.run(()=>(i=Pl()).run(t)));for(const re in $e){const ie=$e[re];if(Ve(ie)&&!kf(ie)||fn(ie))r||(_&&Cf(ie)&&(Ve(ie)?ie.value=_[re]:Rr(ie,_[re])),s.state.value[e][re]=ie);else if(typeof ie=="function"){const ke=V(re,ie);$e[re]=ke,l.actions[re]=ie}}return an(de,$e),an(be(de),$e),Object.defineProperty(de,"$state",{get:()=>s.state.value[e],set:re=>{P(ie=>{an(ie,re)})}}),s._p.forEach(re=>{an(de,i.run(()=>re({store:de,app:s._a,pinia:s,options:l})))}),_&&r&&n.hydrate&&n.hydrate(de.$state,_),h=!0,u=!0,de}function Do(e,t,n){let s,o;const r=typeof t=="function";typeof e=="string"?(s=e,o=r?n:t):(o=e,s=e.id);function i(l,c){const h=bh();return l=l||(h?$t(Tc,null):null),l&&Lo(l),l=Sc,l._s.has(s)||(r?Ac(s,t,o,l):Ef(s,o,l)),l._s.get(s)}return i.$id=s,i}const Sf="bitd-vtt-client",Tf="1.0.75",$f="module",Af={dev:"vite",colors:"node ./scripts/common-colors.mjs",build:"npm run colors && vue-tsc && vite build && node scripts/copy-index-as-404.mjs",preview:"vite preview",deploy:"node ./scripts/increment-version.mjs && npm run build && gh-pages -d dist"},Of={"@types/fast-json-patch":"^1.1.5","@types/socket.io-client":"^3.0.0","@types/string-hash":"^1.1.3","@types/uuid":"^9.0.8","@types/ws":"^8.5.10",axios:"^1.6.8",chalk:"^5.3.0","fast-json-patch":"^3.1.1","gh-pages":"^6.1.1","node-vibrant":"^3.2.1-alpha.1",pinia:"^2.1.7",rxjs:"^7.8.1","socket.io-client":"^4.7.5","string-hash":"^1.1.3",uuid:"^9.0.1",vue:"^3.4.19","vue-router":"^4.3.2",ws:"^8.17.0"},Rf={"@types/node":"^20.12.8","@vitejs/plugin-vue":"^5.0.4",sass:"^1.74.1",typescript:"^5.2.2",vite:"^5.1.4","vue-tsc":"^1.8.27"},Pf={name:Sf,private:!0,version:Tf,type:$f,scripts:Af,dependencies:Of,devDependencies:Rf},Oc=e=>(we("data-v-e5afb3c7"),e=e(),xe(),e),If=Oc(()=>a("span",{class:"online"},"online",-1)),qf=Oc(()=>a("span",{class:"in-the-dark"},"in the Dark",-1)),Nf=[If,qf],Lf=te({__name:"Logo",props:{big:{type:Boolean}},setup(e){const t=e;return(n,s)=>(b(),C("div",{class:K(["logo",{big:t.big}])},Nf,2))}}),se=(e,t)=>{const n=e.__vccOpts||e;for(const[s,o]of t)n[s]=o;return n},Rc=se(Lf,[["__scopeId","data-v-e5afb3c7"]]),Df=e=>(we("data-v-63440d07"),e=e(),xe(),e),Uf={class:"loading"},Bf=Df(()=>a("i",{class:"fas fa-circle-notch fa-spin"},null,-1)),Mf=te({__name:"LoadingModal",setup(e){return(t,n)=>(b(),C("div",Uf,[q(Rc,{big:""}),Bf]))}}),qs=se(Mf,[["__scopeId","data-v-63440d07"]]);var Pr=function(e,t){return Pr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(n[o]=s[o])},Pr(e,t)};function Uo(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Pr(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function Ir(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],s=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&s>=e.length&&(e=void 0),{value:e&&e[s++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function qr(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var s=n.call(e),o,r=[],i;try{for(;(t===void 0||t-- >0)&&!(o=s.next()).done;)r.push(o.value)}catch(l){i={error:l}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return r}function Nr(e,t,n){if(n||arguments.length===2)for(var s=0,o=t.length,r;s<o;s++)(r||!(s in t))&&(r||(r=Array.prototype.slice.call(t,0,s)),r[s]=t[s]);return e.concat(r||Array.prototype.slice.call(t))}function Yt(e){return typeof e=="function"}function Pc(e){var t=function(s){Error.call(s),s.stack=new Error().stack},n=e(t);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var rr=Pc(function(e){return function(n){e(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(s,o){return o+1+") "+s.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function Lr(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Bo=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,n,s,o,r;if(!this.closed){this.closed=!0;var i=this._parentage;if(i)if(this._parentage=null,Array.isArray(i))try{for(var l=Ir(i),c=l.next();!c.done;c=l.next()){var h=c.value;h.remove(this)}}catch(x){t={error:x}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}else i.remove(this);var u=this.initialTeardown;if(Yt(u))try{u()}catch(x){r=x instanceof rr?x.errors:[x]}var d=this._finalizers;if(d){this._finalizers=null;try{for(var f=Ir(d),v=f.next();!v.done;v=f.next()){var _=v.value;try{Aa(_)}catch(x){r=r??[],x instanceof rr?r=Nr(Nr([],qr(r)),qr(x.errors)):r.push(x)}}}catch(x){s={error:x}}finally{try{v&&!v.done&&(o=f.return)&&o.call(f)}finally{if(s)throw s.error}}}if(r)throw new rr(r)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)Aa(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}},e.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},e.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},e.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&Lr(n,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&Lr(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),Ic=Bo.EMPTY;function qc(e){return e instanceof Bo||e&&"closed"in e&&Yt(e.remove)&&Yt(e.add)&&Yt(e.unsubscribe)}function Aa(e){Yt(e)?e():e.unsubscribe()}var Nc={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Lc={setTimeout:function(e,t){for(var n=[],s=2;s<arguments.length;s++)n[s-2]=arguments[s];return setTimeout.apply(void 0,Nr([e,t],qr(n)))},clearTimeout:function(e){var t=Lc.delegate;return((t==null?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function Ff(e){Lc.setTimeout(function(){throw e})}function Oa(){}function so(e){e()}var Dc=function(e){Uo(t,e);function t(n){var s=e.call(this)||this;return s.isStopped=!1,n?(s.destination=n,qc(n)&&n.add(s)):s.destination=Vf,s}return t.create=function(n,s,o){return new Dr(n,s,o)},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(Bo),jf=Function.prototype.bind;function ir(e,t){return jf.call(e,t)}var Qf=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(s){Vs(s)}},e.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(s){Vs(s)}else Vs(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(n){Vs(n)}},e}(),Dr=function(e){Uo(t,e);function t(n,s,o){var r=e.call(this)||this,i;if(Yt(n)||!n)i={next:n??void 0,error:s??void 0,complete:o??void 0};else{var l;r&&Nc.useDeprecatedNextContext?(l=Object.create(n),l.unsubscribe=function(){return r.unsubscribe()},i={next:n.next&&ir(n.next,l),error:n.error&&ir(n.error,l),complete:n.complete&&ir(n.complete,l)}):i=n}return r.destination=new Qf(i),r}return t}(Dc);function Vs(e){Ff(e)}function Hf(e){throw e}var Vf={closed:!0,next:Oa,error:Hf,complete:Oa},Wf=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Gf(e){return e}function zf(e){return e.length===0?Gf:e.length===1?e[0]:function(n){return e.reduce(function(s,o){return o(s)},n)}}var Ra=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,s){var o=this,r=Yf(t)?t:new Dr(t,n,s);return so(function(){var i=o,l=i.operator,c=i.source;r.add(l?l.call(r,c):c?o._subscribe(r):o._trySubscribe(r))}),r},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},e.prototype.forEach=function(t,n){var s=this;return n=Pa(n),new n(function(o,r){var i=new Dr({next:function(l){try{t(l)}catch(c){r(c),i.unsubscribe()}},error:r,complete:o});s.subscribe(i)})},e.prototype._subscribe=function(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)},e.prototype[Wf]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return zf(t)(this)},e.prototype.toPromise=function(t){var n=this;return t=Pa(t),new t(function(s,o){var r;n.subscribe(function(i){return r=i},function(i){return o(i)},function(){return s(r)})})},e.create=function(t){return new e(t)},e}();function Pa(e){var t;return(t=e??Nc.Promise)!==null&&t!==void 0?t:Promise}function Kf(e){return e&&Yt(e.next)&&Yt(e.error)&&Yt(e.complete)}function Yf(e){return e&&e instanceof Dc||Kf(e)&&qc(e)}var Jf=Pc(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Uc=function(e){Uo(t,e);function t(){var n=e.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return t.prototype.lift=function(n){var s=new Ia(this,this);return s.operator=n,s},t.prototype._throwIfClosed=function(){if(this.closed)throw new Jf},t.prototype.next=function(n){var s=this;so(function(){var o,r;if(s._throwIfClosed(),!s.isStopped){s.currentObservers||(s.currentObservers=Array.from(s.observers));try{for(var i=Ir(s.currentObservers),l=i.next();!l.done;l=i.next()){var c=l.value;c.next(n)}}catch(h){o={error:h}}finally{try{l&&!l.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}}})},t.prototype.error=function(n){var s=this;so(function(){if(s._throwIfClosed(),!s.isStopped){s.hasError=s.isStopped=!0,s.thrownError=n;for(var o=s.observers;o.length;)o.shift().error(n)}})},t.prototype.complete=function(){var n=this;so(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var s=n.observers;s.length;)s.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(n){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,n)},t.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},t.prototype._innerSubscribe=function(n){var s=this,o=this,r=o.hasError,i=o.isStopped,l=o.observers;return r||i?Ic:(this.currentObservers=null,l.push(n),new Bo(function(){s.currentObservers=null,Lr(l,n)}))},t.prototype._checkFinalizedStatuses=function(n){var s=this,o=s.hasError,r=s.thrownError,i=s.isStopped;o?n.error(r):i&&n.complete()},t.prototype.asObservable=function(){var n=new Ra;return n.source=this,n},t.create=function(n,s){return new Ia(n,s)},t}(Ra),Ia=function(e){Uo(t,e);function t(n,s){var o=e.call(this)||this;return o.destination=n,o.source=s,o}return t.prototype.next=function(n){var s,o;(o=(s=this.destination)===null||s===void 0?void 0:s.next)===null||o===void 0||o.call(s,n)},t.prototype.error=function(n){var s,o;(o=(s=this.destination)===null||s===void 0?void 0:s.error)===null||o===void 0||o.call(s,n)},t.prototype.complete=function(){var n,s;(s=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||s===void 0||s.call(n)},t.prototype._subscribe=function(n){var s,o;return(o=(s=this.source)===null||s===void 0?void 0:s.subscribe(n))!==null&&o!==void 0?o:Ic},t}(Uc);class j{constructor(){ue(this,"subject",new Uc)}static getInstance(){return this.instance||(this.instance=new this)}dispatch(t){this.subject.next(t)}static open(t,n){this.getInstance().dispatch({modal:t,modalConfig:n})}static close(t){this.getInstance().dispatch({modal:null}),t&&t()}addEventListener(t){this.subject.subscribe(t)}removeEventListener(){this.subject.unsubscribe()}}ue(j,"instance",null);function Bc(e,t){return function(){return e.apply(t,arguments)}}const{toString:Xf}=Object.prototype,{getPrototypeOf:Ei}=Object,Mo=(e=>t=>{const n=Xf.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Vt=e=>(e=e.toLowerCase(),t=>Mo(t)===e),Fo=e=>t=>typeof t===e,{isArray:ss}=Array,Ts=Fo("undefined");function Zf(e){return e!==null&&!Ts(e)&&e.constructor!==null&&!Ts(e.constructor)&&_t(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Mc=Vt("ArrayBuffer");function ep(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Mc(e.buffer),t}const tp=Fo("string"),_t=Fo("function"),Fc=Fo("number"),jo=e=>e!==null&&typeof e=="object",np=e=>e===!0||e===!1,oo=e=>{if(Mo(e)!=="object")return!1;const t=Ei(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},sp=Vt("Date"),op=Vt("File"),rp=Vt("Blob"),ip=Vt("FileList"),ap=e=>jo(e)&&_t(e.pipe),lp=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||_t(e.append)&&((t=Mo(e))==="formdata"||t==="object"&&_t(e.toString)&&e.toString()==="[object FormData]"))},cp=Vt("URLSearchParams"),up=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ns(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let s,o;if(typeof e!="object"&&(e=[e]),ss(e))for(s=0,o=e.length;s<o;s++)t.call(null,e[s],s,e);else{const r=n?Object.getOwnPropertyNames(e):Object.keys(e),i=r.length;let l;for(s=0;s<i;s++)l=r[s],t.call(null,e[l],l,e)}}function jc(e,t){t=t.toLowerCase();const n=Object.keys(e);let s=n.length,o;for(;s-- >0;)if(o=n[s],t===o.toLowerCase())return o;return null}const Qc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Hc=e=>!Ts(e)&&e!==Qc;function Ur(){const{caseless:e}=Hc(this)&&this||{},t={},n=(s,o)=>{const r=e&&jc(t,o)||o;oo(t[r])&&oo(s)?t[r]=Ur(t[r],s):oo(s)?t[r]=Ur({},s):ss(s)?t[r]=s.slice():t[r]=s};for(let s=0,o=arguments.length;s<o;s++)arguments[s]&&Ns(arguments[s],n);return t}const dp=(e,t,n,{allOwnKeys:s}={})=>(Ns(t,(o,r)=>{n&&_t(o)?e[r]=Bc(o,n):e[r]=o},{allOwnKeys:s}),e),hp=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),fp=(e,t,n,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},pp=(e,t,n,s)=>{let o,r,i;const l={};if(t=t||{},e==null)return t;do{for(o=Object.getOwnPropertyNames(e),r=o.length;r-- >0;)i=o[r],(!s||s(i,e,t))&&!l[i]&&(t[i]=e[i],l[i]=!0);e=n!==!1&&Ei(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},mp=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const s=e.indexOf(t,n);return s!==-1&&s===n},yp=e=>{if(!e)return null;if(ss(e))return e;let t=e.length;if(!Fc(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},gp=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Ei(Uint8Array)),vp=(e,t)=>{const s=(e&&e[Symbol.iterator]).call(e);let o;for(;(o=s.next())&&!o.done;){const r=o.value;t.call(e,r[0],r[1])}},_p=(e,t)=>{let n;const s=[];for(;(n=e.exec(t))!==null;)s.push(n);return s},bp=Vt("HTMLFormElement"),wp=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,o){return s.toUpperCase()+o}),qa=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),xp=Vt("RegExp"),Vc=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),s={};Ns(n,(o,r)=>{let i;(i=t(o,r,e))!==!1&&(s[r]=i||o)}),Object.defineProperties(e,s)},Cp=e=>{Vc(e,(t,n)=>{if(_t(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=e[n];if(_t(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},kp=(e,t)=>{const n={},s=o=>{o.forEach(r=>{n[r]=!0})};return ss(e)?s(e):s(String(e).split(t)),n},Ep=()=>{},Sp=(e,t)=>(e=+e,Number.isFinite(e)?e:t),ar="abcdefghijklmnopqrstuvwxyz",Na="0123456789",Wc={DIGIT:Na,ALPHA:ar,ALPHA_DIGIT:ar+ar.toUpperCase()+Na},Tp=(e=16,t=Wc.ALPHA_DIGIT)=>{let n="";const{length:s}=t;for(;e--;)n+=t[Math.random()*s|0];return n};function $p(e){return!!(e&&_t(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const Ap=e=>{const t=new Array(10),n=(s,o)=>{if(jo(s)){if(t.indexOf(s)>=0)return;if(!("toJSON"in s)){t[o]=s;const r=ss(s)?[]:{};return Ns(s,(i,l)=>{const c=n(i,o+1);!Ts(c)&&(r[l]=c)}),t[o]=void 0,r}}return s};return n(e,0)},Op=Vt("AsyncFunction"),Rp=e=>e&&(jo(e)||_t(e))&&_t(e.then)&&_t(e.catch),I={isArray:ss,isArrayBuffer:Mc,isBuffer:Zf,isFormData:lp,isArrayBufferView:ep,isString:tp,isNumber:Fc,isBoolean:np,isObject:jo,isPlainObject:oo,isUndefined:Ts,isDate:sp,isFile:op,isBlob:rp,isRegExp:xp,isFunction:_t,isStream:ap,isURLSearchParams:cp,isTypedArray:gp,isFileList:ip,forEach:Ns,merge:Ur,extend:dp,trim:up,stripBOM:hp,inherits:fp,toFlatObject:pp,kindOf:Mo,kindOfTest:Vt,endsWith:mp,toArray:yp,forEachEntry:vp,matchAll:_p,isHTMLForm:bp,hasOwnProperty:qa,hasOwnProp:qa,reduceDescriptors:Vc,freezeMethods:Cp,toObjectSet:kp,toCamelCase:wp,noop:Ep,toFiniteNumber:Sp,findKey:jc,global:Qc,isContextDefined:Hc,ALPHABET:Wc,generateString:Tp,isSpecCompliantForm:$p,toJSONObject:Ap,isAsyncFn:Op,isThenable:Rp};function ve(e,t,n,s,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),s&&(this.request=s),o&&(this.response=o)}I.inherits(ve,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:I.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Gc=ve.prototype,zc={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{zc[e]={value:e}});Object.defineProperties(ve,zc);Object.defineProperty(Gc,"isAxiosError",{value:!0});ve.from=(e,t,n,s,o,r)=>{const i=Object.create(Gc);return I.toFlatObject(e,i,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),ve.call(i,e.message,t,n,s,o),i.cause=e,i.name=e.name,r&&Object.assign(i,r),i};const Pp=null;function Br(e){return I.isPlainObject(e)||I.isArray(e)}function Kc(e){return I.endsWith(e,"[]")?e.slice(0,-2):e}function La(e,t,n){return e?e.concat(t).map(function(o,r){return o=Kc(o),!n&&r?"["+o+"]":o}).join(n?".":""):t}function Ip(e){return I.isArray(e)&&!e.some(Br)}const qp=I.toFlatObject(I,{},null,function(t){return/^is[A-Z]/.test(t)});function Qo(e,t,n){if(!I.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=I.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,P){return!I.isUndefined(P[x])});const s=n.metaTokens,o=n.visitor||u,r=n.dots,i=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&I.isSpecCompliantForm(t);if(!I.isFunction(o))throw new TypeError("visitor must be a function");function h(_){if(_===null)return"";if(I.isDate(_))return _.toISOString();if(!c&&I.isBlob(_))throw new ve("Blob is not supported. Use a Buffer instead.");return I.isArrayBuffer(_)||I.isTypedArray(_)?c&&typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}function u(_,x,P){let L=_;if(_&&!P&&typeof _=="object"){if(I.endsWith(x,"{}"))x=s?x:x.slice(0,-2),_=JSON.stringify(_);else if(I.isArray(_)&&Ip(_)||(I.isFileList(_)||I.endsWith(x,"[]"))&&(L=I.toArray(_)))return x=Kc(x),L.forEach(function(V,ee){!(I.isUndefined(V)||V===null)&&t.append(i===!0?La([x],ee,r):i===null?x:x+"[]",h(V))}),!1}return Br(_)?!0:(t.append(La(P,x,r),h(_)),!1)}const d=[],f=Object.assign(qp,{defaultVisitor:u,convertValue:h,isVisitable:Br});function v(_,x){if(!I.isUndefined(_)){if(d.indexOf(_)!==-1)throw Error("Circular reference detected in "+x.join("."));d.push(_),I.forEach(_,function(L,H){(!(I.isUndefined(L)||L===null)&&o.call(t,L,I.isString(H)?H.trim():H,x,f))===!0&&v(L,x?x.concat(H):[H])}),d.pop()}}if(!I.isObject(e))throw new TypeError("data must be an object");return v(e),t}function Da(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function Si(e,t){this._pairs=[],e&&Qo(e,this,t)}const Yc=Si.prototype;Yc.append=function(t,n){this._pairs.push([t,n])};Yc.toString=function(t){const n=t?function(s){return t.call(this,s,Da)}:Da;return this._pairs.map(function(o){return n(o[0])+"="+n(o[1])},"").join("&")};function Np(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Jc(e,t,n){if(!t)return e;const s=n&&n.encode||Np,o=n&&n.serialize;let r;if(o?r=o(t,n):r=I.isURLSearchParams(t)?t.toString():new Si(t,n).toString(s),r){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+r}return e}class Ua{constructor(){this.handlers=[]}use(t,n,s){return this.handlers.push({fulfilled:t,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){I.forEach(this.handlers,function(s){s!==null&&t(s)})}}const Xc={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Lp=typeof URLSearchParams<"u"?URLSearchParams:Si,Dp=typeof FormData<"u"?FormData:null,Up=typeof Blob<"u"?Blob:null,Bp={isBrowser:!0,classes:{URLSearchParams:Lp,FormData:Dp,Blob:Up},protocols:["http","https","file","blob","url","data"]},Zc=typeof window<"u"&&typeof document<"u",Mp=(e=>Zc&&["ReactNative","NativeScript","NS"].indexOf(e)<0)(typeof navigator<"u"&&navigator.product),Fp=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",jp=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Zc,hasStandardBrowserEnv:Mp,hasStandardBrowserWebWorkerEnv:Fp},Symbol.toStringTag,{value:"Module"})),Ut={...jp,...Bp};function Qp(e,t){return Qo(e,new Ut.classes.URLSearchParams,Object.assign({visitor:function(n,s,o,r){return Ut.isNode&&I.isBuffer(n)?(this.append(s,n.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}function Hp(e){return I.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Vp(e){const t={},n=Object.keys(e);let s;const o=n.length;let r;for(s=0;s<o;s++)r=n[s],t[r]=e[r];return t}function eu(e){function t(n,s,o,r){let i=n[r++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),c=r>=n.length;return i=!i&&I.isArray(o)?o.length:i,c?(I.hasOwnProp(o,i)?o[i]=[o[i],s]:o[i]=s,!l):((!o[i]||!I.isObject(o[i]))&&(o[i]=[]),t(n,s,o[i],r)&&I.isArray(o[i])&&(o[i]=Vp(o[i])),!l)}if(I.isFormData(e)&&I.isFunction(e.entries)){const n={};return I.forEachEntry(e,(s,o)=>{t(Hp(s),o,n,0)}),n}return null}function Wp(e,t,n){if(I.isString(e))try{return(t||JSON.parse)(e),I.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(e)}const Ls={transitional:Xc,adapter:["xhr","http"],transformRequest:[function(t,n){const s=n.getContentType()||"",o=s.indexOf("application/json")>-1,r=I.isObject(t);if(r&&I.isHTMLForm(t)&&(t=new FormData(t)),I.isFormData(t))return o?JSON.stringify(eu(t)):t;if(I.isArrayBuffer(t)||I.isBuffer(t)||I.isStream(t)||I.isFile(t)||I.isBlob(t))return t;if(I.isArrayBufferView(t))return t.buffer;if(I.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(r){if(s.indexOf("application/x-www-form-urlencoded")>-1)return Qp(t,this.formSerializer).toString();if((l=I.isFileList(t))||s.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Qo(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return r||o?(n.setContentType("application/json",!1),Wp(t)):t}],transformResponse:[function(t){const n=this.transitional||Ls.transitional,s=n&&n.forcedJSONParsing,o=this.responseType==="json";if(t&&I.isString(t)&&(s&&!this.responseType||o)){const i=!(n&&n.silentJSONParsing)&&o;try{return JSON.parse(t)}catch(l){if(i)throw l.name==="SyntaxError"?ve.from(l,ve.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ut.classes.FormData,Blob:Ut.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};I.forEach(["delete","get","head","post","put","patch"],e=>{Ls.headers[e]={}});const Gp=I.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),zp=e=>{const t={};let n,s,o;return e&&e.split(`
`).forEach(function(i){o=i.indexOf(":"),n=i.substring(0,o).trim().toLowerCase(),s=i.substring(o+1).trim(),!(!n||t[n]&&Gp[n])&&(n==="set-cookie"?t[n]?t[n].push(s):t[n]=[s]:t[n]=t[n]?t[n]+", "+s:s)}),t},Ba=Symbol("internals");function us(e){return e&&String(e).trim().toLowerCase()}function ro(e){return e===!1||e==null?e:I.isArray(e)?e.map(ro):String(e)}function Kp(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(e);)t[s[1]]=s[2];return t}const Yp=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function lr(e,t,n,s,o){if(I.isFunction(s))return s.call(this,t,n);if(o&&(t=n),!!I.isString(t)){if(I.isString(s))return t.indexOf(s)!==-1;if(I.isRegExp(s))return s.test(t)}}function Jp(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,s)=>n.toUpperCase()+s)}function Xp(e,t){const n=I.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+n,{value:function(o,r,i){return this[s].call(this,t,o,r,i)},configurable:!0})})}let bt=class{constructor(t){t&&this.set(t)}set(t,n,s){const o=this;function r(l,c,h){const u=us(c);if(!u)throw new Error("header name must be a non-empty string");const d=I.findKey(o,u);(!d||o[d]===void 0||h===!0||h===void 0&&o[d]!==!1)&&(o[d||c]=ro(l))}const i=(l,c)=>I.forEach(l,(h,u)=>r(h,u,c));return I.isPlainObject(t)||t instanceof this.constructor?i(t,n):I.isString(t)&&(t=t.trim())&&!Yp(t)?i(zp(t),n):t!=null&&r(n,t,s),this}get(t,n){if(t=us(t),t){const s=I.findKey(this,t);if(s){const o=this[s];if(!n)return o;if(n===!0)return Kp(o);if(I.isFunction(n))return n.call(this,o,s);if(I.isRegExp(n))return n.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=us(t),t){const s=I.findKey(this,t);return!!(s&&this[s]!==void 0&&(!n||lr(this,this[s],s,n)))}return!1}delete(t,n){const s=this;let o=!1;function r(i){if(i=us(i),i){const l=I.findKey(s,i);l&&(!n||lr(s,s[l],l,n))&&(delete s[l],o=!0)}}return I.isArray(t)?t.forEach(r):r(t),o}clear(t){const n=Object.keys(this);let s=n.length,o=!1;for(;s--;){const r=n[s];(!t||lr(this,this[r],r,t,!0))&&(delete this[r],o=!0)}return o}normalize(t){const n=this,s={};return I.forEach(this,(o,r)=>{const i=I.findKey(s,r);if(i){n[i]=ro(o),delete n[r];return}const l=t?Jp(r):String(r).trim();l!==r&&delete n[r],n[l]=ro(o),s[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return I.forEach(this,(s,o)=>{s!=null&&s!==!1&&(n[o]=t&&I.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const s=new this(t);return n.forEach(o=>s.set(o)),s}static accessor(t){const s=(this[Ba]=this[Ba]={accessors:{}}).accessors,o=this.prototype;function r(i){const l=us(i);s[l]||(Xp(o,i),s[l]=!0)}return I.isArray(t)?t.forEach(r):r(t),this}};bt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);I.reduceDescriptors(bt.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[n]=s}}});I.freezeMethods(bt);function cr(e,t){const n=this||Ls,s=t||n,o=bt.from(s.headers);let r=s.data;return I.forEach(e,function(l){r=l.call(n,r,o.normalize(),t?t.status:void 0)}),o.normalize(),r}function tu(e){return!!(e&&e.__CANCEL__)}function Ds(e,t,n){ve.call(this,e??"canceled",ve.ERR_CANCELED,t,n),this.name="CanceledError"}I.inherits(Ds,ve,{__CANCEL__:!0});function Zp(e,t,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?e(n):t(new ve("Request failed with status code "+n.status,[ve.ERR_BAD_REQUEST,ve.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const em=Ut.hasStandardBrowserEnv?{write(e,t,n,s,o,r){const i=[e+"="+encodeURIComponent(t)];I.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),I.isString(s)&&i.push("path="+s),I.isString(o)&&i.push("domain="+o),r===!0&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function tm(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function nm(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function nu(e,t){return e&&!tm(t)?nm(e,t):t}const sm=Ut.hasStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let s;function o(r){let i=r;return t&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return s=o(window.location.href),function(i){const l=I.isString(i)?o(i):i;return l.protocol===s.protocol&&l.host===s.host}}():function(){return function(){return!0}}();function om(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function rm(e,t){e=e||10;const n=new Array(e),s=new Array(e);let o=0,r=0,i;return t=t!==void 0?t:1e3,function(c){const h=Date.now(),u=s[r];i||(i=h),n[o]=c,s[o]=h;let d=r,f=0;for(;d!==o;)f+=n[d++],d=d%e;if(o=(o+1)%e,o===r&&(r=(r+1)%e),h-i<t)return;const v=u&&h-u;return v?Math.round(f*1e3/v):void 0}}function Ma(e,t){let n=0;const s=rm(50,250);return o=>{const r=o.loaded,i=o.lengthComputable?o.total:void 0,l=r-n,c=s(l),h=r<=i;n=r;const u={loaded:r,total:i,progress:i?r/i:void 0,bytes:l,rate:c||void 0,estimated:c&&i&&h?(i-r)/c:void 0,event:o};u[t?"download":"upload"]=!0,e(u)}}const im=typeof XMLHttpRequest<"u",am=im&&function(e){return new Promise(function(n,s){let o=e.data;const r=bt.from(e.headers).normalize();let{responseType:i,withXSRFToken:l}=e,c;function h(){e.cancelToken&&e.cancelToken.unsubscribe(c),e.signal&&e.signal.removeEventListener("abort",c)}let u;if(I.isFormData(o)){if(Ut.hasStandardBrowserEnv||Ut.hasStandardBrowserWebWorkerEnv)r.setContentType(!1);else if((u=r.getContentType())!==!1){const[x,...P]=u?u.split(";").map(L=>L.trim()).filter(Boolean):[];r.setContentType([x||"multipart/form-data",...P].join("; "))}}let d=new XMLHttpRequest;if(e.auth){const x=e.auth.username||"",P=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";r.set("Authorization","Basic "+btoa(x+":"+P))}const f=nu(e.baseURL,e.url);d.open(e.method.toUpperCase(),Jc(f,e.params,e.paramsSerializer),!0),d.timeout=e.timeout;function v(){if(!d)return;const x=bt.from("getAllResponseHeaders"in d&&d.getAllResponseHeaders()),L={data:!i||i==="text"||i==="json"?d.responseText:d.response,status:d.status,statusText:d.statusText,headers:x,config:e,request:d};Zp(function(V){n(V),h()},function(V){s(V),h()},L),d=null}if("onloadend"in d?d.onloadend=v:d.onreadystatechange=function(){!d||d.readyState!==4||d.status===0&&!(d.responseURL&&d.responseURL.indexOf("file:")===0)||setTimeout(v)},d.onabort=function(){d&&(s(new ve("Request aborted",ve.ECONNABORTED,e,d)),d=null)},d.onerror=function(){s(new ve("Network Error",ve.ERR_NETWORK,e,d)),d=null},d.ontimeout=function(){let P=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const L=e.transitional||Xc;e.timeoutErrorMessage&&(P=e.timeoutErrorMessage),s(new ve(P,L.clarifyTimeoutError?ve.ETIMEDOUT:ve.ECONNABORTED,e,d)),d=null},Ut.hasStandardBrowserEnv&&(l&&I.isFunction(l)&&(l=l(e)),l||l!==!1&&sm(f))){const x=e.xsrfHeaderName&&e.xsrfCookieName&&em.read(e.xsrfCookieName);x&&r.set(e.xsrfHeaderName,x)}o===void 0&&r.setContentType(null),"setRequestHeader"in d&&I.forEach(r.toJSON(),function(P,L){d.setRequestHeader(L,P)}),I.isUndefined(e.withCredentials)||(d.withCredentials=!!e.withCredentials),i&&i!=="json"&&(d.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&d.addEventListener("progress",Ma(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&d.upload&&d.upload.addEventListener("progress",Ma(e.onUploadProgress)),(e.cancelToken||e.signal)&&(c=x=>{d&&(s(!x||x.type?new Ds(null,e,d):x),d.abort(),d=null)},e.cancelToken&&e.cancelToken.subscribe(c),e.signal&&(e.signal.aborted?c():e.signal.addEventListener("abort",c)));const _=om(f);if(_&&Ut.protocols.indexOf(_)===-1){s(new ve("Unsupported protocol "+_+":",ve.ERR_BAD_REQUEST,e));return}d.send(o||null)})},Mr={http:Pp,xhr:am};I.forEach(Mr,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Fa=e=>`- ${e}`,lm=e=>I.isFunction(e)||e===null||e===!1,su={getAdapter:e=>{e=I.isArray(e)?e:[e];const{length:t}=e;let n,s;const o={};for(let r=0;r<t;r++){n=e[r];let i;if(s=n,!lm(n)&&(s=Mr[(i=String(n)).toLowerCase()],s===void 0))throw new ve(`Unknown adapter '${i}'`);if(s)break;o[i||"#"+r]=s}if(!s){const r=Object.entries(o).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let i=t?r.length>1?`since :
`+r.map(Fa).join(`
`):" "+Fa(r[0]):"as no adapter specified";throw new ve("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return s},adapters:Mr};function ur(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ds(null,e)}function ja(e){return ur(e),e.headers=bt.from(e.headers),e.data=cr.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),su.getAdapter(e.adapter||Ls.adapter)(e).then(function(s){return ur(e),s.data=cr.call(e,e.transformResponse,s),s.headers=bt.from(s.headers),s},function(s){return tu(s)||(ur(e),s&&s.response&&(s.response.data=cr.call(e,e.transformResponse,s.response),s.response.headers=bt.from(s.response.headers))),Promise.reject(s)})}const Qa=e=>e instanceof bt?{...e}:e;function Xn(e,t){t=t||{};const n={};function s(h,u,d){return I.isPlainObject(h)&&I.isPlainObject(u)?I.merge.call({caseless:d},h,u):I.isPlainObject(u)?I.merge({},u):I.isArray(u)?u.slice():u}function o(h,u,d){if(I.isUndefined(u)){if(!I.isUndefined(h))return s(void 0,h,d)}else return s(h,u,d)}function r(h,u){if(!I.isUndefined(u))return s(void 0,u)}function i(h,u){if(I.isUndefined(u)){if(!I.isUndefined(h))return s(void 0,h)}else return s(void 0,u)}function l(h,u,d){if(d in t)return s(h,u);if(d in e)return s(void 0,h)}const c={url:r,method:r,data:r,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(h,u)=>o(Qa(h),Qa(u),!0)};return I.forEach(Object.keys(Object.assign({},e,t)),function(u){const d=c[u]||o,f=d(e[u],t[u],u);I.isUndefined(f)&&d!==l||(n[u]=f)}),n}const ou="1.6.8",Ti={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Ti[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const Ha={};Ti.transitional=function(t,n,s){function o(r,i){return"[Axios v"+ou+"] Transitional option '"+r+"'"+i+(s?". "+s:"")}return(r,i,l)=>{if(t===!1)throw new ve(o(i," has been removed"+(n?" in "+n:"")),ve.ERR_DEPRECATED);return n&&!Ha[i]&&(Ha[i]=!0,console.warn(o(i," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(r,i,l):!0}};function cm(e,t,n){if(typeof e!="object")throw new ve("options must be an object",ve.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let o=s.length;for(;o-- >0;){const r=s[o],i=t[r];if(i){const l=e[r],c=l===void 0||i(l,r,e);if(c!==!0)throw new ve("option "+r+" must be "+c,ve.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ve("Unknown option "+r,ve.ERR_BAD_OPTION)}}const Fr={assertOptions:cm,validators:Ti},on=Fr.validators;let Rn=class{constructor(t){this.defaults=t,this.interceptors={request:new Ua,response:new Ua}}async request(t,n){try{return await this._request(t,n)}catch(s){if(s instanceof Error){let o;Error.captureStackTrace?Error.captureStackTrace(o={}):o=new Error;const r=o.stack?o.stack.replace(/^.+\n/,""):"";s.stack?r&&!String(s.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+r):s.stack=r}throw s}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Xn(this.defaults,n);const{transitional:s,paramsSerializer:o,headers:r}=n;s!==void 0&&Fr.assertOptions(s,{silentJSONParsing:on.transitional(on.boolean),forcedJSONParsing:on.transitional(on.boolean),clarifyTimeoutError:on.transitional(on.boolean)},!1),o!=null&&(I.isFunction(o)?n.paramsSerializer={serialize:o}:Fr.assertOptions(o,{encode:on.function,serialize:on.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let i=r&&I.merge(r.common,r[n.method]);r&&I.forEach(["delete","get","head","post","put","patch","common"],_=>{delete r[_]}),n.headers=bt.concat(i,r);const l=[];let c=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(n)===!1||(c=c&&x.synchronous,l.unshift(x.fulfilled,x.rejected))});const h=[];this.interceptors.response.forEach(function(x){h.push(x.fulfilled,x.rejected)});let u,d=0,f;if(!c){const _=[ja.bind(this),void 0];for(_.unshift.apply(_,l),_.push.apply(_,h),f=_.length,u=Promise.resolve(n);d<f;)u=u.then(_[d++],_[d++]);return u}f=l.length;let v=n;for(d=0;d<f;){const _=l[d++],x=l[d++];try{v=_(v)}catch(P){x.call(this,P);break}}try{u=ja.call(this,v)}catch(_){return Promise.reject(_)}for(d=0,f=h.length;d<f;)u=u.then(h[d++],h[d++]);return u}getUri(t){t=Xn(this.defaults,t);const n=nu(t.baseURL,t.url);return Jc(n,t.params,t.paramsSerializer)}};I.forEach(["delete","get","head","options"],function(t){Rn.prototype[t]=function(n,s){return this.request(Xn(s||{},{method:t,url:n,data:(s||{}).data}))}});I.forEach(["post","put","patch"],function(t){function n(s){return function(r,i,l){return this.request(Xn(l||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:r,data:i}))}}Rn.prototype[t]=n(),Rn.prototype[t+"Form"]=n(!0)});let um=class ru{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(r){n=r});const s=this;this.promise.then(o=>{if(!s._listeners)return;let r=s._listeners.length;for(;r-- >0;)s._listeners[r](o);s._listeners=null}),this.promise.then=o=>{let r;const i=new Promise(l=>{s.subscribe(l),r=l}).then(o);return i.cancel=function(){s.unsubscribe(r)},i},t(function(r,i,l){s.reason||(s.reason=new Ds(r,i,l),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}static source(){let t;return{token:new ru(function(o){t=o}),cancel:t}}};function dm(e){return function(n){return e.apply(null,n)}}function hm(e){return I.isObject(e)&&e.isAxiosError===!0}const jr={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(jr).forEach(([e,t])=>{jr[t]=e});function iu(e){const t=new Rn(e),n=Bc(Rn.prototype.request,t);return I.extend(n,Rn.prototype,t,{allOwnKeys:!0}),I.extend(n,t,null,{allOwnKeys:!0}),n.create=function(o){return iu(Xn(e,o))},n}const Me=iu(Ls);Me.Axios=Rn;Me.CanceledError=Ds;Me.CancelToken=um;Me.isCancel=tu;Me.VERSION=ou;Me.toFormData=Qo;Me.AxiosError=ve;Me.Cancel=Me.CanceledError;Me.all=function(t){return Promise.all(t)};Me.spread=dm;Me.isAxiosError=hm;Me.mergeConfig=Xn;Me.AxiosHeaders=bt;Me.formToJSON=e=>eu(I.isHTMLForm(e)?new FormData(e):e);Me.getAdapter=su.getAdapter;Me.HttpStatusCode=jr;Me.default=Me;const{Axios:x$,AxiosError:C$,CanceledError:k$,isCancel:E$,CancelToken:S$,VERSION:T$,all:$$,Cancel:A$,isAxiosError:O$,spread:R$,toFormData:P$,AxiosHeaders:I$,HttpStatusCode:Zt,formToJSON:q$,getAdapter:N$,mergeConfig:L$}=Me,st=Do("auth",()=>{const e=D(),t=D(),n=localStorage.getItem("refreshToken");n&&(e.value=n);const s=r=>{e.value=r,r?localStorage.setItem("refreshToken",r):localStorage.removeItem("refreshToken")};return{accessToken:t,refreshToken:e,storeRefreshToken:s,clear:()=>{s(null),t.value=null}}}),$i=location.hostname==="localhost"?"http://localhost:3005":"https://bitd-vtt-server-production.up.railway.app";console.log("BASE_URL:",$i);const et=Me.create({baseURL:$i,timeout:1e4,withCredentials:!0,headers:{"Content-Type":"application/json"}});function fm(){pm()}function pm(){et.interceptors.request.use(async e=>(e||(e={}),e.headers.Authorization=`Bearer ${st().accessToken}`,e)),et.interceptors.response.use(e=>e,async e=>{var n,s,o,r;const t=["/auth/token","/account/login","/account/register"];if(((n=e.response)==null?void 0:n.status)===Zt.Unauthorized&&!t.includes(e.config.url)){if((s=e.config.url)!=null&&s.includes("/auth/token"))return st().clear(),Qt.push("/login"),Promise.reject("Invalid refresh token");if(!st().refreshToken)return Promise.reject(((r=(o=e.response)==null?void 0:o.data)==null?void 0:r.message)||"No refresh token found");await au();const i=e.config;return i.headers.Authorization=`Bearer ${st().accessToken}`,et(i)}return Promise.reject(e)})}async function au(){let e;try{console.log("@fetchAccessToken: refreshToken:",st().refreshToken),e=await et.put("/auth/token",{refreshToken:st().refreshToken})}catch{console.error("Invalid refresh token"),Hi();return}st().accessToken=e.data.accessToken}const Qr=[{id:"791e4a6b-8f2e-41b2-8410-09fdb69d22e2",name:"Crystal",author:"Icons8",source:"https://icons8.com",url:"/images/portrait-images/icons8-crystal-100.png",commonColor:"#8E3E63"},{id:"762c4875-c258-443a-8d88-adeaab82b31c",name:"Joker",author:"Icons8",source:"https://icons8.com",url:"/images/portrait-images/icons8-joker-100.png",commonColor:"#D2649A"},{id:"a1bee44a-c856-4f54-b665-4de8c278d117",name:"Battle",author:"Icons8",source:"https://icons8.com",url:"/images/portrait-images/icons8-battle-100.png",commonColor:"#577B8D"},{id:"7d5f18bc-a32d-4aca-a51d-507b827c8683",name:"Pawn",author:"Icons8",source:"https://icons8.com",url:"/images/portrait-images/icons8-pawn-100.png",commonColor:"#40A578"},{id:"5895f6e3-05b7-42e4-9b5f-19bb3d4ca33e",name:"Rook",author:"Icons8",source:"https://icons8.com",url:"/images/portrait-images/icons8-rook-100.png",commonColor:"#A91D3A"}],Ce=Do("user",()=>{const e=D(),t=D(),n=D(!0),s=D(),o=D([]),r=D([...Qr]);return{id:e,username:t,portrait:s,isGuest:n,games:o,clear:()=>{e.value=null,t.value=null,s.value=null,n.value=!0,o.value=[]},portraits:r}}),Re=Do("game",()=>{const e=D(null),t=()=>{e.value=null},n=G(()=>{var s;return(s=e.value)==null?void 0:s.players[Ce().id]});return{game:e,userPlayer:n,clear:t}});/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */var mm=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,o){s.__proto__=o}||function(s,o){for(var r in o)o.hasOwnProperty(r)&&(s[r]=o[r])},e(t,n)};return function(t,n){e(t,n);function s(){this.constructor=t}t.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}}(),ym=Object.prototype.hasOwnProperty;function Hr(e,t){return ym.call(e,t)}function Vr(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var s=[];for(var o in e)Hr(e,o)&&s.push(o);return s}function pt(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function Wr(e){for(var t=0,n=e.length,s;t<n;){if(s=e.charCodeAt(t),s>=48&&s<=57){t++;continue}return!1}return!0}function kn(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function lu(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function Gr(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(Gr(e[t]))return!0}else if(typeof e=="object"){for(var s=Vr(e),o=s.length,r=0;r<o;r++)if(Gr(e[s[r]]))return!0}}return!1}function Va(e,t){var n=[e];for(var s in t){var o=typeof t[s]=="object"?JSON.stringify(t[s],null,2):t[s];typeof o<"u"&&n.push(s+": "+o)}return n.join(`
`)}var cu=function(e){mm(t,e);function t(n,s,o,r,i){var l=this.constructor,c=e.call(this,Va(n,{name:s,index:o,operation:r,tree:i}))||this;return c.name=s,c.index=o,c.operation=r,c.tree=i,Object.setPrototypeOf(c,l.prototype),c.message=Va(n,{name:s,index:o,operation:r,tree:i}),c}return t}(Error),Ue=cu,gm=pt,Hn={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var s=e[t];return delete e[t],{newDocument:n,removed:s}},replace:function(e,t,n){var s=e[t];return e[t]=this.value,{newDocument:n,removed:s}},move:function(e,t,n){var s=vo(n,this.path);s&&(s=pt(s));var o=Pn(n,{op:"remove",path:this.from}).removed;return Pn(n,{op:"add",path:this.path,value:o}),{newDocument:n,removed:s}},copy:function(e,t,n){var s=vo(n,this.from);return Pn(n,{op:"add",path:this.path,value:pt(s)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:$s(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},vm={add:function(e,t,n){return Wr(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){var s=e.splice(t,1);return{newDocument:n,removed:s[0]}},replace:function(e,t,n){var s=e[t];return e[t]=this.value,{newDocument:n,removed:s}},move:Hn.move,copy:Hn.copy,test:Hn.test,_get:Hn._get};function vo(e,t){if(t=="")return e;var n={op:"_get",path:t};return Pn(e,n),n.value}function Pn(e,t,n,s,o,r){if(n===void 0&&(n=!1),s===void 0&&(s=!0),o===void 0&&(o=!0),r===void 0&&(r=0),n&&(typeof n=="function"?n(t,0,e,t.path):_o(t,0)),t.path===""){var i={newDocument:e};if(t.op==="add")return i.newDocument=t.value,i;if(t.op==="replace")return i.newDocument=t.value,i.removed=e,i;if(t.op==="move"||t.op==="copy")return i.newDocument=vo(e,t.from),t.op==="move"&&(i.removed=e),i;if(t.op==="test"){if(i.test=$s(e,t.value),i.test===!1)throw new Ue("Test operation failed","TEST_OPERATION_FAILED",r,t,e);return i.newDocument=e,i}else{if(t.op==="remove")return i.removed=e,i.newDocument=null,i;if(t.op==="_get")return t.value=e,i;if(n)throw new Ue("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",r,t,e);return i}}else{s||(e=pt(e));var l=t.path||"",c=l.split("/"),h=e,u=1,d=c.length,f=void 0,v=void 0,_=void 0;for(typeof n=="function"?_=n:_=_o;;){if(v=c[u],v&&v.indexOf("~")!=-1&&(v=lu(v)),o&&(v=="__proto__"||v=="prototype"&&u>0&&c[u-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&f===void 0&&(h[v]===void 0?f=c.slice(0,u).join("/"):u==d-1&&(f=t.path),f!==void 0&&_(t,0,e,f)),u++,Array.isArray(h)){if(v==="-")v=h.length;else{if(n&&!Wr(v))throw new Ue("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",r,t,e);Wr(v)&&(v=~~v)}if(u>=d){if(n&&t.op==="add"&&v>h.length)throw new Ue("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",r,t,e);var i=vm[t.op].call(t,h,v,e);if(i.test===!1)throw new Ue("Test operation failed","TEST_OPERATION_FAILED",r,t,e);return i}}else if(u>=d){var i=Hn[t.op].call(t,h,v,e);if(i.test===!1)throw new Ue("Test operation failed","TEST_OPERATION_FAILED",r,t,e);return i}if(h=h[v],n&&u<d&&(!h||typeof h!="object"))throw new Ue("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",r,t,e)}}}function Ho(e,t,n,s,o){if(s===void 0&&(s=!0),o===void 0&&(o=!0),n&&!Array.isArray(t))throw new Ue("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");s||(e=pt(e));for(var r=new Array(t.length),i=0,l=t.length;i<l;i++)r[i]=Pn(e,t[i],n,!0,o,i),e=r[i].newDocument;return r.newDocument=e,r}function _m(e,t,n){var s=Pn(e,t);if(s.test===!1)throw new Ue("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return s.newDocument}function _o(e,t,n,s){if(typeof e!="object"||e===null||Array.isArray(e))throw new Ue("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(Hn[e.op]){if(typeof e.path!="string")throw new Ue("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new Ue('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new Ue("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new Ue("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&Gr(e.value))throw new Ue("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n){if(e.op=="add"){var o=e.path.split("/").length,r=s.split("/").length;if(o!==r+1&&o!==r)throw new Ue("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==s)throw new Ue("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if(e.op==="move"||e.op==="copy"){var i={op:"_get",path:e.from,value:void 0},l=uu([i],n);if(l&&l.name==="OPERATION_PATH_UNRESOLVABLE")throw new Ue("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}}else throw new Ue("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n)}function uu(e,t,n){try{if(!Array.isArray(e))throw new Ue("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)Ho(pt(t),pt(e),n||!0);else{n=n||_o;for(var s=0;s<e.length;s++)n(e[s],s,t,void 0)}}catch(o){if(o instanceof Ue)return o;throw o}}function $s(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=Array.isArray(e),s=Array.isArray(t),o,r,i;if(n&&s){if(r=e.length,r!=t.length)return!1;for(o=r;o--!==0;)if(!$s(e[o],t[o]))return!1;return!0}if(n!=s)return!1;var l=Object.keys(e);if(r=l.length,r!==Object.keys(t).length)return!1;for(o=r;o--!==0;)if(!t.hasOwnProperty(l[o]))return!1;for(o=r;o--!==0;)if(i=l[o],!$s(e[i],t[i]))return!1;return!0}return e!==e&&t!==t}const bm=Object.freeze(Object.defineProperty({__proto__:null,JsonPatchError:Ue,_areEquals:$s,applyOperation:Pn,applyPatch:Ho,applyReducer:_m,deepClone:gm,getValueByPointer:vo,validate:uu,validator:_o},Symbol.toStringTag,{value:"Module"}));/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2021 Joachim Wester
 * MIT license
 */var Ai=new WeakMap,wm=function(){function e(t){this.observers=new Map,this.obj=t}return e}(),xm=function(){function e(t,n){this.callback=t,this.observer=n}return e}();function Cm(e){return Ai.get(e)}function km(e,t){return e.observers.get(t)}function Em(e,t){e.observers.delete(t.callback)}function Sm(e,t){t.unobserve()}function Tm(e,t){var n=[],s,o=Cm(e);if(!o)o=new wm(e),Ai.set(e,o);else{var r=km(o,t);s=r&&r.observer}if(s)return s;if(s={},o.value=pt(e),t){s.callback=t,s.next=null;var i=function(){zr(s)},l=function(){clearTimeout(s.next),s.next=setTimeout(i)};typeof window<"u"&&(window.addEventListener("mouseup",l),window.addEventListener("keyup",l),window.addEventListener("mousedown",l),window.addEventListener("keydown",l),window.addEventListener("change",l))}return s.patches=n,s.object=e,s.unobserve=function(){zr(s),clearTimeout(s.next),Em(o,s),typeof window<"u"&&(window.removeEventListener("mouseup",l),window.removeEventListener("keyup",l),window.removeEventListener("mousedown",l),window.removeEventListener("keydown",l),window.removeEventListener("change",l))},o.observers.set(t,new xm(t,s)),s}function zr(e,t){t===void 0&&(t=!1);var n=Ai.get(e.object);Oi(n.value,e.object,e.patches,"",t),e.patches.length&&Ho(n.value,e.patches);var s=e.patches;return s.length>0&&(e.patches=[],e.callback&&e.callback(s)),s}function Oi(e,t,n,s,o){if(t!==e){typeof t.toJSON=="function"&&(t=t.toJSON());for(var r=Vr(t),i=Vr(e),l=!1,c=i.length-1;c>=0;c--){var h=i[c],u=e[h];if(Hr(t,h)&&!(t[h]===void 0&&u!==void 0&&Array.isArray(t)===!1)){var d=t[h];typeof u=="object"&&u!=null&&typeof d=="object"&&d!=null&&Array.isArray(u)===Array.isArray(d)?Oi(u,d,n,s+"/"+kn(h),o):u!==d&&(o&&n.push({op:"test",path:s+"/"+kn(h),value:pt(u)}),n.push({op:"replace",path:s+"/"+kn(h),value:pt(d)}))}else Array.isArray(e)===Array.isArray(t)?(o&&n.push({op:"test",path:s+"/"+kn(h),value:pt(u)}),n.push({op:"remove",path:s+"/"+kn(h)}),l=!0):(o&&n.push({op:"test",path:s,value:e}),n.push({op:"replace",path:s,value:t}))}if(!(!l&&r.length==i.length))for(var c=0;c<r.length;c++){var h=r[c];!Hr(e,h)&&t[h]!==void 0&&n.push({op:"add",path:s+"/"+kn(h),value:pt(t[h])})}}}function $m(e,t,n){n===void 0&&(n=!1);var s=[];return Oi(e,t,s,"",n),s}const Am=Object.freeze(Object.defineProperty({__proto__:null,compare:$m,generate:zr,observe:Tm,unobserve:Sm},Symbol.toStringTag,{value:"Module"}));Object.assign({},bm,Am,{JsonPatchError:cu,deepClone:pt,escapePathComponent:kn,unescapePathComponent:lu});const jt=Object.create(null);jt.open="0";jt.close="1";jt.ping="2";jt.pong="3";jt.message="4";jt.upgrade="5";jt.noop="6";const io=Object.create(null);Object.keys(jt).forEach(e=>{io[jt[e]]=e});const Kr={type:"error",data:"parser error"},du=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",hu=typeof ArrayBuffer=="function",fu=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Ri=({type:e,data:t},n,s)=>du&&t instanceof Blob?n?s(t):Wa(t,s):hu&&(t instanceof ArrayBuffer||fu(t))?n?s(t):Wa(new Blob([t]),s):s(jt[e]+(t||"")),Wa=(e,t)=>{const n=new FileReader;return n.onload=function(){const s=n.result.split(",")[1];t("b"+(s||""))},n.readAsDataURL(e)};function Ga(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let dr;function Om(e,t){if(du&&e.data instanceof Blob)return e.data.arrayBuffer().then(Ga).then(t);if(hu&&(e.data instanceof ArrayBuffer||fu(e.data)))return t(Ga(e.data));Ri(e,!1,n=>{dr||(dr=new TextEncoder),t(dr.encode(n))})}const za="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ps=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<za.length;e++)ps[za.charCodeAt(e)]=e;const Rm=e=>{let t=e.length*.75,n=e.length,s,o=0,r,i,l,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const h=new ArrayBuffer(t),u=new Uint8Array(h);for(s=0;s<n;s+=4)r=ps[e.charCodeAt(s)],i=ps[e.charCodeAt(s+1)],l=ps[e.charCodeAt(s+2)],c=ps[e.charCodeAt(s+3)],u[o++]=r<<2|i>>4,u[o++]=(i&15)<<4|l>>2,u[o++]=(l&3)<<6|c&63;return h},Pm=typeof ArrayBuffer=="function",Pi=(e,t)=>{if(typeof e!="string")return{type:"message",data:pu(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:Im(e.substring(1),t)}:io[n]?e.length>1?{type:io[n],data:e.substring(1)}:{type:io[n]}:Kr},Im=(e,t)=>{if(Pm){const n=Rm(e);return pu(n,t)}else return{base64:!0,data:e}},pu=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},mu="",qm=(e,t)=>{const n=e.length,s=new Array(n);let o=0;e.forEach((r,i)=>{Ri(r,!1,l=>{s[i]=l,++o===n&&t(s.join(mu))})})},Nm=(e,t)=>{const n=e.split(mu),s=[];for(let o=0;o<n.length;o++){const r=Pi(n[o],t);if(s.push(r),r.type==="error")break}return s};function Lm(){return new TransformStream({transform(e,t){Om(e,n=>{const s=n.length;let o;if(s<126)o=new Uint8Array(1),new DataView(o.buffer).setUint8(0,s);else if(s<65536){o=new Uint8Array(3);const r=new DataView(o.buffer);r.setUint8(0,126),r.setUint16(1,s)}else{o=new Uint8Array(9);const r=new DataView(o.buffer);r.setUint8(0,127),r.setBigUint64(1,BigInt(s))}e.data&&typeof e.data!="string"&&(o[0]|=128),t.enqueue(o),t.enqueue(n)})}})}let hr;function Ws(e){return e.reduce((t,n)=>t+n.length,0)}function Gs(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let s=0;for(let o=0;o<t;o++)n[o]=e[0][s++],s===e[0].length&&(e.shift(),s=0);return e.length&&s<e[0].length&&(e[0]=e[0].slice(s)),n}function Dm(e,t){hr||(hr=new TextDecoder);const n=[];let s=0,o=-1,r=!1;return new TransformStream({transform(i,l){for(n.push(i);;){if(s===0){if(Ws(n)<1)break;const c=Gs(n,1);r=(c[0]&128)===128,o=c[0]&127,o<126?s=3:o===126?s=1:s=2}else if(s===1){if(Ws(n)<2)break;const c=Gs(n,2);o=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),s=3}else if(s===2){if(Ws(n)<8)break;const c=Gs(n,8),h=new DataView(c.buffer,c.byteOffset,c.length),u=h.getUint32(0);if(u>Math.pow(2,21)-1){l.enqueue(Kr);break}o=u*Math.pow(2,32)+h.getUint32(4),s=3}else{if(Ws(n)<o)break;const c=Gs(n,o);l.enqueue(Pi(r?c:hr.decode(c),t)),s=0}if(o===0||o>e){l.enqueue(Kr);break}}}})}const yu=4;function je(e){if(e)return Um(e)}function Um(e){for(var t in je.prototype)e[t]=je.prototype[t];return e}je.prototype.on=je.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};je.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};je.prototype.off=je.prototype.removeListener=je.prototype.removeAllListeners=je.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var s,o=0;o<n.length;o++)if(s=n[o],s===t||s.fn===t){n.splice(o,1);break}return n.length===0&&delete this._callbacks["$"+e],this};je.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],s=1;s<arguments.length;s++)t[s-1]=arguments[s];if(n){n=n.slice(0);for(var s=0,o=n.length;s<o;++s)n[s].apply(this,t)}return this};je.prototype.emitReserved=je.prototype.emit;je.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};je.prototype.hasListeners=function(e){return!!this.listeners(e).length};const gt=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function gu(e,...t){return t.reduce((n,s)=>(e.hasOwnProperty(s)&&(n[s]=e[s]),n),{})}const Bm=gt.setTimeout,Mm=gt.clearTimeout;function Vo(e,t){t.useNativeTimers?(e.setTimeoutFn=Bm.bind(gt),e.clearTimeoutFn=Mm.bind(gt)):(e.setTimeoutFn=gt.setTimeout.bind(gt),e.clearTimeoutFn=gt.clearTimeout.bind(gt))}const Fm=1.33;function jm(e){return typeof e=="string"?Qm(e):Math.ceil((e.byteLength||e.size)*Fm)}function Qm(e){let t=0,n=0;for(let s=0,o=e.length;s<o;s++)t=e.charCodeAt(s),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(s++,n+=4);return n}function Hm(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function Vm(e){let t={},n=e.split("&");for(let s=0,o=n.length;s<o;s++){let r=n[s].split("=");t[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return t}class Wm extends Error{constructor(t,n,s){super(t),this.description=n,this.context=s,this.type="TransportError"}}class Ii extends je{constructor(t){super(),this.writable=!1,Vo(this,t),this.opts=t,this.query=t.query,this.socket=t.socket}onError(t,n,s){return super.emitReserved("error",new Wm(t,n,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=Pi(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=Hm(t);return n.length?"?"+n:""}}const vu="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Yr=64,Gm={};let Ka=0,zs=0,Ya;function Ja(e){let t="";do t=vu[e%Yr]+t,e=Math.floor(e/Yr);while(e>0);return t}function _u(){const e=Ja(+new Date);return e!==Ya?(Ka=0,Ya=e):e+"."+Ja(Ka++)}for(;zs<Yr;zs++)Gm[vu[zs]]=zs;let bu=!1;try{bu=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const zm=bu;function wu(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||zm))return new XMLHttpRequest}catch{}if(!t)try{return new gt[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function Km(){}const Ym=function(){return new wu({xdomain:!1}).responseType!=null}();class Jm extends Ii{constructor(t){if(super(t),this.polling=!1,typeof location<"u"){const s=location.protocol==="https:";let o=location.port;o||(o=s?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||o!==t.port}const n=t&&t.forceBase64;this.supportsBinary=Ym&&!n,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let s=0;this.polling&&(s++,this.once("pollComplete",function(){--s||n()})),this.writable||(s++,this.once("drain",function(){--s||n()}))}else n()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=s=>{if(this.readyState==="opening"&&s.type==="open"&&this.onOpen(),s.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(s)};Nm(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,qm(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=_u()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}request(t={}){return Object.assign(t,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new Mt(this.uri(),t)}doWrite(t,n){const s=this.request({method:"POST",data:t});s.on("success",n),s.on("error",(o,r)=>{this.onError("xhr post error",o,r)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,s)=>{this.onError("xhr poll error",n,s)}),this.pollXhr=t}}class Mt extends je{constructor(t,n){super(),Vo(this,n),this.opts=n,this.method=n.method||"GET",this.uri=t,this.data=n.data!==void 0?n.data:null,this.create()}create(){var t;const n=gu(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this.opts.xd;const s=this.xhr=new wu(n);try{s.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let o in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(o)&&s.setRequestHeader(o,this.opts.extraHeaders[o])}}catch{}if(this.method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{s.setRequestHeader("Accept","*/*")}catch{}(t=this.opts.cookieJar)===null||t===void 0||t.addCookies(s),"withCredentials"in s&&(s.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(s.timeout=this.opts.requestTimeout),s.onreadystatechange=()=>{var o;s.readyState===3&&((o=this.opts.cookieJar)===null||o===void 0||o.parseCookies(s)),s.readyState===4&&(s.status===200||s.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof s.status=="number"?s.status:0)},0))},s.send(this.data)}catch(o){this.setTimeoutFn(()=>{this.onError(o)},0);return}typeof document<"u"&&(this.index=Mt.requestsCount++,Mt.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=Km,t)try{this.xhr.abort()}catch{}typeof document<"u"&&delete Mt.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}Mt.requestsCount=0;Mt.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Xa);else if(typeof addEventListener=="function"){const e="onpagehide"in gt?"pagehide":"unload";addEventListener(e,Xa,!1)}}function Xa(){for(let e in Mt.requests)Mt.requests.hasOwnProperty(e)&&Mt.requests[e].abort()}const qi=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0),Ks=gt.WebSocket||gt.MozWebSocket,Za=!0,Xm="arraybuffer",el=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Zm extends Ii{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),n=this.opts.protocols,s=el?{}:gu(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=Za&&!el?n?new Ks(t,n):new Ks(t):new Ks(t,n,s)}catch(o){return this.emitReserved("error",o)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const s=t[n],o=n===t.length-1;Ri(s,this.supportsBinary,r=>{const i={};try{Za&&this.ws.send(r)}catch{}o&&qi(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=_u()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}check(){return!!Ks}}class ey extends Ii{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(t=>{const n=Dm(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=t.readable.pipeThrough(n).getReader(),o=Lm();o.readable.pipeTo(t.writable),this.writer=o.writable.getWriter();const r=()=>{s.read().then(({done:l,value:c})=>{l||(this.onPacket(c),r())}).catch(l=>{})};r();const i={type:"open"};this.query.sid&&(i.data=`{"sid":"${this.query.sid}"}`),this.writer.write(i).then(()=>this.onOpen())})}))}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const s=t[n],o=n===t.length-1;this.writer.write(s).then(()=>{o&&qi(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this.transport)===null||t===void 0||t.close()}}const ty={websocket:Zm,webtransport:ey,polling:Jm},ny=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,sy=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Jr(e){if(e.length>2e3)throw"URI too long";const t=e,n=e.indexOf("["),s=e.indexOf("]");n!=-1&&s!=-1&&(e=e.substring(0,n)+e.substring(n,s).replace(/:/g,";")+e.substring(s,e.length));let o=ny.exec(e||""),r={},i=14;for(;i--;)r[sy[i]]=o[i]||"";return n!=-1&&s!=-1&&(r.source=t,r.host=r.host.substring(1,r.host.length-1).replace(/;/g,":"),r.authority=r.authority.replace("[","").replace("]","").replace(/;/g,":"),r.ipv6uri=!0),r.pathNames=oy(r,r.path),r.queryKey=ry(r,r.query),r}function oy(e,t){const n=/\/{2,9}/g,s=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&s.splice(0,1),t.slice(-1)=="/"&&s.splice(s.length-1,1),s}function ry(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,o,r){o&&(n[o]=r)}),n}let xu=class Fn extends je{constructor(t,n={}){super(),this.binaryType=Xm,this.writeBuffer=[],t&&typeof t=="object"&&(n=t,t=null),t?(t=Jr(t),n.hostname=t.host,n.secure=t.protocol==="https"||t.protocol==="wss",n.port=t.port,t.query&&(n.query=t.query)):n.host&&(n.hostname=Jr(n.host).host),Vo(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=n.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Vm(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=yu,n.transport=t,this.id&&(n.sid=this.id);const s=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new ty[t](s)}open(){let t;if(this.opts.rememberUpgrade&&Fn.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch{this.transports.shift(),this.open();return}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",n=>this.onClose("transport close",n))}probe(t){let n=this.createTransport(t),s=!1;Fn.priorWebsocketSuccess=!1;const o=()=>{s||(n.send([{type:"ping",data:"probe"}]),n.once("packet",d=>{if(!s)if(d.type==="pong"&&d.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Fn.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(u(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const f=new Error("probe error");f.transport=n.name,this.emitReserved("upgradeError",f)}}))};function r(){s||(s=!0,u(),n.close(),n=null)}const i=d=>{const f=new Error("probe error: "+d);f.transport=n.name,r(),this.emitReserved("upgradeError",f)};function l(){i("transport closed")}function c(){i("socket closed")}function h(d){n&&d.name!==n.name&&r()}const u=()=>{n.removeListener("open",o),n.removeListener("error",i),n.removeListener("close",l),this.off("close",c),this.off("upgrading",h)};n.once("open",o),n.once("error",i),n.once("close",l),this.once("close",c),this.once("upgrading",h),this.upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{s||n.open()},200):n.open()}onOpen(){if(this.readyState="open",Fn.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let t=0;const n=this.upgrades.length;for(;t<n;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),this.resetPingTimeout(),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const n=new Error("server error");n.code=t.data,this.onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let s=0;s<this.writeBuffer.length;s++){const o=this.writeBuffer[s].data;if(o&&(n+=jm(o)),s>0&&n>this.maxPayload)return this.writeBuffer.slice(0,s);n+=2}return this.writeBuffer}write(t,n,s){return this.sendPacket("message",t,n,s),this}send(t,n,s){return this.sendPacket("message",t,n,s),this}sendPacket(t,n,s,o){if(typeof n=="function"&&(o=n,n=void 0),typeof s=="function"&&(o=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;const r={type:t,data:n,options:s};this.emitReserved("packetCreate",r),this.writeBuffer.push(r),o&&this.once("flush",o),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},s=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():t()}):this.upgrading?s():t()),this}onError(t){Fn.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,n){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const n=[];let s=0;const o=t.length;for(;s<o;s++)~this.transports.indexOf(t[s])&&n.push(t[s]);return n}};xu.protocol=yu;function iy(e,t="",n){let s=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),s=Jr(e)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const r=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+r+":"+s.port+t,s.href=s.protocol+"://"+r+(n&&n.port===s.port?"":":"+s.port),s}const ay=typeof ArrayBuffer=="function",ly=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,Cu=Object.prototype.toString,cy=typeof Blob=="function"||typeof Blob<"u"&&Cu.call(Blob)==="[object BlobConstructor]",uy=typeof File=="function"||typeof File<"u"&&Cu.call(File)==="[object FileConstructor]";function Ni(e){return ay&&(e instanceof ArrayBuffer||ly(e))||cy&&e instanceof Blob||uy&&e instanceof File}function ao(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,s=e.length;n<s;n++)if(ao(e[n]))return!0;return!1}if(Ni(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return ao(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&ao(e[n]))return!0;return!1}function dy(e){const t=[],n=e.data,s=e;return s.data=Xr(n,t),s.attachments=t.length,{packet:s,buffers:t}}function Xr(e,t){if(!e)return e;if(Ni(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let s=0;s<e.length;s++)n[s]=Xr(e[s],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=Xr(e[s],t));return n}return e}function hy(e,t){return e.data=Zr(e.data,t),delete e.attachments,e}function Zr(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=Zr(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=Zr(e[n],t));return e}const fy=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],py=5;var ye;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(ye||(ye={}));class my{constructor(t){this.replacer=t}encode(t){return(t.type===ye.EVENT||t.type===ye.ACK)&&ao(t)?this.encodeAsBinary({type:t.type===ye.EVENT?ye.BINARY_EVENT:ye.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===ye.BINARY_EVENT||t.type===ye.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=dy(t),s=this.encodeAsString(n.packet),o=n.buffers;return o.unshift(s),o}}function tl(e){return Object.prototype.toString.call(e)==="[object Object]"}class Li extends je{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const s=n.type===ye.BINARY_EVENT;s||n.type===ye.BINARY_ACK?(n.type=s?ye.EVENT:ye.ACK,this.reconstructor=new yy(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(Ni(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const s={type:Number(t.charAt(0))};if(ye[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===ye.BINARY_EVENT||s.type===ye.BINARY_ACK){const r=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const i=t.substring(r,n);if(i!=Number(i)||t.charAt(n)!=="-")throw new Error("Illegal attachments");s.attachments=Number(i)}if(t.charAt(n+1)==="/"){const r=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););s.nsp=t.substring(r,n)}else s.nsp="/";const o=t.charAt(n+1);if(o!==""&&Number(o)==o){const r=n+1;for(;++n;){const i=t.charAt(n);if(i==null||Number(i)!=i){--n;break}if(n===t.length)break}s.id=Number(t.substring(r,n+1))}if(t.charAt(++n)){const r=this.tryParse(t.substr(n));if(Li.isPayloadValid(s.type,r))s.data=r;else throw new Error("invalid payload")}return s}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case ye.CONNECT:return tl(n);case ye.DISCONNECT:return n===void 0;case ye.CONNECT_ERROR:return typeof n=="string"||tl(n);case ye.EVENT:case ye.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&fy.indexOf(n[0])===-1);case ye.ACK:case ye.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class yy{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=hy(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const gy=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Li,Encoder:my,get PacketType(){return ye},protocol:py},Symbol.toStringTag,{value:"Module"}));function kt(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const vy=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class ku extends je{constructor(t,n,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[kt(t,"open",this.onopen.bind(this)),kt(t,"packet",this.onpacket.bind(this)),kt(t,"error",this.onerror.bind(this)),kt(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){if(vy.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const s={type:ye.EVENT,data:n};if(s.options={},s.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const i=this.ids++,l=n.pop();this._registerAckCallback(i,l),s.id=i}const o=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!o||!this.connected)||(this.connected?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(t,n){var s;const o=(s=this.flags.timeout)!==null&&s!==void 0?s:this._opts.ackTimeout;if(o===void 0){this.acks[t]=n;return}const r=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===t&&this.sendBuffer.splice(l,1);n.call(this,new Error("operation has timed out"))},o),i=(...l)=>{this.io.clearTimeoutFn(r),n.apply(this,l)};i.withError=!0,this.acks[t]=i}emitWithAck(t,...n){return new Promise((s,o)=>{const r=(i,l)=>i?o(i):s(l);r.withError=!0,n.push(r),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((o,...r)=>s!==this._queue[0]?void 0:(o!==null?s.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(o)):(this._queue.shift(),n&&n(null,...r)),s.pending=!1,this._drainQueue())),this._queue.push(s),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:ye.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(s=>String(s.id)===t)){const s=this.acks[t];delete this.acks[t],s.withError&&s.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case ye.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case ye.EVENT:case ye.BINARY_EVENT:this.onevent(t);break;case ye.ACK:case ye.BINARY_ACK:this.onack(t);break;case ye.DISCONNECT:this.ondisconnect();break;case ye.CONNECT_ERROR:this.destroy();const s=new Error(t.data.message);s.data=t.data.data,this.emitReserved("connect_error",s);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const s of n)s.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let s=!1;return function(...o){s||(s=!0,n.packet({type:ye.ACK,id:t,data:o}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(delete this.acks[t.id],n.withError&&t.data.unshift(null),n.apply(this,t.data))}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:ye.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let s=0;s<n.length;s++)if(t===n[s])return n.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let s=0;s<n.length;s++)if(t===n[s])return n.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const s of n)s.apply(this,t.data)}}}function os(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}os.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};os.prototype.reset=function(){this.attempts=0};os.prototype.setMin=function(e){this.ms=e};os.prototype.setMax=function(e){this.max=e};os.prototype.setJitter=function(e){this.jitter=e};class ei extends je{constructor(t,n){var s;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Vo(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((s=n.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new os({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const o=n.parser||gy;this.encoder=new o.Encoder,this.decoder=new o.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new xu(this.uri,this.opts);const n=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const o=kt(n,"open",function(){s.onopen(),t&&t()}),r=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),t?t(l):this.maybeReconnectOnOpen()},i=kt(n,"error",r);if(this._timeout!==!1){const l=this._timeout,c=this.setTimeoutFn(()=>{o(),r(new Error("timeout")),n.close()},l);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(o),this.subs.push(i),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(kt(t,"ping",this.onping.bind(this)),kt(t,"data",this.ondata.bind(this)),kt(t,"error",this.onerror.bind(this)),kt(t,"close",this.onclose.bind(this)),kt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){qi(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let s=this.nsps[t];return s?this._autoConnect&&!s.active&&s.connect():(s=new ku(this,t,n),this.nsps[t]=s),s}_destroy(t){const n=Object.keys(this.nsps);for(const s of n)if(this.nsps[s].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let s=0;s<n.length;s++)this.engine.write(n[s],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,n){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(o=>{o?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",o)):t.onreconnect()}))},n);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const ds={};function lo(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=iy(e,t.path||"/socket.io"),s=n.source,o=n.id,r=n.path,i=ds[o]&&r in ds[o].nsps,l=t.forceNew||t["force new connection"]||t.multiplex===!1||i;let c;return l?c=new ei(s,t):(ds[o]||(ds[o]=new ei(s,t)),c=ds[o]),n.query&&!t.query&&(t.query=n.queryKey),c.socket(n.path,t)}Object.assign(lo,{Manager:ei,Socket:ku,io:lo,connect:lo});let Ct=null;function _y(e){console.log("@game-controller: connectToGame"),j.open(qs),Ct&&(Ct.disconnect(),Ct=null);const t={query:{gameId:e,token:st().refreshToken}};Ct=lo($i,t),Ct.on("connect",xy),Ct.on("disconnect",Cy),Ct.on("patch",wy),Ct.on("error",ky),j.close()}function by(){Ct&&(Ct.disconnect(),Ct=null,Re().clear())}function wy(e){try{const{patches:t}=e;console.log("patch:",t),Re().game=Ho(Re().game||{},t).newDocument}catch(t){console.error("Failed to patch:",t);return}}function xy(){console.log("onOpen")}function Cy(){console.log("onClose")}function ky(e){console.log("onError:",e)}async function Pe(e){var t;await et.patch(`/game/${(t=Re().game)==null?void 0:t._id}`,e)}const Wo=[{id:"46c018c0-de33-4bd2-9024-71548b22db7e",name:"Forest",author:"Dan Meyers",source:"https://unsplash.com/photos/tall-trees-wB6B3AqXjy0",url:"/images/cover-images/forest.jpg",commonColor:"#8b7d73"},{id:"9131e281-184e-4e2d-8994-8536f9d3c0d0",name:"Forest 2",author:"Simon Berger",source:"https://unsplash.com/photos/grayscale-photo-of-trees-and-pathway-rydQVdwcgUQ",url:"/images/cover-images/forest-2.jpg",commonColor:"#7f7f7f"},{id:"2e2ec06d-97b4-4cce-b88d-a58c10b8bef8",name:"Castle",author:"Cederic Vandenberghe",source:"https://unsplash.com/photos/closeup-photo-of-castle-with-mist-21DP3hytVHw",url:"/images/cover-images/castle.jpg",commonColor:"#3f7690"},{id:"230ecd94-c69b-4444-a7e2-2585a2652051",name:"Broadsword",author:"Jonathan Kemper",source:"https://unsplash.com/photos/brown-wooden-handle-bar-on-brown-wooden-table-4_ZvmLAeIZk",url:"/images/cover-images/broadsword.jpg",commonColor:"#6c4c34"},{id:"16761f54-5c0c-4f56-8274-f04af8e7f33e",name:"Warband",author:"Hasan Almasi",source:"https://unsplash.com/photos/people-gathering-on-street-during-nighttime-OwqLxCvoVxI",url:"/images/cover-images/warband.jpg",commonColor:"#c34e33"}],Ey=e=>(we("data-v-bc5094d5"),e=e(),xe(),e),Sy=["src"],Ty={class:"game-card__content"},$y={class:"row info"},Ay={class:"tag"},Oy={class:"row users"},Ry=Ey(()=>a("i",{class:"fas fa-users"},null,-1)),Py={class:"date-created"},Iy=te({__name:"GameCard",props:{game:{type:Object,required:!0}},setup(e){const t=e,n=G(()=>Wo.find(r=>r.id===t.game.coverImage)),s=G(()=>t.game.players[Ce().id]),o=G(()=>new Date(t.game.dateCreated).toLocaleDateString());return(r,i)=>{var l,c;return b(),C("div",{class:"game-card",style:Ht({backgroundColor:(l=n.value)==null?void 0:l.commonColor})},[a("img",{src:(c=n.value)==null?void 0:c.url},null,8,Sy),a("div",Ty,[a("h2",null,N(t.game.name),1),a("div",$y,[a("span",Ay,N(s.value.role),1),a("div",Oy,[Ry,a("span",null,N(Object.keys(t.game.players).length),1)]),a("p",Py,N(o.value),1)])])],4)}}}),qy=se(Iy,[["__scopeId","data-v-bc5094d5"]]),Ny=e=>(we("data-v-3245c5b7"),e=e(),xe(),e),Ly={class:"ribbon__content"},Dy=["innerHTML"],Uy=Ny(()=>a("i",{class:"fas fa-times"},null,-1)),By=[Uy],My=te({__name:"Ribbon",props:{id:{},message:{},onActivate:{type:Function}},setup(e){const t=e;function n(){localStorage.setItem("ribbon."+t.id,"true"),s.value=!1}const s=D(!localStorage.getItem("ribbon."+t.id));return(o,r)=>(b(),C("div",{class:K(["ribbon",{"ribbon--hidden":!s.value}])},[a("div",Ly,[a("p",{innerHTML:o.message,onClick:r[0]||(r[0]=(...i)=>o.onActivate&&o.onActivate(...i))},null,8,Dy),a("button",{class:"btn btn--icon",onClick:n},By)])],2))}}),Fy=se(My,[["__scopeId","data-v-3245c5b7"]]),jy="/images/fitd-logo.webp",Qy={},Di=e=>(we("data-v-ba692196"),e=e(),xe(),e),Hy={class:"divider"},Vy=Di(()=>a("div",{class:"line"},null,-1)),Wy=Di(()=>a("div",{class:"middle-symbol"},"",-1)),Gy=Di(()=>a("div",{class:"line"},null,-1)),zy=[Vy,Wy,Gy];function Ky(e,t){return b(),C("div",Hy,zy)}const Dt=se(Qy,[["render",Ky],["__scopeId","data-v-ba692196"]]),Yy={},Jy={class:"modal"},Xy={class:"modal__content"};function Zy(e,t){return b(),C("div",Jy,[Yn(e.$slots,"header",{},void 0),a("div",Xy,[Yn(e.$slots,"content",{},void 0)])])}const ze=se(Yy,[["render",Zy],["__scopeId","data-v-16f47290"]]),eg=e=>(we("data-v-b77cb2fd"),e=e(),xe(),e),tg={class:"modal__header"},ng=eg(()=>a("i",{class:"fas fa-times"},null,-1)),sg=[ng],og=te({__name:"ModalHeader",props:{closeButton:Boolean,closeButtonAction:Function},setup(e){const t=e;function n(){t.closeButtonAction?t.closeButtonAction():j.close()}return(s,o)=>(b(),C("div",tg,[Yn(s.$slots,"default",{},void 0),e.closeButton?(b(),C("button",{key:0,class:"btn--icon",onClick:n},sg)):F("",!0)]))}}),Ke=se(og,[["__scopeId","data-v-b77cb2fd"]]),en=e=>(we("data-v-31f53e2d"),e=e(),xe(),e),rg=en(()=>a("h2",null,"Attribution",-1)),ig={class:"attribution"},ag=en(()=>a("p",null,[X(" This work is based on "),a("a",{class:"anchor-link",href:"http://www.bladesinthedark.com/",target:"_blank"}," Blades in the Dark "),X(" , product of One Seven Design, developed and authored by John Harper, and licensed for our use under the "),a("a",{class:"anchor-link",href:"http://creativecommons.org/licenses/by/3.0/",target:"_blank"}," Creative Commons Attribution 3.0 Unported license ")],-1)),lg=en(()=>a("p",null,[X(" This website is made and maintained by "),a("a",{class:"anchor-link",href:"https://olinkirk.land",target:"_blank"},"OlinKirkland")],-1)),cg=en(()=>a("img",{src:jy},null,-1)),ug=en(()=>a("p",null," Blades in the Dark is a trademark of One Seven Design. The Forged in the Dark Logo is  One Seven Design, and is used with permission ",-1)),dg=en(()=>a("p",{class:"images-description"},[X(" Illustrations are by "),a("a",{class:"anchor-link",href:"https://www.reddit.com/user/perryphery/submitted/",target:"_blank"},"u/perryphery on Reddit")],-1)),hg=en(()=>a("p",{class:"images-description"},[X(" Cover images are from "),a("a",{class:"anchor-link",href:"https://unsplash.com/",target:"_blank"},"Unsplash")],-1)),fg={class:"images"},pg=["href"],mg=["src"],yg=en(()=>a("br",null,null,-1)),gg={class:"muted"},vg=en(()=>a("p",{class:"images-description"},[X(" Icons are from "),a("a",{class:"anchor-link",href:"https://fontawesome.com/",target:"_blank"},"Font Awesome"),X(" and "),a("a",{class:"anchor-link",href:"https://icons8.com/"},"Icons8")],-1)),_g=te({__name:"AttributionModal",setup(e){new Date().getFullYear();const t=n=>{const[s,o]=n.split(" ");return o?`${s} ${o[0]}.`:s};return(n,s)=>(b(),ce(ze,null,{header:B(()=>[q(Ke,{closeButton:""},{default:B(()=>[rg]),_:1})]),content:B(()=>[a("div",ig,[ag,q(Dt),lg,q(Dt),cg,ug,q(Dt),dg,q(Dt),hg,a("ul",fg,[(b(!0),C(J,null,fe(Q(Wo),o=>(b(),C("li",{key:o.id},[a("a",{href:o.source,target:"_blank"},[a("img",{src:o.url},null,8,mg),a("p",null,[X(N(o.name),1),yg,a("span",gg,"by "+N(t(o.author)),1)])],8,pg)]))),128))]),q(Dt),vg,X("  ")])]),_:1}))}}),Eu=se(_g,[["__scopeId","data-v-31f53e2d"]]),bg={crew:{reputations:["Ambitious","Brutal","Daring","Honorable","Professional","Savvy","Subtle","Strange"],lairs:[{name:"A crumbling watch tower",districts:["Six Towers","Crow's Foot","Coalridge"]},{name:"A half-sunken grotto beneath the city",districts:["Charterhall","Nightmarket","Barrowcleft"]},{name:"A dilapidated lighthouse",districts:["The Docks","Nightmarket","Crow's Foot"]},{name:"Backrooms of a merchant's shop",districts:["Silkshore","Brightstone","Six Towers"]},{name:"A junked rail car",districts:["Dunslough","Charhollow","Coalridge"]},{name:"A rickety, tin-roofed shack",districts:["Silkshore","Charterhall"]},{name:"A small, abandoned house",districts:["Charterhall","Six Towers","Brightstone"]},{name:"Derelict ship, anchored in the canal",districts:["The Docks","Nightmarket","Crow's Foot"]},{name:"Tunnels beneath a bridge",districts:["Crow's Foot","Charterhall","Barrowcleft"]}],"upgrade-descriptions":{crew:{"assassin-rigging":"[/load 2 free load] of weapon or gear items. For example, you could carry a pistol (a weapon) and burglary tools (gear) for zero load.","ironhook-contacts":"Your Tier is effectively +1 higher in prison. This counts for any Tier-related element in prison, including the incarceration roll.","elite-skulks":"All of your cohorts with the Skulks type get +1d to quality rolls for Skulk-related actions.","elite-thugs":"All of your cohorts with the Thugs type get +1d to quality rolls for Thug-related actions.",hardened:"Each PC gets +1 trauma box. This costs three upgrades to unlock, not just one. This may bring a PC with 4 trauma back into play if you wish.","bravos-rigging":"You get 2 free load worth of weapon or armor items. For example, you could carry a sword & pistol or wear normal armor for zero load.","elite-rovers":"All of your cohorts with the Rovers type get +1d to quality rolls for Rover-related actions.","cult-rigging":"You get 2 free load worth of document or implement items. For example, you could carry a profane book of curses and a demon's hand for zero load.","ritual-sanctum-in-lair":"This counts as a sacred and arcane workshop for occult practices and rituals.","elite-adepts":"All of your cohorts with the Adepts type get +1d to quality rolls for Adept-related actions.",ordained:"Each PC gets +1 trauma box. This costs three upgrades to unlock, not just one. This may bring a PC with 4 trauma back into play if you wish.","hawker-rigging":"One carried item is concealed and has no load. For example, you could carry a load of drugs or a weapon, perfectly concealed, for zero load.","elite-rooks":"All of your cohorts with the Rooks type get +1d to quality rolls for Rook-related actions.",composed:"Each PC gets +1 stress box. This costs three upgrades to unlock, not just one.","thief-rigging":"You get 2 free load worth of tool or gear items. For example, you could carry burglary gear and tinkering tools for zero load.","underground-maps-and-passkeys":"You have easy passage through the underground canals, tunnels, and basements of the city.",steady:"Each PC gets +1 stress box. This costs three upgrades to unlock, not just one.","smuggler-rigging":"Two of your carried items are perfectly concealed. For example, you could carry 1 load of contraband and a pistol, perfectly concealed, even against a pat down.",camouflage:"Your vehicles are perfectly concealed when at rest. They blend in as part of the environment, or as an uninteresting civilian vehicle (your choice).",barge:"Add mobility to your lair. You can move it to a new location as a downtime activity."},categories:{lair:"Lair upgrades improve the crew's lair, making it more secure, more useful, or more comfortable.",training:"Training upgrades improve the crew's ability to earn xp during downtime.",quality:"improves the quality rating of all the PCs items of that type, beyond the quality established by the crew's Tier and fine items"},lair:{"boat-house":"You have a boat, a dock on a waterway, and a small shack to store boating supplies. A second upgrade improves the boat with armor and more cargo capacity.","carriage-house":"You have a carriage, two goats to pull it, and a stable. A second upgrade improves the carriage with armor and larger, swifter goats. Horses are very rare in Doskvolmost carriages in the city use the large Akorosian goat as their draft animal.",cohort:"A cohort is a gang or a single expert NPC who works for your crew.","hidden-lair":"Your lair has a secret location and is disguised to hide it from view. If your lair is discovered, use two downtime activities and pay coin equal to your Tier to relocate it and hide it once again.",quarters:"Your lair includes living quarters for the crew. Without this upgrade, each PC sleeps elsewhere, and is vulnerable when they do so.","secure-lair":"Your lair has locks, alarms, and traps to thwart intruders. A second upgrade improves the defenses to include arcane measures that work against spirits. You might roll your crew's Tier if these measures are ever put to the test, to see how well they thwart an intruder.",vault:"Your lair has a secure vault, increasing your storage capacity for coin to 8. A second upgrade increases your capacity to 16. A separate part of your vault can be used as a holding cell.",workshop:"Your lair has a workshop appointed with tools for tinkering and alchemy, as well as a small library of books, documents, and maps. You may accomplish long-term projects with these assets without leaving your lair.",quality:"Each upgrade improves the quality rating of all the PCs' items of that type, beyond the quality established by the crew's Tier and fine items. You can improve the quality of Documents, Gear (covers Burglary Gear and Climbing Gear), Arcane Implements, Subterfuge Supplies, Tools (covers Demolitions Tools and Tinkering Tools), and Weapons. So, if you are Tier 0, with fine lockpicks (+1) and the Quality upgrade for gear (+1), you could contend equally with a Tier II quality lock."},training:{insight:"Earn 2 xp (instead of 1) when you train your Insight during downtime.",prowess:"Earn 2 xp (instead of 1) when you train your Prowess during downtime.",resolve:"Earn 2 xp (instead of 1) when you train your Resolve during downtime.",personal:"Earn 2 xp (instead of 1) when you train your Playbook during downtime.",mastery:"Your crew has access to master level training. You may advance your action ratings to 4 (until you unlock this upgrade, PC action ratings are capped at 3). This costs four upgrade boxes to unlock."},quality:{documents:"Improves the quality rating of all the crew's documents.",gear:"Improves the quality rating of all the crew's Burglary Gear and Climbing Gear.",implements:"Improves the quality rating of all the crew's Arcane Implements.",supplies:"Improves the quality rating of all the crew's Subterfuge Supplies.",tools:"Improves the quality rating of all the crew's Demolitions Tools and Tinkering Tools.",weapons:"Improves the quality rating of all the crew's weapons."}},cohorts:{harm:[{name:"Weakened",description:"Has reduced effect."},{name:"Impaired",description:"Operates with reduced quality (-1d)."},{name:"Broken",description:"Can't do anything until they recover."},{name:"Dead",description:"Destroyed. Spend Coin equal to your Tier +2 to restore."}],expertise:["Doctor","Investigator","Occultist","Assassin","Spy"],edges:[{name:"Fearsome",description:"Terrifying in aspect and reputation."},{name:"Independent",description:"Can make good decisions and act on their own."},{name:"Loyal",description:"Can't be bribed or turned against you."},{name:"Tenacious",description:"Won't be deterred from a task."}],flaws:[{name:"Principled",description:"Has an ethic or values that it won't betray."},{name:"Savage",description:"Excessively violent and cruel."},{name:"Unreliable",description:"Not always available, due to other obligations."},{name:"Wild",description:"Drunken and loud-mouthed."}],vehicleEdges:[{name:"Nimble",description:"The vehicle handles easily. Consider this an assist for tricky maneuvers."},{name:"Simple",description:"The vehicle is easy to repair. Remove all of its harm during downtime."},{name:"Sturdy",description:"The vehicle keeps operating even when broken."}],vehicleFlaws:[{name:"Costly",description:"The vehicle costs 1 coin per downtime to keep in operation."},{name:"Distinct",description:"The vehicle has memorable features. Take +1 heat when you use it on a score."},{name:"Finicky",description:"The vehicle has quirks that only one person understands. When operated without them, it has -1 quality."}]}}},wg={gangs:["a tiny gang (1-2)","small gang (3-6)","medium gang (12)","large gang (20)","huge gang (40)","massive gang (80)","colossal gang (160)"],districts:[{name:"Brightstone",blurb:"The grand mansions and luxury shops of the wealthy elite."},{name:"Charterhall",blurb:"The city's civic offices and the hub for shops, artisans, and commerce."},{name:"Six Towers",blurb:"A formerly rich district, now worn down and dilapidated."},{name:"Silkshore",blurb:"The 'red lamp district' and artist community."},{name:"Nightmarket",blurb:"The trade center for exotic goods imported by rail. Many vendors also trade in illicit goods."},{name:"Crow's Foot",blurb:"A cramped neighborhood of multi-level streets, ruled by gangs."},{name:"The Docks",blurb:"Rough taverns, tattoo parlors, fighting pits, and warehouses."},{name:"Barrowcleft",blurb:"Residences and markets for the farmers who work the fields and eeleries."},{name:"Coalridge",blurb:"The remnants of Doskvol's original hilltop mining settlement, now home to laborers and industrial factories."},{name:"Charhollow",blurb:"A maze of tenements and squalid row houses."},{name:"Dunslough",blurb:"A labor camp served by convicts and a ghetto for the destitute poor."}]},xg={firstNames:["Adric","Aldo","Amison","Andrel","Arcy","Arden","Arilyn","Arquo","Arvus","Ashlyn","Branon","Brace","Brance","Brena","Bricks","Candra","Canter","Carissa","Carro","Casslyn","Cavelle","Clave","Corille","Cross","Crowl","Cyrene","Daphnia","Drav","Edlun","Emeline","Grell","Helles","Hix","Holtz","Kamelin","Kelyr","Kobb","Kristov","Laudius","Lauria","Lenia","Lizete","Lorette","Lucella","Lynthia","Mara","Milos","Morlan","Myre","Narcus","Naria","Noggs","Odrienne","Orlan","Phin","Polonia","Quess","Remira","Ring","Roethe","Sesereth","Sethla","Skannon","Stavrul","Stev","Syra","Talitha","Tesslyn","Thena","Timoth","Tocker","Una","Vaurin","Veleris","Veretta","Vestine","Vey","Volette","Vond","Weaver","Wester","Zamira"],lastNames:["Arran","Athanoch","Basran","Boden","Booker","Ankhayat","Bowmore","Breakiron","Brogan","Clelland","Clermont","Coleburn","Comber","Daava","Dalmore","Danfield","Dunvil","Edrad","Farros","Grine","Haig","Helker","Helles","Hellyers","Jayan","Jeduin","Kardera","Karstas","Keel","Kessarin","Kinclaith","Lomond","Maroden","Michter","Morriston","Penderyn","Prichard","Rowan","Salkara","Sevoy","Skelkallan","Slane","Strangford","Strathmill","Templeton","Tyrconnell","Vale","Vedat","Walund"],deityNames:["The One Within Many","The Silver Fire","The Rapturous Chord","The Fallen Star","The Lord of the Depths","The Silent Song","The Lady of Thorns","Our Blood Spilled in Glory","The Ram","The Empty Vessel","The Closed Eye","The Hand of Sorrow","That Which Hungers","The Thousand Faces","The Web of Pain","The Pillars of Night","The Burned King","The Father of the Abyss","The Forsaken Legion","The Unbroken Sun","The Revelation","The Radiant Word","The Shrouded Queen","The Reconciler","The Cloud of Woe","The Broken Circle","The Conqueror","She Who Slays in Darkness","The Dream Beyond Death","The Blood Dimmed Tide","The Guardian of the Gates","The Maw of the Void","The Keeper of the Flame","The Throne of Judgment","The Lost Crown","The Golden Stag"]},ti={sheets:bg,lexicon:wg,names:xg};async function Cg(e,t){try{const n=await et.post("/game/new",{gameName:e,coverImage:t,codex:ti});if(n.status===Zt.Ok)return console.log(n.data),Ce().games=n.data,null}catch(n){return n.response.data}}async function kg(){var e;try{if((await et.post(`/game/${(e=Re().game)==null?void 0:e._id}/leave`)).status===Zt.Ok)return Re().clear(),await is(),null}catch(t){return t.response.data}}function Eg(e){const t=Qr.find(s=>s.id==="791e4a6b-8f2e-41b2-8410-09fdb69d22e2");return e&&Qr.find(s=>e===s.id)||t}const Sg=["src"],Tg=te({__name:"Portrait",props:{portraitId:{}},setup(e){const t=e,n=G(()=>Eg(t.portraitId));return(s,o)=>(b(),C("div",{class:"portrait",style:Ht({backgroundColor:n.value.commonColor})},[a("img",{src:n.value.url,alt:"Portrait"},null,8,Sg)],4))}}),Go=se(Tg,[["__scopeId","data-v-ce4fddda"]]),Us=e=>(we("data-v-90e063bd"),e=e(),xe(),e),$g=Us(()=>a("h2",null,"Game Preview",-1)),Ag={class:"game-preview"},Og=["src"],Rg={class:"overlay"},Pg={class:"row center game-join-bar"},Ig={class:"tag"},qg={class:"row users"},Ng=Us(()=>a("i",{class:"fas fa-users"},null,-1)),Lg=Us(()=>a("span",null,"Play",-1)),Dg=[Lg],Ug=Us(()=>a("h3",null,"Players",-1)),Bg={class:"players-container"},Mg=Us(()=>a("i",{class:"fas fa-circle-notch fa-spin"},null,-1)),Fg=[Mg],jg=te({__name:"GamePreviewModal",props:{game:{}},setup(e){const t=e,n=G(()=>t.game.players[Ce().id]),s=G(()=>Wo.find(r=>r.id===t.game.coverImage));function o(){Qt.push({name:"game",params:{id:t.game._id}}),j.close()}return(r,i)=>(b(),ce(ze,null,{header:B(()=>[q(Ke,{closeButton:""},{default:B(()=>[$g]),_:1})]),content:B(()=>{var l,c;return[a("div",Ag,[a("div",{class:"title-block",style:Ht({backgroundColor:(l=s.value)==null?void 0:l.commonColor})},[a("img",{class:"game-preview__cover",src:(c=s.value)==null?void 0:c.url},null,8,Og),a("div",Rg,[a("h1",null,N(r.game.name),1)])],4),a("div",Pg,[a("span",Ig,N(n.value.role),1),a("div",qg,[Ng,a("span",null,N(Object.keys(r.game.players).length),1)]),a("button",{class:"btn mobile-full-width",onClick:o},Dg)]),q(Dt),Ug,a("div",Bg,[a("div",{class:K(["row center waiting-players",{collapsed:Object.keys(r.game.players).length>0}])},Fg,2),a("ul",{class:K(["players",{collapsed:Object.keys(r.game.players).length===0}])},[(b(!0),C(J,null,fe(r.game.players,(h,u)=>(b(),C("li",{class:"row",key:u},[q(Go,{portraitId:h.portrait},null,8,["portraitId"]),a("span",null,N(h.username),1)]))),128))],2)])])]}),_:1}))}}),Su=se(jg,[["__scopeId","data-v-90e063bd"]]),Dn=e=>(we("data-v-e3ba015e"),e=e(),xe(),e),Qg=Dn(()=>a("h2",null,"New Game",-1)),Hg={class:"game"},Vg=Dn(()=>a("p",null,[X(" Create a new "),a("em",null,"Blades in the Dark"),X(" game. "),a("br"),a("span",{class:"muted"}," You can invite players once the game has been created. ")],-1)),Wg={class:"inputs"},Gg={class:"input-group"},zg=Dn(()=>a("label",{for:"gameName"},"Game Name",-1)),Kg={key:0,class:"reminder shake-once"},Yg={class:"input-group"},Jg=Dn(()=>a("label",{for:"coverImage"},"Cover Image",-1)),Xg={class:"cover-image-list"},Zg=["onClick"],ev=["src","onLoad","onError"],tv={key:0,class:"overlay"},nv={class:"caption"},sv={key:1,class:"fas fa-check-circle"},ov={key:0,class:"alert"},rv=Dn(()=>a("i",{class:"fas fa-exclamation-circle"},null,-1)),iv=Dn(()=>a("i",{class:"fas fa-times"},null,-1)),av=[iv],lv={class:"row center"},cv={key:0,class:"fas fa-circle-notch fa-spin"},uv=Dn(()=>a("span",null,"Create Game",-1)),dv=te({__name:"CreateGameModal",setup(e){const t=D(Wo.map(u=>({...u,loaded:!1}))),n=D(""),s=D(!1),o=D(""),r=D(!1),i=G(()=>r.value&&o.value.length===0?"Every game should have a name":null),l=D(t.value[0].id),c=G(()=>o.value.length>0);async function h(){if(!c.value&&(!r.value||i.value)){r.value=!0,document.querySelectorAll(".reminder").forEach(f=>{f.classList.remove("shake-once"),f.offsetWidth,f.classList.add("shake-once")});return}s.value=!0,n.value="";const u=await Cg(o.value,l.value);s.value=!1,u?n.value=u:j.open(Su,{game:Ce().games.find(d=>d.name===o.value)})}return(u,d)=>(b(),ce(ze,{class:K({disabled:s.value})},{header:B(()=>[q(Ke,{closeButton:""},{default:B(()=>[Qg]),_:1})]),content:B(()=>[a("div",Hg,[Vg,a("div",Wg,[a("div",Gg,[zg,Se(a("input",{type:"text",onInput:d[0]||(d[0]=f=>r.value=!0),onKeyup:Is(h,["enter"]),placeholder:"Enter a name","onUpdate:modelValue":d[1]||(d[1]=f=>o.value=f)},null,544),[[Te,o.value]]),i.value?(b(),C("span",Kg,N(i.value),1)):F("",!0)]),a("div",Yg,[Jg,a("ul",Xg,[(b(!0),C(J,null,fe(t.value,f=>(b(),C("li",{key:f.id},[a("button",{onClick:v=>l.value=f.id,style:Ht({backgroundColor:f.commonColor})},[a("img",{src:f.url,onLoad:v=>f.loaded=!0,onError:v=>f.loaded=!0,class:K({loaded:f.loaded})},null,42,ev),l.value===f.id?(b(),C("div",tv)):F("",!0),a("div",nv,[a("span",null,N(f.name),1)]),l.value===f.id?(b(),C("i",sv)):F("",!0)],12,Zg)]))),128))])])]),n.value?(b(),C("div",ov,[rv,a("span",null,N(n.value),1),a("button",{class:"btn btn--icon close",onClick:d[2]||(d[2]=f=>n.value="")},av)])):F("",!0),a("div",lv,[a("button",{class:"btn mobile-full-width",onClick:h},[s.value?(b(),C("i",cv)):F("",!0),uv])])])]),_:1},8,["class"]))}}),hv=se(dv,[["__scopeId","data-v-e3ba015e"]]),Tu=e=>(we("data-v-4ebc0b1b"),e=e(),xe(),e),fv={class:"page"},pv={class:"game-list"},mv=Tu(()=>a("i",{class:"fas fa-folder-plus"},null,-1)),yv=Tu(()=>a("span",null,"New Game",-1)),gv=[mv,yv],vv=te({__name:"TheHomePage",setup(e){async function t(){j.open(hv)}const n=G(()=>Ce().games);function s(o){j.open(Su,{game:o})}return Xt(()=>{is()}),(o,r)=>(b(),C("div",fv,[q(Fy,{id:"welcome-ribbon",message:"<em>Online in the Dark</em> is an unofficial tool designed for playing <em>Blades in the Dark</em> online. Click to view the full attribution.",onActivate:()=>{Q(j).open(Eu)}},null,8,["onActivate"]),a("ul",pv,[(b(!0),C(J,null,fe(n.value,i=>(b(),C("li",{key:i._id},[q(qy,{game:i,onClick:l=>s(i)},null,8,["game","onClick"])]))),128)),a("li",null,[a("div",{class:"new-game-card",onClick:t},gv)])])]))}}),_v=se(vv,[["__scopeId","data-v-4ebc0b1b"]]);async function bv(e){j.open(qs);try{const t=await et.post(`/invite/${e}`);if(t.status===Zt.Ok){const n=t.data.gameId;Qt.push({name:ii.GAME,params:{id:n}})}}catch(t){console.error(t),Qt.push({name:ii.HOME}),j.close();return}j.close()}const wv={},xv={class:"panel"};function Cv(e,t){return b(),C("div",xv,[Yn(e.$slots,"default",{},void 0)])}const $u=se(wv,[["render",Cv],["__scopeId","data-v-c9a6184a"]]);/*!
  * vue-router v4.3.2
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const jn=typeof document<"u";function kv(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const Ae=Object.assign;function fr(e,t){const n={};for(const s in t){const o=t[s];n[s]=At(o)?o.map(e):e(o)}return n}const bs=()=>{},At=Array.isArray,Au=/#/g,Ev=/&/g,Sv=/\//g,Tv=/=/g,$v=/\?/g,Ou=/\+/g,Av=/%5B/g,Ov=/%5D/g,Ru=/%5E/g,Rv=/%60/g,Pu=/%7B/g,Pv=/%7C/g,Iu=/%7D/g,Iv=/%20/g;function Ui(e){return encodeURI(""+e).replace(Pv,"|").replace(Av,"[").replace(Ov,"]")}function qv(e){return Ui(e).replace(Pu,"{").replace(Iu,"}").replace(Ru,"^")}function ni(e){return Ui(e).replace(Ou,"%2B").replace(Iv,"+").replace(Au,"%23").replace(Ev,"%26").replace(Rv,"`").replace(Pu,"{").replace(Iu,"}").replace(Ru,"^")}function Nv(e){return ni(e).replace(Tv,"%3D")}function Lv(e){return Ui(e).replace(Au,"%23").replace($v,"%3F")}function Dv(e){return e==null?"":Lv(e).replace(Sv,"%2F")}function As(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const Uv=/\/$/,Bv=e=>e.replace(Uv,"");function pr(e,t,n="/"){let s,o={},r="",i="";const l=t.indexOf("#");let c=t.indexOf("?");return l<c&&l>=0&&(c=-1),c>-1&&(s=t.slice(0,c),r=t.slice(c+1,l>-1?l:t.length),o=e(r)),l>-1&&(s=s||t.slice(0,l),i=t.slice(l,t.length)),s=Qv(s??t,n),{fullPath:s+(r&&"?")+r+i,path:s,query:o,hash:As(i)}}function Mv(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function nl(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Fv(e,t,n){const s=t.matched.length-1,o=n.matched.length-1;return s>-1&&s===o&&Zn(t.matched[s],n.matched[o])&&qu(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Zn(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function qu(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!jv(e[n],t[n]))return!1;return!0}function jv(e,t){return At(e)?sl(e,t):At(t)?sl(t,e):e===t}function sl(e,t){return At(t)?e.length===t.length&&e.every((n,s)=>n===t[s]):e.length===1&&e[0]===t}function Qv(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),s=e.split("/"),o=s[s.length-1];(o===".."||o===".")&&s.push("");let r=n.length-1,i,l;for(i=0;i<s.length;i++)if(l=s[i],l!==".")if(l==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+s.slice(i).join("/")}var Os;(function(e){e.pop="pop",e.push="push"})(Os||(Os={}));var ws;(function(e){e.back="back",e.forward="forward",e.unknown=""})(ws||(ws={}));function Hv(e){if(!e)if(jn){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Bv(e)}const Vv=/^[^#]+#/;function Wv(e,t){return e.replace(Vv,"#")+t}function Gv(e,t){const n=document.documentElement.getBoundingClientRect(),s=e.getBoundingClientRect();return{behavior:t.behavior,left:s.left-n.left-(t.left||0),top:s.top-n.top-(t.top||0)}}const zo=()=>({left:window.scrollX,top:window.scrollY});function zv(e){let t;if("el"in e){const n=e.el,s=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;t=Gv(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function ol(e,t){return(history.state?history.state.position-t:-1)+e}const si=new Map;function Kv(e,t){si.set(e,t)}function Yv(e){const t=si.get(e);return si.delete(e),t}let Jv=()=>location.protocol+"//"+location.host;function Nu(e,t){const{pathname:n,search:s,hash:o}=t,r=e.indexOf("#");if(r>-1){let l=o.includes(e.slice(r))?e.slice(r).length:1,c=o.slice(l);return c[0]!=="/"&&(c="/"+c),nl(c,"")}return nl(n,e)+s+o}function Xv(e,t,n,s){let o=[],r=[],i=null;const l=({state:f})=>{const v=Nu(e,location),_=n.value,x=t.value;let P=0;if(f){if(n.value=v,t.value=f,i&&i===_){i=null;return}P=x?f.position-x.position:0}else s(v);o.forEach(L=>{L(n.value,_,{delta:P,type:Os.pop,direction:P?P>0?ws.forward:ws.back:ws.unknown})})};function c(){i=n.value}function h(f){o.push(f);const v=()=>{const _=o.indexOf(f);_>-1&&o.splice(_,1)};return r.push(v),v}function u(){const{history:f}=window;f.state&&f.replaceState(Ae({},f.state,{scroll:zo()}),"")}function d(){for(const f of r)f();r=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:c,listen:h,destroy:d}}function rl(e,t,n,s=!1,o=!1){return{back:e,current:t,forward:n,replaced:s,position:window.history.length,scroll:o?zo():null}}function Zv(e){const{history:t,location:n}=window,s={value:Nu(e,n)},o={value:t.state};o.value||r(s.value,{back:null,current:s.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function r(c,h,u){const d=e.indexOf("#"),f=d>-1?(n.host&&document.querySelector("base")?e:e.slice(d))+c:Jv()+e+c;try{t[u?"replaceState":"pushState"](h,"",f),o.value=h}catch(v){console.error(v),n[u?"replace":"assign"](f)}}function i(c,h){const u=Ae({},t.state,rl(o.value.back,c,o.value.forward,!0),h,{position:o.value.position});r(c,u,!0),s.value=c}function l(c,h){const u=Ae({},o.value,t.state,{forward:c,scroll:zo()});r(u.current,u,!0);const d=Ae({},rl(s.value,c,null),{position:u.position+1},h);r(c,d,!1),s.value=c}return{location:s,state:o,push:l,replace:i}}function e_(e){e=Hv(e);const t=Zv(e),n=Xv(e,t.state,t.location,t.replace);function s(r,i=!0){i||n.pauseListeners(),history.go(r)}const o=Ae({location:"",base:e,go:s,createHref:Wv.bind(null,e)},t,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t.state.value}),o}function t_(e){return typeof e=="string"||e&&typeof e=="object"}function Lu(e){return typeof e=="string"||typeof e=="symbol"}const rn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Du=Symbol("");var il;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(il||(il={}));function es(e,t){return Ae(new Error,{type:e,[Du]:!0},t)}function Gt(e,t){return e instanceof Error&&Du in e&&(t==null||!!(e.type&t))}const al="[^/]+?",n_={sensitive:!1,strict:!1,start:!0,end:!0},s_=/[.+*?^${}()[\]/\\]/g;function o_(e,t){const n=Ae({},n_,t),s=[];let o=n.start?"^":"";const r=[];for(const h of e){const u=h.length?[]:[90];n.strict&&!h.length&&(o+="/");for(let d=0;d<h.length;d++){const f=h[d];let v=40+(n.sensitive?.25:0);if(f.type===0)d||(o+="/"),o+=f.value.replace(s_,"\\$&"),v+=40;else if(f.type===1){const{value:_,repeatable:x,optional:P,regexp:L}=f;r.push({name:_,repeatable:x,optional:P});const H=L||al;if(H!==al){v+=10;try{new RegExp(`(${H})`)}catch(ee){throw new Error(`Invalid custom RegExp for param "${_}" (${H}): `+ee.message)}}let V=x?`((?:${H})(?:/(?:${H}))*)`:`(${H})`;d||(V=P&&h.length<2?`(?:/${V})`:"/"+V),P&&(V+="?"),o+=V,v+=20,P&&(v+=-8),x&&(v+=-20),H===".*"&&(v+=-50)}u.push(v)}s.push(u)}if(n.strict&&n.end){const h=s.length-1;s[h][s[h].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&(o+="(?:/|$)");const i=new RegExp(o,n.sensitive?"":"i");function l(h){const u=h.match(i),d={};if(!u)return null;for(let f=1;f<u.length;f++){const v=u[f]||"",_=r[f-1];d[_.name]=v&&_.repeatable?v.split("/"):v}return d}function c(h){let u="",d=!1;for(const f of e){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const v of f)if(v.type===0)u+=v.value;else if(v.type===1){const{value:_,repeatable:x,optional:P}=v,L=_ in h?h[_]:"";if(At(L)&&!x)throw new Error(`Provided param "${_}" is an array but it is not repeatable (* or + modifiers)`);const H=At(L)?L.join("/"):L;if(!H)if(P)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${_}"`);u+=H}}return u||"/"}return{re:i,score:s,keys:r,parse:l,stringify:c}}function r_(e,t){let n=0;for(;n<e.length&&n<t.length;){const s=t[n]-e[n];if(s)return s;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function i_(e,t){let n=0;const s=e.score,o=t.score;for(;n<s.length&&n<o.length;){const r=r_(s[n],o[n]);if(r)return r;n++}if(Math.abs(o.length-s.length)===1){if(ll(s))return 1;if(ll(o))return-1}return o.length-s.length}function ll(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const a_={type:0,value:""},l_=/[a-zA-Z0-9_]/;function c_(e){if(!e)return[[]];if(e==="/")return[[a_]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(v){throw new Error(`ERR (${n})/"${h}": ${v}`)}let n=0,s=n;const o=[];let r;function i(){r&&o.push(r),r=[]}let l=0,c,h="",u="";function d(){h&&(n===0?r.push({type:0,value:h}):n===1||n===2||n===3?(r.length>1&&(c==="*"||c==="+")&&t(`A repeatable param (${h}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:h,regexp:u,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):t("Invalid state to consume buffer"),h="")}function f(){h+=c}for(;l<e.length;){if(c=e[l++],c==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:c==="/"?(h&&d(),i()):c===":"?(d(),n=1):f();break;case 4:f(),n=s;break;case 1:c==="("?n=2:l_.test(c)?f():(d(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&l--);break;case 2:c===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+c:n=3:u+=c;break;case 3:d(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&l--,u="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${h}"`),d(),i(),o}function u_(e,t,n){const s=o_(c_(e.path),n),o=Ae(s,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function d_(e,t){const n=[],s=new Map;t=dl({strict:!1,end:!0,sensitive:!1},t);function o(u){return s.get(u)}function r(u,d,f){const v=!f,_=h_(u);_.aliasOf=f&&f.record;const x=dl(t,u),P=[_];if("alias"in u){const V=typeof u.alias=="string"?[u.alias]:u.alias;for(const ee of V)P.push(Ae({},_,{components:f?f.record.components:_.components,path:ee,aliasOf:f?f.record:_}))}let L,H;for(const V of P){const{path:ee}=V;if(d&&ee[0]!=="/"){const de=d.record.path,Y=de[de.length-1]==="/"?"":"/";V.path=d.record.path+(ee&&Y+ee)}if(L=u_(V,d,x),f?f.alias.push(L):(H=H||L,H!==L&&H.alias.push(L),v&&u.name&&!ul(L)&&i(u.name)),_.children){const de=_.children;for(let Y=0;Y<de.length;Y++)r(de[Y],L,f&&f.children[Y])}f=f||L,(L.record.components&&Object.keys(L.record.components).length||L.record.name||L.record.redirect)&&c(L)}return H?()=>{i(H)}:bs}function i(u){if(Lu(u)){const d=s.get(u);d&&(s.delete(u),n.splice(n.indexOf(d),1),d.children.forEach(i),d.alias.forEach(i))}else{const d=n.indexOf(u);d>-1&&(n.splice(d,1),u.record.name&&s.delete(u.record.name),u.children.forEach(i),u.alias.forEach(i))}}function l(){return n}function c(u){let d=0;for(;d<n.length&&i_(u,n[d])>=0&&(u.record.path!==n[d].record.path||!Uu(u,n[d]));)d++;n.splice(d,0,u),u.record.name&&!ul(u)&&s.set(u.record.name,u)}function h(u,d){let f,v={},_,x;if("name"in u&&u.name){if(f=s.get(u.name),!f)throw es(1,{location:u});x=f.record.name,v=Ae(cl(d.params,f.keys.filter(H=>!H.optional).concat(f.parent?f.parent.keys.filter(H=>H.optional):[]).map(H=>H.name)),u.params&&cl(u.params,f.keys.map(H=>H.name))),_=f.stringify(v)}else if(u.path!=null)_=u.path,f=n.find(H=>H.re.test(_)),f&&(v=f.parse(_),x=f.record.name);else{if(f=d.name?s.get(d.name):n.find(H=>H.re.test(d.path)),!f)throw es(1,{location:u,currentLocation:d});x=f.record.name,v=Ae({},d.params,u.params),_=f.stringify(v)}const P=[];let L=f;for(;L;)P.unshift(L.record),L=L.parent;return{name:x,path:_,params:v,matched:P,meta:p_(P)}}return e.forEach(u=>r(u)),{addRoute:r,resolve:h,removeRoute:i,getRoutes:l,getRecordMatcher:o}}function cl(e,t){const n={};for(const s of t)s in e&&(n[s]=e[s]);return n}function h_(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:f_(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function f_(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const s in e.components)t[s]=typeof n=="object"?n[s]:n;return t}function ul(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function p_(e){return e.reduce((t,n)=>Ae(t,n.meta),{})}function dl(e,t){const n={};for(const s in e)n[s]=s in t?t[s]:e[s];return n}function Uu(e,t){return t.children.some(n=>n===e||Uu(e,n))}function m_(e){const t={};if(e===""||e==="?")return t;const s=(e[0]==="?"?e.slice(1):e).split("&");for(let o=0;o<s.length;++o){const r=s[o].replace(Ou," "),i=r.indexOf("="),l=As(i<0?r:r.slice(0,i)),c=i<0?null:As(r.slice(i+1));if(l in t){let h=t[l];At(h)||(h=t[l]=[h]),h.push(c)}else t[l]=c}return t}function hl(e){let t="";for(let n in e){const s=e[n];if(n=Nv(n),s==null){s!==void 0&&(t+=(t.length?"&":"")+n);continue}(At(s)?s.map(r=>r&&ni(r)):[s&&ni(s)]).forEach(r=>{r!==void 0&&(t+=(t.length?"&":"")+n,r!=null&&(t+="="+r))})}return t}function y_(e){const t={};for(const n in e){const s=e[n];s!==void 0&&(t[n]=At(s)?s.map(o=>o==null?null:""+o):s==null?s:""+s)}return t}const g_=Symbol(""),fl=Symbol(""),Bi=Symbol(""),Mi=Symbol(""),oi=Symbol("");function hs(){let e=[];function t(s){return e.push(s),()=>{const o=e.indexOf(s);o>-1&&e.splice(o,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function dn(e,t,n,s,o,r=i=>i()){const i=s&&(s.enterCallbacks[o]=s.enterCallbacks[o]||[]);return()=>new Promise((l,c)=>{const h=f=>{f===!1?c(es(4,{from:n,to:t})):f instanceof Error?c(f):t_(f)?c(es(2,{from:t,to:f})):(i&&s.enterCallbacks[o]===i&&typeof f=="function"&&i.push(f),l())},u=r(()=>e.call(s&&s.instances[o],t,n,h));let d=Promise.resolve(u);e.length<3&&(d=d.then(h)),d.catch(f=>c(f))})}function mr(e,t,n,s,o=r=>r()){const r=[];for(const i of e)for(const l in i.components){let c=i.components[l];if(!(t!=="beforeRouteEnter"&&!i.instances[l]))if(v_(c)){const u=(c.__vccOpts||c)[t];u&&r.push(dn(u,n,s,i,l,o))}else{let h=c();r.push(()=>h.then(u=>{if(!u)return Promise.reject(new Error(`Couldn't resolve component "${l}" at "${i.path}"`));const d=kv(u)?u.default:u;i.components[l]=d;const v=(d.__vccOpts||d)[t];return v&&dn(v,n,s,i,l,o)()}))}}return r}function v_(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function pl(e){const t=$t(Bi),n=$t(Mi),s=G(()=>{const c=Q(e.to);return t.resolve(c)}),o=G(()=>{const{matched:c}=s.value,{length:h}=c,u=c[h-1],d=n.matched;if(!u||!d.length)return-1;const f=d.findIndex(Zn.bind(null,u));if(f>-1)return f;const v=ml(c[h-2]);return h>1&&ml(u)===v&&d[d.length-1].path!==v?d.findIndex(Zn.bind(null,c[h-2])):f}),r=G(()=>o.value>-1&&x_(n.params,s.value.params)),i=G(()=>o.value>-1&&o.value===n.matched.length-1&&qu(n.params,s.value.params));function l(c={}){return w_(c)?t[Q(e.replace)?"replace":"push"](Q(e.to)).catch(bs):Promise.resolve()}return{route:s,href:G(()=>s.value.href),isActive:r,isExactActive:i,navigate:l}}const __=te({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:pl,setup(e,{slots:t}){const n=Rs(pl(e)),{options:s}=$t(Bi),o=G(()=>({[yl(e.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[yl(e.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=t.default&&t.default(n);return e.custom?r:Ec("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},r)}}}),b_=__;function w_(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function x_(e,t){for(const n in t){const s=t[n],o=e[n];if(typeof s=="string"){if(s!==o)return!1}else if(!At(o)||o.length!==s.length||s.some((r,i)=>r!==o[i]))return!1}return!0}function ml(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const yl=(e,t,n)=>e??t??n,C_=te({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const s=$t(oi),o=G(()=>e.route||s.value),r=$t(fl,0),i=G(()=>{let h=Q(r);const{matched:u}=o.value;let d;for(;(d=u[h])&&!d.components;)h++;return h}),l=G(()=>o.value.matched[i.value]);eo(fl,G(()=>i.value+1)),eo(g_,l),eo(oi,o);const c=D();return Bt(()=>[c.value,l.value,e.name],([h,u,d],[f,v,_])=>{u&&(u.instances[d]=h,v&&v!==u&&h&&h===f&&(u.leaveGuards.size||(u.leaveGuards=v.leaveGuards),u.updateGuards.size||(u.updateGuards=v.updateGuards))),h&&u&&(!v||!Zn(u,v)||!f)&&(u.enterCallbacks[d]||[]).forEach(x=>x(h))},{flush:"post"}),()=>{const h=o.value,u=e.name,d=l.value,f=d&&d.components[u];if(!f)return gl(n.default,{Component:f,route:h});const v=d.props[u],_=v?v===!0?h.params:typeof v=="function"?v(h):v:null,P=Ec(f,Ae({},_,t,{onVnodeUnmounted:L=>{L.component.isUnmounted&&(d.instances[u]=null)},ref:c}));return gl(n.default,{Component:P,route:h})||P}}});function gl(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const k_=C_;function E_(e){const t=d_(e.routes,e),n=e.parseQuery||m_,s=e.stringifyQuery||hl,o=e.history,r=hs(),i=hs(),l=hs(),c=xr(rn);let h=rn;jn&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=fr.bind(null,O=>""+O),d=fr.bind(null,Dv),f=fr.bind(null,As);function v(O,M){let U,W;return Lu(O)?(U=t.getRecordMatcher(O),W=M):W=O,t.addRoute(W,U)}function _(O){const M=t.getRecordMatcher(O);M&&t.removeRoute(M)}function x(){return t.getRoutes().map(O=>O.record)}function P(O){return!!t.getRecordMatcher(O)}function L(O,M){if(M=Ae({},M||c.value),typeof O=="string"){const g=pr(n,O,M.path),T=t.resolve({path:g.path},M),E=o.createHref(g.fullPath);return Ae(g,T,{params:f(T.params),hash:As(g.hash),redirectedFrom:void 0,href:E})}let U;if(O.path!=null)U=Ae({},O,{path:pr(n,O.path,M.path).path});else{const g=Ae({},O.params);for(const T in g)g[T]==null&&delete g[T];U=Ae({},O,{params:d(g)}),M.params=d(M.params)}const W=t.resolve(U,M),ge=O.hash||"";W.params=u(f(W.params));const Ee=Mv(s,Ae({},O,{hash:qv(ge),path:W.path})),p=o.createHref(Ee);return Ae({fullPath:Ee,hash:ge,query:s===hl?y_(O.query):O.query||{}},W,{redirectedFrom:void 0,href:p})}function H(O){return typeof O=="string"?pr(n,O,c.value.path):Ae({},O)}function V(O,M){if(h!==O)return es(8,{from:M,to:O})}function ee(O){return $e(O)}function de(O){return ee(Ae(H(O),{replace:!0}))}function Y(O){const M=O.matched[O.matched.length-1];if(M&&M.redirect){const{redirect:U}=M;let W=typeof U=="function"?U(O):U;return typeof W=="string"&&(W=W.includes("?")||W.includes("#")?W=H(W):{path:W},W.params={}),Ae({query:O.query,hash:O.hash,params:W.path!=null?{}:O.params},W)}}function $e(O,M){const U=h=L(O),W=c.value,ge=O.state,Ee=O.force,p=O.replace===!0,g=Y(U);if(g)return $e(Ae(H(g),{state:typeof g=="object"?Ae({},ge,g.state):ge,force:Ee,replace:p}),M||U);const T=U;T.redirectedFrom=M;let E;return!Ee&&Fv(s,W,U)&&(E=es(16,{to:T,from:W}),rt(W,W,!0,!1)),(E?Promise.resolve(E):ke(T,W)).catch(k=>Gt(k)?Gt(k,2)?k:ut(k):me(k,T,W)).then(k=>{if(k){if(Gt(k,2))return $e(Ae({replace:p},H(k.to),{state:typeof k.to=="object"?Ae({},ge,k.to.state):ge,force:Ee}),M||T)}else k=We(T,W,!0,p,ge);return De(T,W,k),k})}function re(O,M){const U=V(O,M);return U?Promise.reject(U):Promise.resolve()}function ie(O){const M=dt.values().next().value;return M&&typeof M.runWithContext=="function"?M.runWithContext(O):O()}function ke(O,M){let U;const[W,ge,Ee]=S_(O,M);U=mr(W.reverse(),"beforeRouteLeave",O,M);for(const g of W)g.leaveGuards.forEach(T=>{U.push(dn(T,O,M))});const p=re.bind(null,O,M);return U.push(p),Be(U).then(()=>{U=[];for(const g of r.list())U.push(dn(g,O,M));return U.push(p),Be(U)}).then(()=>{U=mr(ge,"beforeRouteUpdate",O,M);for(const g of ge)g.updateGuards.forEach(T=>{U.push(dn(T,O,M))});return U.push(p),Be(U)}).then(()=>{U=[];for(const g of Ee)if(g.beforeEnter)if(At(g.beforeEnter))for(const T of g.beforeEnter)U.push(dn(T,O,M));else U.push(dn(g.beforeEnter,O,M));return U.push(p),Be(U)}).then(()=>(O.matched.forEach(g=>g.enterCallbacks={}),U=mr(Ee,"beforeRouteEnter",O,M,ie),U.push(p),Be(U))).then(()=>{U=[];for(const g of i.list())U.push(dn(g,O,M));return U.push(p),Be(U)}).catch(g=>Gt(g,8)?g:Promise.reject(g))}function De(O,M,U){l.list().forEach(W=>ie(()=>W(O,M,U)))}function We(O,M,U,W,ge){const Ee=V(O,M);if(Ee)return Ee;const p=M===rn,g=jn?history.state:{};U&&(W||p?o.replace(O.fullPath,Ae({scroll:p&&g&&g.scroll},ge)):o.push(O.fullPath,ge)),c.value=O,rt(O,M,U,p),ut()}let Ye;function mt(){Ye||(Ye=o.listen((O,M,U)=>{if(!Wt.listening)return;const W=L(O),ge=Y(W);if(ge){$e(Ae(ge,{replace:!0}),W).catch(bs);return}h=W;const Ee=c.value;jn&&Kv(ol(Ee.fullPath,U.delta),zo()),ke(W,Ee).catch(p=>Gt(p,12)?p:Gt(p,2)?($e(p.to,W).then(g=>{Gt(g,20)&&!U.delta&&U.type===Os.pop&&o.go(-1,!1)}).catch(bs),Promise.reject()):(U.delta&&o.go(-U.delta,!1),me(p,W,Ee))).then(p=>{p=p||We(W,Ee,!1),p&&(U.delta&&!Gt(p,8)?o.go(-U.delta,!1):U.type===Os.pop&&Gt(p,20)&&o.go(-1,!1)),De(W,Ee,p)}).catch(bs)}))}let Je=hs(),le=hs(),pe;function me(O,M,U){ut(O);const W=le.list();return W.length?W.forEach(ge=>ge(O,M,U)):console.error(O),Promise.reject(O)}function at(){return pe&&c.value!==rn?Promise.resolve():new Promise((O,M)=>{Je.add([O,M])})}function ut(O){return pe||(pe=!O,mt(),Je.list().forEach(([M,U])=>O?U(O):M()),Je.reset()),O}function rt(O,M,U,W){const{scrollBehavior:ge}=e;if(!jn||!ge)return Promise.resolve();const Ee=!U&&Yv(ol(O.fullPath,0))||(W||!U)&&history.state&&history.state.scroll||null;return bi().then(()=>ge(O,M,Ee)).then(p=>p&&zv(p)).catch(p=>me(p,O,M))}const qe=O=>o.go(O);let wt;const dt=new Set,Wt={currentRoute:c,listening:!0,addRoute:v,removeRoute:_,hasRoute:P,getRoutes:x,resolve:L,options:e,push:ee,replace:de,go:qe,back:()=>qe(-1),forward:()=>qe(1),beforeEach:r.add,beforeResolve:i.add,afterEach:l.add,onError:le.add,isReady:at,install(O){const M=this;O.component("RouterLink",b_),O.component("RouterView",k_),O.config.globalProperties.$router=M,Object.defineProperty(O.config.globalProperties,"$route",{enumerable:!0,get:()=>Q(c)}),jn&&!wt&&c.value===rn&&(wt=!0,ee(o.location).catch(ge=>{}));const U={};for(const ge in rn)Object.defineProperty(U,ge,{get:()=>c.value[ge],enumerable:!0});O.provide(Bi,M),O.provide(Mi,Vl(U)),O.provide(oi,c);const W=O.unmount;dt.add(O),O.unmount=function(){dt.delete(O),dt.size<1&&(h=rn,Ye&&Ye(),Ye=null,c.value=rn,wt=!1,pe=!1),W()}}};function Be(O){return O.reduce((M,U)=>M.then(()=>ie(U)),Promise.resolve())}return Wt}function S_(e,t){const n=[],s=[],o=[],r=Math.max(t.matched.length,e.matched.length);for(let i=0;i<r;i++){const l=t.matched[i];l&&(e.matched.find(h=>Zn(h,l))?s.push(l):n.push(l));const c=e.matched[i];c&&(t.matched.find(h=>Zn(h,c))||o.push(c))}return[n,s,o]}function Bu(){return $t(Mi)}const T_={class:"page"},$_=a("h1",null,"INVITE PAGE",-1),A_=te({__name:"TheInvitePage",setup(e){const n=Bu().params.code;return Xt(()=>{bv(n)}),(s,o)=>(b(),C("div",T_,[$_,q($u,null,{default:B(()=>[a("p",null,N(Q(n)),1)]),_:1})]))}}),Mu=e=>(we("data-v-c2b83b82"),e=e(),xe(),e),O_={class:"page"},R_=Mu(()=>a("h1",null,"404",-1)),P_=Mu(()=>a("p",null,"This page does not exist.",-1)),I_=te({__name:"TheLostPage",setup(e){function t(){Qt.push("/")}return(n,s)=>(b(),C("div",O_,[q($u,{id:"lost"},{default:B(()=>[R_,P_,a("button",{class:"btn",onClick:s[0]||(s[0]=o=>t())},"Return to Home Page")]),_:1})]))}}),q_=se(I_,[["__scopeId","data-v-c2b83b82"]]),Fu=[{id:"e52f27b1-e5f6-42de-9889-c2d9aeeb3b0d",name:"Assassin Crew",author:"Perryphery",source:"",url:"/images/crews/assassins.jpg",commonColor:"#a27043"},{id:"ab9c33a6-2710-41ff-a814-edf6b648af54",name:"Bravos Crew",author:"Perryphery",source:"",url:"/images/crews/bravos.jpg",commonColor:"#e88b62"},{id:"7544b3a4-0e4d-4758-9870-cd5b8f7774cb",name:"Cult Crew",author:"Perryphery",source:"",url:"/images/crews/cult.jpg",commonColor:"#c94c34"},{id:"13867125-73d8-4399-a550-db499a4eedfe",name:"Hawkers Crew",author:"Perryphery",source:"",url:"/images/crews/hawkers.jpg",commonColor:"#bfa53f"},{id:"bbc1bf16-dc4d-4e97-a898-0bf9e688d327",name:"Shadows Crew",author:"Perryphery",source:"",url:"/images/crews/shadows.jpg",commonColor:"#a27043"},{id:"de509b5c-f37c-4975-9768-5e123d24e19b",name:"Smugglers Crew",author:"Perryphery",source:"",url:"/images/crews/smugglers.jpg",commonColor:"#dac684"}],N_=["src"],L_={class:"sheet-card__content"},D_={class:"row info"},U_={class:"tag"},B_=te({__name:"SheetCard",props:{sheet:{type:Object,required:!0}},setup(e){const t=e,n=G(()=>{const o=t.sheet.sheetType;if(o==="crew")return t.sheet.crewType;if(o==="character")return t.sheet.characterType}),s=G(()=>Fu.find(o=>o.id===t.sheet.image));return(o,r)=>{var i,l;return b(),C("div",{class:"sheet-card",style:Ht({backgroundColor:(i=s.value)==null?void 0:i.commonColor})},[a("img",{src:(l=s.value)==null?void 0:l.url},null,8,N_),a("div",L_,[a("h2",null,N(t.sheet.name),1),a("div",D_,[a("span",U_,N(n.value),1)])])],4)}}}),vl=se(B_,[["__scopeId","data-v-243a74b3"]]),M_=["innerHTML"],F_=te({__name:"Tooltip",props:{text:{},top:{type:Boolean}},setup(e){const t=D(null);return(n,s)=>(b(),C("div",{class:K(["tooltip",{"tooltip--top":n.top}]),ref_key:"tooltip",ref:t},[a("span",{innerHTML:n.text},null,8,M_)],2))}}),j_=se(F_,[["__scopeId","data-v-5e947be2"]]),Q_={class:"player-bar"},H_=te({__name:"PlayerBar",setup(e){return(t,n)=>{var s;return b(),C("ul",Q_,[(b(!0),C(J,null,fe((s=Q(Re)().game)==null?void 0:s.players,(o,r)=>(b(),C("li",{key:r,class:K({"inactive-player":!o.isOnline})},[q(Go,{portraitId:o.portrait},null,8,["portraitId"]),q(j_,{top:"",text:o.username},null,8,["text"]),a("div",{class:K(["online-indicator",{"online-indicator--online":o.isOnline}])},null,2)],2))),128))])}}}),V_=se(H_,[["__scopeId","data-v-8422fb27"]]),W_={class:"confirm"},G_=["innerHTML"],z_={class:"row wrap"},K_=te({__name:"ConfirmModal",props:{title:{},message:{},onConfirm:{type:Function},onCancel:{type:Function},confirmText:{},cancelText:{}},setup(e){const t=e;function n(){t.onCancel?t.onCancel():j.close()}return(s,o)=>(b(),ce(ze,null,{header:B(()=>[q(Ke,{closeButton:"",closeButtonAction:n},{default:B(()=>[a("h2",null,N(t.title),1)]),_:1})]),content:B(()=>[a("div",W_,[a("p",{innerHTML:t.message},null,8,G_),a("div",z_,[a("button",{class:"btn btn--alt mobile-full-width",onClick:o[0]||(o[0]=(...r)=>t.onConfirm&&t.onConfirm(...r))},[a("span",null,N(t.confirmText||"Yes"),1)]),a("button",{class:"btn mobile-full-width",onClick:n},[a("span",null,N(t.cancelText||"No, I changed my mind"),1)])])])]),_:1}))}}),Fi=se(K_,[["__scopeId","data-v-f18967fd"]]);let Ys;const Y_=new Uint8Array(16);function J_(){if(!Ys&&(Ys=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Ys))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ys(Y_)}const Xe=[];for(let e=0;e<256;++e)Xe.push((e+256).toString(16).slice(1));function X_(e,t=0){return Xe[e[t+0]]+Xe[e[t+1]]+Xe[e[t+2]]+Xe[e[t+3]]+"-"+Xe[e[t+4]]+Xe[e[t+5]]+"-"+Xe[e[t+6]]+Xe[e[t+7]]+"-"+Xe[e[t+8]]+Xe[e[t+9]]+"-"+Xe[e[t+10]]+Xe[e[t+11]]+Xe[e[t+12]]+Xe[e[t+13]]+Xe[e[t+14]]+Xe[e[t+15]]}const Z_=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),_l={randomUUID:Z_};function xs(e,t,n){if(_l.randomUUID&&!t&&!e)return _l.randomUUID();e=e||{};const s=e.random||(e.rng||J_)();return s[6]=s[6]&15|64,s[8]=s[8]&63|128,X_(s)}class eb{constructor(){ue(this,"id");ue(this,"sheetType");ue(this,"createdBy");ue(this,"createdAt");ue(this,"image");this.id=xs(),this.sheetType="sheet",this.createdBy=Ce().id,this.createdAt=Date.now(),this.image=""}}function tb(){return[]}function ju(e){var o,r,i,l,c,h,u,d,f,v;const t=(o=Re().game)==null?void 0:o.codex,n={id:xs(),name:`Gang of ${e}s`,description:"Edit this gang to customize its Edges and Flaws.",cohortType:"gang",edges:((l=(i=(r=t==null?void 0:t.sheets)==null?void 0:r.crew)==null?void 0:i.cohorts)==null?void 0:l.edges.map(_=>({..._,id:"edge-"+name,quantity:0,maxQuantity:1})))||[],flaws:((u=(h=(c=t==null?void 0:t.sheets)==null?void 0:c.crew)==null?void 0:h.cohorts)==null?void 0:u.flaws.map(_=>({..._,id:"flaw-"+name,quantity:0,maxQuantity:1})))||[],gangType:[{id:"gangType-adepts",name:"Adepts",description:"Scholars, tinkerers, occultists, and chemists",quantity:0,maxQuantity:1},{id:"gangType-rooks",name:"Rooks",description:"Con artists, spies, and socialites",quantity:0,maxQuantity:1},{id:"gangType-rovers",name:"Rovers",description:"Sailors, carriage drivers, and scavengers",quantity:0,maxQuantity:1},{id:"gangType-skulks",name:"Skulks",description:"Scouts, infiltrators, and thieves",quantity:0,maxQuantity:1},{id:"gangType-thugs",name:"Thugs",description:"Killers, brawlers, and roustabouts",quantity:0,maxQuantity:1}],harm:((v=(f=(d=t==null?void 0:t.sheets)==null?void 0:d.crew)==null?void 0:f.cohorts)==null?void 0:v.harm.map(_=>({..._,id:"harm-"+name,quantity:0,maxQuantity:1})))||[],quality:0,scale:0},s="gangType-"+e.toLowerCase();return console.log(s),n.gangType.find(_=>_.id===s).quantity=1,n.edges[0].quantity=1,n.flaws[0].quantity=1,n}var zt=(e=>(e.NORTH="north",e.EAST="east",e.SOUTH="south",e.WEST="west",e))(zt||{});class rs extends eb{constructor(){super();ue(this,"ui",{});ue(this,"name","Untitled Crew");ue(this,"description","");ue(this,"reputationType","Ambitious");ue(this,"lair","An abandoned warehouse");ue(this,"lairDistrict","Crow's Foot");ue(this,"huntingGroundsDistrict","Crow's Foot");ue(this,"reputation",0);ue(this,"turf",0);ue(this,"hold","strong");ue(this,"tier",0);ue(this,"heat",0);ue(this,"wantedLevel",0);ue(this,"coin",0);ue(this,"crewExperience",0);ue(this,"crewExperienceLabels",[]);ue(this,"cohorts",[]);ue(this,"crewType","");ue(this,"crewTypeDescription","");ue(this,"specialAbilities",[]);ue(this,"image","e52f27b1-e5f6-42de-9889-c2d9aeeb3b0d");ue(this,"contacts",[]);ue(this,"crewUpgrades",[]);ue(this,"lairUpgrades",[{id:"carriage-house",name:"Carriage",description:"",quantity:0,maxQuantity:2},{id:"boat-house",name:"Boat",description:"",quantity:0,maxQuantity:2},{id:"hidden-lair",name:"Hidden",description:"",quantity:0,maxQuantity:1},{id:"quarters",name:"Quarters",description:"",quantity:0,maxQuantity:1},{id:"secure-lair",name:"Secure",description:"",quantity:0,maxQuantity:2},{id:"vault",name:"Vault",description:"",quantity:0,maxQuantity:2},{id:"workshop",name:"Workshop",description:"",quantity:0,maxQuantity:1}]);ue(this,"trainingUpgrades",[{id:"insight",name:"Insight",description:"",quantity:0,maxQuantity:1},{id:"prowess",name:"Prowess",description:"",quantity:0,maxQuantity:1},{id:"resolve",name:"Resolve",description:"",quantity:0,maxQuantity:1},{id:"personal",name:"Personal",description:"",quantity:0,maxQuantity:1},{id:"mastery",name:"Mastery",description:"",quantity:0,maxQuantity:4}]);ue(this,"qualityUpgrades",[{id:"documents",name:"Documents",description:"",quantity:0,maxQuantity:1},{id:"gear",name:"Gear",description:"",quantity:0,maxQuantity:1},{id:"implements",name:"Implements",description:"",quantity:0,maxQuantity:1},{id:"supplies",name:"Supplies",description:"",quantity:0,maxQuantity:1},{id:"tools",name:"Tools",description:"",quantity:0,maxQuantity:1},{id:"weapons",name:"Weapons",description:"",quantity:0,maxQuantity:1}]);ue(this,"claims",[]);ue(this,"huntingGroundsLabel","Hunting Grounds");ue(this,"huntingGrounds",[]);this.sheetType="crew"}applyUpgradesDescriptionsFromCodex(){var s;const n=(s=Re().game)==null?void 0:s.codex.sheets.crew["upgrade-descriptions"];this.crewUpgrades.forEach(o=>{var i;const r=(i=n==null?void 0:n.crew)==null?void 0:i[o.id];r?o.description=r:o.description||(o.description="no description found for "+o.id)}),this.lairUpgrades.forEach(o=>{const r=n.lair[o.id];r?o.description=r:o.description||(o.description="no description found for "+o.id)}),this.trainingUpgrades.forEach(o=>{const r=n.training[o.id];r?o.description=r:o.description||(o.description="no description found for "+o.id)}),this.qualityUpgrades.forEach(o=>{const r=n.quality[o.id];r?o.description=r:o.description||(o.description="no description found for "+o.id)})}}class nb extends rs{constructor(){super(),this.name="Untitled Assassins",this.crewType="Assassins",this.crewTypeDescription="Murderers for hire",this.image="e52f27b1-e5f6-42de-9889-c2d9aeeb3b0d",this.crewExperienceLabels=["Execute a successful accident, disappearance, murder, or ransom operation.","Contend with challenges above your current station.","Bolster your crew's reputation or develop a new one.","Express the crew's goals, drives, inner conflict, or essential nature."],this.specialAbilities=[{id:"assassins-deadly",name:"Deadly",description:"Each PC may add +1 action rating to Hunt, Prowl, or Skirmish (up to a max rating of 3).",quantity:0,maxQuantity:1},{id:"assassins-crows-veil",name:"Crow's Veil",description:"Due to hard-won experience or occult ritual, your activities are hidden from the notice of the death-seeker crows. You don't take extra heat when killing is involved on a score.",quantity:0,maxQuantity:1},{id:"assassins-emberdeath",name:"Emberdeath",description:"Due to hard-won experience or occult ritual, you know the arcane method to destroy a living victim's spirit at the moment you kill them. Take 3 stress to channel electroplasmic energy from the ghost field to disintegrate the spirit and dead body in a shower of sparking embers.",quantity:0,maxQuantity:1},{id:"assassins-no-traces",name:"No Traces",description:"When you keep an operation quiet or make it look like an accident, you get half the rep value of the target (round up) instead of zero. When you end downtime with zero heat, take +1 rep.",quantity:0,maxQuantity:1},{id:"assassins-patron",name:"Patron",description:"When you advance your Tier, it costs half the coin it normally would. Who is your patron? Why do they help you?",quantity:0,maxQuantity:1},{id:"assassins-predators",name:"Predators",description:"When you use stealth or subterfuge to commit murder, take +1d to the engagement roll.",quantity:0,maxQuantity:1},{id:"assassins-vipers",name:"Vipers",description:"When you acquire or craft poisons, you get +1 result level to your roll. When you employ a poison, you are specially prepared to be immune to its effects.",quantity:0,maxQuantity:1},{id:"assassins-veteran",name:"Veteran",description:"Choose a special ability from another crew.",quantity:0,maxQuantity:3}],this.crewUpgrades=[{id:"assassin-rigging",name:"Assassin Rigging",description:"2 free load of weapons or gear.",quantity:0,maxQuantity:1},{id:"ironhook-contacts",name:"Ironhook Contacts",description:"+1 Tier in prison.",quantity:0,maxQuantity:1},{id:"elite-skulks",name:"Elite Skulks",description:"",quantity:0,maxQuantity:1},{id:"elite-thugs",name:"Elite Thugs",description:"",quantity:0,maxQuantity:1},{id:"hardened",name:"Hardened",description:"+1 trauma box.",quantity:0,maxQuantity:3}],this.contacts=[{id:"assassins-trev",name:"Trev",description:"A gang boss",attitude:0},{id:"assassins-contact-lydra",name:"Lydra",description:"A deal broker",attitude:0},{id:"assassins-contact-irimina",name:"Irimina",description:"A vicious noble",attitude:0},{id:"assassins-contact-karlos",name:"Karlos",description:"A bounty hunter",attitude:0},{id:"assassins-contact-exeter",name:"Exeter",description:"A spirit warden",attitude:0},{id:"assassins-contact-sevoy",name:"Sevoy",description:"A merchant lord",attitude:0}],this.claims=[{id:"assassins-training-room",name:"Training Room",description:`[/scale +1 scale]
Skulks Cohorts`,position:{x:0,y:0},quantity:0,maxQuantity:1,adjacent:["east","south"]},{id:"assassins-vice-den",name:"Vice Den",description:`[/coin +Coin]
[/dice Tier] - *Heat*`,position:{x:1,y:0},quantity:0,maxQuantity:1,adjacent:["west","south"]},{id:"assassins-fixer",name:"Fixer",description:`[/coin +2 Coin]
Lower-class targets`,position:{x:2,y:0},quantity:0,maxQuantity:1,adjacent:["south"]},{id:"assassins-informants",name:"Informants",description:"[/dice +1] Gather Information",position:{x:3,y:0},quantity:0,maxQuantity:1,adjacent:["east","south"]},{id:"assassins-hagfish-farm",name:"Hagfish Farm",description:`Body disposal
[/dice +1] to reduce *Heat* after killing`,position:{x:4,y:0},quantity:0,maxQuantity:1,adjacent:["west","south"]},{id:"assassins-victim-trophies",name:"Victim Trophies",description:`[/rep +1 Rep]
per score`,position:{x:0,y:1},quantity:0,maxQuantity:1,adjacent:["north","south"]},{id:"assassins-turf-1",name:"Turf",description:"",position:{x:1,y:1},quantity:0,maxQuantity:1,adjacent:["north","east","south"]},{id:"assassins-lair",name:"Lair",description:"",position:{x:2,y:1},quantity:0,maxQuantity:1,adjacent:["north","east","south","west"]},{id:"assassins-turf-2",name:"Turf",description:"",position:{x:3,y:1},quantity:0,maxQuantity:1,adjacent:["north","west","east"]},{id:"assassins-cover-operation",name:"Cover Operation",description:`[/heat -2 Heat]
per score`,position:{x:4,y:1},quantity:0,maxQuantity:1,adjacent:["north","west","south"]},{id:"assassins-protection-racket",name:"Protection Racket",description:`[/coin +Coin]
[/dice Tier] - *Heat*`,position:{x:0,y:2},quantity:0,maxQuantity:1,adjacent:["north","east"]},{id:"assassins-infirmary",name:"Infirmary",description:"[/dice +1] to Healing",position:{x:1,y:2},quantity:0,maxQuantity:1,adjacent:["north","west"]},{id:"assassins-envoy",name:"Envoy",description:`[/coin +2 Coin]
High-class targets`,position:{x:2,y:2},quantity:0,maxQuantity:1,adjacent:["north"]},{id:"assassins-cover-identities",name:"Cover Identities",description:`[/dice +1] Engagement
*Deception* and *Social plans*`,position:{x:3,y:2},quantity:0,maxQuantity:1,adjacent:["east"]},{id:"assassins-city-records",name:"City Records",description:"[/dice +1] Engagement *Stealth plans*",position:{x:4,y:2},quantity:0,maxQuantity:1,adjacent:["north","west"]}],this.huntingGroundsLabel="Hunting Grounds",this.huntingGrounds=[{id:"assassins-hunting-ground-accident",name:"Accident",description:"A killing with no telltale signs of murder.",quantity:0,maxQuantity:1},{id:"assassins-hunting-ground-disappearance",name:"Disappearance",description:"The victim vanishes without a trace.",quantity:0,maxQuantity:1},{id:"assassins-hunting-ground-murder",name:"Murder",description:"An obvious killing that sends a message.",quantity:0,maxQuantity:1},{id:"assassins-hunting-ground-ransom",name:"Ransom",description:"A kidnapping and demand for payment for their return.",quantity:0,maxQuantity:1}],this.applyUpgradesDescriptionsFromCodex(),this.applyStartingUpgrades()}applyStartingUpgrades(){this.claims.find(t=>t.id==="assassins-lair").quantity=1,this.trainingUpgrades.find(t=>t.id==="insight").quantity=1,this.trainingUpgrades.find(t=>t.id==="prowess").quantity=1}}class sb extends rs{constructor(){super(),this.name="Untitled Bravos",this.crewType="Bravos",this.crewTypeDescription="Mercenaries, thugs, & killers",this.image="ab9c33a6-2710-41ff-a814-edf6b648af54",this.crewExperienceLabels=["Execute a successful battle, extortion, sabotage, or smash & grab operation.","Contend with challenges above your current station.","Bolster your crew's reputation or develop a new one.","Express the crew's goals, drives, inner conflict, or essential nature."],this.specialAbilities=[{id:"dangerous",name:"Dangerous",description:"Each PC may add +1 action rating to Hunt, Skirmish, or Wreck (up to a max rating of 3).",quantity:0,maxQuantity:1},{id:"blood-brothers",name:"Blood Brothers",description:"When you fight alongside your cohorts in combat, they get +1d for teamwork rolls (setup and group actions). All of your cohorts get the Thugs type for free (if they're already Thugs, add another type).",quantity:0,maxQuantity:1},{id:"door-kickers",name:"Door Kickers",description:"When you execute an assault plan, take +1d to the engagement roll.",quantity:0,maxQuantity:1},{id:"fiends",name:"Fiends",description:"Fear is as good as respect. You may count each wanted level as if it was turf.",quantity:0,maxQuantity:1},{id:"forged-in-the-fire",name:"Forged in the Fire",description:"Each PC has been toughened by cruel experience. You get +1d to resistance rolls.",quantity:0,maxQuantity:1},{id:"patron",name:"Patron",description:"When you advance your Tier, it costs half the coin it normally would. Who is your patron? Why do they help you?",quantity:0,maxQuantity:1},{id:"war-dogs",name:"War Dogs",description:"When youre at war (-3 faction status), your crew does not suffer -1 hold and PCs still get two downtime activities, instead of just one.",quantity:0,maxQuantity:1},{id:"veteran",name:"Veteran",description:"Choose a special ability from another crew.",quantity:0,maxQuantity:3}],this.crewUpgrades=[{id:"bravos-rigging",name:"Bravos Rigging",description:"2 free load of weapons or armor.",quantity:0,maxQuantity:1},{id:"elite-skulks",name:"Elite Skulks",description:"",quantity:0,maxQuantity:1},{id:"elite-thugs",name:"Elite Thugs",description:"",quantity:0,maxQuantity:1},{id:"hardened",name:"Hardened",description:"+1 trauma box.",quantity:0,maxQuantity:3},{id:"ironhook-contacts",name:"Ironhook Contacts",description:"+1 Tier in prison.",quantity:0,maxQuantity:1}],this.contacts=[{id:"bravos-contact-meg",name:"Meg",description:"A pit-fighter",attitude:0},{id:"bravos-contact-conway",name:"Conway",description:"A bluecoat",attitude:0},{id:"bravos-contact-keller",name:"Keller",description:"A blacksmith",attitude:0},{id:"bravos-contact-tomas",name:"Tomas",description:"A physicker",attitude:0},{id:"bravos-contact-walker",name:"Walker",description:"A ward boss",attitude:0},{id:"bravos-contact-lutes",name:"Lutes",description:"A tavern owner",attitude:0}],this.claims=[{id:"bravos-barracks",name:"Barracks",description:"+1 scale for your Thug cohorts",position:{x:0,y:0},quantity:0,maxQuantity:1,adjacent:["east","south"]},{id:"bravos-turf-1",name:"Turf",description:"",position:{x:1,y:0},quantity:0,maxQuantity:1,adjacent:["west","east"]},{id:"bravos-terrorized-citizens",name:"Terrorized Citizens",description:"+2 coin for battle or extortion",position:{x:2,y:0},quantity:0,maxQuantity:1,adjacent:["west","south"]},{id:"bravos-informants",name:"Informants",description:"+1 gather info for scores",position:{x:3,y:0},quantity:0,maxQuantity:1,adjacent:["east","south"]},{id:"bravos-protection-racket",name:"Protection Racket",description:"(Tier roll) - Heat = coin in downtime",position:{x:4,y:0},quantity:0,maxQuantity:1,adjacent:["west","south"]},{id:"bravos-fighting-pits",name:"Fighting Pits",description:"(Tier roll) - Heat = coin in downtime",position:{x:0,y:1},quantity:0,maxQuantity:1,adjacent:["north","east","south"]},{id:"bravos-turf-2",name:"Turf",description:"",position:{x:1,y:1},quantity:0,maxQuantity:1,adjacent:["west","east","south"]},{id:"bravos-lair",name:"Lair",description:"",position:{x:2,y:1},quantity:0,maxQuantity:1,adjacent:["north","east","south","west"]},{id:"bravos-turf-3",name:"Turf",description:"",position:{x:3,y:1},quantity:0,maxQuantity:1,adjacent:["north","west","east","south"]},{id:"bravos-turf-4",name:"Turf",description:"",position:{x:4,y:1},quantity:0,maxQuantity:1,adjacent:["north","west","south"]},{id:"bravos-infirmary",name:"Infirmary",description:"+1d to healing rolls",position:{x:0,y:2},quantity:0,maxQuantity:1,adjacent:["north","east"]},{id:"bravos-bluecoat-intimidation",name:"Bluecoat Intimidation",description:"-2 heat per score",position:{x:1,y:2},quantity:0,maxQuantity:1,adjacent:["north","west"]},{id:"bravos-street-fence",name:"Street Fence",description:"+2 coin for lower-class targets",position:{x:2,y:2},quantity:0,maxQuantity:1,adjacent:["north","east"]},{id:"bravos-warehouses",name:"Warehouses",description:"Stockpiles give you +1d to acquire assets",position:{x:3,y:2},quantity:0,maxQuantity:1,adjacent:["north","west","east"]},{id:"bravos-bluecoat-confederates",name:"Bluecoat Confederates",description:"+1d engagemnt for assault plans",position:{x:4,y:2},quantity:0,maxQuantity:1,adjacent:["north","west"]}],this.huntingGroundsLabel="Hunting Grounds",this.huntingGrounds=[{id:"bravos-hunting-ground-battle",name:"Battle",description:"Defeat an enemy with overwhelming force.",quantity:0,maxQuantity:1},{id:"bravos-hunting-ground-extortion",name:"Extortion",description:"Threaten violence unless youre paid off.",quantity:0,maxQuantity:1},{id:"bravos-hunting-ground-sabotage",name:"Sabotage",description:"Hurt an opponent by destroying something.",quantity:0,maxQuantity:1},{id:"bravos-hunting-ground-smash-and-grab",name:"Smash & Grab",description:"A fast and violent armed robbery.",quantity:0,maxQuantity:1}],this.applyUpgradesDescriptionsFromCodex(),this.applyStartingUpgrades()}applyStartingUpgrades(){this.claims.find(t=>t.id==="bravos-lair").quantity=1,this.trainingUpgrades.find(t=>t.id==="prowess").quantity=1,this.cohorts.push(ju("Thugs"))}}class ob extends rs{constructor(){super();ue(this,"deityName");ue(this,"deityFeatures");this.name="Untitled Cult",this.crewType="Cult",this.crewTypeDescription="Acolytes of a deity",this.image="7544b3a4-0e4d-4758-9870-cd5b8f7774cb",this.crewExperienceLabels=["Advance the agenda of your deity or embody its precepts.","Contend with challenges above your current station.","Bolster your crew's reputation or develop a new one.","Express the crew's goals, drives, inner conflict, or essential nature."],this.specialAbilities=[{id:"chosen",name:"Chosen",description:"Each PC may add +1 action rating to Attune, Study, or Sway (up to a max rating of 3).",quantity:0,maxQuantity:1},{id:"anointed",name:"Anointed",description:"You get +1d to resistance rolls against supernatural threats. You get +1d to healing rolls when you have supernatural harm.",quantity:0,maxQuantity:1},{id:"bound-in-darkness",name:"Bound in Darkness",description:"You may use teamwork with any cult member, regardless of the distance separating you. By taking 1 stress, your whispered message is heard by every cultist.",quantity:0,maxQuantity:1},{id:"conviction",name:"Conviction",description:"Each PC gains an additional Vice: Worship. When you indulge this vice and bring a pleasing sacrifice, you don't overindulge if you clear excess stress. In addition, your deity will assist any one action roll you makefrom now until you indulge this vice again.",quantity:0,maxQuantity:1},{id:"glory-incarnate",name:"Glory Incarnate",description:"Your deity sometimes manifests in the physical world. This can be a great boon, but the priorities and values of a god are not those of mortals. You have been warned.",quantity:0,maxQuantity:1},{id:"sealed-in-blood",name:"Sealed in Blood",description:"Each human sacrifice yields -3 stress cost for any ritual you perform.",quantity:0,maxQuantity:1},{id:"zealotry",name:"Zealotry",description:"Your cohorts have abandoned their reason to devote themselves to the cult. They will undertake any service, no matter how dangerous or strange. They gain +1d to rolls against enemies of the faith.",quantity:0,maxQuantity:1},{id:"veteran",name:"Veteran",description:"Choose a special ability from another crew.",quantity:0,maxQuantity:3}],this.crewUpgrades=[{id:"cult-rigging",name:"Cult Rigging",description:"2 free load of documents or implements.",quantity:0,maxQuantity:1},{id:"ritual-sanctum-in-lair",name:"Ritual Sanctum in Lair",description:"",quantity:0,maxQuantity:1},{id:"elite-adepts",name:"Elite Adepts",description:"",quantity:0,maxQuantity:1},{id:"elite-thugs",name:"Elite Thugs",description:"",quantity:0,maxQuantity:1},{id:"ordained",name:"Ordained",description:"+1 trauma box.",quantity:0,maxQuantity:3}],this.contacts=[{id:"cult-contact-gagan",name:"Gagan",description:"An academic",attitude:0},{id:"cult-contact-adikin",name:"Adikin",description:"An occultist",attitude:0},{id:"cult-contact-hutchins",name:"Hutchins",description:"An antiquarian",attitude:0},{id:"cult-contact-moriya",name:"Moriya",description:"A spirit trafficker",attitude:0},{id:"cult-contact-mateas-kline",name:"Mateas Kline",description:"A noble",attitude:0},{id:"cult-bennett",name:"Bennett",description:"An astronomer",attitude:0}],this.claims=[{id:"cult-cloister",name:"Cloister",description:"+1 scale for your Adept cohorts",position:{x:0,y:0},quantity:0,maxQuantity:1,adjacent:["east","south"]},{id:"cult-vice-den",name:"Vice Den",description:"(Tier roll) - Heat = coin in downtime",position:{x:1,y:0},quantity:0,maxQuantity:1,adjacent:["west","south","east"]},{id:"cult-offertory",name:"Offertory",description:"+2 coin for occult operations",position:{x:2,y:0},quantity:0,maxQuantity:1,adjacent:["west","south"]},{id:"cult-ancient-obelisk",name:"Ancient Obelisk",description:"-1 stress cost for all arcane powers and rituals",position:{x:3,y:0},quantity:0,maxQuantity:1,adjacent:["east"]},{id:"cult-ancient-tower",name:"Ancient Tower",description:"+1d to Consort w/ arcane entities on site",position:{x:4,y:0},quantity:0,maxQuantity:1,adjacent:["west","south"]},{id:"cult-turf-1",name:"Turf",description:"",position:{x:0,y:1},quantity:0,maxQuantity:1,adjacent:["north","east"]},{id:"cult-turf-2",name:"Turf",description:"",position:{x:1,y:1},quantity:0,maxQuantity:1,adjacent:["north","west","east","south"]},{id:"cult-lair",name:"Lair",description:"",position:{x:2,y:1},quantity:0,maxQuantity:1,adjacent:["north","west","east","south"]},{id:"cult-turf-3",name:"Turf",description:"",position:{x:3,y:1},quantity:0,maxQuantity:1,adjacent:["south","west","east"]},{id:"cult-turf-4",name:"Turf",description:"",position:{x:4,y:1},quantity:0,maxQuantity:1,adjacent:["north","west","south"]},{id:"cult-spirit-well",name:"Spirit Well",description:"+1d to Attune on site",position:{x:0,y:2},quantity:0,maxQuantity:1,adjacent:["east"]},{id:"cult-ancient-gate",name:"Ancient Gate",description:"Safe passage in the Deathlands",position:{x:1,y:2},quantity:0,maxQuantity:1,adjacent:["west","north"]},{id:"cult-sanctuary",name:"Sanctuary",description:"+1d to Command and Sway on site",position:{x:2,y:2},quantity:0,maxQuantity:1,adjacent:["north"]},{id:"cult-sacred-nexus",name:"Sacred Nexus",description:"+1d to healing rolls",position:{x:3,y:2},quantity:0,maxQuantity:1,adjacent:["north","east"]},{id:"cult-ancient-altar",name:"Ancient Altar",description:"+1d engagement for occult plans",position:{x:4,y:2},quantity:0,maxQuantity:1,adjacent:["north","west"]}],this.huntingGroundsLabel="Sacred Sites",this.huntingGrounds=[{id:"cult-sacred-site-acquisition",name:"Acquisition",description:"Procure an arcane artifact and attune it to your god.",quantity:0,maxQuantity:1},{id:"cult-sacred-site-augury",name:"Augury",description:"Do what you must to attract the gods attention and counsel.",quantity:0,maxQuantity:1},{id:"cult-sacred-site-consecration",name:"Consecration",description:"Anoint a place for your deity.",quantity:0,maxQuantity:1},{id:"cult-sacred-site-sacrifice",name:"Sacrifice",description:"Destroy what is valuable or good in honor of your god.",quantity:0,maxQuantity:1}],this.deityName="",this.deityFeatures="",this.applyUpgradesDescriptionsFromCodex(),this.applyStartingUpgrades()}applyStartingUpgrades(){this.claims.find(n=>n.id==="cult-lair").quantity=1,this.trainingUpgrades.find(n=>n.id==="resolve").quantity=1,this.cohorts.push(ju("Adepts"))}}class rb extends rs{constructor(){super(),this.name="Untitled Hawkers",this.crewType="Hawkers",this.crewTypeDescription="Vice dealers",this.image="13867125-73d8-4399-a550-db499a4eedfe",this.crewExperienceLabels=["Acquire product supply, execute clandestine/covert sales, or secure new territory.","Contend with challenges above your current station.","Bolster your crew's reputation or develop a new one.","Express the crew's goals, drives, inner conflict, or essential nature."],this.specialAbilities=[{id:"silver-tongues",name:"Silver Tongues",description:"Each PC may add +1 action rating to Command, Consort, or Sway (up to a max rating of 3).",quantity:0,maxQuantity:1},{id:"accord",name:"Accord",description:"Sometimes friends are as good as territory. You may count up to three +3 faction statuses you hold as if they are turf.",quantity:0,maxQuantity:1},{id:"the-good-stuff",name:"The Good Stuff",description:"Your merchandise is exquisite. The product quality is equal to your Tier+2. When you deal with a crew or faction, the GM will tell you who among them is hooked on your product (one, a few, many, or all).",quantity:0,maxQuantity:1},{id:"ghost-market",name:"Ghost Market",description:"Through arcane ritual or hard-won experience, you have discovered how to prepare your product for sale to ghosts and/or demons. They do not pay in coin. What do they pay with?",quantity:0,maxQuantity:1},{id:"high-society",name:"High Society",description:"It's all about who you know. Take -1 heat during downtime and +1d to gather info about the city's elite.",quantity:0,maxQuantity:1},{id:"hooked",name:"Hooked",description:"Your gang members use your product. Add the savage, unreliable, or wild flaw to your gangs to give them +1 quality.",quantity:0,maxQuantity:1},{id:"patron",name:"Patron",description:"When you advance your Tier, it costs half the coin it normally would. Who is your patron? Why do they help you?",quantity:0,maxQuantity:1},{id:"veteran",name:"Veteran",description:"Choose a special ability from another crew.",quantity:0,maxQuantity:3}],this.crewUpgrades=[{id:"hawkers-rigging",name:"Hawkers Rigging",description:"1 carried item is concealed and has no load",quantity:0,maxQuantity:1},{id:"ironhook-contacts",name:"Ironhook Contacts",description:"+1 Tier in prison.",quantity:0,maxQuantity:1},{id:"elite-rooks",name:"Elite Rooks",description:"",quantity:0,maxQuantity:1},{id:"elite-thugs",name:"Elite Thugs",description:"",quantity:0,maxQuantity:1},{id:"composed",name:"Composed",description:"+1 stress box.",quantity:0,maxQuantity:3}],this.contacts=[{id:"hawkers-contact-rolan-wott",name:"Rolan Wott",description:"A magistrate",attitude:0},{id:"hawkers-contact-laroze",name:"Laroze",description:"A bluecoat",attitude:0},{id:"hawkers-contact-lydra",name:"Lydra",description:"A deal broker",attitude:0},{id:"hawkers-contact-hoxley",name:"Hoxley",description:"A smuggler",attitude:0},{id:"hawkers-contact-anya",name:"Anya",description:"A dilettante",attitude:0},{id:"hawkers-contact-marlo",name:"Marlo",description:"A gang boss",attitude:0}],this.claims=[{id:"hawkers-turf-1",name:"Turf",description:"",position:{x:0,y:0},quantity:0,maxQuantity:1,adjacent:["east","south"]},{id:"hawkers-personal-clothier",name:"Personal Clothier",description:"+1d engagement roll for social plans",position:{x:1,y:0},quantity:0,maxQuantity:1,adjacent:["west","south"]},{id:"hawkers-local-graft",name:"Local Graft",description:"+2 coin for show of force or socialize",position:{x:2,y:0},quantity:0,maxQuantity:1,adjacent:["south"]},{id:"hawkers-lookouts",name:"Lookouts",description:"+1d to Survey or Hunt on your turf",position:{x:3,y:0},quantity:0,maxQuantity:1,adjacent:["east","south"]},{id:"hawkers-informants",name:"Informants",description:"+1 gather info for scores",position:{x:4,y:0},quantity:0,maxQuantity:1,adjacent:["west","south"]},{id:"hawkers-turf-2",name:"Turf",description:"",position:{x:0,y:1},quantity:0,maxQuantity:1,adjacent:["north","south"]},{id:"hawkers-turf-3",name:"Turf",description:"",position:{x:1,y:1},quantity:0,maxQuantity:1,adjacent:["north","east","south"]},{id:"hawkers-lair",name:"Lair",description:"",position:{x:2,y:1},quantity:0,maxQuantity:1,adjacent:["north","east","south","west"]},{id:"hawkers-turf-4",name:"Turf",description:"",position:{x:3,y:1},quantity:0,maxQuantity:1,adjacent:["north","west","east","south"]},{id:"hawkers-luxury-venue",name:"Luxury Venue",description:"+1d to Consort or Sway on site",position:{x:4,y:1},quantity:0,maxQuantity:1,adjacent:["north","west"]},{id:"hawkers-foreign-market",name:"Foreign Market",description:"(Tier roll) - Heat = coin in downtime",position:{x:0,y:2},quantity:0,maxQuantity:1,adjacent:["east","north"]},{id:"hawkers-vice-den",name:"Vice Den",description:"(Tier roll) - Heat = coin in downtime",position:{x:1,y:2},quantity:0,maxQuantity:1,adjacent:["north","west"]},{id:"hawkers-surplus-caches",name:"Surplus Caches",description:"+2 coin for product sale or supply",position:{x:2,y:2},quantity:0,maxQuantity:1,adjacent:["north"]},{id:"hawkers-cover-operation",name:"Cover Operation",description:"-2 heat per score",position:{x:3,y:2},quantity:0,maxQuantity:1,adjacent:["north","east"]},{id:"hawkers-cover-identities",name:"Cover Identities",description:"+1 engagement roll for deception or transport plans",position:{x:4,y:2},quantity:0,maxQuantity:1,adjacent:["west"]}],this.huntingGroundsLabel="Sales Territory",this.huntingGrounds=[{id:"hawkers-sales-territory-sale",name:"Sale",description:"A significant transaction with a special buyer of illicit product.",quantity:0,maxQuantity:1},{id:"hawkers-sales-territory-supply",name:"Supply",description:"A transaction to acquire new product or establish a new supplier.",quantity:0,maxQuantity:1},{id:"hawkers-sales-territory-show-of-force",name:"Show of Force",description:"Make an example of an enemy to dominate territory.",quantity:0,maxQuantity:1},{id:"hawkers-sales-territory-socialize",name:"Socialize",description:"Improve customer and/or supplier relations with a social event.",quantity:0,maxQuantity:1}],this.applyUpgradesDescriptionsFromCodex(),this.applyStartingUpgrades()}applyStartingUpgrades(){this.claims.find(t=>t.id==="hawkers-lair").quantity=1,this.trainingUpgrades.find(t=>t.id==="resolve").quantity=1,this.lairUpgrades.find(t=>t.id==="secure-lair").quantity=1,console.log(this.lairUpgrades)}}class ib extends rs{constructor(){super(),this.name="Untitled Shadows",this.crewType="Shadows",this.crewTypeDescription="Thieves, spies, and saboteurs",this.image="bbc1bf16-dc4d-4e97-a898-0bf9e688d327",this.crewExperienceLabels=["Execute a successful espionage, sabotage, or theft operation.","Contend with challenges above your current station.","Bolster your crew's reputation or develop a new one.","Express the crew's goals, drives, inner conflict, or essential nature."],this.specialAbilities=[{id:"everyone-steals",name:"Everyone Steals",description:"Each PC may add +1 action rating to Prowl, Finesse, or Tinker (up to a max rating of 3).",quantity:0,maxQuantity:1},{id:"ghost-echoes",name:"Ghost Echoes",description:"From weird experience or occult ritual, all crew members gain the ability to see and interact with the ghostly structures, streets, and objects within the echo of Doskvol that exists in the ghost field.",quantity:0,maxQuantity:1},{id:"pack-rats",name:"Pack Rats",description:"Your lair is a jumble of stolen items. When you roll to acquire an asset, take +1d.",quantity:0,maxQuantity:1},{id:"patron",name:"Patron",description:"When you advance your Tier, it costs half the coin it normally would. Who is your patron? Why do they help you?",quantity:0,maxQuantity:1},{id:"second-story",name:"Second Story",description:"When you execute a clandestine infiltration, you get +1d to the engagement roll.",quantity:0,maxQuantity:1},{id:"slippery",name:"Slippery",description:"When you roll entanglements, roll twice and keep the one you want. When you reduce heat on the crew, take +1d.",quantity:0,maxQuantity:1},{id:"synchronized",name:"Synchronized",description:"When you perform a group action, you may count multiple 6s from different rolls as a critical success.",quantity:0,maxQuantity:1},{id:"veteran",name:"Veteran",description:"Choose a special ability from another crew.",quantity:0,maxQuantity:3}],this.crewUpgrades=[{id:"thief-rigging",name:"Thief Rigging",description:"2 free load of tools or gear.",quantity:0,maxQuantity:1},{id:"underground-maps-and-passkeys",name:"Underground Maps and Passkeys",description:"",quantity:0,maxQuantity:1},{id:"elite-rooks",name:"Elite Rooks",description:"",quantity:0,maxQuantity:1},{id:"elite-skulks",name:"Elite Skulks",description:"",quantity:0,maxQuantity:1},{id:"steady",name:"Steady",description:"+1 stress box.",quantity:0,maxQuantity:3}],this.contacts=[{id:"shadows-contact-dowler",name:"Dowler",description:"An explorer",attitude:0},{id:"shadows-contact-laroze",name:"Laroze",description:"A bluecoat",attitude:0},{id:"shadows-contact-amancio",name:"Amancio",description:"A deal broker",attitude:0},{id:"shadows-contact-fitz",name:"Fitz",description:"A collector",attitude:0},{id:"shadows-contact-adelaide-phroaig",name:"Adelaide Phroaig",description:"A noble",attitude:0},{id:"shadows-contact-rigney",name:"Rigney",description:"A tavern owner",attitude:0}],this.claims=[{id:"shadows-interrogation-chamber",name:"Interrogation Chamber",description:"+1d to Command and Sway on site",position:{x:0,y:0},quantity:0,maxQuantity:1,adjacent:["east","south"]},{id:"shadows-turf-1",name:"Turf",description:"",position:{x:1,y:0},quantity:0,maxQuantity:1,adjacent:["west","east"]},{id:"shadows-loyal-fence",name:"Loyal Fence",description:"+2 coin for burglary or robbery",position:{x:2,y:0},quantity:0,maxQuantity:1,adjacent:["west","south"]},{id:"shadows-gambling-den",name:"Gambling Den",description:"(Tier roll) - Heat = coin in downtime",position:{x:3,y:0},quantity:0,maxQuantity:1,adjacent:["east","south"]},{id:"shadows-tavern",name:"Tavern",description:"+1d to Consort and Sway on site",position:{x:4,y:0},quantity:0,maxQuantity:1,adjacent:["west","south"]},{id:"shadows-drug-den",name:"Drug Den",description:"(Tier roll) - Heat = coin in downtime",position:{x:0,y:1},quantity:0,maxQuantity:1,adjacent:["north","east","south"]},{id:"shadows-informants",name:"Informants",description:"+1 gather info for scores",position:{x:1,y:1},quantity:0,maxQuantity:1,adjacent:["south","west","east"]},{id:"shadows-lair",name:"Lair",description:"",position:{x:2,y:1},quantity:0,maxQuantity:1,adjacent:["north","west","east","south"]},{id:"shadows-turf-2",name:"Turf",description:"",position:{x:3,y:1},quantity:0,maxQuantity:1,adjacent:["north","west","east"]},{id:"shadows-lookouts",name:"Lookouts",description:"+1d to Survey or Hunt on your turf",position:{x:4,y:1},quantity:0,maxQuantity:1,adjacent:["north","west","south"]},{id:"shadows-hagfish-farm",name:"Hagfish Farm",description:"Body disposal, +1d to reduce heat after killing",position:{x:0,y:2},quantity:0,maxQuantity:1,adjacent:["east","north"]},{id:"shadows-infirmary",name:"Infirmary",description:"+1d to healing rolls",position:{x:1,y:2},quantity:0,maxQuantity:1,adjacent:["west","north"]},{id:"shadows-covert-drops",name:"Covert Drops",description:"+2 coin for espionage or sabotage",position:{x:2,y:2},quantity:0,maxQuantity:1,adjacent:["north","east"]},{id:"shadows-turf-3",name:"Turf",description:"",position:{x:3,y:2},quantity:0,maxQuantity:1,adjacent:["west","east"]},{id:"shadows-secret-pathways",name:"Secret Pathways",description:"+1d engagement for stealth plans",position:{x:4,y:2},quantity:0,maxQuantity:1,adjacent:["west","north"]}],this.huntingGroundsLabel="Hunting Grounds",this.huntingGrounds=[{id:"shadows-hunting-grounds-burglary",name:"Burglary",description:"Theft by breaking and entering.",quantity:0,maxQuantity:1},{id:"shadows-hunting-grounds-espionage",name:"Espionage",description:"Obtain secret information by covert or clandestine means.",quantity:0,maxQuantity:1},{id:"shadows-hunting-grounds-robbery",name:"Robbery",description:"Theft by force or threats.",quantity:0,maxQuantity:1},{id:"shadows-hunting-grounds-sabotage",name:"Sabotage",description:"Hurt an opponent by destroying something.",quantity:0,maxQuantity:1}],this.applyUpgradesDescriptionsFromCodex(),this.applyStartingUpgrades()}applyStartingUpgrades(){this.claims.find(t=>t.id==="shadows-lair").quantity=1,this.trainingUpgrades.find(t=>t.id==="prowess").quantity=1,this.lairUpgrades.find(t=>t.id==="hidden-lair").quantity=1}}class ab extends rs{constructor(){super(),this.name="Untitled Smugglers",this.crewType="Smugglers",this.crewTypeDescription="Suppliers of illicit goods",this.image="de509b5c-f37c-4975-9768-5e123d24e19b",this.crewExperienceLabels=["Execute a successful smuggling or acquire new clients or contraband sources.","Contend with challenges above your current station.","Bolster your crew's reputation or develop a new one.","Express the crew's goals, drives, inner conflict, or essential nature."],this.specialAbilities=[{id:"like-part-of-the-family",name:"Like Part of the Family",description:"Create one of your vehicles as a cohort. Its quality is equal to your Tier +1.",quantity:0,maxQuantity:1},{id:"all-hands",name:"All Hands",description:"During downtime, one of your cohorts may perform a downtime activity for the crew to acquire an asset, reduce heat, or work on a long-term project.",quantity:0,maxQuantity:1},{id:"ghost-passage",name:"Ghost Passage",description:'From harsh experience or occult ritual, all crew members become immune to possession by spirits, but may choose to "carry" a second ghost as a passenger within their body.',quantity:0,maxQuantity:1},{id:"just-passing-through",name:"Just Passing Through",description:"During downtime, take -1 heat. When your heat is 4 or less, you get +1d to deceive people when you pass yourselves off as ordinary citizens.",quantity:0,maxQuantity:1},{id:"leverage",name:"Leverage",description:"Your crew supplies contraband for other factions. Your success is good for them. Whenever you gain rep, gain +1 rep.",quantity:0,maxQuantity:1},{id:"reavers",name:"Reavers",description:"When you go into conflict aboard a vehicle, you gain +1 effect for vehicle damage and speed. Your vehicle gains armor.",quantity:0,maxQuantity:1},{id:"renegades",name:"Renegades",description:"Each PC may add +1 action rating to Finesse, Prowl, or Skirmish (up to a max rating of 3).",quantity:0,maxQuantity:1},{id:"veteran",name:"Veteran",description:"Choose a special ability from another crew.",quantity:0,maxQuantity:3}],this.crewUpgrades=[{id:"smugglers-rigging",name:"Smugglers Rigging",description:"2 items carried are perfectly concealed.",quantity:0,maxQuantity:1},{id:"camoflage",name:"Camoflage",description:"Vehicles are perfectly concealed at rest",quantity:0,maxQuantity:1},{id:"elite-rovers",name:"Elite Rovers",description:"",quantity:0,maxQuantity:1},{id:"barge",name:"Barge",description:"",quantity:0,maxQuantity:1},{id:"steady",name:"Steady",description:"+1 stress box.",quantity:0,maxQuantity:3}],this.contacts=[{id:"smugglers-contact-elynn",name:"Elynn",description:"A dock worker",attitude:0},{id:"smugglers-contact-rolan",name:"Rolan",description:"A drug dealer",attitude:0},{id:"smugglers-contact-sera",name:"Sera",description:"An arms dealer",attitude:0},{id:"smugglers-contact-nyelle",name:"Nyelle",description:"A spirit trafficker",attitude:0},{id:"smugglers-contact-decker",name:"Decker",description:"An anarchist",attitude:0},{id:"smugglers-contact-esme",name:"Esme",description:"A tavern owner",attitude:0}],this.claims=[{id:"smugglers-turf-1",name:"Turf",description:"",position:{x:0,y:0},quantity:0,maxQuantity:1,adjacent:["east","south"]},{id:"smugglers-side-business",name:"Side Business",description:"(Tier roll) - Heat = coin in downtime",position:{x:1,y:0},quantity:0,maxQuantity:1,adjacent:["west","south"]},{id:"smugglers-luxury-fence",name:"Luxury Fence",description:"+2 coin for high-class targets",position:{x:2,y:0},quantity:0,maxQuantity:1,adjacent:["south"]},{id:"smugglers-vice-den",name:"Vice Den",description:"(Tier roll) - Heat = coin in downtime",position:{x:3,y:0},quantity:0,maxQuantity:1,adjacent:["east","south"]},{id:"smugglers-tavern",name:"Tavern",description:"+1d to Consort and Sway on site",position:{x:4,y:0},quantity:0,maxQuantity:1,adjacent:["west","south"]},{id:"smugglers-ancient-gate",name:"Ancient Gate",description:"Safe passage in the Deathlands",position:{x:0,y:1},quantity:0,maxQuantity:1,adjacent:["south","north"]},{id:"smugglers-turf-2",name:"Turf",description:"",position:{x:1,y:1},quantity:0,maxQuantity:1,adjacent:["north","east","south"]},{id:"smugglers-lair",name:"Lair",description:"",position:{x:2,y:1},quantity:0,maxQuantity:1,adjacent:["north","west","east","south"]},{id:"smugglers-turf-3",name:"Turf",description:"",position:{x:3,y:1},quantity:0,maxQuantity:1,adjacent:["north","west","east","south"]},{id:"smugglers-turf-4",name:"Turf",description:"",position:{x:4,y:1},quantity:0,maxQuantity:1,adjacent:["north","west","south"]},{id:"smugglers-secret-routes",name:"Secret Routes",description:"+1d engagement for transport plans",position:{x:0,y:2},quantity:0,maxQuantity:1,adjacent:["east","north"]},{id:"smugglers-informants",name:"Informants",description:"+1 gather info for scores",position:{x:1,y:2},quantity:0,maxQuantity:1,adjacent:["west","north"]},{id:"smugglers-fleet",name:"Fleet",description:"Your cohorts have their own vehicles",position:{x:2,y:2},quantity:0,maxQuantity:1,adjacent:["north"]},{id:"smugglers-cover-operation",name:"Cover Operation",description:"-2 heat per score",position:{x:3,y:2},quantity:0,maxQuantity:1,adjacent:["north","east"]},{id:"smugglers-warehouse",name:"Warehouse",description:"Stockpiles give you +1d to acquire assets",position:{x:4,y:2},quantity:0,maxQuantity:1,adjacent:["north","west"]}],this.huntingGroundsLabel="Cargo Types",this.huntingGrounds=[{id:"smugglers-cargo-type-arcane-weird",name:"Arcane/Weird",description:"Spirit essences, ghosts, cult materials.",quantity:0,maxQuantity:1},{id:"smugglers-cargo-type-arms",name:"Arms",description:"Restricted military weapons, heavy ordnance, explosives.",quantity:0,maxQuantity:1},{id:"smugglers-cargo-type-contraband",name:"Contraband",description:"High-tax luxuries, drugs, banned art, etc.",quantity:0,maxQuantity:1},{id:"smugglers-cargo-type-passengers",name:"Passengers",description:"People or livestock traveling in secret.",quantity:0,maxQuantity:1}],this.applyUpgradesDescriptionsFromCodex(),this.applyStartingUpgrades()}applyStartingUpgrades(){this.claims.find(t=>t.id==="smugglers-lair").quantity=1,this.trainingUpgrades.find(t=>t.id==="prowess").quantity=1,this.lairUpgrades=this.lairUpgrades.filter(t=>t.id!=="carriage-house"&&t.id!=="boat-house");for(let t=1;t<=2;t++)this.lairUpgrades.push({id:`vehicle-${t}`,name:`Vehicle ${t}`,description:"Either a carriage or a boat, along with the relevant stable or boat-house.",quantity:t==1?1:0,maxQuantity:2})}}function lb(){return{assassins:new nb,bravos:new sb,cult:new ob,hawkers:new rb,shadows:new ib,smugglers:new ab}}function cb(e){return e==="crew"?lb():e==="character"?tb():{}}function bo(e){return Fu.find(t=>t.id===e)}function bl(e){return e.length===0?e:e.charAt(0).toUpperCase()+e.slice(1)}function ub(e){return["zero","one","two","three","four","five","six","seven","eight","nine","ten"][e]}function En(e){const t=e.replace(/<[^>]*>/g,""),n=[{pattern:/(\*\*|__)(.*?)\1/g,replacement:'<span class="strong">$2</span>'},{pattern:/(\*|_)(.*?)\1/g,replacement:'<span class="em">$2</span>'},{pattern:/\n\n/g,replacement:'<br class="paragraph-break" />'},{pattern:/\n/g,replacement:"<br />"},{pattern:/\[\/dice\s+([^\]]+)\]/g,replacement:'<span class="t t--dice">$1<i class="fas fa-dice-three"></i></span>'},{pattern:/\[\/(\w+)\s+([^\]]+)\]/g,replacement:'<span class="t t--$1">$2</span>'}];let s=t;return n.forEach(o=>{s=s.replaceAll(o.pattern,o.replacement)}),`<span class="markdown-text">${s}</span>`}const db=e=>(we("data-v-a1192683"),e=e(),xe(),e),hb={class:"template-picker"},fb=db(()=>a("p",null," The crew type you choose determines the group's purpose, their special abilities, and how they advance. ",-1)),pb=["onClick"],mb=["src"],yb={class:"row mobile-only"},gb=te({__name:"SheetTemplatePickerModal",props:{sheetType:String,templateTypeKey:String,templates:Object,onConfirm:{type:Function,required:!0}},setup(e){const t=e;function n(r){console.log("template",r),t.onConfirm(t.sheetType,r),j.close()}const s=D(0);function o(r){const i=r.children[0].clientWidth,l=(r.scrollLeft+i/2)/i;s.value=Math.floor(l)}return(r,i)=>(b(),ce(ze,null,{header:B(()=>[q(Ke,{closeButton:""},{default:B(()=>[a("h2",null,"Choose a "+N(e.sheetType)+" template",1)]),_:1})]),content:B(()=>[a("div",hb,[fb,a("ul",{class:"scroll-container",ref:"carouselRef",onScroll:i[0]||(i[0]=l=>o(l.target))},[(b(!0),C(J,null,fe(e.templates,(l,c,h)=>{var u,d;return b(),C("li",null,[(b(),C("div",{class:K(["template-card prevent-click-on-mobile",{active:s.value==h,"left-of-active":s.value>h,"right-of-active":s.value<h}]),onClick:f=>n(l),key:l.id,style:Ht({"background-color":(u=Q(bo)(l.image))==null?void 0:u.commonColor})},[a("img",{src:(d=Q(bo)(l.image))==null?void 0:d.url},null,8,mb),a("h3",null,N(l[e.templateTypeKey]),1),a("p",null,N(l[e.templateTypeKey+"Description"]),1)],14,pb))])}),256))],544),a("div",yb,[a("button",{class:"btn mobile-full-width",onClick:i[1]||(i[1]=l=>n(Object.values(t.templates)[s.value]))},[a("span",null,"New "+N(Q(bl)(Object.keys(t.templates||[])[s.value]))+" "+N(Q(bl)(e.sheetType||"sheet")),1)])])])]),_:1}))}}),vb=se(gb,[["__scopeId","data-v-a1192683"]]),_b=a("h1",null,"CHARACTER SHEET",-1),bb=te({__name:"TheCharacterSheet",props:{sheet:{}},setup(e){return(t,n)=>(b(),C(J,null,[_b,a("pre",null,N(JSON.stringify(t.sheet,null,2)),1)],64))}}),wb={class:"icon"},xb={key:1},Cb=te({__name:"Checkbox",props:{modelValue:{type:[String,Boolean,Array],required:!0},label:{type:String,required:!1},value:{type:String,required:!1},text:{type:String,required:!1,default:""},icon:{type:String,required:!1},emptyWhenUnchecked:{type:Boolean,required:!1,default:!1}},setup(e,{emit:t}){const n=e,s=t,o=G(()=>n.value&&Array.isArray(n.modelValue)?n.modelValue.includes(n.value):n.modelValue);function r(i){if(i.preventDefault(),!(n.value&&Array.isArray(n.modelValue)))return s("update:modelValue",!n.modelValue);n.modelValue.includes(n.value)?n.modelValue.splice(n.modelValue.indexOf(n.value),1):n.modelValue.push(n.value),s("update:modelValue",n.modelValue)}return(i,l)=>{var c;return b(),C("div",{class:K(["checkbox-group",{compact:!((c=e.label)!=null&&c.length),checked:o.value}]),onClick:r},[a("div",wb,[o.value||!e.emptyWhenUnchecked?(b(),C("i",{key:0,class:K(["fas",e.icon])},null,2)):F("",!0),e.icon?F("",!0):(b(),C("span",xb,N(e.text),1))]),a("p",null,N(e.label),1)],2)}}}),yt=se(Cb,[["__scopeId","data-v-c4a3acfd"]]),kb={class:"checkbox-list"},Eb=te({__name:"CheckboxBar",props:{value:{},locked:{},max:{},coinMode:{type:Boolean}},emits:["change"],setup(e,{emit:t}){const n=e,s=t,o=D(n.value),r=D([]);i();function i(){r.value=l(o.value)}function l(u){return Array.from({length:u},(d,f)=>(f+1).toString())}Bt(()=>n.value,u=>{o.value=u});function c(u){return u>n.max-(n.locked??0)?"fas fa-lock":n.coinMode&&r.value.includes(u.toString())?"fas fa-crown":r.value.includes(u.toString())?"fas fa-check":"N/A"}function h(u){let d=r.value;d=d.filter(v=>parseInt(v)<=parseInt(u));const f=Math.max(...d.map(v=>parseInt(v)));d=d.map(v=>parseInt(v)<=f?v:u),r.value=Array.from({length:f},(v,_)=>(_+1).toString()),o.value=Math.max(f,0),s("change",o.value)}return(u,d)=>(b(),C("div",{class:K(["checkbox-bar",{"coin-mode":n.coinMode}])},[a("ul",kb,[(b(!0),C(J,null,fe(n.max,f=>(b(),ce(yt,{class:K({locked:f>n.max-(n.locked??0)}),key:f,modelValue:r.value,"onUpdate:modelValue":[d[0]||(d[0]=v=>r.value=v),v=>h(f.toString())],value:f.toString(),icon:c(f)},null,8,["class","modelValue","value","onUpdate:modelValue","icon"]))),128))])],2))}}),Js=se(Eb,[["__scopeId","data-v-30e6ce70"]]),Sb={class:"header"},Tb=["innerHTML"],$b={class:"roadmap"},Ab=te({__name:"ClaimTile",props:{claim:{},showDetails:{type:Boolean},idPrefix:{},propertyName:{},neighborClaims:{},change:{type:Function}},setup(e){const t=e,n=D(null),s=D(!1);Xt(()=>{o(),window.addEventListener("resize",o)}),ns(()=>{window.removeEventListener("resize",o)});function o(){var c;s.value=((c=n.value)==null?void 0:c.clientWidth)&&n.value.clientWidth<140||!1}function r(c){const h=t.neighborClaims[c];return h?h.quantity>0:!1}const i=G(()=>t.claim.adjacent.map(c=>l(c)));function l(c,h=1){const u=[zt.NORTH,zt.EAST,zt.SOUTH,zt.WEST],d=u.indexOf(c);return d===-1?c:u[(d+h+u.length)%u.length]}return(c,h)=>(b(),C("div",{ref_key:"claimTile",ref:n,class:K(["claim-tile",{small:s.value,active:t.claim.quantity>0}]),onClick:h[0]||(h[0]=u=>t.change(t.claim.quantity?0:1))},[a("div",Sb,[a("h2",null,N(t.claim.name),1)]),t.showDetails?(b(),C("p",{key:0,innerHTML:Q(En)(t.claim.description)},null,8,Tb)):F("",!0),a("ul",$b,[(b(!0),C(J,null,fe(i.value,u=>(b(),C("li",{class:K({[u]:!0,active:t.claim.quantity>0&&r(l(u,-1))})},null,2))),256))])],2))}}),Ob=se(Ab,[["__scopeId","data-v-4c40cc41"]]),Rb=te({__name:"CollapsingShelf",props:{show:{type:Boolean}},setup(e){const t=e;return(n,s)=>(b(),C("div",{class:K(["shelf",{show:t.show}])},[Yn(n.$slots,"default",{},void 0)],2))}}),Et=se(Rb,[["__scopeId","data-v-5c22fd0d"]]),gn=e=>(we("data-v-bc8da894"),e=e(),xe(),e),Pb={class:"edit"},Ib={class:"input-group"},qb=gn(()=>a("label",{for:"name"},"Name",-1)),Nb=gn(()=>a("label",{for:"id"},[X("ID "),a("label",{class:"muted"},"(permanent)")],-1)),Lb={class:"input-group stretch"},Db={for:"description"},Ub={class:"muted"},Bb={class:"input-group"},Mb=gn(()=>a("label",{for:"maxQuantity"},"Max Quantity",-1)),Fb={key:0,class:"row"},jb=gn(()=>a("span",null,"Cancel",-1)),Qb=[jb],Hb=gn(()=>a("span",null,"New",-1)),Vb=[Hb],Wb={key:1,class:"row"},Gb=gn(()=>a("i",{class:"fas fa-trash"},null,-1)),zb=gn(()=>a("span",null,"Delete",-1)),Kb=[Gb,zb],Yb=gn(()=>a("span",null,"Save",-1)),Jb=[Yb],Xb=te({__name:"EditEffectableModal",props:{propertyName:{},effectable:{},onEdit:{type:Function},onDelete:{type:Function},idPrefix:{},onCreateNew:{type:Function}},setup(e){const t=e,n={id:"",name:"",description:"",quantity:0,maxQuantity:1},s=D({...t.effectable||n});function o(c){if(!t.onCreateNew)return;let h=(t.idPrefix||"")+"-"+c;h=h.toLowerCase().replace(/ /g,"-").replace(/[^a-z0-9-]/g,""),s.value.id=h}function r(){t.onCreateNew&&(t.onCreateNew(s.value),j.close())}function i(){t.onEdit&&(t.onEdit(s.value),j.close())}function l(){t.onDelete&&(t.onDelete(s.value.id),j.close())}return(c,h)=>(b(),ce(ze,null,{header:B(()=>[q(Ke,{closeButton:""},{default:B(()=>[a("h2",null,N(t.onCreateNew?"Create a new":"Edit")+" "+N(c.propertyName),1)]),_:1})]),content:B(()=>[a("div",Pb,[a("div",Ib,[qb,Se(a("input",{type:"text",id:"name","onUpdate:modelValue":h[0]||(h[0]=u=>s.value.name=u),placeholder:"Enter a memorable name",onInput:h[1]||(h[1]=u=>o(s.value.name))},null,544),[[Te,s.value.name]])]),a("div",{class:K(["input-group",{disabled:!t.onCreateNew}])},[Nb,Se(a("input",{type:"text",id:"id","onUpdate:modelValue":h[2]||(h[2]=u=>s.value.id=u),placeholder:"A hyphenated identifier"},null,512),[[Te,s.value.id]])],2),a("div",Lb,[a("label",Db,[X("Description "),a("label",Ub,"("+N(s.value.description.length)+" / 400) ",1)]),Se(a("textarea",{id:"description","onUpdate:modelValue":h[3]||(h[3]=u=>s.value.description=u),placeholder:"A brief description"},null,512),[[Te,s.value.description]])]),a("div",Bb,[Mb,Se(a("input",{type:"number",id:"maxQuantity","onUpdate:modelValue":h[4]||(h[4]=u=>s.value.maxQuantity=u),placeholder:"1, 2, 3..."},null,512),[[Te,s.value.maxQuantity]])]),t.onCreateNew?(b(),C("div",Fb,[a("button",{class:"btn btn--alt mobile-full-width",onClick:h[5]||(h[5]=u=>Q(j).close())},Qb),a("button",{class:"btn mobile-full-width",onClick:r},Vb)])):(b(),C("div",Wb,[a("button",{class:"btn btn--alt mobile-full-width",onClick:l},Kb),a("button",{class:"btn mobile-full-width",onClick:i},Jb)]))])]),_:1}))}}),Qn=se(Xb,[["__scopeId","data-v-bc8da894"]]),Zb=e=>(we("data-v-e35dc887"),e=e(),xe(),e),ew={class:"header"},tw=Zb(()=>a("i",{class:"fas fa-edit"},null,-1)),nw=[tw],sw={class:"row selection-bar"},ow=te({__name:"EffectableTile",props:{effectable:{},idPrefix:{},propertyName:{},change:{type:Function},onEdit:{type:Function},onDelete:{type:Function}},setup(e){const t=e;function n(){s.value=r(t.effectable.quantity)}const s=D([]);n(),Bt(()=>t.effectable.quantity,n);function o(c){let h=s.value;h=h.filter(d=>parseInt(d)<=parseInt(c));const u=Math.max(...h.map(d=>parseInt(d)));h=h.map(d=>parseInt(d)<=u?d:c),s.value=Array.from({length:u},(d,f)=>(f+1).toString()),t.change(Math.max(u,0))}function r(c){return Array.from({length:c},(h,u)=>(u+1).toString())}function i(c){t.onEdit&&t.onEdit(c)}function l(c){t.onDelete&&t.onDelete(c)}return(c,h)=>(b(),C("div",{class:K(["effectable-tile",{active:t.effectable.quantity>0}])},[a("div",ew,[a("h2",null,N(t.effectable.name),1),t.onEdit?(b(),C("button",{key:0,class:"btn btn--icon",onClick:h[0]||(h[0]=u=>Q(j).open(Qn,{propertyName:c.propertyName,effectable:t.effectable,idPrefix:t.idPrefix,onDelete:l,onEdit:i}))},nw)):F("",!0)]),a("div",sw,[(b(!0),C(J,null,fe(c.effectable.maxQuantity,u=>(b(),ce(yt,{key:c.effectable.id+u,modelValue:s.value,"onUpdate:modelValue":[h[1]||(h[1]=d=>s.value=d),d=>o(u.toString())],value:u.toString()},null,8,["modelValue","value","onUpdate:modelValue"]))),128))]),a("p",null,N(t.effectable.description),1)],2))}}),Nt=se(ow,[["__scopeId","data-v-e35dc887"]]);function rw(e){return iw(0,e)}function iw(e,t){return Math.floor(Math.random()*(t-e)+e)}function In(e){return e[rw(e.length)]}const Fe=e=>(we("data-v-093d0eb6"),e=e(),xe(),e),aw={class:"edit"},lw={key:0,class:"input-group"},cw=Fe(()=>a("label",{for:"gangType"},[X("Gang Type "),a("label",{class:"muted"},"(Choose one. A second Gang Type costs 2 upgrades)")],-1)),uw={class:"tile-list tile-list--mini"},dw={key:1,class:"input-group"},hw=Fe(()=>a("label",{for:"name"},"Name",-1)),fw=Fe(()=>a("p",null,"Choose a name for your Expert.",-1)),pw=Fe(()=>a("i",{class:"fas fa-random"},null,-1)),mw=Fe(()=>a("span",null,"Randomize",-1)),yw=[pw,mw],gw={key:2,class:"input-group"},vw=Fe(()=>a("label",{for:"expertise1"},"Expertise",-1)),_w=Fe(()=>a("p",null,"Choose your Expert's area of expertise.",-1)),bw={class:"text-list"},ww=["onMousedown"],xw={key:3,class:"input-group"},Cw=Fe(()=>a("label",{for:"expertise2"},[X("Additional Expertise "),a("label",{class:"muted"},"(Costs 2 upgrades)")],-1)),kw=Fe(()=>a("p",null,"Choose an additional area of expertise for your Expert.",-1)),Ew={class:"text-list"},Sw=["onMousedown"],Tw={key:4,class:"input-group"},$w=Fe(()=>a("label",{for:"name"},"Name",-1)),Aw={class:"input-block"},Ow={class:"input-group"},Rw=Fe(()=>a("label",{for:"quality"},"Quality",-1)),Pw={key:0},Iw={key:1},qw={key:0,class:"input-group"},Nw={for:"scale"},Lw={class:"muted"},Dw=Fe(()=>a("p",null," A Gang's scale is equal to your current Crew Tier and increases with your Crew Tier. ",-1)),Uw={class:"input-group"},Bw=Fe(()=>a("label",{for:"edges"},[X("Edges "),a("label",{class:"muted"},"(Choose at least one)")],-1)),Mw={class:"tile-list tile-list--mini"},Fw={class:"input-group"},jw={for:"flaws"},Qw={class:"muted"},Hw={class:"tile-list tile-list--mini"},Vw={class:"input-group"},Ww=Fe(()=>a("label",{for:"harm"},"Harm",-1)),Gw={class:"tile-list tile-list--mini"},zw={class:"input-group stretch"},Kw={for:"description"},Yw={class:"muted"},Jw={key:5,class:"alert"},Xw=Fe(()=>a("i",{class:"fas fa-exclamation-circle"},null,-1)),Zw=Fe(()=>a("i",{class:"fas fa-times"},null,-1)),e1=[Zw],t1={key:6,class:"row"},n1=Fe(()=>a("span",null,"Cancel",-1)),s1=[n1],o1=Fe(()=>a("span",null,"New",-1)),r1=[o1],i1={key:7,class:"row"},a1=Fe(()=>a("i",{class:"fas fa-trash"},null,-1)),l1=Fe(()=>a("span",null,"Delete",-1)),c1=[a1,l1],u1=Fe(()=>a("span",null,"Save",-1)),d1=[u1],h1=te({__name:"EditCohortModal",props:{propertyName:{},cohort:{},onEdit:{type:Function},onDelete:{type:Function},idPrefix:{},onCreateNew:{type:Function}},setup(e){var H,V,ee,de,Y,$e,re,ie,ke,De,We,Ye,mt,Je,le,pe,me,at,ut,rt,qe,wt,dt,Wt,Be,O,M,U,W,ge,Ee,p,g,T;const t=(H=Re().game)==null?void 0:H.codex,n=e;Xt(()=>{document.addEventListener("blur",o,!0)}),ns(()=>{document.removeEventListener("blur",o,!0)});const s=D();function o(E){s.value=null}function r(){var m,y;const E=In((m=t==null?void 0:t.names)==null?void 0:m.firstNames),k=In((y=t==null?void 0:t.names)==null?void 0:y.lastNames);d.value.name=`${E} ${k}`,console.log(d.value.name)}const i=G(()=>{const E=[...t.lexicon.gangs];try{return E[d.value.scale]}catch{return"0-2 people"}}),l={id:xs(),name:"",description:"",cohortType:"gang",edges:((de=(ee=(V=t==null?void 0:t.sheets)==null?void 0:V.crew)==null?void 0:ee.cohorts)==null?void 0:de.edges.map(E=>({...E,id:"edge-"+E.name,quantity:0,maxQuantity:1})))||[],flaws:((re=($e=(Y=t==null?void 0:t.sheets)==null?void 0:Y.crew)==null?void 0:$e.cohorts)==null?void 0:re.flaws.map(E=>({...E,id:"flaw-"+E.name,quantity:0,maxQuantity:1})))||[],gangType:[{id:"gangType-adepts",name:"Adepts",description:"Scholars, tinkerers, occultists, and chemists",quantity:0,maxQuantity:1},{id:"gangType-rooks",name:"Rooks",description:"Con artists, spies, and socialites",quantity:0,maxQuantity:1},{id:"gangType-rovers",name:"Rovers",description:"Sailors, carriage drivers, and scavengers",quantity:0,maxQuantity:1},{id:"gangType-skulks",name:"Skulks",description:"Scouts, infiltrators, and thieves",quantity:0,maxQuantity:1},{id:"gangType-thugs",name:"Thugs",description:"Killers, brawlers, and roustabouts",quantity:0,maxQuantity:1}],harm:((Ye=(We=(De=(ke=(ie=Re().game)==null?void 0:ie.codex)==null?void 0:ke.sheets)==null?void 0:De.crew)==null?void 0:We.cohorts)==null?void 0:Ye.harm.map(E=>({...E,id:"harm-"+E.name,quantity:0,maxQuantity:1})))||[],quality:0,scale:0},c={id:xs(),name:"",description:"",cohortType:"expert",edges:((le=(Je=(mt=t==null?void 0:t.sheets)==null?void 0:mt.crew)==null?void 0:Je.cohorts)==null?void 0:le.edges.map(E=>({...E,id:"edge-"+E.name,quantity:0,maxQuantity:1})))||[],flaws:((at=(me=(pe=t==null?void 0:t.sheets)==null?void 0:pe.crew)==null?void 0:me.cohorts)==null?void 0:at.flaws.map(E=>({...E,id:"flaw-"+E.name,quantity:0,maxQuantity:1})))||[],expertise1:"",expertise2:"",harm:((dt=(wt=(qe=(rt=(ut=Re().game)==null?void 0:ut.codex)==null?void 0:rt.sheets)==null?void 0:qe.crew)==null?void 0:wt.cohorts)==null?void 0:dt.harm.map(E=>({...E,id:"harm-"+E.name,quantity:0,maxQuantity:1})))||[],quality:0,scale:0},h={id:xs(),name:"",description:"",cohortType:"vehicle",edges:((O=(Be=(Wt=t==null?void 0:t.sheets)==null?void 0:Wt.crew)==null?void 0:Be.cohorts)==null?void 0:O.vehicleEdges.map(E=>({...E,id:"edge-"+E.name,quantity:0,maxQuantity:1})))||[],flaws:((W=(U=(M=t==null?void 0:t.sheets)==null?void 0:M.crew)==null?void 0:U.cohorts)==null?void 0:W.vehicleFlaws.map(E=>({...E,id:"flaw-"+E.name,quantity:0,maxQuantity:1})))||[],harm:((T=(g=(p=(Ee=(ge=Re().game)==null?void 0:ge.codex)==null?void 0:Ee.sheets)==null?void 0:p.crew)==null?void 0:g.cohorts)==null?void 0:T.harm.map(E=>({...E,id:"harm-"+E.name,quantity:0,maxQuantity:1})))||[],quality:0,scale:0},u={gang:l,expert:c,vehicle:h},d=D({...n.cohort||u[n.propertyName]});function f(E){if(!n.onCreateNew)return;let k=(n.idPrefix||"")+"-"+E;k=k.toLowerCase().replace(/ /g,"-").replace(/[^a-z0-9-]/g,""),d.value.id=k}const v=D(null);function _(){var m,y,S;if(d.value.cohortType==="gang"&&((m=d.value.gangType)==null?void 0:m.reduce((A,$)=>A+($.quantity||0),0))===0)return"You must choose a Gang Type.";if(d.value.cohortType==="expert"){if(!d.value.name)return"You must give your Expert a name.";if(!d.value.expertise1)return"You must choose an Expertise."}const E=(y=d.value.edges)==null?void 0:y.reduce((A,$)=>A+($.quantity||0),0);if(E===0)return"You must choose at least one Edge.";const k=(S=d.value.flaws)==null?void 0:S.reduce((A,$)=>A+($.quantity||0),0);return console.log(d.value.flaws.map(A=>A.quantity)),E>0&&k<E?`You must choose at least the same number of Flaws (${k}) as Edges (${E}).`:null}function x(){n.onCreateNew&&(v.value=_(),!v.value&&(n.onCreateNew(d.value),j.close()))}function P(){n.onEdit&&(v.value=_(),!v.value&&(n.onEdit(d.value),j.close()))}function L(){n.onDelete&&(n.onDelete(d.value.id),j.close())}return(E,k)=>(b(),ce(ze,null,{header:B(()=>[q(Ke,{closeButton:""},{default:B(()=>[a("h2",null,N(n.onCreateNew?"Create a new":"Edit")+" "+N(n.propertyName),1)]),_:1})]),content:B(()=>[a("div",aw,[n.propertyName==="gang"?(b(),C("div",lw,[cw,a("div",uw,[(b(!0),C(J,null,fe(d.value.gangType,m=>(b(),ce(Nt,{effectable:m,key:m.id,idPrefix:n.idPrefix+"-gangType",propertyName:m.name,change:y=>{m.quantity=y}},null,8,["effectable","idPrefix","propertyName","change"]))),128))])])):F("",!0),n.propertyName==="expert"?(b(),C("div",dw,[hw,Se(a("input",{class:"ignore-initial-focus",type:"text",id:"name","onUpdate:modelValue":k[0]||(k[0]=m=>d.value.name=m),placeholder:"A name for your Expert",onFocus:k[1]||(k[1]=m=>s.value="name"),onBlur:k[2]||(k[2]=m=>f(d.value.name))},null,544),[[Te,d.value.name]]),q(Et,{show:s.value==="name"},{default:B(()=>[fw,a("button",{class:"btn btn--icon",onMousedown:r},yw,32)]),_:1},8,["show"])])):F("",!0),n.propertyName==="expert"?(b(),C("div",gw,[vw,Se(a("input",{class:"ignore-initial-focus",type:"text",id:"expertise1","onUpdate:modelValue":k[3]||(k[3]=m=>d.value.expertise1=m),placeholder:"An area of expertise",onFocus:k[4]||(k[4]=m=>s.value="expertise1")},null,544),[[Te,d.value.expertise1]]),q(Et,{show:s.value==="expertise1"},{default:B(()=>{var m,y,S,A;return[_w,a("div",bw,[(b(!0),C(J,null,fe((A=(S=(y=(m=Q(t))==null?void 0:m.sheets)==null?void 0:y.crew)==null?void 0:S.cohorts)==null?void 0:A.expertise,$=>(b(),C("button",{class:"btn btn--text",onMousedown:w=>d.value.expertise1=$},N($),41,ww))),256))])]}),_:1},8,["show"])])):F("",!0),n.propertyName==="expert"?(b(),C("div",xw,[Cw,Se(a("input",{class:"ignore-initial-focus",type:"text",id:"expertise2","onUpdate:modelValue":k[5]||(k[5]=m=>d.value.expertise2=m),placeholder:"An additional area of expertise",onFocus:k[6]||(k[6]=m=>s.value="expertise2")},null,544),[[Te,d.value.expertise2]]),q(Et,{show:s.value==="expertise2"},{default:B(()=>{var m,y,S,A;return[kw,a("div",Ew,[(b(!0),C(J,null,fe((A=(S=(y=(m=Q(t))==null?void 0:m.sheets)==null?void 0:y.crew)==null?void 0:S.cohorts)==null?void 0:A.expertise,$=>(b(),C("button",{class:"btn btn--text",onMousedown:w=>d.value.expertise2=$},N($),41,Sw))),256))])]}),_:1},8,["show"])])):F("",!0),n.propertyName==="vehicle"?(b(),C("div",Tw,[$w,Se(a("input",{class:"ignore-initial-focus",type:"text",id:"name","onUpdate:modelValue":k[7]||(k[7]=m=>d.value.name=m),placeholder:"A name for your Vehicle",onFocus:k[8]||(k[8]=m=>s.value="name"),onBlur:k[9]||(k[9]=m=>f(d.value.name))},null,544),[[Te,d.value.name]])])):F("",!0),a("div",Aw,[a("div",Ow,[Rw,Se(a("input",{class:"ignore-initial-focus",type:"number",id:"quality","onUpdate:modelValue":k[10]||(k[10]=m=>d.value.quality=m),onFocus:k[11]||(k[11]=m=>s.value="quality")},null,544),[[Te,d.value.quality]]),q(Et,{show:s.value==="quality"},{default:B(()=>[n.propertyName==="gang"?(b(),C("p",Pw," A Gang's quality is equal to your current Crew Tier and increases with your Crew Tier. ")):(b(),C("p",Iw," An Expert's quality is equal to your current Crew Tier +1 and increases with your Crew Tier. "))]),_:1},8,["show"])]),n.propertyName==="gang"?(b(),C("div",qw,[a("label",Nw,[X("Scale "),a("label",Lw,N(i.value),1)]),Se(a("input",{class:"ignore-initial-focus",type:"number",id:"scale","onUpdate:modelValue":k[12]||(k[12]=m=>d.value.scale=m),placeholder:"scale",onFocus:k[13]||(k[13]=m=>s.value="scale")},null,544),[[Te,d.value.scale]]),q(Et,{show:s.value==="scale"},{default:B(()=>[Dw]),_:1},8,["show"])])):F("",!0)]),a("div",Uw,[Bw,a("div",Mw,[(b(!0),C(J,null,fe(d.value.edges,m=>(b(),ce(Nt,{effectable:m,key:m.id,idPrefix:n.idPrefix+"-edge",propertyName:m.name,change:y=>{m.quantity=y}},null,8,["effectable","idPrefix","propertyName","change"]))),128))])]),a("div",Fw,[a("label",jw,[X("Flaws "),a("label",Qw,"(Choose at least "+N(Q(ub)(Math.max(d.value.edges.filter(m=>m.quantity>0).length,1)))+") ",1)]),a("div",Hw,[(b(!0),C(J,null,fe(d.value.flaws,m=>(b(),ce(Nt,{effectable:m,key:m.id,idPrefix:n.idPrefix+"-flaw",propertyName:m.name,change:y=>{m.quantity=y}},null,8,["effectable","idPrefix","propertyName","change"]))),128))])]),a("div",Vw,[Ww,a("div",Gw,[(b(!0),C(J,null,fe(d.value.harm,m=>(b(),ce(Nt,{effectable:m,key:m.id,idPrefix:n.idPrefix+"-harm",propertyName:m.name,change:y=>{d.value.harm.forEach(S=>{S.quantity=0}),m.quantity=y}},null,8,["effectable","idPrefix","propertyName","change"]))),128))])]),a("div",zw,[a("label",Kw,[X("Description "),a("label",Yw,"("+N(d.value.description.length)+" / 400) ",1)]),Se(a("textarea",{id:"description","onUpdate:modelValue":k[14]||(k[14]=m=>d.value.description=m),placeholder:"A brief description"},null,512),[[Te,d.value.description]])]),v.value?(b(),C("div",Jw,[Xw,a("span",null,N(v.value),1),a("button",{class:"btn btn--icon close",onClick:k[15]||(k[15]=m=>v.value="")},e1)])):F("",!0),n.onCreateNew?(b(),C("section",t1,[a("button",{class:"btn btn--alt mobile-full-width",onClick:k[16]||(k[16]=m=>Q(j).close())},s1),a("button",{class:"btn mobile-full-width",onClick:x},r1)])):(b(),C("section",i1,[a("button",{class:"btn btn--alt mobile-full-width",onClick:L},c1),a("button",{class:"btn mobile-full-width",onClick:P},d1)]))])]),_:1}))}}),co=se(h1,[["__scopeId","data-v-093d0eb6"]]),ji=e=>(we("data-v-ec3c5f6e"),e=e(),xe(),e),f1={class:"cohort-tile"},p1={class:"header"},m1={key:0},y1={key:0,class:"harm"},g1={key:1},v1={key:0,class:"harm"},_1={key:2},b1={key:0,class:"harm"},w1=ji(()=>a("i",{class:"fas fa-edit"},null,-1)),x1=[w1],C1={class:"edges-and-flaws"},k1=ji(()=>a("i",{class:"fas fa-angle-up"},null,-1)),E1=ji(()=>a("i",{class:"fas fa-angle-down"},null,-1)),S1=te({__name:"CohortTile",props:{cohort:{},idPrefix:{},onEdit:{type:Function},onDelete:{type:Function}},setup(e){var d;const t=(d=Re().game)==null?void 0:d.codex,n=e,s=G(()=>{var f;return(f=n.cohort.gangType)==null?void 0:f.filter(v=>v.quantity>0)}),o=G(()=>{const f=[...t.lexicon.gangs];try{return f[n.cohort.scale]}catch{return"0-2 people"}}),r=G(()=>[n.cohort.expertise1].concat(n.cohort.expertise2?[n.cohort.expertise2]:[])),i=G(()=>{var f;return((f=n.cohort.harm.filter(v=>v.quantity>0)[0])==null?void 0:f.name)||""}),l=G(()=>{var f;return((f=n.cohort.edges)==null?void 0:f.filter(v=>v.quantity>0).map(v=>v.name))||[]}),c=G(()=>{var f;return((f=n.cohort.flaws)==null?void 0:f.filter(v=>v.quantity>0).map(v=>v.name))||[]});function h(f){n.onEdit&&n.onEdit(f)}function u(f){n.onDelete&&n.onDelete(f)}return(f,v)=>{var _,x;return b(),C("div",f1,[a("div",p1,[n.cohort.cohortType==="gang"?(b(),C("div",m1,[a("h3",null,[i.value?(b(),C("span",y1,N(i.value)+"!",1)):F("",!0),a("span",null,N(o.value),1)]),a("h1",null,N((_=s.value)==null?void 0:_.map(P=>P.name).join(" & ")),1),a("h2",null,N((x=n.cohort.gangType)==null?void 0:x.filter(P=>P.quantity>0)[0].description),1)])):n.cohort.cohortType==="expert"?(b(),C("div",g1,[a("h3",null,[i.value?(b(),C("span",v1,N(i.value)+"!",1)):F("",!0),X(" Expert ")]),a("h1",null,N(n.cohort.name),1),a("h2",null,N(r.value.join(" & ")),1)])):n.cohort.cohortType==="vehicle"?(b(),C("div",_1,[a("h3",null,[i.value?(b(),C("span",b1,N(i.value)+"!",1)):F("",!0),X(" Vehicle ")]),a("h1",null,N(n.cohort.name),1)])):F("",!0),n.onEdit?(b(),C("button",{key:3,class:"btn btn--icon",onClick:v[0]||(v[0]=P=>Q(j).open(co,{propertyName:n.cohort.cohortType,cohort:n.cohort,idPrefix:n.idPrefix,onDelete:u,onEdit:h}))},x1)):F("",!0)]),a("div",C1,[a("ul",null,[(b(!0),C(J,null,fe(l.value,P=>(b(),C("li",{key:P},[k1,a("span",null,N(P),1)]))),128))]),a("ul",null,[(b(!0),C(J,null,fe(c.value,P=>(b(),C("li",{key:P},[E1,a("span",null,N(P),1)]))),128))])]),a("p",null,N(n.cohort.description),1)])}}}),T1=se(S1,[["__scopeId","data-v-ec3c5f6e"]]),ri=Do("options",()=>{const e={showHints:!0},t=D(JSON.parse(localStorage.getItem("options")||JSON.stringify(e)));return Bt(t,n=>{localStorage.setItem("options",JSON.stringify(n))},{deep:!0}),{options:t}}),$1=e=>(we("data-v-b4e36480"),e=e(),xe(),e),A1={key:0,class:"info-box"},O1=$1(()=>a("i",{class:"fas fa-info"},null,-1)),R1=te({__name:"InfoBox",props:{ignoreOptions:{type:Boolean}},setup(e){const t=e;return(n,s)=>Q(ri)().options.showHints||t.ignoreOptions?(b(),C("div",A1,[O1,a("div",null,[Yn(n.$slots,"default",{},void 0)])])):F("",!0)}}),Sn=se(R1,[["__scopeId","data-v-b4e36480"]]),Qu=e=>(we("data-v-a6de0111"),e=e(),xe(),e),P1={class:"checkbox-bar"},I1=Qu(()=>a("i",{class:"fas fa-minus-circle"},null,-1)),q1=[I1],N1={class:"content"},L1={key:0},D1=Qu(()=>a("i",{class:"fas fa-plus-circle"},null,-1)),U1=[D1],B1=te({__name:"NumberStepper",props:{value:{},min:{},max:{},label:{}},emits:["change"],setup(e,{emit:t}){const n=e,s=t,o=D(n.value);Bt(()=>n.value,l=>{o.value=l});const r=()=>{n.max!==void 0&&o.value>=n.max||(o.value++,s("change",o.value))},i=()=>{n.min!==void 0&&o.value<=n.min||(o.value--,s("change",o.value))};return(l,c)=>(b(),C("div",P1,[a("button",{onClick:i,class:K(["btn btn--icon",{disabled:n.min!==void 0&&o.value<=n.min}])},q1,2),a("div",N1,[a("h1",null,N(l.value),1),n.label?(b(),C("h2",L1,N(n.label),1)):F("",!0)]),a("button",{onClick:r,class:K(["btn btn--icon",{disabled:n.max!==void 0&&o.value>=n.max}])},U1,2)]))}}),yr=se(B1,[["__scopeId","data-v-a6de0111"]]),Ot=e=>(we("data-v-eab64fe9"),e=e(),xe(),e),M1={class:"edit"},F1={class:"input-group"},j1=Ot(()=>a("label",{for:"name"},"Name",-1)),Q1=Ot(()=>a("p",null,"Choose a name.",-1)),H1=Ot(()=>a("i",{class:"fas fa-random"},null,-1)),V1=Ot(()=>a("span",null,"Randomize",-1)),W1=[H1,V1],G1=Ot(()=>a("label",{for:"id"},[X("ID "),a("label",{class:"muted"},"(permanent)")],-1)),z1={class:"input-group stretch"},K1={for:"description"},Y1={class:"muted"},J1={class:"input-group"},X1=Ot(()=>a("label",{for:"attitude"},"Attitude",-1)),Z1={key:0,class:"row"},e0=Ot(()=>a("span",null,"Cancel",-1)),t0=[e0],n0=Ot(()=>a("span",null,"New",-1)),s0=[n0],o0={key:1,class:"row"},r0=Ot(()=>a("i",{class:"fas fa-trash"},null,-1)),i0=Ot(()=>a("span",null,"Delete",-1)),a0=[r0,i0],l0=Ot(()=>a("span",null,"Save",-1)),c0=[l0],u0=te({__name:"EditPersonModal",props:{propertyName:{},person:{},onEdit:{type:Function},onDelete:{type:Function},idPrefix:{},onCreateNew:{type:Function}},setup(e){var f;const t=e;Xt(()=>{document.addEventListener("blur",o,!0)}),ns(()=>{document.removeEventListener("blur",o,!0)});const n=(f=Re().game)==null?void 0:f.codex,s=D();function o(v){s.value=null}function r(){var P,L;const v=In((P=n==null?void 0:n.names)==null?void 0:P.firstNames),_=In((L=n==null?void 0:n.names)==null?void 0:L.lastNames),x=`${v} ${_}`;l.value.name=x,c(x)}const i={id:"",name:"",description:"",attitude:0},l=D({...t.person||i});function c(v){if(!t.onCreateNew)return;let _=(t.idPrefix||"")+"-"+v;_=_.toLowerCase().replace(/ /g,"-").replace(/[^a-z0-9-]/g,""),l.value.id=_}function h(){t.onCreateNew&&(t.onCreateNew(l.value),j.close())}function u(){t.onEdit&&(t.onEdit(l.value),j.close())}function d(){t.onDelete&&(t.onDelete(l.value.id),j.close())}return(v,_)=>(b(),ce(ze,null,{header:B(()=>[q(Ke,{closeButton:""},{default:B(()=>[a("h2",null,N(t.onCreateNew?"Create a new":"Edit")+" "+N(v.propertyName),1)]),_:1})]),content:B(()=>[a("div",M1,[a("div",F1,[j1,Se(a("input",{type:"text",id:"name","onUpdate:modelValue":_[0]||(_[0]=x=>l.value.name=x),placeholder:"Enter a memorable name",onInput:_[1]||(_[1]=x=>c(l.value.name)),onFocus:_[2]||(_[2]=x=>s.value="name")},null,544),[[Te,l.value.name]]),q(Et,{show:s.value==="name"},{default:B(()=>[Q1,a("button",{class:"btn btn--icon",onMousedown:r},W1,32)]),_:1},8,["show"])]),a("div",{class:K(["input-group",{disabled:!t.onCreateNew}])},[G1,Se(a("input",{type:"text",id:"id","onUpdate:modelValue":_[3]||(_[3]=x=>l.value.id=x),placeholder:"A hyphenated identifier"},null,512),[[Te,l.value.id]])],2),a("div",z1,[a("label",K1,[X("Description "),a("label",Y1,"("+N(l.value.description.length)+" / 400) ",1)]),Se(a("textarea",{id:"description","onUpdate:modelValue":_[4]||(_[4]=x=>l.value.description=x),placeholder:"A brief description"},null,512),[[Te,l.value.description]])]),a("div",J1,[X1,Se(a("input",{type:"number",id:"attitude","onUpdate:modelValue":_[5]||(_[5]=x=>l.value.attitude=x),placeholder:"-1, 0, 1..."},null,512),[[Te,l.value.attitude]])]),t.onCreateNew?(b(),C("div",Z1,[a("button",{class:"btn btn--alt mobile-full-width",onClick:_[6]||(_[6]=x=>Q(j).close())},t0),a("button",{class:"btn mobile-full-width",onClick:h},s0)])):(b(),C("div",o0,[a("button",{class:"btn btn--alt mobile-full-width",onClick:d},a0),a("button",{class:"btn mobile-full-width",onClick:u},c0)]))])]),_:1}))}}),Hu=se(u0,[["__scopeId","data-v-eab64fe9"]]),Vu=e=>(we("data-v-395f631f"),e=e(),xe(),e),d0=Vu(()=>a("i",{class:"fas fa-theater-masks"},null,-1)),h0={class:"person-tile__content"},f0={class:"header"},p0=Vu(()=>a("i",{class:"fas fa-edit"},null,-1)),m0=[p0],y0={class:"row selection-bar"},g0=te({__name:"PersonTile",props:{person:{},propertyName:{},idPrefix:{},change:{type:Function},onEdit:{type:Function},onDelete:{type:Function},options:{}},setup(e){const t=e,n=D([t.person.attitude.toString()]);function s(i){n.value.length>1&&(n.value=[i.toString()]);const l=n.value.length>0?parseInt(n.value[0]):0;t.change(t.person,l)}function o(i){t.onEdit(i)}function r(i){t.onDelete(i)}return(i,l)=>(b(),C("div",{class:K(["person-tile",{active:t.person.attitude!==0}])},[d0,a("div",h0,[a("div",f0,[a("h2",null,N(t.person.name),1),a("button",{class:"btn btn--icon",onClick:l[0]||(l[0]=c=>Q(j).open(Hu,{propertyName:i.propertyName,person:t.person,idPrefix:t.idPrefix,onDelete:r,onEdit:o}))},m0)]),a("div",y0,[(b(!0),C(J,null,fe(i.options,c=>(b(),ce(yt,{key:c.value,modelValue:n.value,"onUpdate:modelValue":[l[1]||(l[1]=h=>n.value=h),h=>s(c.value)],value:c.value.toString(),icon:c.icon,text:c.text},null,8,["modelValue","value","onUpdate:modelValue","icon","text"]))),128))]),a("p",null,N(t.person.description),1)])],2))}}),v0=se(g0,[["__scopeId","data-v-395f631f"]]),Qi=e=>(we("data-v-810f9f37"),e=e(),xe(),e),_0={class:"edit"},b0={class:"input-group"},w0=Qi(()=>a("label",{for:"name"},"Name",-1)),x0={class:"input-group disabled"},C0=Qi(()=>a("label",{for:"id"},[X("ID "),a("label",{class:"muted"},"(permanent)")],-1)),k0={class:"input-group stretch"},E0={for:"description"},S0={class:"muted"},T0=Qi(()=>a("span",null,"Save",-1)),$0=[T0],A0=te({__name:"EditClaimModal",props:{propertyName:{},claim:{},onEdit:{type:Function},idPrefix:{}},setup(e){const t=e,n=D({...t.claim});function s(){t.onEdit&&(t.onEdit(n.value),j.close())}return(o,r)=>(b(),ce(ze,null,{header:B(()=>[q(Ke,{closeButton:""},{default:B(()=>[a("h2",null,"Edit "+N(n.value.name),1)]),_:1})]),content:B(()=>[a("div",_0,[a("div",b0,[w0,Se(a("input",{type:"text",id:"name","onUpdate:modelValue":r[0]||(r[0]=i=>n.value.name=i),placeholder:"Enter a memorable name"},null,512),[[Te,n.value.name]])]),a("div",x0,[C0,Se(a("input",{type:"text",id:"id","onUpdate:modelValue":r[1]||(r[1]=i=>n.value.id=i),placeholder:"A hyphenated identifier"},null,512),[[Te,n.value.id]])]),a("div",k0,[a("label",E0,[X("Description "),a("label",S0,"("+N(n.value.description.length)+" / 400) ",1)]),Se(a("textarea",{id:"description","onUpdate:modelValue":r[2]||(r[2]=i=>n.value.description=i),placeholder:"A brief description"},null,512),[[Te,n.value.description]])]),a("div",{class:"row"},[a("button",{class:"btn mobile-full-width",onClick:s},$0)])])]),_:1}))}}),O0=se(A0,[["__scopeId","data-v-810f9f37"]]),Wu=e=>(we("data-v-da34d4d5"),e=e(),xe(),e),R0=Wu(()=>a("h2",null,"Edit Claims",-1)),P0={class:"edit-claims"},I0=Wu(()=>a("p",null,"Select a claim below.",-1)),q0=["onClick"],N0=te({__name:"EditClaimsModal",props:{sheetId:{},claims:{}},setup(e){const t=e;function n(s){const o=t.claims.findIndex(r=>r.id===s.id);Pe([{op:"replace",path:`/data/sheets/${t.sheetId}/claims/${o}`,value:s}])}return(s,o)=>(b(),ce(ze,null,{header:B(()=>[q(Ke,{"close-button":""},{default:B(()=>[R0]),_:1})]),content:B(()=>[a("div",P0,[I0,a("ul",null,[(b(!0),C(J,null,fe(t.claims,r=>(b(),C("li",{key:r.id},[a("button",{class:"btn btn--text",onClick:i=>Q(j).open(O0,{claim:r,onEdit:n})},[a("span",null,N(r.name),1)],8,q0)]))),128))])])]),_:1}))}}),L0=se(N0,[["__scopeId","data-v-da34d4d5"]]),Z=e=>(we("data-v-75aa02e1"),e=e(),xe(),e),D0={class:"sheet-layout__nested"},U0=["src"],B0={class:"input-group crew-tier"},M0={class:"input-group name-and-description"},F0=Z(()=>a("label",{for:"crew-name"},"Name",-1)),j0=["value","placeholder"],Q0=Z(()=>a("p",null,"Choose a name for your crew.",-1)),H0=["value"],V0=Z(()=>a("p",null,"Describe your crew in a few sentences.",-1)),W0={class:"input-group"},G0=Z(()=>a("label",{for:"reputation-type"},"Reputation",-1)),z0=["value"],K0=Z(()=>a("p",null,"Choose how other underworld factions see you.",-1)),Y0={class:"text-list"},J0=["onMousedown"],X0={key:1,class:"input-group"},Z0={class:"input-group"},ex=Z(()=>a("label",{for:"deity-name"},"Deity",-1)),tx={class:"row flat"},nx=["value"],sx=Z(()=>a("i",{class:"fas fa-random"},null,-1)),ox=[sx],rx={class:"input-group"},ix=["value"],ax=Z(()=>a("p",null,"Choose two features from the list to describe your deity.",-1)),lx={class:"text-list"},cx=["onMousedown"],ux={class:"input-group"},dx=Z(()=>a("label",{for:"crew-lair"},"Lair",-1)),hx={class:"row flat"},fx=["value"],px=Z(()=>a("i",{class:"fas fa-random"},null,-1)),mx=[px],yx={class:"input-group"},gx=["value"],vx=Z(()=>a("p",null,"Where is your lair located?",-1)),_x={class:"text-list"},bx=["onMousedown"],wx={class:"row"},xx={key:2,class:"tile-list tile-list--mini"},Cx={key:3,class:"no-tiles"},kx={class:"input-block"},Ex={class:"input-group"},Sx=Z(()=>a("label",{for:"crew-rep"},"Rep & Turf",-1)),Tx={class:"input-block turf-and-hold"},$x={class:"input-group"},Ax={class:"input-group"},Ox=Z(()=>a("label",{for:"crew-hold"},"Hold",-1)),Rx={class:"row flat"},Px=["innerHTML"],Ix=["innerHTML"],qx=["innerHTML"],Nx=["innerHTML"],Lx={class:"input-block heat-and-wanted-level"},Dx={class:"input-group"},Ux=Z(()=>a("label",{for:"crew-heat"},"Heat & Wanted Level",-1)),Bx=["innerHTML"],Mx={class:"input-group coin-group"},Fx={for:"crew-coin"},jx={class:"muted"},Qx=["innerHTML"],Hx=Z(()=>a("label",{for:"claims"},"Claims",-1)),Vx={class:"row"},Wx=Z(()=>a("span",null,"Edit Claims",-1)),Gx=[Wx],zx={class:"claims-list"},Kx={class:"crew-xp-section"},Yx={class:"input-group crew-xp"},Jx=Z(()=>a("label",{for:"crew-xp"},"Crew XP",-1)),Xx=Z(()=>a("p",null,[X(" For each item below, mark 1 xp."),a("br"),X("If it occurred more than once, mark 2 xp. ")],-1)),Zx=Z(()=>a("p",null," When the tracker is full, choose a Special Ability or Upgrade and clear the Crew's XP. ",-1)),eC=Z(()=>a("label",{for:"crew-abilities"},"Special Abilities",-1)),tC={class:"row"},nC=Z(()=>a("span",null,"New",-1)),sC=[nC],oC={key:0,class:"tile-list"},rC={key:1,class:"no-tiles"},iC=Z(()=>a("em",null," No Special Abilities selected",-1)),aC=[iC],lC=Z(()=>a("label",{for:"crew-upgrades"},"Crew Upgrades",-1)),cC={class:"row"},uC=Z(()=>a("span",null,"New",-1)),dC=[uC],hC={key:0,class:"tile-list"},fC={key:1,class:"no-tiles"},pC=Z(()=>a("em",null," No crew upgrades selected",-1)),mC=[pC],yC=Z(()=>a("label",{for:"crew-lair-upgrades"},"Lair Upgrades",-1)),gC={class:"row"},vC=Z(()=>a("span",null,"New",-1)),_C=[vC],bC={key:0,class:"tile-list"},wC={key:1,class:"no-tiles"},xC=Z(()=>a("em",null," No lair upgrades selected",-1)),CC=[xC],kC=Z(()=>a("label",{for:"crew-training-upgrades"},"Training Upgrades",-1)),EC={class:"row"},SC=Z(()=>a("span",null,"New",-1)),TC=[SC],$C={key:0,class:"tile-list"},AC={key:1,class:"no-tiles"},OC=Z(()=>a("em",null," No training upgrades selected",-1)),RC=[OC],PC=Z(()=>a("label",{for:"crew-quality-upgrades"},"Quality Upgrades",-1)),IC={class:"row"},qC=Z(()=>a("span",null,"New",-1)),NC=[qC],LC={key:0,class:"tile-list"},DC={key:1,class:"no-tiles"},UC=Z(()=>a("em",null," No quality upgrades selected",-1)),BC=[UC],MC=Z(()=>a("label",{for:"contacts"},"Crew Contacts",-1)),FC={class:"row"},jC=Z(()=>a("span",null,"New",-1)),QC=[jC],HC={key:0,class:"tile-list"},VC={key:1,class:"no-tiles"},WC=Z(()=>a("em",null," No Crew Contacts selected",-1)),GC=[WC],zC=Z(()=>a("label",{for:"cohorts"},"Cohorts",-1)),KC={class:"row"},YC=Z(()=>a("i",{class:"fas fa-plus"},null,-1)),JC=Z(()=>a("span",null,"Gang",-1)),XC=[YC,JC],ZC=Z(()=>a("i",{class:"fas fa-plus"},null,-1)),ek=Z(()=>a("span",null,"Expert",-1)),tk=[ZC,ek],nk=Z(()=>a("i",{class:"fas fa-plus"},null,-1)),sk=Z(()=>a("span",null,"Vehicle",-1)),ok=[nk,sk],rk={key:0,class:"tile-list"},ik={key:1,class:"no-tiles"},ak=Z(()=>a("em",null," Your crew hasn't recruited any cohorts",-1)),lk=[ak],ck={class:"row center mobile-nav"},uk=Z(()=>a("i",{class:"fas fa-file-alt"},null,-1)),dk=Z(()=>a("i",{class:"fas fa-file-alt"},null,-1)),hk=Z(()=>a("i",{class:"fas fa-file-alt"},null,-1)),Cn=200,fk=te({__name:"TheCrewSheet",props:{sheet:{}},setup(e){var k;const t=(k=Re().game)==null?void 0:k.codex;Xt(()=>{document.addEventListener("blur",i,!0)}),ns(()=>{document.removeEventListener("blur",i,!0)});const n=e,s=D(0),o=D(null),r=D();function i(m){var y;(y=m.relatedTarget)!=null&&y.closest(".shelf")||(r.value=null)}function l(m,y){console.log("onChangeValue",m,y);const S=`/data/sheets/${n.sheet.id}/${y}`;Pe([{op:"replace",path:S,value:m}])}const c=G(()=>{const m=E("vault");return console.log("vault:",m),m===1?8:m===2?16:4}),h=G(()=>{const m=E("vault");return m===1?"& one Vault":m===2?"& two Vaults":""});function u(m){const y=Math.round(m.scrollLeft/m.clientWidth);s.value=y}function d(m){o.value&&(o.value.scrollTo({top:0}),o.value.scrollTo({left:o.value.clientWidth*m,behavior:"smooth"}))}function f(){const m=t.sheets.crew.lairs,{name:y,districts:S}=In(m),A=In(S);l(y,"lair"),l(A,"lairDistrict")}function v(){const m=t.names.deityNames,y=In(m);l(y,"deityName")}const _=D(localStorage.getItem("showOnlySelectedCrewUpgrades")==="true"),x=G(()=>(_.value?n.sheet.crewUpgrades.filter(m=>m.quantity>0):n.sheet.crewUpgrades).sort(qe)),P=D(localStorage.getItem("showOnlySelectedLairUpgrades")==="true"),L=G(()=>(P.value?n.sheet.lairUpgrades.filter(m=>m.quantity>0):n.sheet.lairUpgrades).sort(qe)),H=D(localStorage.getItem("showOnlySelectedTrainingUpgrades")==="true"),V=G(()=>(H.value?n.sheet.trainingUpgrades.filter(m=>m.quantity>0):n.sheet.trainingUpgrades).sort(qe)),ee=D(localStorage.getItem("showOnlySelectedQualityUpgrades")==="true"),de=G(()=>(ee.value?n.sheet.qualityUpgrades.filter(m=>m.quantity>0):n.sheet.qualityUpgrades).sort(qe));function Y(m,y){const S=n.sheet.crewUpgrades.findIndex(A=>A.id===m.id);Pe([{op:"replace",path:`/data/sheets/${n.sheet.id}/${y}Upgrades/${S}`,value:m}])}function $e(m,y){const S=n.sheet.crewUpgrades.findIndex(A=>A.id===m);Pe([{op:"remove",path:`/data/sheets/${n.sheet.id}/${y}Upgrades/${S}`}])}function re(m,y,S){const A=n.sheet[`${S}Upgrades`].findIndex(w=>w.id===m.id);if(A===-1)return console.error("Upgrade not found",m);const $=`/data/sheets/${n.sheet.id}/${S}Upgrades/${A}/quantity`;Pe([{op:"replace",path:$,value:y}])}function ie(m,y){Pe([{op:"add",path:`/data/sheets/${n.sheet.id}/${y}Upgrades/-`,value:m}])}const ke=D(localStorage.getItem("showOnlySelectedContacts")==="true"),De=G(()=>ke.value?n.sheet.contacts.filter(m=>m.attitude!==0):n.sheet.contacts);function We(m){const y=n.sheet.contacts.findIndex(S=>S.id===m.id);Pe([{op:"replace",path:`/data/sheets/${n.sheet.id}/contacts/${y}`,value:m}])}function Ye(m){const y=n.sheet.contacts.findIndex(S=>S.id===m);Pe([{op:"remove",path:`/data/sheets/${n.sheet.id}/contacts/${y}`}])}function mt(m,y){const S=n.sheet.contacts.findIndex($=>$.id===m.id),A=`/data/sheets/${n.sheet.id}/contacts/${S}/attitude`;Pe([{op:"replace",path:A,value:y}])}function Je(m){Pe([{op:"add",path:`/data/sheets/${n.sheet.id}/contacts/-`,value:m}])}const le=D(localStorage.getItem("showOnlySelectedAbilities")==="true"),pe=G(()=>(le.value?n.sheet.specialAbilities.filter(m=>m.quantity>0):n.sheet.specialAbilities).sort(qe));function me(m,y){const S=n.sheet.specialAbilities.findIndex($=>$.id===m.id),A=`/data/sheets/${n.sheet.id}/specialAbilities/${S}/quantity`;Pe([{op:"replace",path:A,value:y}])}function at(m){const y=n.sheet.specialAbilities.findIndex(S=>S.id===m.id);Pe([{op:"replace",path:`/data/sheets/${n.sheet.id}/specialAbilities/${y}`,value:m}])}function ut(m){const y=n.sheet.specialAbilities.findIndex(S=>S.id===m);Pe([{op:"remove",path:`/data/sheets/${n.sheet.id}/specialAbilities/${y}`}])}function rt(m){Pe([{op:"add",path:`/data/sheets/${n.sheet.id}/specialAbilities/-`,value:m}])}function qe(m,y){const S=m.description.length>Cn,A=y.description.length>Cn;return S&&!A?-1:A&&!S?1:0}function wt(m,y){return m.position.x!==y.position.x?m.position.x-y.position.x:y.position.y-m.position.y}const dt=D(!0),Wt=G(()=>n.sheet.claims.sort(wt));function Be(m){const y={},S={[zt.NORTH]:{x:0,y:-1},[zt.EAST]:{x:1,y:0},[zt.SOUTH]:{x:0,y:1},[zt.WEST]:{x:-1,y:0}};return m.adjacent.forEach(A=>{const $=S[A],w={x:m.position.x+$.x,y:m.position.y+$.y},R=n.sheet.claims.find(z=>z.position.x===w.x&&z.position.y===w.y);R&&(y[A]=R)}),y}function O(m,y){const S=n.sheet.claims.findIndex($=>$.id===m.id),A=`/data/sheets/${n.sheet.id}/claims/${S}/quantity`;Pe([{op:"replace",path:A,value:y}])}const M=D(localStorage.getItem("showOnlySelectedHuntingGrounds")==="true"),U=G(()=>(M.value?n.sheet.huntingGrounds.filter(m=>m.quantity>0):n.sheet.huntingGrounds).sort(qe));function W(m,y){const S=n.sheet.huntingGrounds.findIndex($=>$.id===m.id),A=`/data/sheets/${n.sheet.id}/huntingGrounds/${S}/quantity`;Pe([{op:"replace",path:A,value:y}])}function ge(m){const y=n.sheet.huntingGrounds.findIndex(S=>S.id===m.id);Pe([{op:"replace",path:`/data/sheets/${n.sheet.id}/huntingGrounds/${y}`,value:m}])}const Ee=G(()=>n.sheet.cohorts);function p(m){const y=n.sheet.cohorts.findIndex(S=>S.id===m);Pe([{op:"remove",path:`/data/sheets/${n.sheet.id}/cohorts/${y}`}])}function g(m){Pe([{op:"add",path:`/data/sheets/${n.sheet.id}/cohorts/-`,value:m}])}function T(m){const y=n.sheet.cohorts.findIndex(S=>S.id===m.id);Pe([{op:"replace",path:`/data/sheets/${n.sheet.id}/cohorts/${y}`,value:m}])}function E(m){const{sheet:y}=n,A=[...y.crewUpgrades,...y.lairUpgrades,...y.trainingUpgrades,...y.qualityUpgrades,...y.specialAbilities,...y.claims,...y.huntingGrounds].find($=>$.id===m);return A?A.quantity:-1}return Bt([M,le,ke,_,P,H,ee],()=>{localStorage.setItem("showOnlySelectedHuntingGrounds",M.value.toString()),localStorage.setItem("showOnlySelectedAbilities",le.value.toString()),localStorage.setItem("showOnlySelectedContacts",ke.value.toString()),localStorage.setItem("showOnlySelectedCrewUpgrades",_.value.toString()),localStorage.setItem("showOnlySelectedLairUpgrades",P.value.toString()),localStorage.setItem("showOnlySelectedTrainingUpgrades",H.value.toString()),localStorage.setItem("showOnlySelectedQualityUpgrades",ee.value.toString())}),(m,y)=>{var A,$;const S=Oo("Divider");return b(),C("div",D0,[a("div",{class:"crew-layout",ref_key:"carouselRef",ref:o,onScroll:y[41]||(y[41]=w=>u(w.target))},[a("div",{class:K(["main-and-claims",{active:s.value==0}])},[a("section",null,[a("div",{class:"crew-type-card",style:Ht({backgroundColor:(A=Q(bo)(m.sheet.image))==null?void 0:A.commonColor})},[a("img",{src:($=Q(bo)(m.sheet.image))==null?void 0:$.url},null,8,U0),a("h1",{class:K({"extra-long":m.sheet.name.length>20})},N(m.sheet.name),3),a("h2",null,N(m.sheet.crewTypeDescription),1),a("div",B0,[q(yr,{id:"crew-tier",label:"Tier",value:n.sheet.tier,min:0,max:5,onChange:y[0]||(y[0]=w=>l(w,"tier"))},null,8,["value"])])],4),a("div",M0,[F0,a("input",{id:"crew-name",type:"text",value:n.sheet.name,onFocus:y[1]||(y[1]=w=>r.value="name"),placeholder:"Untitled "+m.sheet.crewType,onChange:y[2]||(y[2]=w=>{var R;return l((R=w.target)==null?void 0:R.value,"name")})},null,40,j0),q(Et,{show:r.value=="name"},{default:B(()=>[Q0]),_:1},8,["show"]),a("textarea",{id:"crew-description",value:n.sheet.description,onFocus:y[3]||(y[3]=w=>r.value="description"),placeholder:"A group of scoundrels scraping by in the underworld",onChange:y[4]||(y[4]=w=>{var R;return l((R=w.target)==null?void 0:R.value,"description")})},`\r
            `,40,H0),q(Et,{show:r.value=="description"},{default:B(()=>[V0]),_:1},8,["show"])]),a("div",W0,[G0,a("input",{id:"reputation-type",type:"text",value:n.sheet.reputationType,onFocus:y[5]||(y[5]=w=>r.value="reputation-type"),placeholder:"Ambitious",onChange:y[6]||(y[6]=w=>{var R;return l((R=w.target)==null?void 0:R.value,"reputationType")})},null,40,z0),q(Et,{show:r.value=="reputation-type"},{default:B(()=>[K0,a("div",Y0,[(b(!0),C(J,null,fe(Q(t).sheets.crew.reputations,w=>(b(),C("button",{class:"btn btn--text",onMousedown:R=>l(w,"reputationType")},N(w),41,J0))),256))])]),_:1},8,["show"])]),n.sheet.crewType==="Cult"?(b(),ce(S,{key:0})):F("",!0),n.sheet.crewType==="Cult"?(b(),C("div",X0,[a("div",Z0,[ex,a("div",tx,[a("input",{id:"deity-name",type:"text",value:n.sheet.deityName,placeholder:"By what name do you know your deity?",onFocus:y[7]||(y[7]=w=>r.value="deity-name"),onChange:y[8]||(y[8]=w=>{var R;return l((R=w.target)==null?void 0:R.value,"deityName")})},null,40,nx),a("button",{class:"btn btn--icon",onClick:v},ox)])]),a("div",rx,[a("input",{id:"deity-features",type:"text",onFocus:y[9]||(y[9]=w=>r.value="deity-features"),onChange:y[10]||(y[10]=w=>{var R;return l((R=w.target)==null?void 0:R.value,"deityFeatures")}),placeholder:"Describe your deity in a few words",value:n.sheet.deityFeatures},null,40,ix),q(Et,{show:r.value=="deity-features"},{default:B(()=>[ax,a("div",lx,[(b(),C(J,null,fe(["Alluring","Cruel","Ferocious","Monstrous","Radiant","Sinister","Serene","Transcendent"],w=>a("button",{class:"btn btn--text",key:w,onMousedown:R=>l(m.sheet.deityFeatures.length?m.sheet.deityFeatures+", "+w.toLowerCase():w,"deityFeatures")},N(w),41,cx)),64))])]),_:1},8,["show"])])])):F("",!0),q(S),a("div",ux,[dx,a("div",hx,[a("input",{id:"crew-lair",type:"text",value:n.sheet.lair,placeholder:"Where your crew hatches its schemes",onFocus:y[11]||(y[11]=w=>r.value="lair"),onChange:y[12]||(y[12]=w=>{var R;return l((R=w.target)==null?void 0:R.value,"lair")})},null,40,fx),a("button",{class:"btn btn--icon",onClick:f},mx)]),a("div",yx,[a("input",{id:"crew-lair-district",type:"text",value:n.sheet.lairDistrict,placeholder:"Where do you call home?",onFocus:y[13]||(y[13]=w=>r.value="lair-district"),onChange:y[14]||(y[14]=w=>{var R;return l((R=w.target)==null?void 0:R.value,"lairDistrict")})},null,40,gx),q(Et,{show:r.value=="lair-district"},{default:B(()=>[vx,a("div",_x,[(b(!0),C(J,null,fe(Q(t).lexicon.districts.map(w=>w.name),w=>(b(),C("button",{class:"btn btn--text",key:w,onMousedown:R=>l(w,"lairDistrict")},N(w),41,bx))),128))])]),_:1},8,["show"])])]),q(S),a("label",null,N(m.sheet.huntingGroundsLabel),1),a("div",wx,[q(yt,{icon:"fa-low-vision",modelValue:M.value,"onUpdate:modelValue":y[15]||(y[15]=w=>M.value=w),label:"Show only selected"},null,8,["modelValue"])]),U.value.length>0?(b(),C("div",xx,[(b(!0),C(J,null,fe(U.value,w=>(b(),ce(Nt,{effectable:w,key:w.id,idPrefix:n.sheet.crewType,propertyName:m.sheet.huntingGroundsLabel,change:R=>W(w,R),onEdit:ge,onDelete:()=>{}},null,8,["effectable","idPrefix","propertyName","change"]))),128))])):F("",!0),U.value.length==0?(b(),C("p",Cx,[a("em",null," No "+N(m.sheet.huntingGroundsLabel)+" selected",1)])):F("",!0)]),q(S),a("section",null,[a("div",kx,[a("div",Ex,[Sx,q(Js,{id:"crew-rep",value:n.sheet.reputation,locked:n.sheet.turf,max:12,onChange:y[16]||(y[16]=w=>l(w,"reputation"))},null,8,["value","locked"])])]),a("div",Tx,[a("div",$x,[q(yr,{id:"crew-turf",value:n.sheet.turf,min:0,max:5,label:"Turf",onChange:y[17]||(y[17]=w=>l(w,"turf"))},null,8,["value"])]),a("div",Ax,[Ox,a("div",Rx,[a("button",{class:K(["btn btn--tab",{active:n.sheet.hold=="weak"}]),onClick:y[18]||(y[18]=w=>l("weak","hold"))}," Weak ",2),a("button",{class:K(["btn btn--tab",{active:n.sheet.hold=="strong"}]),onClick:y[19]||(y[19]=w=>l("strong","hold"))}," Strong ",2)])])]),q(Sn,null,{default:B(()=>[a("p",{innerHTML:Q(En)(`Completing a score earns your Crew [/rep +2 Rep]

Take [/rep +1 Rep] per *Tier* higher than your target, or [/rep -1 Rep] per *Tier* lower`)},null,8,Px)]),_:1}),q(Sn,null,{default:B(()=>[a("p",{innerHTML:Q(En)("With a full tracker, the Crew can't earn more **Rep** until you do one of the following, then reset the tracker")},null,8,Ix),a("ul",null,[a("li",{innerHTML:Q(En)(`If your **Hold** is Strong, increase your *Tier* by paying [/coin Coin] equal to 8x your new *Tier*
Reduce your **Hold** to Weak`)},null,8,qx),a("li",{innerHTML:Q(En)("If your **Hold** is Weak, increase it to Strong")},null,8,Nx)])]),_:1})]),q(S),a("section",null,[a("div",Lx,[a("div",Dx,[Ux,q(Js,{id:"crew-heat",value:n.sheet.heat,max:9,onChange:y[20]||(y[20]=w=>l(w,"heat"))},null,8,["value"])]),q(yr,{id:"crew-wanted-level",value:n.sheet.wantedLevel,min:0,max:5,onChange:y[21]||(y[21]=w=>l(w,"wantedLevel"))},null,8,["value"])]),q(Sn,null,{default:B(()=>[a("p",{innerHTML:Q(En)("When the tracker is full, increase the **Wanted Level** and clear all your *Heat*")},null,8,Bx)]),_:1}),q(S),a("div",Mx,[a("label",Fx,[X("Crew Treasury "),a("label",jx,N(h.value),1)]),q(Js,{id:"crew-coin",value:n.sheet.coin,max:16,locked:16-c.value,coinMode:!0,onChange:y[22]||(y[22]=w=>l(w,"coin"))},null,8,["value","locked"]),q(Sn,null,{default:B(()=>[a("p",{innerHTML:Q(En)(`Most *Districts* have crime bosses that expect smaller crews to pay a tithe from their scores

Is there a boss that you should be paying? Subtract [/coin Coin] equal to your *Tier +1* when you pay a tithe`)},null,8,Qx)]),_:1})])]),q(S),a("section",null,[Hx,a("div",Vx,[a("button",{class:"btn",onClick:y[23]||(y[23]=w=>Q(j).open(L0,{sheetId:n.sheet.id,claims:n.sheet.claims}))},Gx),q(yt,{icon:"fa-low-vision",modelValue:dt.value,"onUpdate:modelValue":y[24]||(y[24]=w=>dt.value=w),label:"Show details"},null,8,["modelValue"])]),a("div",zx,[(b(!0),C(J,null,fe(Wt.value,w=>(b(),ce(Ob,{key:w.id,claim:w,showDetails:dt.value,idPrefix:n.sheet.crewType,propertyName:"Claim",neighborClaims:Be(w),change:R=>O(w,R)},null,8,["claim","showDetails","idPrefix","neighborClaims","change"]))),128))])])],2),a("div",{class:K(["abilities-xp-and-contacts",{active:s.value==1}])},[a("section",Kx,[a("div",Yx,[Jx,q(Js,{id:"crew-xp",value:n.sheet.crewExperience,max:9,onChange:y[25]||(y[25]=w=>l(w,"crewExperience"))},null,8,["value"])]),q(Sn,null,{default:B(()=>[Xx,a("ul",null,[(b(!0),C(J,null,fe(m.sheet.crewExperienceLabels,w=>(b(),C("li",null,N(w),1))),256))])]),_:1}),q(Sn,null,{default:B(()=>[Zx]),_:1})]),q(S),a("section",null,[eC,a("div",tC,[a("button",{class:"btn",onClick:y[26]||(y[26]=w=>Q(j).open(Qn,{propertyName:"Special Ability",idPrefix:m.sheet.crewType,onCreateNew:rt}))},sC),q(yt,{icon:"fa-low-vision",modelValue:le.value,"onUpdate:modelValue":y[27]||(y[27]=w=>le.value=w),label:"Show only selected"},null,8,["modelValue"])]),pe.value.length>0?(b(),C("div",oC,[(b(!0),C(J,null,fe(pe.value,w=>(b(),ce(Nt,{key:w.id,effectable:w,idPrefix:n.sheet.crewType,propertyName:"Special Ability",change:R=>me(w,R),onEdit:at,onDelete:ut,class:K({"wide-tile":w.description.length>Cn})},null,8,["effectable","idPrefix","change","class"]))),128))])):F("",!0),pe.value.length==0?(b(),C("p",rC,aC)):F("",!0)]),q(S),a("section",null,[lC,a("div",cC,[a("button",{class:"btn",onClick:y[28]||(y[28]=w=>Q(j).open(Qn,{propertyName:"Upgrade",idPrefix:m.sheet.crewType+"-upgrade",onCreateNew:R=>ie(R,"crew")}))},dC),q(yt,{icon:"fa-low-vision",modelValue:_.value,"onUpdate:modelValue":y[29]||(y[29]=w=>_.value=w),label:"Show only selected"},null,8,["modelValue"])]),x.value.length>0?(b(),C("div",hC,[(b(!0),C(J,null,fe(x.value,w=>(b(),ce(Nt,{key:w.id,effectable:w,idPrefix:n.sheet.crewType+"-upgrade",propertyName:"Upgrade",change:R=>{re(w,R,"crew")},onEdit:R=>{Y(R,"crew")},onDelete:R=>$e(R,"crew"),class:K({"wide-tile":w.description.length>Cn})},null,8,["effectable","idPrefix","change","onEdit","onDelete","class"]))),128))])):F("",!0),x.value.length==0?(b(),C("p",fC,mC)):F("",!0)]),q(S),a("section",null,[yC,a("div",gC,[a("button",{class:"btn",onClick:y[30]||(y[30]=w=>Q(j).open(Qn,{propertyName:"Upgrade",idPrefix:m.sheet.crewType+"-lair-upgrade",onCreateNew:R=>ie(R,"lair")}))},_C),q(yt,{icon:"fa-low-vision",modelValue:P.value,"onUpdate:modelValue":y[31]||(y[31]=w=>P.value=w),label:"Show only selected"},null,8,["modelValue"])]),L.value.length>0?(b(),C("div",bC,[(b(!0),C(J,null,fe(L.value,w=>(b(),ce(Nt,{key:w.id,effectable:w,idPrefix:n.sheet.crewType+"-lair-upgrade",propertyName:"Upgrade",change:R=>{re(w,R,"lair")},onEdit:R=>{Y(R,"lair")},onDelete:R=>$e(R,"lair"),class:K({"wide-tile":w.description.length>Cn})},null,8,["effectable","idPrefix","change","onEdit","onDelete","class"]))),128))])):F("",!0),L.value.length==0?(b(),C("p",wC,CC)):F("",!0)]),q(S),a("section",null,[kC,a("div",EC,[a("button",{class:"btn",onClick:y[32]||(y[32]=w=>Q(j).open(Qn,{propertyName:"Upgrade",idPrefix:m.sheet.crewType+"-training-upgrade",onCreateNew:R=>ie(R,"training")}))},TC),q(yt,{icon:"fa-low-vision",modelValue:H.value,"onUpdate:modelValue":y[33]||(y[33]=w=>H.value=w),label:"Show only selected"},null,8,["modelValue"])]),V.value.length>0?(b(),C("div",$C,[(b(!0),C(J,null,fe(V.value,w=>(b(),ce(Nt,{key:w.id,effectable:w,idPrefix:n.sheet.crewType+"-training-upgrade",propertyName:"Upgrade",change:R=>{re(w,R,"training")},onEdit:R=>{Y(R,"training")},onDelete:R=>$e(R,"training"),class:K({"wide-tile":w.description.length>Cn})},null,8,["effectable","idPrefix","change","onEdit","onDelete","class"]))),128))])):F("",!0),V.value.length==0?(b(),C("p",AC,RC)):F("",!0)]),q(S),a("section",null,[PC,a("div",IC,[a("button",{class:"btn",onClick:y[34]||(y[34]=w=>Q(j).open(Qn,{propertyName:"Upgrade",idPrefix:m.sheet.crewType+"-quality-upgrade",onCreateNew:R=>ie(R,"quality")}))},NC),q(yt,{icon:"fa-low-vision",modelValue:ee.value,"onUpdate:modelValue":y[35]||(y[35]=w=>ee.value=w),label:"Show only selected"},null,8,["modelValue"])]),de.value.length>0?(b(),C("div",LC,[(b(!0),C(J,null,fe(de.value,w=>(b(),ce(Nt,{key:w.id,effectable:w,idPrefix:n.sheet.crewType+"-quality-upgrade",propertyName:"Upgrade",change:R=>{re(w,R,"quality")},onEdit:R=>{Y(R,"quality")},onDelete:R=>$e(R,"quality"),class:K({"wide-tile":w.description.length>Cn})},null,8,["effectable","idPrefix","change","onEdit","onDelete","class"]))),128))])):F("",!0),de.value.length==0?(b(),C("p",DC,BC)):F("",!0)])],2),a("div",{class:K(["upgrades",{active:s.value==2}])},[a("section",null,[MC,a("div",FC,[a("button",{class:"btn",onClick:y[36]||(y[36]=w=>Q(j).open(Hu,{propertyName:"Crew Contact",idPrefix:m.sheet.crewType+"-contact",onCreateNew:Je}))},QC),q(yt,{icon:"fa-low-vision",modelValue:ke.value,"onUpdate:modelValue":y[37]||(y[37]=w=>ke.value=w),label:"Show only selected"},null,8,["modelValue"])]),De.value.length>0?(b(),C("div",HC,[(b(!0),C(J,null,fe(De.value,w=>(b(),ce(v0,{key:w.id,idPrefix:n.sheet.crewType+"-contact",propertyName:"Crew Contact",person:w,change:mt,onEdit:We,onDelete:Ye,options:[{value:1,text:""}]},null,8,["idPrefix","person"]))),128))])):F("",!0),De.value.length==0?(b(),C("p",VC,GC)):F("",!0)]),q(S),a("section",null,[zC,a("div",KC,[a("button",{class:"btn",onClick:y[38]||(y[38]=w=>Q(j).open(co,{propertyName:"gang",idPrefix:m.sheet.crewType+"-gang",onCreateNew:g}))},XC),a("button",{class:"btn",onClick:y[39]||(y[39]=w=>Q(j).open(co,{propertyName:"expert",idPrefix:m.sheet.crewType+"-expert",onCreateNew:g}))},tk),n.sheet.crewType==="Smugglers"?(b(),C("button",{key:0,class:K(["btn",{disabled:!E("like-part-of-the-family")}]),onClick:y[40]||(y[40]=w=>Q(j).open(co,{propertyName:"vehicle",idPrefix:m.sheet.crewType+"-vehicle",onCreateNew:g}))},ok,2)):F("",!0)]),Ee.value.length>0?(b(),C("div",rk,[(b(!0),C(J,null,fe(Ee.value,w=>(b(),ce(T1,{class:"wide-tile",key:w.id,cohort:w,idPrefix:n.sheet.crewType,onEdit:T,onDelete:p},null,8,["cohort","idPrefix"]))),128))])):F("",!0),Ee.value.length==0?(b(),C("p",ik,lk)):F("",!0)])],2)],544),a("div",ck,[a("button",{class:K(["btn btn--tab",{active:s.value==0}]),onClick:y[42]||(y[42]=w=>d(0))},[X(" 1 "),uk],2),a("button",{class:K(["btn btn--tab",{active:s.value==1}]),onClick:y[43]||(y[43]=w=>d(1))},[X(" 2 "),dk],2),a("button",{class:K(["btn btn--tab",{active:s.value==2}]),onClick:y[44]||(y[44]=w=>d(2))},[X(" 3 "),hk],2)])])}}}),pk=se(fk,[["__scopeId","data-v-75aa02e1"]]),vn=e=>(we("data-v-56ccc003"),e=e(),xe(),e),mk={class:"page"},yk={class:"controls"},gk={key:0,class:"row center"},vk=["onClick"],_k={key:1,class:"row sheet-controls"},bk=vn(()=>a("i",{class:"fas fa-arrow-left"},null,-1)),wk=vn(()=>a("span",{class:"mobile-hidden"},"Back",-1)),xk=[bk,wk],Ck={class:"breadcrumbs"},kk=vn(()=>a("span",{class:"mobile-hidden"},"Sheets",-1)),Ek=vn(()=>a("i",{class:"fas fa-angle-right"},null,-1)),Sk=vn(()=>a("i",{class:"fas fa-trash"},null,-1)),Tk=vn(()=>a("span",{class:"mobile-hidden"},"Delete",-1)),$k=[Sk,Tk],Ak={key:0,class:"sheet-layout"},Ok={key:1,class:"sheet-select-layout"},Rk={key:0,class:"sheet-list"},Pk=vn(()=>a("i",{class:"fas fa-folder-plus"},null,-1)),Ik={key:1,class:"sheet-list"},qk=vn(()=>a("i",{class:"fas fa-folder-plus"},null,-1)),Nk={key:0,class:"model-overlay"},Lk=te({__name:"TheGamePage",setup(e){const t=Bu(),n=D("crew"),s=G(()=>{var d,f;return Object.values(((f=(d=Re().game)==null?void 0:d.data)==null?void 0:f.sheets)||[])}),o=G(()=>s.value.filter(d=>d.sheetType==="crew")),r=G(()=>s.value.filter(d=>d.sheetType==="character")),i=D(null),l=D(!1);Xt(()=>{const d=t.params.id;_y(d)});function c(){j.open(vb,{sheetType:n.value,templateTypeKey:"crewType",templates:cb(n.value),onConfirm:h})}function h(d,f){var v,_;if(!f)return console.error("Sheet not found");(_=(v=Re().game)==null?void 0:v.data)!=null&&_.sheets?Pe([{op:"add",path:`/data/sheets/${f.id}`,value:f}]):Pe([{op:"replace",path:"/data",value:{sheets:{[f.id]:f}}}])}function u(){i.value&&j.open(Fi,{title:"Delete Sheet",message:`Are you sure you want to delete <em>${i.value.name}</em> ${i.value.sheetType} sheet?`,confirmText:"Yes, delete it",onConfirm:()=>{var d;Pe([{op:"remove",path:`/data/sheets/${(d=i.value)==null?void 0:d.id}`}]),i.value=null,j.close()}})}return(d,f)=>{var v,_;return b(),C(J,null,[a("div",mk,[a("div",yk,[i.value?(b(),C("div",_k,[a("button",{class:"btn btn--icon",onClick:f[0]||(f[0]=x=>i.value=null)},xk),a("h2",Ck,[a("span",null,[a("span",null,N(i.value.sheetType),1),kk]),Ek,a("span",null,N(i.value.name),1)]),a("button",{class:"btn btn--icon",onClick:u},$k)])):(b(),C("div",gk,[(b(),C(J,null,fe([{name:"crew",text:"Crews"},{name:"character",text:"Characters",disabled:!0},{name:"world",text:"World",disabled:!0}],x=>a("button",{class:K(["btn btn--tab",{active:n.value===x.name,disabled:x.disabled}]),onClick:P=>n.value=x.name},[a("span",null,N(x.text),1)],10,vk)),64))]))]),i.value?(b(),C("div",Ak,[((v=i.value)==null?void 0:v.sheetType)==="crew"?(b(),ce(pk,{key:0,sheet:i.value},null,8,["sheet"])):F("",!0),((_=i.value)==null?void 0:_.sheetType)==="character"?(b(),ce(bb,{key:1,sheet:i.value},null,8,["sheet"])):F("",!0)])):(b(),C("div",Ok,[n.value==="crew"?(b(),C("ul",Rk,[(b(!0),C(J,null,fe(o.value,x=>(b(),C("li",{key:x.id},[q(vl,{sheet:x,onClick:P=>i.value=x},null,8,["sheet","onClick"])]))),128)),a("li",null,[a("div",{class:"new-sheet-card",onClick:c},[Pk,a("span",null,"New "+N(n.value),1)])])])):n.value==="character"?(b(),C("ul",Ik,[(b(!0),C(J,null,fe(r.value,x=>(b(),C("li",{key:x.id},[q(vl,{sheet:x,onClick:P=>i.value=x},null,8,["sheet","onClick"])]))),128)),a("li",null,[a("div",{class:"new-sheet-card",onClick:c},[qk,a("span",null,"New "+N(n.value),1)])])])):F("",!0),q(V_,{class:"mobile-hidden"})]))]),l.value?(b(),C("div",Nk,[a("pre",null,N(JSON.stringify(Q(Re)().game,null,2)),1),a("button",{class:"btn debug btn",onClick:f[1]||(f[1]=x=>l.value=!1)}," Close ")])):F("",!0)],64)}}}),Dk=se(Lk,[["__scopeId","data-v-56ccc003"]]),Uk=D();var ii=(e=>(e.HOME="home",e.GAMES="games",e.GAME="game",e.INVITE="invite",e.SETTINGS="settings",e.LOST="lost",e))(ii||{});const Bk=[{path:"/",components:{page:_v},name:"home"},{path:"/game/:id",components:{page:Dk},name:"game"},{path:"/invite/:code",components:{page:A_},name:"invite"},{path:"/:pathMatch(.*)*",components:{page:q_},name:"lost"}],Mk={history:e_(),routes:Bk},Qt=E_(Mk);Qt.afterEach(async(e,t)=>{});Qt.beforeEach(async(e,t,n)=>{by(),j.open(qs,{backgroundClass:"opaque"}),st().refreshToken&&!st().accessToken&&await au(),Ce().id||(console.log("@index.ts: fetchMyAccount() because no user id"),await is()),(!st().refreshToken||!Ce().id)&&await Gu(),j.close(),Uk.value=e.name,n()});async function Gu(){try{const e=await et.post("/account/create-guest");return e.data.refreshToken&&(st().storeRefreshToken(e.data.refreshToken),st().accessToken=e.data.accessToken,console.log("@account.ts: fetchMyAccount() because of createGuest"),await is()),e.data}catch{return null}}async function Fk(e,t){var n;try{const o=!e||!t?{}:{username:e,password:t};console.log("registerAccount payload:",o);const r=await et.post("/account/create",o);return console.log("response:",r),r.status!==Zt.Ok?r.data:(console.log("@account.ts: fetchMyAccount() because of registerAccount"),await is(),null)}catch(s){return(n=s==null?void 0:s.response)==null?void 0:n.data}}async function jk(e,t){var n;try{const s=await et.post("/account/login",{username:e,password:t});return s.data.refreshToken&&(st().storeRefreshToken(s.data.refreshToken),st().accessToken=s.data.accessToken,console.log("@account.ts: fetchMyAccount() because of login"),await is()),s.data}catch(s){return(n=s==null?void 0:s.response)==null?void 0:n.data}}async function is(){try{const e=await et.get("/account/me");return e.data?(Ce().id=e.data.id,Ce().username=e.data.username,Ce().isGuest=e.data.isGuest,Ce().portrait=e.data.portrait,Ce().games=e.data.games,e.data):null}catch{return null}}async function Hi(){st().clear(),Ce().clear(),Re().clear(),Qt.push("/"),j.open(qs),await Gu(),j.close()}async function Qk(e){var t;try{const n=await et.delete("/account/me",{data:{password:e}});return n.status!==Zt.Ok?n.data:null}catch(n){return(t=n==null?void 0:n.response)==null?void 0:t.data}}async function Hk(e){var t;try{const n=await et.put("/account/username",{newUsername:e});return n.status!==Zt.Ok?n.data:(Ce().username=e,null)}catch(n){return(t=n==null?void 0:n.response)==null?void 0:t.data}}async function Vk(e,t){var n;try{const s=await et.put("/account/password",{password:e,newPassword:t});return s.status!==Zt.Ok?s.data:null}catch(s){return(n=s==null?void 0:s.response)==null?void 0:n.data}}async function Wk(e){var t;try{const n=await et.put("/account/portrait",{portraitId:e});return n.status!==Zt.Ok?n.data:(Ce().portrait=e,null)}catch(n){return(t=n==null?void 0:n.response)==null?void 0:t.data}}let gr;async function Gk(){return gr||(gr=(await et.get("/version")).data),gr}const zk=e=>(we("data-v-da03a0e2"),e=e(),xe(),e),Kk={class:"info"},Yk=["innerHTML"],Jk=zk(()=>a("span",null,"Okay",-1)),Xk=[Jk],Zk=te({__name:"InfoModal",props:{title:{},message:{}},setup(e){const t=e;return(n,s)=>(b(),ce(ze,null,{header:B(()=>[q(Ke,null,{default:B(()=>[a("h2",null,N(t.title),1)]),_:1})]),content:B(()=>[a("div",Kk,[a("p",{innerHTML:t.message},null,8,Yk),a("button",{class:"btn mobile-full-width",onClick:s[0]||(s[0]=(...o)=>Q(j).close&&Q(j).close(...o))},Xk)])]),_:1}))}}),zu=se(Zk,[["__scopeId","data-v-da03a0e2"]]),tn=e=>(we("data-v-fd8ada18"),e=e(),xe(),e),eE=tn(()=>a("h2",null,"Change Password",-1)),tE={class:"change-password"},nE=tn(()=>a("p",null,[X("Choose a new "),a("em",null,"password"),X(" for your account.")],-1)),sE=tn(()=>a("p",{class:"muted"}," Your new password should be at least 8 characters long. ",-1)),oE={class:"inputs"},rE={class:"input-group"},iE=tn(()=>a("label",{for:"password"},"Current Password",-1)),aE={key:0,class:"reminder shake-once"},lE={class:"input-group"},cE=tn(()=>a("label",{for:"password"},"New Password",-1)),uE={key:0,class:"reminder shake-once"},dE={class:"input-group"},hE=tn(()=>a("label",{for:"confirm-password"},"Confirm New Password",-1)),fE={key:0,class:"reminder shake-once"},pE={key:0,class:"alert"},mE=tn(()=>a("i",{class:"fas fa-exclamation-circle"},null,-1)),yE=tn(()=>a("i",{class:"fas fa-times"},null,-1)),gE=[yE],vE={class:"row center"},_E={key:0,class:"fas fa-circle-notch fa-spin"},bE=tn(()=>a("span",null,"Change Password",-1)),wE=te({__name:"ChangePasswordModal",setup(e){const t=D(""),n=D(!1),s=D(""),o=D(!1),r=G(()=>l.value&&i.value.length===0?"Enter your current password":null),i=D(""),l=D(!1),c=G(()=>l.value?i.value.length===0?"Come up with something clever":i.value.length<8?"Must be at least 8 characters":i.value.length>64?"Can't be more than 64 characters":null:null),h=D(""),u=D(!1),d=G(()=>u.value?h.value.length===0?"Your new password again":i.value!==h.value?"Passwords don't match":null:null);async function f(){if(!o.value||!l.value||!u.value||r.value||c.value||d.value){o.value=!0,l.value=!0,u.value=!0,document.querySelectorAll(".reminder").forEach(x=>{x.classList.remove("shake-once"),x.offsetWidth,x.classList.add("shake-once")});return}n.value=!0,t.value="";const v=await Vk(s.value,i.value);n.value=!1,v?t.value=v:j.open(zu,{title:"Success",message:"Your password has been changed successfully."})}return(v,_)=>(b(),ce(ze,{class:K({disabled:n.value})},{header:B(()=>[q(Ke,{closeButton:""},{default:B(()=>[eE]),_:1})]),content:B(()=>[a("div",tE,[nE,sE,a("div",oE,[a("div",rE,[iE,Se(a("input",{type:"password",onInput:_[0]||(_[0]=x=>o.value=!0),placeholder:"Your current password","onUpdate:modelValue":_[1]||(_[1]=x=>s.value=x)},null,544),[[Te,s.value]]),r.value?(b(),C("span",aE,N(r.value),1)):F("",!0)]),a("div",lE,[cE,Se(a("input",{type:"password",onInput:_[2]||(_[2]=x=>l.value=!0),placeholder:"Create a new password","onUpdate:modelValue":_[3]||(_[3]=x=>i.value=x)},null,544),[[Te,i.value]]),c.value?(b(),C("span",uE,N(c.value),1)):F("",!0)]),a("div",dE,[hE,Se(a("input",{type:"password",onInput:_[4]||(_[4]=x=>u.value=!0),onKeyup:Is(f,["enter"]),placeholder:"Confirm your new password","onUpdate:modelValue":_[5]||(_[5]=x=>h.value=x)},null,544),[[Te,h.value]]),d.value?(b(),C("span",fE,N(d.value),1)):F("",!0)])]),t.value?(b(),C("div",pE,[mE,a("span",null,N(t.value),1),a("button",{class:"btn btn--icon close",onClick:_[6]||(_[6]=x=>t.value="")},gE)])):F("",!0),a("div",vE,[a("button",{class:"btn mobile-full-width",onClick:f},[n.value?(b(),C("i",_E)):F("",!0),bE])])])]),_:1},8,["class"]))}}),xE=se(wE,[["__scopeId","data-v-fd8ada18"]]),as=e=>(we("data-v-af22bc65"),e=e(),xe(),e),CE=as(()=>a("h2",null,"Change Username",-1)),kE={class:"change-username"},EE=as(()=>a("p",null,[X("Choose a new "),a("em",null,"username"),X(" for your account.")],-1)),SE={class:"muted"},TE={class:"inputs"},$E={class:"input-group"},AE=as(()=>a("label",{for:"username"},"New Username",-1)),OE={key:0,class:"reminder shake-once"},RE={key:0,class:"alert"},PE=as(()=>a("i",{class:"fas fa-exclamation-circle"},null,-1)),IE=as(()=>a("i",{class:"fas fa-times"},null,-1)),qE=[IE],NE={class:"row center"},LE={key:0,class:"fas fa-circle-notch fa-spin"},DE=as(()=>a("span",null,"Change Username",-1)),UE=te({__name:"ChangeUsernameModal",setup(e){const t=D(""),n=D(!1),s=D(""),o=D(!1),r=G(()=>o.value?s.value.length===0?"What should we call you?":s.value.length<3?"Must be at least 3 characters":s.value.length>24?"Must have no more than 16 characters":/^[a-zA-Z0-9]+$/.test(s.value)?null:"Letters and numbers only":null);async function i(){if(!o.value||r.value){o.value=!0,document.querySelectorAll(".reminder").forEach(h=>{h.classList.remove("shake-once"),h.offsetWidth,h.classList.add("shake-once")});return}n.value=!0,t.value="";const l=await Hk(s.value);n.value=!1,l?t.value=l:j.open(zu,{title:"Success",message:`Username has been changed successfully. Your username is now <em>${s.value}</em>.`})}return(l,c)=>(b(),ce(ze,{class:K({disabled:n.value})},{header:B(()=>[q(Ke,{closeButton:""},{default:B(()=>[CE]),_:1})]),content:B(()=>[a("div",kE,[EE,a("p",SE,[X(" Your current username is "),a("em",null,N(Q(Ce)().username),1),X(". ")]),a("div",TE,[a("div",$E,[AE,Se(a("input",{type:"text",onInput:c[0]||(c[0]=h=>o.value=!0),onKeydown:Is(i,["enter"]),placeholder:"Enter a new username","onUpdate:modelValue":c[1]||(c[1]=h=>s.value=h)},null,544),[[Te,s.value]]),r.value?(b(),C("span",OE,N(r.value),1)):F("",!0)])]),t.value?(b(),C("div",RE,[PE,a("span",null,N(t.value),1),a("button",{class:"btn btn--icon close",onClick:c[2]||(c[2]=h=>t.value="")},qE)])):F("",!0),a("div",NE,[a("button",{class:"btn mobile-full-width",onClick:i},[n.value?(b(),C("i",LE)):F("",!0),DE])])])]),_:1},8,["class"]))}}),BE=se(UE,[["__scopeId","data-v-af22bc65"]]),_n=e=>(we("data-v-0286b377"),e=e(),xe(),e),ME=_n(()=>a("h2",null,"Delete Account",-1)),FE={class:"confirm"},jE=_n(()=>a("p",null,[X(" This action is "),a("em",null,"irreversible"),X(". All data related to your account will be "),a("em",null,"lost"),X(". Are you sure you want to continue and delete your account? ")],-1)),QE={class:"input-group"},HE=_n(()=>a("label",{for:"password"},"Password",-1)),VE={key:0,class:"alert"},WE=_n(()=>a("i",{class:"fas fa-exclamation-circle"},null,-1)),GE=_n(()=>a("i",{class:"fas fa-times"},null,-1)),zE=[GE],KE={class:"column center"},YE=_n(()=>a("span",null,"No, I want to keep my account",-1)),JE=[YE],XE=_n(()=>a("span",{class:"muted"},"or",-1)),ZE=_n(()=>a("span",null,"Yes, I want to delete my account",-1)),eS=[ZE],tS=te({__name:"ConfirmDeleteAccountModal",setup(e){const t=D(""),n=D(""),s=D(!1);async function o(){s.value=!0,n.value="",n.value=await Qk(t.value),n.value||(j.close(),Hi()),s.value=!1}return(r,i)=>(b(),ce(ze,{disabled:s.value},{header:B(()=>[q(Ke,{closeButton:""},{default:B(()=>[ME]),_:1})]),content:B(()=>[a("div",FE,[jE,a("div",QE,[HE,Se(a("input",{id:"password",type:"password",placeholder:"Enter your password","onUpdate:modelValue":i[0]||(i[0]=l=>t.value=l)},null,512),[[Te,t.value]])]),n.value?(b(),C("div",VE,[WE,a("span",null,N(n.value),1),a("button",{class:"btn btn--icon close",onClick:i[1]||(i[1]=l=>n.value="")},zE)])):F("",!0),q(Dt),a("div",KE,[a("button",{class:"btn",onClick:i[2]||(i[2]=l=>Q(j).close())},JE),XE,a("button",{class:K(["btn btn--text",{disabled:!t.value}]),onClick:o},eS,2)])])]),_:1},8,["disabled"]))}}),nS=se(tS,[["__scopeId","data-v-0286b377"]]),bn=e=>(we("data-v-497ae5b4"),e=e(),xe(),e),sS=bn(()=>a("h2",null,"Login",-1)),oS={class:"login"},rS=bn(()=>a("p",null,[X("Enter your "),a("em",null,"username"),X(" and "),a("em",null,"password"),X(".")],-1)),iS={class:"inputs"},aS={class:"input-group"},lS=bn(()=>a("label",{for:"username"},"Username",-1)),cS={key:0,class:"reminder shake-once"},uS={class:"input-group"},dS=bn(()=>a("label",{for:"password"},"Password",-1)),hS={key:0,class:"reminder shake-once"},fS={key:0,class:"alert"},pS=bn(()=>a("i",{class:"fas fa-exclamation-circle"},null,-1)),mS=bn(()=>a("i",{class:"fas fa-times"},null,-1)),yS=[mS],gS={class:"row center"},vS={key:0,class:"fas fa-circle-notch fa-spin"},_S=bn(()=>a("span",null,"Login",-1)),bS=bn(()=>a("p",null,"Don't have an account?",-1)),wS=te({__name:"LoginModal",setup(e){const t=D(""),n=D(!1),s=D(""),o=D(!1),r=G(()=>o.value&&s.value.length===0?"Your username, please":null),i=D(""),l=D(!1),c=G(()=>l.value&&i.value.length===0?"Did you forget something?":null),h=G(()=>s.value.length>0&&i.value.length>0);async function u(){if(!h.value&&(!o.value||!l||r.value||c.value)){o.value=!0,l.value=!0,document.querySelectorAll(".reminder").forEach(_=>{_.classList.remove("shake-once"),_.offsetWidth,_.classList.add("shake-once")});return}n.value=!0,t.value="";const f=await jk(s.value,i.value);n.value=!1,f.refreshToken?j.close():t.value=f}function d(){j.open(Yu)}return(f,v)=>(b(),ce(ze,{class:K({disabled:n.value})},{header:B(()=>[q(Ke,{closeButton:""},{default:B(()=>[sS]),_:1})]),content:B(()=>[a("div",oS,[rS,a("div",iS,[a("div",aS,[lS,Se(a("input",{type:"text",onInput:v[0]||(v[0]=_=>o.value=!0),placeholder:"Enter a username","onUpdate:modelValue":v[1]||(v[1]=_=>s.value=_)},null,544),[[Te,s.value]]),r.value?(b(),C("span",cS,N(r.value),1)):F("",!0)]),a("div",uS,[dS,Se(a("input",{type:"password",onInput:v[2]||(v[2]=_=>l.value=!0),onKeyup:Is(u,["enter"]),placeholder:"Create a password","onUpdate:modelValue":v[3]||(v[3]=_=>i.value=_)},null,544),[[Te,i.value]]),c.value?(b(),C("span",hS,N(c.value),1)):F("",!0)])]),t.value?(b(),C("div",fS,[pS,a("span",null,N(t.value),1),a("button",{class:"btn btn--icon close",onClick:v[4]||(v[4]=_=>t.value="")},yS)])):F("",!0),a("div",gS,[a("button",{class:"btn mobile-full-width",onClick:u},[n.value?(b(),C("i",vS)):F("",!0),_S])]),a("div",{class:"row center"},[bS,a("button",{class:"btn btn--text",onClick:d}," Register ")])])]),_:1},8,["class"]))}}),Ku=se(wS,[["__scopeId","data-v-497ae5b4"]]),nn=e=>(we("data-v-bb068875"),e=e(),xe(),e),xS=nn(()=>a("h2",null,"Register your Account",-1)),CS={class:"create-account"},kS=nn(()=>a("p",null,[X(" Choose a "),a("em",null,"username"),X(" and "),a("em",null,"password"),X(" to register your account. ")],-1)),ES={class:"inputs"},SS={class:"input-group"},TS=nn(()=>a("label",{for:"username"},"Username",-1)),$S={key:0,class:"reminder shake-once"},AS={class:"input-group"},OS=nn(()=>a("label",{for:"password"},"Password",-1)),RS={key:0,class:"reminder shake-once"},PS={class:"input-group"},IS=nn(()=>a("label",{for:"confirm-password"},"Confirm Password",-1)),qS={key:0,class:"reminder shake-once"},NS={key:0,class:"alert"},LS=nn(()=>a("i",{class:"fas fa-exclamation-circle"},null,-1)),DS=nn(()=>a("i",{class:"fas fa-times"},null,-1)),US=[DS],BS={class:"row center"},MS={key:0,class:"fas fa-circle-notch fa-spin"},FS=nn(()=>a("span",null,"Register Account",-1)),jS=nn(()=>a("p",null,"Already have an account?",-1)),QS=te({__name:"CreateAccountModal",setup(e){const t=D(""),n=D(!1),s=D(""),o=D(!1),r=G(()=>o.value?s.value.length===0?"What should we call you?":s.value.length<3?"Must be at least 3 characters":s.value.length>24?"Must have no more than 16 characters":/^[a-zA-Z0-9]+$/.test(s.value)?null:"Letters and numbers only":null),i=D(""),l=D(!1),c=G(()=>l.value?i.value.length===0?"Come up with something clever":i.value.length<8?"Must be at least 8 characters":i.value.length>64?"Can't be more than 64 characters":null:null),h=D(""),u=D(!1),d=G(()=>u.value?h.value.length===0?"Your password again":i.value!==h.value?"Passwords don't match":null:null);async function f(){if(!o.value||!l.value||!u.value||r.value||c.value||d.value){o.value=!0,l.value=!0,u.value=!0,document.querySelectorAll(".reminder").forEach(P=>{P.classList.remove("shake-once"),P.offsetWidth,P.classList.add("shake-once")});return}n.value=!0,t.value="";const _=await Fk(s.value,i.value);n.value=!1,_?t.value=_:j.close()}function v(){j.open(Ku)}return(_,x)=>(b(),ce(ze,{class:K({disabled:n.value})},{header:B(()=>[q(Ke,{closeButton:""},{default:B(()=>[xS]),_:1})]),content:B(()=>[a("div",CS,[kS,a("div",ES,[a("div",SS,[TS,Se(a("input",{type:"text",onInput:x[0]||(x[0]=P=>o.value=!0),placeholder:"Enter a username","onUpdate:modelValue":x[1]||(x[1]=P=>s.value=P)},null,544),[[Te,s.value]]),r.value?(b(),C("span",$S,N(r.value),1)):F("",!0)]),a("div",AS,[OS,Se(a("input",{type:"password",onInput:x[2]||(x[2]=P=>l.value=!0),placeholder:"Create a password","onUpdate:modelValue":x[3]||(x[3]=P=>i.value=P)},null,544),[[Te,i.value]]),c.value?(b(),C("span",RS,N(c.value),1)):F("",!0)]),a("div",PS,[IS,Se(a("input",{type:"password",onInput:x[4]||(x[4]=P=>u.value=!0),onKeyup:Is(f,["enter"]),placeholder:"Confirm your password","onUpdate:modelValue":x[5]||(x[5]=P=>h.value=P)},null,544),[[Te,h.value]]),d.value?(b(),C("span",qS,N(d.value),1)):F("",!0)])]),t.value?(b(),C("div",NS,[LS,a("span",null,N(t.value),1),a("button",{class:"btn btn--icon close",onClick:x[6]||(x[6]=P=>t.value="")},US)])):F("",!0),a("div",BS,[a("button",{class:"btn mobile-full-width",onClick:f},[n.value?(b(),C("i",MS)):F("",!0),FS])]),a("div",{class:"row center"},[jS,a("button",{class:"btn btn--text",onClick:v},"Log in")])])]),_:1},8,["class"]))}}),Yu=se(QS,[["__scopeId","data-v-bb068875"]]),ot=e=>(we("data-v-265ed790"),e=e(),xe(),e),HS={class:"account"},VS=ot(()=>a("p",null,"Choose a portrait from the list below.",-1)),WS={class:"portrait-select"},GS=["onClick"],zS={key:0,class:"overlay"},KS={key:1,class:"fas fa-check-circle"},YS={key:0},JS=ot(()=>a("p",null,"You are currently logged in as a guest.",-1)),XS={key:0,class:"row"},ZS=ot(()=>a("span",null,"Register Account",-1)),eT=[ZS],tT=ot(()=>a("i",{class:"fas fa-sign-out-alt"},null,-1)),nT=ot(()=>a("span",null,"Login",-1)),sT=[tT,nT],oT={key:1,class:"account-management"},rT=ot(()=>a("p",null," Change your username. This will also change your display name in all games. ",-1)),iT=ot(()=>a("i",{class:"fas fa-user-edit"},null,-1)),aT=ot(()=>a("span",null,"Change Username",-1)),lT=[iT,aT],cT=ot(()=>a("p",null,"Change your password.",-1)),uT=ot(()=>a("i",{class:"fas fa-key"},null,-1)),dT=ot(()=>a("span",null,"Change Password",-1)),hT=[uT,dT],fT={class:"attribution"},pT={class:"muted"},mT=ot(()=>a("p",null,[X(" This work is based on "),a("a",{class:"anchor-link",href:"http://www.bladesinthedark.com/",target:"_blank"}," Blades in the Dark "),X(" , product of One Seven Design, developed and authored by John Harper, and licensed for our use under the "),a("a",{class:"anchor-link",href:"http://creativecommons.org/licenses/by/3.0/",target:"_blank"}," Creative Commons Attribution 3.0 Unported license ")],-1)),yT=ot(()=>a("span",null,"View Full Attribution",-1)),gT=[yT],vT={class:"center"},_T=ot(()=>a("span",null,"Sign Out",-1)),bT=[_T],wT=ot(()=>a("span",null,"Delete Account",-1)),xT=[wT],CT={class:"row center id-block"},kT={class:"muted text-center"},ET=ot(()=>a("i",{class:"fas fa-copy"},null,-1)),ST=[ET],TT={class:"muted text-center"},$T=te({__name:"AccountModal",setup(e){const t=D("");Xt(()=>{Gk().then(d=>t.value=`${Pf.version}  ${d}`)});const n=new Date().getFullYear();function s(){j.open(Fi,{title:"Sign Out",message:"Are you sure you want to sign out?",onConfirm:()=>Hi(),onCancel:()=>j.open(Ju),onConfirmText:"Yes, I want to sign out",onCancelText:"No, keep me signed in"})}function o(){j.open(nS)}function r(){j.open(Ku)}function i(){navigator.clipboard.writeText(Ce().id)}function l(){j.open(Yu)}function c(d){Wk(d)}function h(){j.open(BE)}function u(){j.open(xE)}return(d,f)=>{const v=Oo("Divider");return b(),ce(ze,null,{header:B(()=>[q(Ke,{closeButton:""},{default:B(()=>[a("h2",null,N(Q(Ce)().username)+"'s Account",1)]),_:1})]),content:B(()=>[a("div",HS,[a("section",null,[VS,a("ul",WS,[(b(!0),C(J,null,fe(Q(Ce)().portraits,_=>(b(),C("li",{key:_.id,onClick:x=>c(_.id),class:K({selected:_.id===Q(Ce)().portrait})},[q(Go,{portraitId:_.id},null,8,["portraitId"]),_.id===Q(Ce)().portrait?(b(),C("div",zS)):F("",!0),_.id===Q(Ce)().portrait?(b(),C("i",KS)):F("",!0)],10,GS))),128))])]),q(v),Q(Ce)().isGuest?(b(),C("section",YS,[JS,Q(Ce)().isGuest?(b(),C("div",XS,[a("button",{class:"btn",onClick:l},eT),a("button",{class:"btn btn--alt",onClick:r},sT)])):F("",!0)])):(b(),C("section",oT,[a("div",{class:"input-group"},[rT,a("button",{class:"btn mobile-full-width",onClick:h},lT)]),a("div",{class:"input-group"},[cT,a("button",{class:"btn mobile-full-width",onClick:u},hT)])])),q(v),a("section",fT,[a("p",null,[a("span",pT," "+N(Q(n))+" Olin Kirkland | All rights reserved",1)]),mT,a("button",{class:"btn btn--alt mobile-full-width",onClick:f[0]||(f[0]=()=>Q(j).open(Eu))},gT)]),q(v),a("section",vT,[Q(Ce)().isGuest?F("",!0):(b(),C("button",{key:0,class:"btn btn--text",onClick:s},bT)),Q(Ce)().isGuest?F("",!0):(b(),C("button",{key:1,class:"btn btn--text",onClick:o},xT)),a("div",CT,[a("p",kT,"ID: "+N(Q(Ce)().id),1),a("button",{class:"btn btn--icon muted",onClick:i},ST)]),a("p",TT,N(t.value),1)])])]),_:1})}}}),Ju=se($T,[["__scopeId","data-v-265ed790"]]);var ai=(e=>(e.PLAYER="player",e.GM="gm",e.ADMIN="admin",e))(ai||{});const wl=["tiny","big","happy","sad","smart","funny","serious","crazy","silly","brave","shy","loud","quiet","fast","slow","strong","weak","bright","dark","hot","cold","hard","soft","sharp","dull","clean","dirty","smooth","rough","old","new","sweet","sour","bitter","spicy","tasty","gross","fresh","stale","thick","thin","straight","curved","simple","complex","friendly","fierce","gentle","wild","calm"],xl=["dog","cat","bird","fish","rabbit","lion","tiger","elephant","monkey","snake","turtle","spider","horse","cow","sheep","goat","pig","chicken","duck","mouse","bear","fox","wolf","deer","whale","shark","dolphin","octopus","frog","crocodile","dragon","unicorn","phoenix","eagle","hawk","owl","penguin","koala","panda","squirrel","bat","bee","ant","butterfly","mosquito","snail","slug","lizard","crab","lobster","starfish","tree","flower","mountain","river","ocean","lake","island","desert","forest","cave","rock","cloud","sun","moon","star","planet","galaxy","comet","asteroid","meteor","rain","snow","wind","storm","rainbow","thunder","lightning","fire","ice","earth","sky","sea","sand","dust","grass","leaf","root","branch","twig","stone","pebble","sand","soil","mud","clay","metal","gold","silver","copper","iron","bronze","steel","aluminum","platinum","diamond","ruby","sapphire","emerald","crystal","gem","pearl","amber","ivory","bone","horn","feather","fur","hair","wool","silk","cotton","leather","cloth","fabric","thread","needle","scissors","knife","sword","shield","bow","arrow","spear","axe","hammer","nail","screw","bolt","nut","washer","glue","tape","rope","chain","wire","cable","net","mesh","web","hook","latch","lock","key","door","window","wall","floor","ceiling","roof","stairs","bridge","path","road","street","alley","lane","highway","avenue","boulevard","square","park","garden","yard","field","meadow","pasture","orchard","vineyard","farm","barn","shed","house","home","cottage","cabin","villa","palace","castle","tower","fort","church","temple","mosque","synagogue","shrine","monastery","cathedral","chapel","grave","tomb","crypt","pyramid","sphinx","statue","monument","obelisk","arch","gate","fence","wall","hedge","barrier","barricade","fountain","pool","pond","lake","river","stream","waterfall","spring","well","oasis","beach","coast","cliff","canyon","valley","plateau","mountain","hill","peak","summit","volcano","crater","glacier","iceberg","cave","tunnel","mine","cemetery","graveyard","mausoleum","sanctuary","altar","shrine","mosque","temple","church","synagogue","cathedral","monastery","abbey","cloister","nunnery","chapel","crypt","tomb","grave","ossuary","sarcophagus","catacomb","columbarium","graveyard","cemetary","burialground","necropolis","pyramid","museum","gallery","exhibition","exhibit","art","sculpture","painting","portrait","landscape","stilllife","history","ancient","medieval","renaissance","modern","contemporary","abstract","realism","impressionism","expressionism","surrealism","cubism","dadaism","futurism","constructivism","minimalism","popart","opart","kineticart","environmentalart","performanceart","installationart","conceptualart","videoart","digitalart","netart","virtualart","interactivart","landart","streetart","graffiti","photography","photojournalism","documentary","landscape","portrait","wildlife","nature","macro","micro","aerial","underwater","night","longexposure","blackandwhite","color","fineart","commercial","editorial","fashion","beauty","portrait","product","food","interior","architecture","cityscape","event","wedding","sports","action","adventure","travel","street","documentary","candid","photojournalism","landscape","wildlife","nature","macro","aerial","underwater","night","longexposure","blackandwhite","color","fineart","commercial","editorial","fashion","beauty","portrait","product","food","interior","architecture","cityscape","event","wedding","sports","action","adventure","travel","street","documentary","candid"];function AT(){const e=wl[Math.floor(Math.random()*wl.length)],t=xl[Math.floor(Math.random()*xl.length)],n=Math.floor(Math.random()*900)+100;return`${e}-${t}-${n}`}function OT(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function RT(e){for(var t=5381,n=e.length;n;)t=t*33^e.charCodeAt(--n);return t>>>0}var PT=RT;const Cl=OT(PT),Rt=e=>(we("data-v-f6b5bced"),e=e(),xe(),e),IT=Rt(()=>a("h2",null,"Game Options",-1)),qT={class:"options"},NT={class:"game-name"},LT={class:"input-group"},DT=Rt(()=>a("label",{for:"name"},"Game Name",-1)),UT={key:0,class:"reminder shake-once"},BT={class:"invite"},MT=Rt(()=>a("label",null,"Invite a Player",-1)),FT={class:"row invite-block"},jT={class:"row"},QT={class:"muted text-center"},HT=Rt(()=>a("i",{class:"fas fa-copy"},null,-1)),VT=[HT],WT=Rt(()=>a("i",{class:"fas fa-sync"},null,-1)),GT=[WT],zT={class:"codex"},KT=Rt(()=>a("label",{for:"manage-codex"},"Manage Codex",-1)),YT=Rt(()=>a("p",{class:"muted"}," The Codex contains descriptions and definitions that are made available on the platform. ",-1)),JT=Rt(()=>a("i",{class:"fas fa-sync"},null,-1)),XT=Rt(()=>a("span",null,"Reset Codex",-1)),ZT=[JT,XT],e$={class:"input-group"},t$=Rt(()=>a("label",null,"Sheets Options",-1)),n$=Rt(()=>a("span",null," Leave Game ",-1)),s$=[n$],o$=te({__name:"GameOptionsModal",setup(e){var d,f,v,_,x;const t=D(null),n=D((d=Re().game)==null?void 0:d.name),s=G(()=>{var P;return`${window.location.origin}/invite/${(P=Re().game)==null?void 0:P.inviteCode}`});console.log((x=(_=(v=(f=Re().game)==null?void 0:f.codex)==null?void 0:v.sheets)==null?void 0:_.crew)==null?void 0:x.cohorts);const o=G(()=>{var P;return Cl(JSON.stringify((P=Re().game)==null?void 0:P.codex)??"")}),r=G(()=>Cl(JSON.stringify(ti)));function i(){if(!n.value){t.value="Name cannot be empty";return}t.value=null,Pe([{op:"replace",path:"/name",value:n.value}])}function l(){navigator.clipboard.writeText(s.value)}function c(){Pe([{op:"replace",path:"/inviteCode",value:AT()}])}function h(){j.open(Fi,{title:"Leave Game",message:"Are you sure you want to leave the game?",confirmText:"Leave Game",onConfirm:async()=>{j.open(qs),await kg(),Qt.push("/"),j.close()}})}function u(){Pe([{op:"replace",path:"/codex",value:ti}])}return(P,L)=>(b(),ce(ze,null,{header:B(()=>[q(Ke,{closeButton:""},{default:B(()=>[IT]),_:1})]),content:B(()=>{var H,V;return[a("div",qT,[a("section",NT,[a("div",LT,[DT,Se(a("input",{type:"text",class:K({disabled:((H=Q(Re)().userPlayer)==null?void 0:H.role)!==Q(ai).GM}),onChange:i,placeholder:"Enter a descriptive name","onUpdate:modelValue":L[0]||(L[0]=ee=>n.value=ee)},null,34),[[Te,n.value]]),t.value?(b(),C("span",UT,N(t.value),1)):F("",!0)])]),a("section",BT,[MT,a("div",FT,[a("div",jT,[a("p",QT,N(s.value),1),a("button",{class:"btn btn--icon muted",onClick:l},VT)]),((V=Q(Re)().userPlayer)==null?void 0:V.role)===Q(ai).GM?(b(),C("button",{key:0,class:"btn btn--icon muted",onClick:c},GT)):F("",!0)])]),q(Dt),a("section",zT,[KT,q(Sn,{ignoreOptions:""},{default:B(()=>[YT]),_:1}),a("p",null,N(o.value===r.value?"The Codex matches the latest version.":"A newer version of the Codex is available."),1),a("button",{class:K(["btn mobile-full-width",{disabled:o.value===r.value}]),onClick:u},ZT,2)]),q(Dt),a("section",null,[a("div",e$,[t$,q(yt,{modelValue:Q(ri)().options.showHints,"onUpdate:modelValue":L[1]||(L[1]=ee=>Q(ri)().options.showHints=ee),icon:"fa-check",emptyWhenUnchecked:!0,label:"Show rules hints on the Sheets"},null,8,["modelValue"])])]),a("section",null,[a("div",{class:"row"},[a("button",{class:"btn btn--alt mobile-full-width",onClick:h},s$)])])])]}),_:1}))}}),r$=se(o$,[["__scopeId","data-v-f6b5bced"]]),i$=e=>(we("data-v-3bc7c2c2"),e=e(),xe(),e),a$={class:"logo"},l$={class:"account"},c$=i$(()=>a("i",{class:"fas fa-cog"},null,-1)),u$=[c$],d$=te({__name:"TheNavigation",setup(e){function t(){j.open(Ju)}function n(){j.open(r$)}return(s,o)=>{var i;const r=Oo("router-link");return b(),C("nav",null,[a("div",a$,[q(r,{to:"/"},{default:B(()=>[q(Rc)]),_:1})]),a("div",l$,[(i=Q(Re)().game)!=null&&i._id?(b(),C("button",{key:0,class:"btn btn--icon game-options",onClick:n},u$)):F("",!0),a("button",{class:"btn btn--account",onClick:t},[q(Go,{portraitId:Q(Ce)().portrait},null,8,["portraitId"]),a("span",null,N(Q(Ce)().username||"Account"),1)])])])}}}),h$=se(d$,[["__scopeId","data-v-3bc7c2c2"]]),f$=te({__name:"TheModalContainer",setup(e){const t=D(),n=xr(null),s=xr(null),o=D();function r(){var i;(i=s.value)!=null&&i.closeOnClick&&j.close()}return j.getInstance().addEventListener(({modal:i,modalConfig:l})=>{var c;if((c=document.activeElement)==null||c.blur(),!i)return n.value=null;n.value={...i},s.value={...l},requestAnimationFrame(()=>{var _,x;o.value&&clearInterval(o.value);const h=(_=t.value)==null?void 0:_.$el;if(!h)return;const u=h.querySelector(".modal__header")?[h.querySelector(".modal__header")]:[],d=Array.from(((x=h.querySelector(".modal__content > div"))==null?void 0:x.children)||[]),f=[...u,...d];window.modalChildren=f;const v=h.querySelector("input:not(.disabled):not(.ignore-initial-focus)");v&&v.focus(),f.forEach(P=>P.classList.add("hidden")),o.value=setInterval(()=>{if(!f.length)console.log("clearing interval"),clearInterval(o.value);else{const P=f.shift();P==null||P.classList.remove("hidden")}},50)})}),(i,l)=>{var c;return n.value?(b(),C("div",{key:0,class:K(["modal-container",(c=s.value)==null?void 0:c.backgroundClass])},[a("div",{class:"modal-container__background",onClick:l[0]||(l[0]=h=>r())}),(b(),ce(Kd(n.value),xc(s.value,{ref_key:"modalRef",ref:t}),null,16))],2)):F("",!0)}}}),p$=se(f$,[["__scopeId","data-v-fd2251b7"]]),m$={class:"page-layout"},y$={class:"page-layout__content"},g$=te({__name:"App",setup(e){return(t,n)=>{const s=Oo("router-view");return b(),C(J,null,[a("div",m$,[q(h$),a("div",y$,[q(s,{name:"page"})])]),q(p$)],64)}}});fm();const Ko=yf(g$);Ko.component("Divider",Dt);const v$=bf();Ko.use(v$);Ko.use(Qt);Ko.mount("#app");
