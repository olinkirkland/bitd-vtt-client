var Qu=Object.defineProperty;var Hu=(e,t,n)=>t in e?Qu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ue=(e,t,n)=>(Hu(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();/**
* @vue/shared v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ei(e,t){const n=new Set(e.split(","));return s=>n.has(s)}const Ie={},Mn=[],yt=()=>{},Vu=()=>!1,yo=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),ti=e=>e.startsWith("onUpdate:"),nt=Object.assign,ni=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Wu=Object.prototype.hasOwnProperty,ve=(e,t)=>Wu.call(e,t),te=Array.isArray,jn=e=>go(e)==="[object Map]",yl=e=>go(e)==="[object Set]",ae=e=>typeof e=="function",Qe=e=>typeof e=="string",Jn=e=>typeof e=="symbol",qe=e=>e!==null&&typeof e=="object",gl=e=>(qe(e)||ae(e))&&ae(e.then)&&ae(e.catch),vl=Object.prototype.toString,go=e=>vl.call(e),Gu=e=>go(e).slice(8,-1),_l=e=>go(e)==="[object Object]",si=e=>Qe(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,fs=ei(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),vo=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},zu=/-(\w)/g,qt=vo(e=>e.replace(zu,(t,n)=>n?n.toUpperCase():"")),Ku=/\B([A-Z])/g,On=vo(e=>e.replace(Ku,"-$1").toLowerCase()),_o=vo(e=>e.charAt(0).toUpperCase()+e.slice(1)),Ho=vo(e=>e?`on${_o(e)}`:""),hn=(e,t)=>!Object.is(e,t),zs=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},ro=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},dr=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Mi;const bl=()=>Mi||(Mi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Bt(e){if(te(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],o=Qe(s)?Zu(s):Bt(s);if(o)for(const r in o)t[r]=o[r]}return t}else if(Qe(e)||qe(e))return e}const Yu=/;(?![^(]*\))/g,Ju=/:([^]+)/,Xu=/\/\*[^]*?\*\//g;function Zu(e){const t={};return e.replace(Xu,"").split(Yu).forEach(n=>{if(n){const s=n.split(Ju);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function oe(e){let t="";if(Qe(e))t=e;else if(te(e))for(let n=0;n<e.length;n++){const s=oe(e[n]);s&&(t+=s+" ")}else if(qe(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const ed="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",td=ei(ed);function wl(e){return!!e||e===""}const R=e=>Qe(e)?e:e==null?"":te(e)||qe(e)&&(e.toString===vl||!ae(e.toString))?JSON.stringify(e,xl,2):String(e),xl=(e,t)=>t&&t.__v_isRef?xl(e,t.value):jn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[s,o],r)=>(n[Vo(s,r)+" =>"]=o,n),{})}:yl(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Vo(n))}:Jn(t)?Vo(t):qe(t)&&!te(t)&&!_l(t)?String(t):t,Vo=(e,t="")=>{var n;return Jn(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ft;class Cl{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=ft,!t&&ft&&(this.index=(ft.scopes||(ft.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=ft;try{return ft=this,t()}finally{ft=n}}}on(){ft=this}off(){ft=this.parent}stop(t){if(this._active){let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this._active=!1}}}function El(e){return new Cl(e)}function nd(e,t=ft){t&&t.active&&t.effects.push(e)}function kl(){return ft}function sd(e){ft&&ft.cleanups.push(e)}let kn;class oi{constructor(t,n,s,o){this.fn=t,this.trigger=n,this.scheduler=s,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,nd(this,o)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,Rn();for(let t=0;t<this._depsLength;t++){const n=this.deps[t];if(n.computed&&(od(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),Pn()}return this._dirtyLevel>=4}set dirty(t){this._dirtyLevel=t?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=un,n=kn;try{return un=!0,kn=this,this._runnings++,ji(this),this.fn()}finally{Qi(this),this._runnings--,kn=n,un=t}}stop(){var t;this.active&&(ji(this),Qi(this),(t=this.onStop)==null||t.call(this),this.active=!1)}}function od(e){return e.value}function ji(e){e._trackId++,e._depsLength=0}function Qi(e){if(e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)Tl(e.deps[t],e);e.deps.length=e._depsLength}}function Tl(e,t){const n=e.get(t);n!==void 0&&t._trackId!==n&&(e.delete(t),e.size===0&&e.cleanup())}let un=!0,fr=0;const Sl=[];function Rn(){Sl.push(un),un=!1}function Pn(){const e=Sl.pop();un=e===void 0?!0:e}function ri(){fr++}function ii(){for(fr--;!fr&&hr.length;)hr.shift()()}function $l(e,t,n){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const s=e.deps[e._depsLength];s!==t?(s&&Tl(s,e),e.deps[e._depsLength++]=t):e._depsLength++}}const hr=[];function Al(e,t,n){ri();for(const s of e.keys()){let o;s._dirtyLevel<t&&(o??(o=e.get(s)===s._trackId))&&(s._shouldSchedule||(s._shouldSchedule=s._dirtyLevel===0),s._dirtyLevel=t),s._shouldSchedule&&(o??(o=e.get(s)===s._trackId))&&(s.trigger(),(!s._runnings||s.allowRecurse)&&s._dirtyLevel!==2&&(s._shouldSchedule=!1,s.scheduler&&hr.push(s.scheduler)))}ii()}const Ol=(e,t)=>{const n=new Map;return n.cleanup=e,n.computed=t,n},io=new WeakMap,Tn=Symbol(""),pr=Symbol("");function ut(e,t,n){if(un&&kn){let s=io.get(e);s||io.set(e,s=new Map);let o=s.get(n);o||s.set(n,o=Ol(()=>s.delete(n))),$l(kn,o)}}function Ht(e,t,n,s,o,r){const i=io.get(e);if(!i)return;let l=[];if(t==="clear")l=[...i.values()];else if(n==="length"&&te(e)){const c=Number(s);i.forEach((d,u)=>{(u==="length"||!Jn(u)&&u>=c)&&l.push(d)})}else switch(n!==void 0&&l.push(i.get(n)),t){case"add":te(e)?si(n)&&l.push(i.get("length")):(l.push(i.get(Tn)),jn(e)&&l.push(i.get(pr)));break;case"delete":te(e)||(l.push(i.get(Tn)),jn(e)&&l.push(i.get(pr)));break;case"set":jn(e)&&l.push(i.get(Tn));break}ri();for(const c of l)c&&Al(c,4);ii()}function rd(e,t){var n;return(n=io.get(e))==null?void 0:n.get(t)}const id=ei("__proto__,__v_isRef,__isVue"),Rl=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Jn)),Hi=ad();function ad(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const s=_e(this);for(let r=0,i=this.length;r<i;r++)ut(s,"get",r+"");const o=s[t](...n);return o===-1||o===!1?s[t](...n.map(_e)):o}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Rn(),ri();const s=_e(this)[t].apply(this,n);return ii(),Pn(),s}}),e}function ld(e){const t=_e(this);return ut(t,"has",e),t.hasOwnProperty(e)}class Pl{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,s){const o=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!o;if(n==="__v_isReadonly")return o;if(n==="__v_isShallow")return r;if(n==="__v_raw")return s===(o?r?wd:Ll:r?ql:Nl).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const i=te(t);if(!o){if(i&&ve(Hi,n))return Reflect.get(Hi,n,s);if(n==="hasOwnProperty")return ld}const l=Reflect.get(t,n,s);return(Jn(n)?Rl.has(n):id(n))||(o||ut(t,"get",n),r)?l:We(l)?i&&si(n)?l:l.value:qe(l)?o?Bl(l):$s(l):l}}class Il extends Pl{constructor(t=!1){super(!1,t)}set(t,n,s,o){let r=t[n];if(!this._isShallow){const c=Wn(r);if(!ao(s)&&!Wn(s)&&(r=_e(r),s=_e(s)),!te(t)&&We(r)&&!We(s))return c?!1:(r.value=s,!0)}const i=te(t)&&si(n)?Number(n)<t.length:ve(t,n),l=Reflect.set(t,n,s,o);return t===_e(o)&&(i?hn(s,r)&&Ht(t,"set",n,s):Ht(t,"add",n,s)),l}deleteProperty(t,n){const s=ve(t,n);t[n];const o=Reflect.deleteProperty(t,n);return o&&s&&Ht(t,"delete",n,void 0),o}has(t,n){const s=Reflect.has(t,n);return(!Jn(n)||!Rl.has(n))&&ut(t,"has",n),s}ownKeys(t){return ut(t,"iterate",te(t)?"length":Tn),Reflect.ownKeys(t)}}class cd extends Pl{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const ud=new Il,dd=new cd,fd=new Il(!0),ai=e=>e,bo=e=>Reflect.getPrototypeOf(e);function Ls(e,t,n=!1,s=!1){e=e.__v_raw;const o=_e(e),r=_e(t);n||(hn(t,r)&&ut(o,"get",t),ut(o,"get",r));const{has:i}=bo(o),l=s?ai:n?ui:_s;if(i.call(o,t))return l(e.get(t));if(i.call(o,r))return l(e.get(r));e!==o&&e.get(t)}function Ds(e,t=!1){const n=this.__v_raw,s=_e(n),o=_e(e);return t||(hn(e,o)&&ut(s,"has",e),ut(s,"has",o)),e===o?n.has(e):n.has(e)||n.has(o)}function Bs(e,t=!1){return e=e.__v_raw,!t&&ut(_e(e),"iterate",Tn),Reflect.get(e,"size",e)}function Vi(e){e=_e(e);const t=_e(this);return bo(t).has.call(t,e)||(t.add(e),Ht(t,"add",e,e)),this}function Wi(e,t){t=_e(t);const n=_e(this),{has:s,get:o}=bo(n);let r=s.call(n,e);r||(e=_e(e),r=s.call(n,e));const i=o.call(n,e);return n.set(e,t),r?hn(t,i)&&Ht(n,"set",e,t):Ht(n,"add",e,t),this}function Gi(e){const t=_e(this),{has:n,get:s}=bo(t);let o=n.call(t,e);o||(e=_e(e),o=n.call(t,e)),s&&s.call(t,e);const r=t.delete(e);return o&&Ht(t,"delete",e,void 0),r}function zi(){const e=_e(this),t=e.size!==0,n=e.clear();return t&&Ht(e,"clear",void 0,void 0),n}function Us(e,t){return function(s,o){const r=this,i=r.__v_raw,l=_e(i),c=t?ai:e?ui:_s;return!e&&ut(l,"iterate",Tn),i.forEach((d,u)=>s.call(o,c(d),c(u),r))}}function Fs(e,t,n){return function(...s){const o=this.__v_raw,r=_e(o),i=jn(r),l=e==="entries"||e===Symbol.iterator&&i,c=e==="keys"&&i,d=o[e](...s),u=n?ai:t?ui:_s;return!t&&ut(r,"iterate",c?pr:Tn),{next(){const{value:p,done:m}=d.next();return m?{value:p,done:m}:{value:l?[u(p[0]),u(p[1])]:u(p),done:m}},[Symbol.iterator](){return this}}}}function tn(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function hd(){const e={get(r){return Ls(this,r)},get size(){return Bs(this)},has:Ds,add:Vi,set:Wi,delete:Gi,clear:zi,forEach:Us(!1,!1)},t={get(r){return Ls(this,r,!1,!0)},get size(){return Bs(this)},has:Ds,add:Vi,set:Wi,delete:Gi,clear:zi,forEach:Us(!1,!0)},n={get(r){return Ls(this,r,!0)},get size(){return Bs(this,!0)},has(r){return Ds.call(this,r,!0)},add:tn("add"),set:tn("set"),delete:tn("delete"),clear:tn("clear"),forEach:Us(!0,!1)},s={get(r){return Ls(this,r,!0,!0)},get size(){return Bs(this,!0)},has(r){return Ds.call(this,r,!0)},add:tn("add"),set:tn("set"),delete:tn("delete"),clear:tn("clear"),forEach:Us(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{e[r]=Fs(r,!1,!1),n[r]=Fs(r,!0,!1),t[r]=Fs(r,!1,!0),s[r]=Fs(r,!0,!0)}),[e,n,t,s]}const[pd,md,yd,gd]=hd();function li(e,t){const n=t?e?gd:yd:e?md:pd;return(s,o,r)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?s:Reflect.get(ve(n,o)&&o in s?n:s,o,r)}const vd={get:li(!1,!1)},_d={get:li(!1,!0)},bd={get:li(!0,!1)},Nl=new WeakMap,ql=new WeakMap,Ll=new WeakMap,wd=new WeakMap;function xd(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Cd(e){return e.__v_skip||!Object.isExtensible(e)?0:xd(Gu(e))}function $s(e){return Wn(e)?e:ci(e,!1,ud,vd,Nl)}function Dl(e){return ci(e,!1,fd,_d,ql)}function Bl(e){return ci(e,!0,dd,bd,Ll)}function ci(e,t,n,s,o){if(!qe(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=o.get(e);if(r)return r;const i=Cd(e);if(i===0)return e;const l=new Proxy(e,i===2?s:n);return o.set(e,l),l}function dn(e){return Wn(e)?dn(e.__v_raw):!!(e&&e.__v_isReactive)}function Wn(e){return!!(e&&e.__v_isReadonly)}function ao(e){return!!(e&&e.__v_isShallow)}function Ul(e){return dn(e)||Wn(e)}function _e(e){const t=e&&e.__v_raw;return t?_e(t):e}function wo(e){return Object.isExtensible(e)&&ro(e,"__v_skip",!0),e}const _s=e=>qe(e)?$s(e):e,ui=e=>qe(e)?Bl(e):e;class Fl{constructor(t,n,s,o){this.getter=t,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new oi(()=>t(this._value),()=>Ks(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=s}get value(){const t=_e(this);return(!t._cacheable||t.effect.dirty)&&hn(t._value,t._value=t.effect.run())&&Ks(t,4),Ml(t),t.effect._dirtyLevel>=2&&Ks(t,2),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function Ed(e,t,n=!1){let s,o;const r=ae(e);return r?(s=e,o=yt):(s=e.get,o=e.set),new Fl(s,o,r||!o,n)}function Ml(e){var t;un&&kn&&(e=_e(e),$l(kn,(t=e.dep)!=null?t:e.dep=Ol(()=>e.dep=void 0,e instanceof Fl?e:void 0)))}function Ks(e,t=4,n){e=_e(e);const s=e.dep;s&&Al(s,t)}function We(e){return!!(e&&e.__v_isRef===!0)}function N(e){return jl(e,!1)}function mr(e){return jl(e,!0)}function jl(e,t){return We(e)?e:new kd(e,t)}class kd{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:_e(t),this._value=n?t:_s(t)}get value(){return Ml(this),this._value}set value(t){const n=this.__v_isShallow||ao(t)||Wn(t);t=n?t:_e(t),hn(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:_s(t),Ks(this,4))}}function Q(e){return We(e)?e.value:e}const Td={get:(e,t,n)=>Q(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const o=e[t];return We(o)&&!We(n)?(o.value=n,!0):Reflect.set(e,t,n,s)}};function Ql(e){return dn(e)?e:new Proxy(e,Td)}function Sd(e){const t=te(e)?new Array(e.length):{};for(const n in e)t[n]=Ad(e,n);return t}class $d{constructor(t,n,s){this._object=t,this._key=n,this._defaultValue=s,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return rd(_e(this._object),this._key)}}function Ad(e,t,n){const s=e[t];return We(s)?s:new $d(e,t,n)}/**
* @vue/runtime-core v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function fn(e,t,n,s){try{return s?e(...s):e()}catch(o){xo(o,t,n)}}function Et(e,t,n,s){if(ae(e)){const r=fn(e,t,n,s);return r&&gl(r)&&r.catch(i=>{xo(i,t,n)}),r}const o=[];for(let r=0;r<e.length;r++)o.push(Et(e[r],t,n,s));return o}function xo(e,t,n,s=!0){const o=t?t.vnode:null;if(t){let r=t.parent;const i=t.proxy,l=`https://vuejs.org/error-reference/#runtime-${n}`;for(;r;){const d=r.ec;if(d){for(let u=0;u<d.length;u++)if(d[u](e,i,l)===!1)return}r=r.parent}const c=t.appContext.config.errorHandler;if(c){fn(c,null,10,[e,i,l]);return}}Od(e,n,o,s)}function Od(e,t,n,s=!0){console.error(e)}let bs=!1,yr=!1;const ot=[];let Pt=0;const Qn=[];let rn=null,Cn=0;const Hl=Promise.resolve();let di=null;function fi(e){const t=di||Hl;return e?t.then(this?e.bind(this):e):t}function Rd(e){let t=Pt+1,n=ot.length;for(;t<n;){const s=t+n>>>1,o=ot[s],r=ws(o);r<e||r===e&&o.pre?t=s+1:n=s}return t}function hi(e){(!ot.length||!ot.includes(e,bs&&e.allowRecurse?Pt+1:Pt))&&(e.id==null?ot.push(e):ot.splice(Rd(e.id),0,e),Vl())}function Vl(){!bs&&!yr&&(yr=!0,di=Hl.then(Gl))}function Pd(e){const t=ot.indexOf(e);t>Pt&&ot.splice(t,1)}function Id(e){te(e)?Qn.push(...e):(!rn||!rn.includes(e,e.allowRecurse?Cn+1:Cn))&&Qn.push(e),Vl()}function Ki(e,t,n=bs?Pt+1:0){for(;n<ot.length;n++){const s=ot[n];if(s&&s.pre){if(e&&s.id!==e.uid)continue;ot.splice(n,1),n--,s()}}}function Wl(e){if(Qn.length){const t=[...new Set(Qn)].sort((n,s)=>ws(n)-ws(s));if(Qn.length=0,rn){rn.push(...t);return}for(rn=t,Cn=0;Cn<rn.length;Cn++)rn[Cn]();rn=null,Cn=0}}const ws=e=>e.id==null?1/0:e.id,Nd=(e,t)=>{const n=ws(e)-ws(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function Gl(e){yr=!1,bs=!0,ot.sort(Nd);try{for(Pt=0;Pt<ot.length;Pt++){const t=ot[Pt];t&&t.active!==!1&&fn(t,null,14)}}finally{Pt=0,ot.length=0,Wl(),bs=!1,di=null,(ot.length||Qn.length)&&Gl()}}function qd(e,t,...n){if(e.isUnmounted)return;const s=e.vnode.props||Ie;let o=n;const r=t.startsWith("update:"),i=r&&t.slice(7);if(i&&i in s){const u=`${i==="modelValue"?"model":i}Modifiers`,{number:p,trim:m}=s[u]||Ie;m&&(o=n.map(v=>Qe(v)?v.trim():v)),p&&(o=n.map(dr))}let l,c=s[l=Ho(t)]||s[l=Ho(qt(t))];!c&&r&&(c=s[l=Ho(On(t))]),c&&Et(c,e,6,o);const d=s[l+"Once"];if(d){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,Et(d,e,6,o)}}function zl(e,t,n=!1){const s=t.emitsCache,o=s.get(e);if(o!==void 0)return o;const r=e.emits;let i={},l=!1;if(!ae(e)){const c=d=>{const u=zl(d,t,!0);u&&(l=!0,nt(i,u))};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!r&&!l?(qe(e)&&s.set(e,null),null):(te(r)?r.forEach(c=>i[c]=null):nt(i,r),qe(e)&&s.set(e,i),i)}function Co(e,t){return!e||!yo(t)?!1:(t=t.slice(2).replace(/Once$/,""),ve(e,t[0].toLowerCase()+t.slice(1))||ve(e,On(t))||ve(e,t))}let Ve=null,Eo=null;function lo(e){const t=Ve;return Ve=e,Eo=e&&e.type.__scopeId||null,t}function Ce(e){Eo=e}function Ee(){Eo=null}function L(e,t=Ve,n){if(!t||e._n)return e;const s=(...o)=>{s._d&&ia(-1);const r=lo(t);let i;try{i=e(...o)}finally{lo(r),s._d&&ia(1)}return i};return s._n=!0,s._c=!0,s._d=!0,s}function Wo(e){const{type:t,vnode:n,proxy:s,withProxy:o,props:r,propsOptions:[i],slots:l,attrs:c,emit:d,render:u,renderCache:p,data:m,setupState:v,ctx:g,inheritAttrs:_}=e;let A,I;const H=lo(e);try{if(n.shapeFlag&4){const ie=o||s,ce=ie;A=Ot(u.call(ce,ie,p,r,v,m,g)),I=c}else{const ie=t;A=Ot(ie.length>1?ie(r,{attrs:c,slots:l,emit:d}):ie(r,null)),I=t.props?c:Ld(c)}}catch(ie){ms.length=0,xo(ie,e,1),A=$(pn)}let G=A;if(I&&_!==!1){const ie=Object.keys(I),{shapeFlag:ce}=G;ie.length&&ce&7&&(i&&ie.some(ti)&&(I=Dd(I,i)),G=Gn(G,I))}return n.dirs&&(G=Gn(G),G.dirs=G.dirs?G.dirs.concat(n.dirs):n.dirs),n.transition&&(G.transition=n.transition),A=G,lo(H),A}const Ld=e=>{let t;for(const n in e)(n==="class"||n==="style"||yo(n))&&((t||(t={}))[n]=e[n]);return t},Dd=(e,t)=>{const n={};for(const s in e)(!ti(s)||!(s.slice(9)in t))&&(n[s]=e[s]);return n};function Bd(e,t,n){const{props:s,children:o,component:r}=e,{props:i,children:l,patchFlag:c}=t,d=r.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return s?Yi(s,i,d):!!i;if(c&8){const u=t.dynamicProps;for(let p=0;p<u.length;p++){const m=u[p];if(i[m]!==s[m]&&!Co(d,m))return!0}}}else return(o||l)&&(!l||!l.$stable)?!0:s===i?!1:s?i?Yi(s,i,d):!0:!!i;return!1}function Yi(e,t,n){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let o=0;o<s.length;o++){const r=s[o];if(t[r]!==e[r]&&!Co(n,r))return!0}return!1}function Ud({vnode:e,parent:t},n){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s===e)(e=t.vnode).el=n,t=t.parent;else break}}const Kl="components";function ko(e,t){return Jl(Kl,e,!0,t)||e}const Yl=Symbol.for("v-ndc");function Fd(e){return Qe(e)?Jl(Kl,e,!1)||e:e||Yl}function Jl(e,t,n=!0,s=!1){const o=Ve||et;if(o){const r=o.type;{const l=If(r,!1);if(l&&(l===t||l===qt(t)||l===_o(qt(t))))return r}const i=Ji(o[e]||r[e],t)||Ji(o.appContext[e],t);return!i&&s?r:i}}function Ji(e,t){return e&&(e[t]||e[qt(t)]||e[_o(qt(t))])}const Md=e=>e.__isSuspense;function jd(e,t){t&&t.pendingBranch?te(e)?t.effects.push(...e):t.effects.push(e):Id(e)}const Qd=Symbol.for("v-scx"),Hd=()=>kt(Qd),Ms={};function Hn(e,t,n){return Xl(e,t,n)}function Xl(e,t,{immediate:n,deep:s,flush:o,once:r,onTrack:i,onTrigger:l}=Ie){if(t&&r){const Z=t;t=(...Te)=>{Z(...Te),ce()}}const c=et,d=Z=>s===!0?Z:En(Z,s===!1?1:void 0);let u,p=!1,m=!1;if(We(e)?(u=()=>e.value,p=ao(e)):dn(e)?(u=()=>d(e),p=!0):te(e)?(m=!0,p=e.some(Z=>dn(Z)||ao(Z)),u=()=>e.map(Z=>{if(We(Z))return Z.value;if(dn(Z))return d(Z);if(ae(Z))return fn(Z,c,2)})):ae(e)?t?u=()=>fn(e,c,2):u=()=>(v&&v(),Et(e,c,3,[g])):u=yt,t&&s){const Z=u;u=()=>En(Z())}let v,g=Z=>{v=G.onStop=()=>{fn(Z,c,4),v=G.onStop=void 0}},_;if(Ao)if(g=yt,t?n&&Et(t,c,3,[u(),m?[]:void 0,g]):u(),o==="sync"){const Z=Hd();_=Z.__watcherHandles||(Z.__watcherHandles=[])}else return yt;let A=m?new Array(e.length).fill(Ms):Ms;const I=()=>{if(!(!G.active||!G.dirty))if(t){const Z=G.run();(s||p||(m?Z.some((Te,Y)=>hn(Te,A[Y])):hn(Z,A)))&&(v&&v(),Et(t,c,3,[Z,A===Ms?void 0:m&&A[0]===Ms?[]:A,g]),A=Z)}else G.run()};I.allowRecurse=!!t;let H;o==="sync"?H=I:o==="post"?H=()=>ct(I,c&&c.suspense):(I.pre=!0,c&&(I.id=c.uid),H=()=>hi(I));const G=new oi(u,yt,H),ie=kl(),ce=()=>{G.stop(),ie&&ni(ie.effects,G)};return t?n?I():A=G.run():o==="post"?ct(G.run.bind(G),c&&c.suspense):G.run(),_&&_.push(ce),ce}function Vd(e,t,n){const s=this.proxy,o=Qe(e)?e.includes(".")?Zl(s,e):()=>s[e]:e.bind(s,s);let r;ae(t)?r=t:(r=t.handler,n=t);const i=As(this),l=Xl(o,r.bind(s),n);return i(),l}function Zl(e,t){const n=t.split(".");return()=>{let s=e;for(let o=0;o<n.length&&s;o++)s=s[n[o]];return s}}function En(e,t,n=0,s){if(!qe(e)||e.__v_skip)return e;if(t&&t>0){if(n>=t)return e;n++}if(s=s||new Set,s.has(e))return e;if(s.add(e),We(e))En(e.value,t,n,s);else if(te(e))for(let o=0;o<e.length;o++)En(e[o],t,n,s);else if(yl(e)||jn(e))e.forEach(o=>{En(o,t,n,s)});else if(_l(e))for(const o in e)En(e[o],t,n,s);return e}function $e(e,t){if(Ve===null)return e;const n=Oo(Ve)||Ve.proxy,s=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[r,i,l,c=Ie]=t[o];r&&(ae(r)&&(r={mounted:r,updated:r}),r.deep&&En(i),s.push({dir:r,instance:n,value:i,oldValue:void 0,arg:l,modifiers:c}))}return e}function _n(e,t,n,s){const o=e.dirs,r=t&&t.dirs;for(let i=0;i<o.length;i++){const l=o[i];r&&(l.oldValue=r[i].value);let c=l.dir[s];c&&(Rn(),Et(c,n,8,[e.el,l,e,t]),Pn())}}/*! #__NO_SIDE_EFFECTS__ */function re(e,t){return ae(e)?nt({name:e.name},t,{setup:e}):e}const hs=e=>!!e.type.__asyncLoader,ec=e=>e.type.__isKeepAlive;function Wd(e,t){tc(e,"a",t)}function Gd(e,t){tc(e,"da",t)}function tc(e,t,n=et){const s=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(To(t,s,n),n){let o=n.parent;for(;o&&o.parent;)ec(o.parent.vnode)&&zd(s,t,n,o),o=o.parent}}function zd(e,t,n,s){const o=To(t,e,s,!0);Xn(()=>{ni(s[t],o)},n)}function To(e,t,n=et,s=!1){if(n){const o=n[e]||(n[e]=[]),r=t.__weh||(t.__weh=(...i)=>{if(n.isUnmounted)return;Rn();const l=As(n),c=Et(t,n,e,i);return l(),Pn(),c});return s?o.unshift(r):o.push(r),r}}const Wt=e=>(t,n=et)=>(!Ao||e==="sp")&&To(e,(...s)=>t(...s),n),Kd=Wt("bm"),Gt=Wt("m"),Yd=Wt("bu"),Jd=Wt("u"),Xd=Wt("bum"),Xn=Wt("um"),Zd=Wt("sp"),ef=Wt("rtg"),tf=Wt("rtc");function nf(e,t=et){To("ec",e,t)}function me(e,t,n,s){let o;const r=n;if(te(e)||Qe(e)){o=new Array(e.length);for(let i=0,l=e.length;i<l;i++)o[i]=t(e[i],i,void 0,r)}else if(typeof e=="number"){o=new Array(e);for(let i=0;i<e;i++)o[i]=t(i+1,i,void 0,r)}else if(qe(e))if(e[Symbol.iterator])o=Array.from(e,(i,l)=>t(i,l,void 0,r));else{const i=Object.keys(e);o=new Array(i.length);for(let l=0,c=i.length;l<c;l++){const d=i[l];o[l]=t(e[d],d,l,r)}}else o=[];return o}function xs(e,t,n={},s,o){if(Ve.isCE||Ve.parent&&hs(Ve.parent)&&Ve.parent.isCE)return t!=="default"&&(n.name=t),$("slot",n,s);let r=e[t];r&&r._c&&(r._d=!1),w();const i=r&&nc(r(n)),l=de(ee,{key:n.key||i&&i.key||`_${t}`},i||[],i&&e._===1?64:-2);return r&&r._c&&(r._d=!0),l}function nc(e){return e.some(t=>uo(t)?!(t.type===pn||t.type===ee&&!nc(t.children)):!0)?e:null}const gr=e=>e?mc(e)?Oo(e)||e.proxy:gr(e.parent):null,ps=nt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>gr(e.parent),$root:e=>gr(e.root),$emit:e=>e.emit,$options:e=>pi(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,hi(e.update)}),$nextTick:e=>e.n||(e.n=fi.bind(e.proxy)),$watch:e=>Vd.bind(e)}),Go=(e,t)=>e!==Ie&&!e.__isScriptSetup&&ve(e,t),sf={get({_:e},t){const{ctx:n,setupState:s,data:o,props:r,accessCache:i,type:l,appContext:c}=e;let d;if(t[0]!=="$"){const v=i[t];if(v!==void 0)switch(v){case 1:return s[t];case 2:return o[t];case 4:return n[t];case 3:return r[t]}else{if(Go(s,t))return i[t]=1,s[t];if(o!==Ie&&ve(o,t))return i[t]=2,o[t];if((d=e.propsOptions[0])&&ve(d,t))return i[t]=3,r[t];if(n!==Ie&&ve(n,t))return i[t]=4,n[t];vr&&(i[t]=0)}}const u=ps[t];let p,m;if(u)return t==="$attrs"&&ut(e,"get",t),u(e);if((p=l.__cssModules)&&(p=p[t]))return p;if(n!==Ie&&ve(n,t))return i[t]=4,n[t];if(m=c.config.globalProperties,ve(m,t))return m[t]},set({_:e},t,n){const{data:s,setupState:o,ctx:r}=e;return Go(o,t)?(o[t]=n,!0):s!==Ie&&ve(s,t)?(s[t]=n,!0):ve(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(r[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:o,propsOptions:r}},i){let l;return!!n[i]||e!==Ie&&ve(e,i)||Go(t,i)||(l=r[0])&&ve(l,i)||ve(s,i)||ve(ps,i)||ve(o.config.globalProperties,i)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:ve(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Xi(e){return te(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let vr=!0;function of(e){const t=pi(e),n=e.proxy,s=e.ctx;vr=!1,t.beforeCreate&&Zi(t.beforeCreate,e,"bc");const{data:o,computed:r,methods:i,watch:l,provide:c,inject:d,created:u,beforeMount:p,mounted:m,beforeUpdate:v,updated:g,activated:_,deactivated:A,beforeDestroy:I,beforeUnmount:H,destroyed:G,unmounted:ie,render:ce,renderTracked:Z,renderTriggered:Te,errorCaptured:Y,serverPrefetch:F,expose:B,inheritAttrs:he,components:Le,directives:Fe,filters:Je}=t;if(d&&rf(d,s,null),i)for(const ke in i){const be=i[ke];ae(be)&&(s[ke]=be.bind(n))}if(o){const ke=o.call(n,n);qe(ke)&&(e.data=$s(ke))}if(vr=!0,r)for(const ke in r){const be=r[ke],_t=ae(be)?be.bind(n,n):ae(be.get)?be.get.bind(n,n):yt,at=!ae(be)&&ae(be.set)?be.set.bind(n):yt,pt=X({get:_t,set:at});Object.defineProperty(s,ke,{enumerable:!0,configurable:!0,get:()=>pt.value,set:st=>pt.value=st})}if(l)for(const ke in l)sc(l[ke],s,n,ke);if(c){const ke=ae(c)?c.call(n):c;Reflect.ownKeys(ke).forEach(be=>{Ys(be,ke[be])})}u&&Zi(u,e,"c");function ge(ke,be){te(be)?be.forEach(_t=>ke(_t.bind(n))):be&&ke(be.bind(n))}if(ge(Kd,p),ge(Gt,m),ge(Yd,v),ge(Jd,g),ge(Wd,_),ge(Gd,A),ge(nf,Y),ge(tf,Z),ge(ef,Te),ge(Xd,H),ge(Xn,ie),ge(Zd,F),te(B))if(B.length){const ke=e.exposed||(e.exposed={});B.forEach(be=>{Object.defineProperty(ke,be,{get:()=>n[be],set:_t=>n[be]=_t})})}else e.exposed||(e.exposed={});ce&&e.render===yt&&(e.render=ce),he!=null&&(e.inheritAttrs=he),Le&&(e.components=Le),Fe&&(e.directives=Fe)}function rf(e,t,n=yt){te(e)&&(e=_r(e));for(const s in e){const o=e[s];let r;qe(o)?"default"in o?r=kt(o.from||s,o.default,!0):r=kt(o.from||s):r=kt(o),We(r)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>r.value,set:i=>r.value=i}):t[s]=r}}function Zi(e,t,n){Et(te(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,n)}function sc(e,t,n,s){const o=s.includes(".")?Zl(n,s):()=>n[s];if(Qe(e)){const r=t[e];ae(r)&&Hn(o,r)}else if(ae(e))Hn(o,e.bind(n));else if(qe(e))if(te(e))e.forEach(r=>sc(r,t,n,s));else{const r=ae(e.handler)?e.handler.bind(n):t[e.handler];ae(r)&&Hn(o,r,e)}}function pi(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:o,optionsCache:r,config:{optionMergeStrategies:i}}=e.appContext,l=r.get(t);let c;return l?c=l:!o.length&&!n&&!s?c=t:(c={},o.length&&o.forEach(d=>co(c,d,i,!0)),co(c,t,i)),qe(t)&&r.set(t,c),c}function co(e,t,n,s=!1){const{mixins:o,extends:r}=t;r&&co(e,r,n,!0),o&&o.forEach(i=>co(e,i,n,!0));for(const i in t)if(!(s&&i==="expose")){const l=af[i]||n&&n[i];e[i]=l?l(e[i],t[i]):t[i]}return e}const af={data:ea,props:ta,emits:ta,methods:us,computed:us,beforeCreate:lt,created:lt,beforeMount:lt,mounted:lt,beforeUpdate:lt,updated:lt,beforeDestroy:lt,beforeUnmount:lt,destroyed:lt,unmounted:lt,activated:lt,deactivated:lt,errorCaptured:lt,serverPrefetch:lt,components:us,directives:us,watch:cf,provide:ea,inject:lf};function ea(e,t){return t?e?function(){return nt(ae(e)?e.call(this,this):e,ae(t)?t.call(this,this):t)}:t:e}function lf(e,t){return us(_r(e),_r(t))}function _r(e){if(te(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function lt(e,t){return e?[...new Set([].concat(e,t))]:t}function us(e,t){return e?nt(Object.create(null),e,t):t}function ta(e,t){return e?te(e)&&te(t)?[...new Set([...e,...t])]:nt(Object.create(null),Xi(e),Xi(t??{})):t}function cf(e,t){if(!e)return t;if(!t)return e;const n=nt(Object.create(null),e);for(const s in t)n[s]=lt(e[s],t[s]);return n}function oc(){return{app:null,config:{isNativeTag:Vu,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uf=0;function df(e,t){return function(s,o=null){ae(s)||(s=nt({},s)),o!=null&&!qe(o)&&(o=null);const r=oc(),i=new WeakSet;let l=!1;const c=r.app={_uid:uf++,_component:s,_props:o,_container:null,_context:r,_instance:null,version:qf,get config(){return r.config},set config(d){},use(d,...u){return i.has(d)||(d&&ae(d.install)?(i.add(d),d.install(c,...u)):ae(d)&&(i.add(d),d(c,...u))),c},mixin(d){return r.mixins.includes(d)||r.mixins.push(d),c},component(d,u){return u?(r.components[d]=u,c):r.components[d]},directive(d,u){return u?(r.directives[d]=u,c):r.directives[d]},mount(d,u,p){if(!l){const m=$(s,o);return m.appContext=r,p===!0?p="svg":p===!1&&(p=void 0),u&&t?t(m,d):e(m,d,p),l=!0,c._container=d,d.__vue_app__=c,Oo(m.component)||m.component.proxy}},unmount(){l&&(e(null,c._container),delete c._container.__vue_app__)},provide(d,u){return r.provides[d]=u,c},runWithContext(d){const u=Vn;Vn=c;try{return d()}finally{Vn=u}}};return c}}let Vn=null;function Ys(e,t){if(et){let n=et.provides;const s=et.parent&&et.parent.provides;s===n&&(n=et.provides=Object.create(s)),n[e]=t}}function kt(e,t,n=!1){const s=et||Ve;if(s||Vn){const o=s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:Vn._context.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&ae(t)?t.call(s&&s.proxy):t}}function ff(){return!!(et||Ve||Vn)}function hf(e,t,n,s=!1){const o={},r={};ro(r,$o,1),e.propsDefaults=Object.create(null),rc(e,t,o,r);for(const i in e.propsOptions[0])i in o||(o[i]=void 0);n?e.props=s?o:Dl(o):e.type.props?e.props=o:e.props=r,e.attrs=r}function pf(e,t,n,s){const{props:o,attrs:r,vnode:{patchFlag:i}}=e,l=_e(o),[c]=e.propsOptions;let d=!1;if((s||i>0)&&!(i&16)){if(i&8){const u=e.vnode.dynamicProps;for(let p=0;p<u.length;p++){let m=u[p];if(Co(e.emitsOptions,m))continue;const v=t[m];if(c)if(ve(r,m))v!==r[m]&&(r[m]=v,d=!0);else{const g=qt(m);o[g]=br(c,l,g,v,e,!1)}else v!==r[m]&&(r[m]=v,d=!0)}}}else{rc(e,t,o,r)&&(d=!0);let u;for(const p in l)(!t||!ve(t,p)&&((u=On(p))===p||!ve(t,u)))&&(c?n&&(n[p]!==void 0||n[u]!==void 0)&&(o[p]=br(c,l,p,void 0,e,!0)):delete o[p]);if(r!==l)for(const p in r)(!t||!ve(t,p))&&(delete r[p],d=!0)}d&&Ht(e,"set","$attrs")}function rc(e,t,n,s){const[o,r]=e.propsOptions;let i=!1,l;if(t)for(let c in t){if(fs(c))continue;const d=t[c];let u;o&&ve(o,u=qt(c))?!r||!r.includes(u)?n[u]=d:(l||(l={}))[u]=d:Co(e.emitsOptions,c)||(!(c in s)||d!==s[c])&&(s[c]=d,i=!0)}if(r){const c=_e(n),d=l||Ie;for(let u=0;u<r.length;u++){const p=r[u];n[p]=br(o,c,p,d[p],e,!ve(d,p))}}return i}function br(e,t,n,s,o,r){const i=e[n];if(i!=null){const l=ve(i,"default");if(l&&s===void 0){const c=i.default;if(i.type!==Function&&!i.skipFactory&&ae(c)){const{propsDefaults:d}=o;if(n in d)s=d[n];else{const u=As(o);s=d[n]=c.call(null,t),u()}}else s=c}i[0]&&(r&&!l?s=!1:i[1]&&(s===""||s===On(n))&&(s=!0))}return s}function ic(e,t,n=!1){const s=t.propsCache,o=s.get(e);if(o)return o;const r=e.props,i={},l=[];let c=!1;if(!ae(e)){const u=p=>{c=!0;const[m,v]=ic(p,t,!0);nt(i,m),v&&l.push(...v)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!r&&!c)return qe(e)&&s.set(e,Mn),Mn;if(te(r))for(let u=0;u<r.length;u++){const p=qt(r[u]);na(p)&&(i[p]=Ie)}else if(r)for(const u in r){const p=qt(u);if(na(p)){const m=r[u],v=i[p]=te(m)||ae(m)?{type:m}:nt({},m);if(v){const g=ra(Boolean,v.type),_=ra(String,v.type);v[0]=g>-1,v[1]=_<0||g<_,(g>-1||ve(v,"default"))&&l.push(p)}}}const d=[i,l];return qe(e)&&s.set(e,d),d}function na(e){return e[0]!=="$"&&!fs(e)}function sa(e){return e===null?"null":typeof e=="function"?e.name||"":typeof e=="object"&&e.constructor&&e.constructor.name||""}function oa(e,t){return sa(e)===sa(t)}function ra(e,t){return te(t)?t.findIndex(n=>oa(n,e)):ae(t)&&oa(t,e)?0:-1}const ac=e=>e[0]==="_"||e==="$stable",mi=e=>te(e)?e.map(Ot):[Ot(e)],mf=(e,t,n)=>{if(t._n)return t;const s=L((...o)=>mi(t(...o)),n);return s._c=!1,s},lc=(e,t,n)=>{const s=e._ctx;for(const o in e){if(ac(o))continue;const r=e[o];if(ae(r))t[o]=mf(o,r,s);else if(r!=null){const i=mi(r);t[o]=()=>i}}},cc=(e,t)=>{const n=mi(t);e.slots.default=()=>n},yf=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=_e(t),ro(t,"_",n)):lc(t,e.slots={})}else e.slots={},t&&cc(e,t);ro(e.slots,$o,1)},gf=(e,t,n)=>{const{vnode:s,slots:o}=e;let r=!0,i=Ie;if(s.shapeFlag&32){const l=t._;l?n&&l===1?r=!1:(nt(o,t),!n&&l===1&&delete o._):(r=!t.$stable,lc(t,o)),i=t}else t&&(cc(e,t),i={default:1});if(r)for(const l in o)!ac(l)&&i[l]==null&&delete o[l]};function wr(e,t,n,s,o=!1){if(te(e)){e.forEach((m,v)=>wr(m,t&&(te(t)?t[v]:t),n,s,o));return}if(hs(s)&&!o)return;const r=s.shapeFlag&4?Oo(s.component)||s.component.proxy:s.el,i=o?null:r,{i:l,r:c}=e,d=t&&t.r,u=l.refs===Ie?l.refs={}:l.refs,p=l.setupState;if(d!=null&&d!==c&&(Qe(d)?(u[d]=null,ve(p,d)&&(p[d]=null)):We(d)&&(d.value=null)),ae(c))fn(c,l,12,[i,u]);else{const m=Qe(c),v=We(c);if(m||v){const g=()=>{if(e.f){const _=m?ve(p,c)?p[c]:u[c]:c.value;o?te(_)&&ni(_,r):te(_)?_.includes(r)||_.push(r):m?(u[c]=[r],ve(p,c)&&(p[c]=u[c])):(c.value=[r],e.k&&(u[e.k]=c.value))}else m?(u[c]=i,ve(p,c)&&(p[c]=i)):v&&(c.value=i,e.k&&(u[e.k]=i))};i?(g.id=-1,ct(g,n)):g()}}}const ct=jd;function vf(e){return _f(e)}function _f(e,t){const n=bl();n.__VUE__=!0;const{insert:s,remove:o,patchProp:r,createElement:i,createText:l,createComment:c,setText:d,setElementText:u,parentNode:p,nextSibling:m,setScopeId:v=yt,insertStaticContent:g}=e,_=(h,f,b,E=null,k=null,y=null,x=void 0,P=null,q=!!f.dynamicChildren)=>{if(h===f)return;h&&!is(h,f)&&(E=S(h),st(h,k,y,!0),h=null),f.patchFlag===-2&&(q=!1,f.dynamicChildren=null);const{type:O,ref:j,shapeFlag:J}=f;switch(O){case So:A(h,f,b,E);break;case pn:I(h,f,b,E);break;case Ko:h==null&&H(f,b,E,x);break;case ee:Le(h,f,b,E,k,y,x,P,q);break;default:J&1?ce(h,f,b,E,k,y,x,P,q):J&6?Fe(h,f,b,E,k,y,x,P,q):(J&64||J&128)&&O.process(h,f,b,E,k,y,x,P,q,V)}j!=null&&k&&wr(j,h&&h.ref,y,f||h,!f)},A=(h,f,b,E)=>{if(h==null)s(f.el=l(f.children),b,E);else{const k=f.el=h.el;f.children!==h.children&&d(k,f.children)}},I=(h,f,b,E)=>{h==null?s(f.el=c(f.children||""),b,E):f.el=h.el},H=(h,f,b,E)=>{[h.el,h.anchor]=g(h.children,f,b,E,h.el,h.anchor)},G=({el:h,anchor:f},b,E)=>{let k;for(;h&&h!==f;)k=m(h),s(h,b,E),h=k;s(f,b,E)},ie=({el:h,anchor:f})=>{let b;for(;h&&h!==f;)b=m(h),o(h),h=b;o(f)},ce=(h,f,b,E,k,y,x,P,q)=>{f.type==="svg"?x="svg":f.type==="math"&&(x="mathml"),h==null?Z(f,b,E,k,y,x,P,q):F(h,f,k,y,x,P,q)},Z=(h,f,b,E,k,y,x,P)=>{let q,O;const{props:j,shapeFlag:J,transition:K,dirs:se}=h;if(q=h.el=i(h.type,y,j&&j.is,j),J&8?u(q,h.children):J&16&&Y(h.children,q,null,E,k,zo(h,y),x,P),se&&_n(h,null,E,"created"),Te(q,h,h.scopeId,x,E),j){for(const Oe in j)Oe!=="value"&&!fs(Oe)&&r(q,Oe,null,j[Oe],y,h.children,E,k,He);"value"in j&&r(q,"value",null,j.value,y),(O=j.onVnodeBeforeMount)&&At(O,E,h)}se&&_n(h,null,E,"beforeMount");const fe=bf(k,K);fe&&K.beforeEnter(q),s(q,f,b),((O=j&&j.onVnodeMounted)||fe||se)&&ct(()=>{O&&At(O,E,h),fe&&K.enter(q),se&&_n(h,null,E,"mounted")},k)},Te=(h,f,b,E,k)=>{if(b&&v(h,b),E)for(let y=0;y<E.length;y++)v(h,E[y]);if(k){let y=k.subTree;if(f===y){const x=k.vnode;Te(h,x,x.scopeId,x.slotScopeIds,k.parent)}}},Y=(h,f,b,E,k,y,x,P,q=0)=>{for(let O=q;O<h.length;O++){const j=h[O]=P?an(h[O]):Ot(h[O]);_(null,j,f,b,E,k,y,x,P)}},F=(h,f,b,E,k,y,x)=>{const P=f.el=h.el;let{patchFlag:q,dynamicChildren:O,dirs:j}=f;q|=h.patchFlag&16;const J=h.props||Ie,K=f.props||Ie;let se;if(b&&bn(b,!1),(se=K.onVnodeBeforeUpdate)&&At(se,b,f,h),j&&_n(f,h,b,"beforeUpdate"),b&&bn(b,!0),O?B(h.dynamicChildren,O,P,b,E,zo(f,k),y):x||be(h,f,P,null,b,E,zo(f,k),y,!1),q>0){if(q&16)he(P,f,J,K,b,E,k);else if(q&2&&J.class!==K.class&&r(P,"class",null,K.class,k),q&4&&r(P,"style",J.style,K.style,k),q&8){const fe=f.dynamicProps;for(let Oe=0;Oe<fe.length;Oe++){const Ne=fe[Oe],ze=J[Ne],bt=K[Ne];(bt!==ze||Ne==="value")&&r(P,Ne,ze,bt,k,h.children,b,E,He)}}q&1&&h.children!==f.children&&u(P,f.children)}else!x&&O==null&&he(P,f,J,K,b,E,k);((se=K.onVnodeUpdated)||j)&&ct(()=>{se&&At(se,b,f,h),j&&_n(f,h,b,"updated")},E)},B=(h,f,b,E,k,y,x)=>{for(let P=0;P<f.length;P++){const q=h[P],O=f[P],j=q.el&&(q.type===ee||!is(q,O)||q.shapeFlag&70)?p(q.el):b;_(q,O,j,null,E,k,y,x,!0)}},he=(h,f,b,E,k,y,x)=>{if(b!==E){if(b!==Ie)for(const P in b)!fs(P)&&!(P in E)&&r(h,P,b[P],null,x,f.children,k,y,He);for(const P in E){if(fs(P))continue;const q=E[P],O=b[P];q!==O&&P!=="value"&&r(h,P,O,q,x,f.children,k,y,He)}"value"in E&&r(h,"value",b.value,E.value,x)}},Le=(h,f,b,E,k,y,x,P,q)=>{const O=f.el=h?h.el:l(""),j=f.anchor=h?h.anchor:l("");let{patchFlag:J,dynamicChildren:K,slotScopeIds:se}=f;se&&(P=P?P.concat(se):se),h==null?(s(O,b,E),s(j,b,E),Y(f.children||[],b,j,k,y,x,P,q)):J>0&&J&64&&K&&h.dynamicChildren?(B(h.dynamicChildren,K,b,k,y,x,P),(f.key!=null||k&&f===k.subTree)&&uc(h,f,!0)):be(h,f,b,j,k,y,x,P,q)},Fe=(h,f,b,E,k,y,x,P,q)=>{f.slotScopeIds=P,h==null?f.shapeFlag&512?k.ctx.activate(f,b,E,x,q):Je(f,b,E,k,y,x,q):Xe(h,f,q)},Je=(h,f,b,E,k,y,x)=>{const P=h.component=$f(h,E,k);if(ec(h)&&(P.ctx.renderer=V),Af(P),P.asyncDep){if(k&&k.registerDep(P,ge),!h.el){const q=P.subTree=$(pn);I(null,q,f,b)}}else ge(P,h,f,b,k,y,x)},Xe=(h,f,b)=>{const E=f.component=h.component;if(Bd(h,f,b))if(E.asyncDep&&!E.asyncResolved){ke(E,f,b);return}else E.next=f,Pd(E.update),E.effect.dirty=!0,E.update();else f.el=h.el,E.vnode=f},ge=(h,f,b,E,k,y,x)=>{const P=()=>{if(h.isMounted){let{next:j,bu:J,u:K,parent:se,vnode:fe}=h;{const Nn=dc(h);if(Nn){j&&(j.el=fe.el,ke(h,j,x)),Nn.asyncDep.then(()=>{h.isUnmounted||P()});return}}let Oe=j,Ne;bn(h,!1),j?(j.el=fe.el,ke(h,j,x)):j=fe,J&&zs(J),(Ne=j.props&&j.props.onVnodeBeforeUpdate)&&At(Ne,se,j,fe),bn(h,!0);const ze=Wo(h),bt=h.subTree;h.subTree=ze,_(bt,ze,p(bt.el),S(bt),h,k,y),j.el=ze.el,Oe===null&&Ud(h,ze.el),K&&ct(K,k),(Ne=j.props&&j.props.onVnodeUpdated)&&ct(()=>At(Ne,se,j,fe),k)}else{let j;const{el:J,props:K}=f,{bm:se,m:fe,parent:Oe}=h,Ne=hs(f);if(bn(h,!1),se&&zs(se),!Ne&&(j=K&&K.onVnodeBeforeMount)&&At(j,Oe,f),bn(h,!0),J&&Re){const ze=()=>{h.subTree=Wo(h),Re(J,h.subTree,h,k,null)};Ne?f.type.__asyncLoader().then(()=>!h.isUnmounted&&ze()):ze()}else{const ze=h.subTree=Wo(h);_(null,ze,b,E,h,k,y),f.el=ze.el}if(fe&&ct(fe,k),!Ne&&(j=K&&K.onVnodeMounted)){const ze=f;ct(()=>At(j,Oe,ze),k)}(f.shapeFlag&256||Oe&&hs(Oe.vnode)&&Oe.vnode.shapeFlag&256)&&h.a&&ct(h.a,k),h.isMounted=!0,f=b=E=null}},q=h.effect=new oi(P,yt,()=>hi(O),h.scope),O=h.update=()=>{q.dirty&&q.run()};O.id=h.uid,bn(h,!0),O()},ke=(h,f,b)=>{f.component=h;const E=h.vnode.props;h.vnode=f,h.next=null,pf(h,f.props,E,b),gf(h,f.children,b),Rn(),Ki(h),Pn()},be=(h,f,b,E,k,y,x,P,q=!1)=>{const O=h&&h.children,j=h?h.shapeFlag:0,J=f.children,{patchFlag:K,shapeFlag:se}=f;if(K>0){if(K&128){at(O,J,b,E,k,y,x,P,q);return}else if(K&256){_t(O,J,b,E,k,y,x,P,q);return}}se&8?(j&16&&He(O,k,y),J!==O&&u(b,J)):j&16?se&16?at(O,J,b,E,k,y,x,P,q):He(O,k,y,!0):(j&8&&u(b,""),se&16&&Y(J,b,E,k,y,x,P,q))},_t=(h,f,b,E,k,y,x,P,q)=>{h=h||Mn,f=f||Mn;const O=h.length,j=f.length,J=Math.min(O,j);let K;for(K=0;K<J;K++){const se=f[K]=q?an(f[K]):Ot(f[K]);_(h[K],se,b,null,k,y,x,P,q)}O>j?He(h,k,y,!0,!1,J):Y(f,b,E,k,y,x,P,q,J)},at=(h,f,b,E,k,y,x,P,q)=>{let O=0;const j=f.length;let J=h.length-1,K=j-1;for(;O<=J&&O<=K;){const se=h[O],fe=f[O]=q?an(f[O]):Ot(f[O]);if(is(se,fe))_(se,fe,b,null,k,y,x,P,q);else break;O++}for(;O<=J&&O<=K;){const se=h[J],fe=f[K]=q?an(f[K]):Ot(f[K]);if(is(se,fe))_(se,fe,b,null,k,y,x,P,q);else break;J--,K--}if(O>J){if(O<=K){const se=K+1,fe=se<j?f[se].el:E;for(;O<=K;)_(null,f[O]=q?an(f[O]):Ot(f[O]),b,fe,k,y,x,P,q),O++}}else if(O>K)for(;O<=J;)st(h[O],k,y,!0),O++;else{const se=O,fe=O,Oe=new Map;for(O=fe;O<=K;O++){const dt=f[O]=q?an(f[O]):Ot(f[O]);dt.key!=null&&Oe.set(dt.key,O)}let Ne,ze=0;const bt=K-fe+1;let Nn=!1,Bi=0;const rs=new Array(bt);for(O=0;O<bt;O++)rs[O]=0;for(O=se;O<=J;O++){const dt=h[O];if(ze>=bt){st(dt,k,y,!0);continue}let $t;if(dt.key!=null)$t=Oe.get(dt.key);else for(Ne=fe;Ne<=K;Ne++)if(rs[Ne-fe]===0&&is(dt,f[Ne])){$t=Ne;break}$t===void 0?st(dt,k,y,!0):(rs[$t-fe]=O+1,$t>=Bi?Bi=$t:Nn=!0,_(dt,f[$t],b,null,k,y,x,P,q),ze++)}const Ui=Nn?wf(rs):Mn;for(Ne=Ui.length-1,O=bt-1;O>=0;O--){const dt=fe+O,$t=f[dt],Fi=dt+1<j?f[dt+1].el:E;rs[O]===0?_(null,$t,b,Fi,k,y,x,P,q):Nn&&(Ne<0||O!==Ui[Ne]?pt($t,b,Fi,2):Ne--)}}},pt=(h,f,b,E,k=null)=>{const{el:y,type:x,transition:P,children:q,shapeFlag:O}=h;if(O&6){pt(h.component.subTree,f,b,E);return}if(O&128){h.suspense.move(f,b,E);return}if(O&64){x.move(h,f,b,V);return}if(x===ee){s(y,f,b);for(let J=0;J<q.length;J++)pt(q[J],f,b,E);s(h.anchor,f,b);return}if(x===Ko){G(h,f,b);return}if(E!==2&&O&1&&P)if(E===0)P.beforeEnter(y),s(y,f,b),ct(()=>P.enter(y),k);else{const{leave:J,delayLeave:K,afterLeave:se}=P,fe=()=>s(y,f,b),Oe=()=>{J(y,()=>{fe(),se&&se()})};K?K(y,fe,Oe):Oe()}else s(y,f,b)},st=(h,f,b,E=!1,k=!1)=>{const{type:y,props:x,ref:P,children:q,dynamicChildren:O,shapeFlag:j,patchFlag:J,dirs:K}=h;if(P!=null&&wr(P,null,b,h,!0),j&256){f.ctx.deactivate(h);return}const se=j&1&&K,fe=!hs(h);let Oe;if(fe&&(Oe=x&&x.onVnodeBeforeUnmount)&&At(Oe,f,h),j&6)en(h.component,b,E);else{if(j&128){h.suspense.unmount(b,E);return}se&&_n(h,null,f,"beforeUnmount"),j&64?h.type.remove(h,f,b,k,V,E):O&&(y!==ee||J>0&&J&64)?He(O,f,b,!1,!0):(y===ee&&J&384||!k&&j&16)&&He(q,f,b),E&&Xt(h)}(fe&&(Oe=x&&x.onVnodeUnmounted)||se)&&ct(()=>{Oe&&At(Oe,f,h),se&&_n(h,null,f,"unmounted")},b)},Xt=h=>{const{type:f,el:b,anchor:E,transition:k}=h;if(f===ee){Zt(b,E);return}if(f===Ko){ie(h);return}const y=()=>{o(b),k&&!k.persisted&&k.afterLeave&&k.afterLeave()};if(h.shapeFlag&1&&k&&!k.persisted){const{leave:x,delayLeave:P}=k,q=()=>x(b,y);P?P(h.el,y,q):q()}else y()},Zt=(h,f)=>{let b;for(;h!==f;)b=m(h),o(h),h=b;o(f)},en=(h,f,b)=>{const{bum:E,scope:k,update:y,subTree:x,um:P}=h;E&&zs(E),k.stop(),y&&(y.active=!1,st(x,h,f,b)),P&&ct(P,f),ct(()=>{h.isUnmounted=!0},f),f&&f.pendingBranch&&!f.isUnmounted&&h.asyncDep&&!h.asyncResolved&&h.suspenseId===f.pendingId&&(f.deps--,f.deps===0&&f.resolve())},He=(h,f,b,E=!1,k=!1,y=0)=>{for(let x=y;x<h.length;x++)st(h[x],f,b,E,k)},S=h=>h.shapeFlag&6?S(h.component.subTree):h.shapeFlag&128?h.suspense.next():m(h.anchor||h.el);let M=!1;const D=(h,f,b)=>{h==null?f._vnode&&st(f._vnode,null,null,!0):_(f._vnode||null,h,f,null,null,null,b),M||(M=!0,Ki(),Wl(),M=!1),f._vnode=h},V={p:_,um:st,m:pt,r:Xt,mt:Je,mc:Y,pc:be,pbc:B,n:S,o:e};let we,Re;return{render:D,hydrate:we,createApp:df(D,we)}}function zo({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function bn({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function bf(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function uc(e,t,n=!1){const s=e.children,o=t.children;if(te(s)&&te(o))for(let r=0;r<s.length;r++){const i=s[r];let l=o[r];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=o[r]=an(o[r]),l.el=i.el),n||uc(i,l)),l.type===So&&(l.el=i.el)}}function wf(e){const t=e.slice(),n=[0];let s,o,r,i,l;const c=e.length;for(s=0;s<c;s++){const d=e[s];if(d!==0){if(o=n[n.length-1],e[o]<d){t[s]=o,n.push(s);continue}for(r=0,i=n.length-1;r<i;)l=r+i>>1,e[n[l]]<d?r=l+1:i=l;d<e[n[r]]&&(r>0&&(t[s]=n[r-1]),n[r]=s)}}for(r=n.length,i=n[r-1];r-- >0;)n[r]=i,i=t[i];return n}function dc(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:dc(t)}const xf=e=>e.__isTeleport,ee=Symbol.for("v-fgt"),So=Symbol.for("v-txt"),pn=Symbol.for("v-cmt"),Ko=Symbol.for("v-stc"),ms=[];let Ct=null;function w(e=!1){ms.push(Ct=e?null:[])}function Cf(){ms.pop(),Ct=ms[ms.length-1]||null}let Cs=1;function ia(e){Cs+=e}function fc(e){return e.dynamicChildren=Cs>0?Ct||Mn:null,Cf(),Cs>0&&Ct&&Ct.push(e),e}function C(e,t,n,s,o,r){return fc(a(e,t,n,s,o,r,!0))}function de(e,t,n,s,o){return fc($(e,t,n,s,o,!0))}function uo(e){return e?e.__v_isVNode===!0:!1}function is(e,t){return e.type===t.type&&e.key===t.key}const $o="__vInternal",hc=({key:e})=>e??null,Js=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Qe(e)||We(e)||ae(e)?{i:Ve,r:e,k:t,f:!!n}:e:null);function a(e,t=null,n=null,s=0,o=null,r=e===ee?0:1,i=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&hc(t),ref:t&&Js(t),scopeId:Eo,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:Ve};return l?(yi(c,n),r&128&&e.normalize(c)):n&&(c.shapeFlag|=Qe(n)?8:16),Cs>0&&!i&&Ct&&(c.patchFlag>0||r&6)&&c.patchFlag!==32&&Ct.push(c),c}const $=Ef;function Ef(e,t=null,n=null,s=0,o=null,r=!1){if((!e||e===Yl)&&(e=pn),uo(e)){const l=Gn(e,t,!0);return n&&yi(l,n),Cs>0&&!r&&Ct&&(l.shapeFlag&6?Ct[Ct.indexOf(e)]=l:Ct.push(l)),l.patchFlag|=-2,l}if(Nf(e)&&(e=e.__vccOpts),t){t=kf(t);let{class:l,style:c}=t;l&&!Qe(l)&&(t.class=oe(l)),qe(c)&&(Ul(c)&&!te(c)&&(c=nt({},c)),t.style=Bt(c))}const i=Qe(e)?1:Md(e)?128:xf(e)?64:qe(e)?4:ae(e)?2:0;return a(e,t,n,s,o,i,r,!0)}function kf(e){return e?Ul(e)||$o in e?nt({},e):e:null}function Gn(e,t,n=!1){const{props:s,ref:o,patchFlag:r,children:i}=e,l=t?pc(s||{},t):s;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&hc(l),ref:t&&t.ref?n&&o?te(o)?o.concat(Js(t)):[o,Js(t)]:Js(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:i,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ee?r===-1?16:r|16:r,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Gn(e.ssContent),ssFallback:e.ssFallback&&Gn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function ne(e=" ",t=0){return $(So,null,e,t)}function z(e="",t=!1){return t?(w(),de(pn,null,e)):$(pn,null,e)}function Ot(e){return e==null||typeof e=="boolean"?$(pn):te(e)?$(ee,null,e.slice()):typeof e=="object"?an(e):$(So,null,String(e))}function an(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Gn(e)}function yi(e,t){let n=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(te(t))n=16;else if(typeof t=="object")if(s&65){const o=t.default;o&&(o._c&&(o._d=!1),yi(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!($o in t)?t._ctx=Ve:o===3&&Ve&&(Ve.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else ae(t)?(t={default:t,_ctx:Ve},n=32):(t=String(t),s&64?(n=16,t=[ne(t)]):n=8);e.children=t,e.shapeFlag|=n}function pc(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const o in s)if(o==="class")t.class!==s.class&&(t.class=oe([t.class,s.class]));else if(o==="style")t.style=Bt([t.style,s.style]);else if(yo(o)){const r=t[o],i=s[o];i&&r!==i&&!(te(r)&&r.includes(i))&&(t[o]=r?[].concat(r,i):i)}else o!==""&&(t[o]=s[o])}return t}function At(e,t,n,s=null){Et(e,t,7,[n,s])}const Tf=oc();let Sf=0;function $f(e,t,n){const s=e.type,o=(t?t.appContext:e.appContext)||Tf,r={uid:Sf++,vnode:e,type:s,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new Cl(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ic(s,o),emitsOptions:zl(s,o),emit:null,emitted:null,propsDefaults:Ie,inheritAttrs:s.inheritAttrs,ctx:Ie,data:Ie,props:Ie,attrs:Ie,slots:Ie,refs:Ie,setupState:Ie,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=qd.bind(null,r),e.ce&&e.ce(r),r}let et=null,fo,xr;{const e=bl(),t=(n,s)=>{let o;return(o=e[n])||(o=e[n]=[]),o.push(s),r=>{o.length>1?o.forEach(i=>i(r)):o[0](r)}};fo=t("__VUE_INSTANCE_SETTERS__",n=>et=n),xr=t("__VUE_SSR_SETTERS__",n=>Ao=n)}const As=e=>{const t=et;return fo(e),e.scope.on(),()=>{e.scope.off(),fo(t)}},aa=()=>{et&&et.scope.off(),fo(null)};function mc(e){return e.vnode.shapeFlag&4}let Ao=!1;function Af(e,t=!1){t&&xr(t);const{props:n,children:s}=e.vnode,o=mc(e);hf(e,n,o,t),yf(e,s);const r=o?Of(e,t):void 0;return t&&xr(!1),r}function Of(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=wo(new Proxy(e.ctx,sf));const{setup:s}=n;if(s){const o=e.setupContext=s.length>1?Pf(e):null,r=As(e);Rn();const i=fn(s,e,0,[e.props,o]);if(Pn(),r(),gl(i)){if(i.then(aa,aa),t)return i.then(l=>{la(e,l,t)}).catch(l=>{xo(l,e,0)});e.asyncDep=i}else la(e,i,t)}else yc(e,t)}function la(e,t,n){ae(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:qe(t)&&(e.setupState=Ql(t)),yc(e,n)}let ca;function yc(e,t,n){const s=e.type;if(!e.render){if(!t&&ca&&!s.render){const o=s.template||pi(e).template;if(o){const{isCustomElement:r,compilerOptions:i}=e.appContext.config,{delimiters:l,compilerOptions:c}=s,d=nt(nt({isCustomElement:r,delimiters:l},i),c);s.render=ca(o,d)}}e.render=s.render||yt}{const o=As(e);Rn();try{of(e)}finally{Pn(),o()}}}function Rf(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return ut(e,"get","$attrs"),t[n]}}))}function Pf(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return Rf(e)},slots:e.slots,emit:e.emit,expose:t}}function Oo(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Ql(wo(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in ps)return ps[n](e)},has(t,n){return n in t||n in ps}}))}function If(e,t=!0){return ae(e)?e.displayName||e.name:e.name||t&&e.__name}function Nf(e){return ae(e)&&"__vccOpts"in e}const X=(e,t)=>Ed(e,t,Ao);function gc(e,t,n){const s=arguments.length;return s===2?qe(t)&&!te(t)?uo(t)?$(e,null,[t]):$(e,t):$(e,null,t):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&uo(n)&&(n=[n]),$(e,t,n))}const qf="3.4.21";/**
* @vue/runtime-dom v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Lf="http://www.w3.org/2000/svg",Df="http://www.w3.org/1998/Math/MathML",ln=typeof document<"u"?document:null,ua=ln&&ln.createElement("template"),Bf={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{const o=t==="svg"?ln.createElementNS(Lf,e):t==="mathml"?ln.createElementNS(Df,e):ln.createElement(e,n?{is:n}:void 0);return e==="select"&&s&&s.multiple!=null&&o.setAttribute("multiple",s.multiple),o},createText:e=>ln.createTextNode(e),createComment:e=>ln.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>ln.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,s,o,r){const i=n?n.previousSibling:t.lastChild;if(o&&(o===r||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),!(o===r||!(o=o.nextSibling)););else{ua.innerHTML=s==="svg"?`<svg>${e}</svg>`:s==="mathml"?`<math>${e}</math>`:e;const l=ua.content;if(s==="svg"||s==="mathml"){const c=l.firstChild;for(;c.firstChild;)l.appendChild(c.firstChild);l.removeChild(c)}t.insertBefore(l,n)}return[i?i.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Uf=Symbol("_vtc");function Ff(e,t,n){const s=e[Uf];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const da=Symbol("_vod"),Mf=Symbol("_vsh"),jf=Symbol(""),Qf=/(^|;)\s*display\s*:/;function Hf(e,t,n){const s=e.style,o=Qe(n);let r=!1;if(n&&!o){if(t)if(Qe(t))for(const i of t.split(";")){const l=i.slice(0,i.indexOf(":")).trim();n[l]==null&&Xs(s,l,"")}else for(const i in t)n[i]==null&&Xs(s,i,"");for(const i in n)i==="display"&&(r=!0),Xs(s,i,n[i])}else if(o){if(t!==n){const i=s[jf];i&&(n+=";"+i),s.cssText=n,r=Qf.test(n)}}else t&&e.removeAttribute("style");da in e&&(e[da]=r?s.display:"",e[Mf]&&(s.display="none"))}const fa=/\s*!important$/;function Xs(e,t,n){if(te(n))n.forEach(s=>Xs(e,t,s));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const s=Vf(e,t);fa.test(n)?e.setProperty(On(s),n.replace(fa,""),"important"):e[s]=n}}const ha=["Webkit","Moz","ms"],Yo={};function Vf(e,t){const n=Yo[t];if(n)return n;let s=qt(t);if(s!=="filter"&&s in e)return Yo[t]=s;s=_o(s);for(let o=0;o<ha.length;o++){const r=ha[o]+s;if(r in e)return Yo[t]=r}return t}const pa="http://www.w3.org/1999/xlink";function Wf(e,t,n,s,o){if(s&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(pa,t.slice(6,t.length)):e.setAttributeNS(pa,t,n);else{const r=td(t);n==null||r&&!wl(n)?e.removeAttribute(t):e.setAttribute(t,r?"":n)}}function Gf(e,t,n,s,o,r,i){if(t==="innerHTML"||t==="textContent"){s&&i(s,o,r),e[t]=n??"";return}const l=e.tagName;if(t==="value"&&l!=="PROGRESS"&&!l.includes("-")){const d=l==="OPTION"?e.getAttribute("value")||"":e.value,u=n??"";(d!==u||!("_value"in e))&&(e.value=u),n==null&&e.removeAttribute(t),e._value=n;return}let c=!1;if(n===""||n==null){const d=typeof e[t];d==="boolean"?n=wl(n):n==null&&d==="string"?(n="",c=!0):d==="number"&&(n=0,c=!0)}try{e[t]=n}catch{}c&&e.removeAttribute(t)}function Ln(e,t,n,s){e.addEventListener(t,n,s)}function zf(e,t,n,s){e.removeEventListener(t,n,s)}const ma=Symbol("_vei");function Kf(e,t,n,s,o=null){const r=e[ma]||(e[ma]={}),i=r[t];if(s&&i)i.value=s;else{const[l,c]=Yf(t);if(s){const d=r[t]=Zf(s,o);Ln(e,l,d,c)}else i&&(zf(e,l,i,c),r[t]=void 0)}}const ya=/(?:Once|Passive|Capture)$/;function Yf(e){let t;if(ya.test(e)){t={};let s;for(;s=e.match(ya);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):On(e.slice(2)),t]}let Jo=0;const Jf=Promise.resolve(),Xf=()=>Jo||(Jf.then(()=>Jo=0),Jo=Date.now());function Zf(e,t){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;Et(eh(s,n.value),t,5,[s])};return n.value=e,n.attached=Xf(),n}function eh(e,t){if(te(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(s=>o=>!o._stopped&&s&&s(o))}else return t}const ga=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,th=(e,t,n,s,o,r,i,l,c)=>{const d=o==="svg";t==="class"?Ff(e,s,d):t==="style"?Hf(e,n,s):yo(t)?ti(t)||Kf(e,t,n,s,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):nh(e,t,s,d))?Gf(e,t,s,r,i,l,c):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),Wf(e,t,s,d))};function nh(e,t,n,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in e&&ga(t)&&ae(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const o=e.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return ga(t)&&Qe(n)?!1:t in e}const va=e=>{const t=e.props["onUpdate:modelValue"]||!1;return te(t)?n=>zs(t,n):t};function sh(e){e.target.composing=!0}function _a(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Xo=Symbol("_assign"),Ae={created(e,{modifiers:{lazy:t,trim:n,number:s}},o){e[Xo]=va(o);const r=s||o.props&&o.props.type==="number";Ln(e,t?"change":"input",i=>{if(i.target.composing)return;let l=e.value;n&&(l=l.trim()),r&&(l=dr(l)),e[Xo](l)}),n&&Ln(e,"change",()=>{e.value=e.value.trim()}),t||(Ln(e,"compositionstart",sh),Ln(e,"compositionend",_a),Ln(e,"change",_a))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:s,number:o}},r){if(e[Xo]=va(r),e.composing)return;const i=o||e.type==="number"?dr(e.value):e.value,l=t??"";i!==l&&(document.activeElement===e&&e.type!=="range"&&(n||s&&e.value.trim()===l)||(e.value=l))}},oh={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Os=(e,t)=>{const n=e._withKeys||(e._withKeys={}),s=t.join(".");return n[s]||(n[s]=o=>{if(!("key"in o))return;const r=On(o.key);if(t.some(i=>i===r||oh[i]===r))return e(o)})},rh=nt({patchProp:th},Bf);let ba;function ih(){return ba||(ba=vf(rh))}const ah=(...e)=>{const t=ih().createApp(...e),{mount:n}=t;return t.mount=s=>{const o=ch(s);if(!o)return;const r=t._component;!ae(r)&&!r.render&&!r.template&&(r.template=o.innerHTML),o.innerHTML="";const i=n(o,!1,lh(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),i},t};function lh(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function ch(e){return Qe(e)?document.querySelector(e):e}var uh=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let vc;const Ro=e=>vc=e,_c=Symbol();function Cr(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var ys;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(ys||(ys={}));function dh(){const e=El(!0),t=e.run(()=>N({}));let n=[],s=[];const o=wo({install(r){Ro(o),o._a=r,r.provide(_c,o),r.config.globalProperties.$pinia=o,s.forEach(i=>n.push(i)),s=[]},use(r){return!this._a&&!uh?s.push(r):n.push(r),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return o}const bc=()=>{};function wa(e,t,n,s=bc){e.push(t);const o=()=>{const r=e.indexOf(t);r>-1&&(e.splice(r,1),s())};return!n&&kl()&&sd(o),o}function qn(e,...t){e.slice().forEach(n=>{n(...t)})}const fh=e=>e();function Er(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,s)=>e.set(s,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const s=t[n],o=e[n];Cr(o)&&Cr(s)&&e.hasOwnProperty(n)&&!We(s)&&!dn(s)?e[n]=Er(o,s):e[n]=s}return e}const hh=Symbol();function ph(e){return!Cr(e)||!e.hasOwnProperty(hh)}const{assign:on}=Object;function mh(e){return!!(We(e)&&e.effect)}function yh(e,t,n,s){const{state:o,actions:r,getters:i}=t,l=n.state.value[e];let c;function d(){l||(n.state.value[e]=o?o():{});const u=Sd(n.state.value[e]);return on(u,r,Object.keys(i||{}).reduce((p,m)=>(p[m]=wo(X(()=>{Ro(n);const v=n._s.get(e);return i[m].call(v,v)})),p),{}))}return c=wc(e,d,t,n,s,!0),c}function wc(e,t,n={},s,o,r){let i;const l=on({actions:{}},n),c={deep:!0};let d,u,p=[],m=[],v;const g=s.state.value[e];!r&&!g&&(s.state.value[e]={}),N({});let _;function A(Y){let F;d=u=!1,typeof Y=="function"?(Y(s.state.value[e]),F={type:ys.patchFunction,storeId:e,events:v}):(Er(s.state.value[e],Y),F={type:ys.patchObject,payload:Y,storeId:e,events:v});const B=_=Symbol();fi().then(()=>{_===B&&(d=!0)}),u=!0,qn(p,F,s.state.value[e])}const I=r?function(){const{state:F}=n,B=F?F():{};this.$patch(he=>{on(he,B)})}:bc;function H(){i.stop(),p=[],m=[],s._s.delete(e)}function G(Y,F){return function(){Ro(s);const B=Array.from(arguments),he=[],Le=[];function Fe(ge){he.push(ge)}function Je(ge){Le.push(ge)}qn(m,{args:B,name:Y,store:ce,after:Fe,onError:Je});let Xe;try{Xe=F.apply(this&&this.$id===e?this:ce,B)}catch(ge){throw qn(Le,ge),ge}return Xe instanceof Promise?Xe.then(ge=>(qn(he,ge),ge)).catch(ge=>(qn(Le,ge),Promise.reject(ge))):(qn(he,Xe),Xe)}}const ie={_p:s,$id:e,$onAction:wa.bind(null,m),$patch:A,$reset:I,$subscribe(Y,F={}){const B=wa(p,Y,F.detached,()=>he()),he=i.run(()=>Hn(()=>s.state.value[e],Le=>{(F.flush==="sync"?u:d)&&Y({storeId:e,type:ys.direct,events:v},Le)},on({},c,F)));return B},$dispose:H},ce=$s(ie);s._s.set(e,ce);const Te=(s._a&&s._a.runWithContext||fh)(()=>s._e.run(()=>(i=El()).run(t)));for(const Y in Te){const F=Te[Y];if(We(F)&&!mh(F)||dn(F))r||(g&&ph(F)&&(We(F)?F.value=g[Y]:Er(F,g[Y])),s.state.value[e][Y]=F);else if(typeof F=="function"){const B=G(Y,F);Te[Y]=B,l.actions[Y]=F}}return on(ce,Te),on(_e(ce),Te),Object.defineProperty(ce,"$state",{get:()=>s.state.value[e],set:Y=>{A(F=>{on(F,Y)})}}),s._p.forEach(Y=>{on(ce,i.run(()=>Y({store:ce,app:s._a,pinia:s,options:l})))}),g&&r&&n.hydrate&&n.hydrate(ce.$state,g),d=!0,u=!0,ce}function gi(e,t,n){let s,o;const r=typeof t=="function";typeof e=="string"?(s=e,o=r?n:t):(o=e,s=e.id);function i(l,c){const d=ff();return l=l||(d?kt(_c,null):null),l&&Ro(l),l=vc,l._s.has(s)||(r?wc(s,t,o,l):yh(s,o,l)),l._s.get(s)}return i.$id=s,i}const gh="bitd-vtt-client",vh="1.0.62",_h="module",bh={dev:"vite",colors:"node ./scripts/common-colors.mjs",build:"npm run colors && vue-tsc && vite build && node scripts/copy-index-as-404.mjs",preview:"vite preview",deploy:"node ./scripts/increment-version.mjs && npm run build && gh-pages -d dist"},wh={"@types/fast-json-patch":"^1.1.5","@types/socket.io-client":"^3.0.0","@types/uuid":"^9.0.8","@types/ws":"^8.5.10",axios:"^1.6.8",chalk:"^5.3.0","fast-json-patch":"^3.1.1","gh-pages":"^6.1.1","node-vibrant":"^3.2.1-alpha.1",pinia:"^2.1.7",rxjs:"^7.8.1","socket.io-client":"^4.7.5",uuid:"^9.0.1",vue:"^3.4.19","vue-router":"^4.3.2",ws:"^8.17.0"},xh={"@types/node":"^20.12.8","@vitejs/plugin-vue":"^5.0.4",sass:"^1.74.1",typescript:"^5.2.2",vite:"^5.1.4","vue-tsc":"^1.8.27"},Ch={name:gh,private:!0,version:vh,type:_h,scripts:bh,dependencies:wh,devDependencies:xh},xc=e=>(Ce("data-v-e5afb3c7"),e=e(),Ee(),e),Eh=xc(()=>a("span",{class:"online"},"online",-1)),kh=xc(()=>a("span",{class:"in-the-dark"},"in the Dark",-1)),Th=[Eh,kh],Sh=re({__name:"Logo",props:{big:{type:Boolean}},setup(e){const t=e;return(n,s)=>(w(),C("div",{class:oe(["logo",{big:t.big}])},Th,2))}}),le=(e,t)=>{const n=e.__vccOpts||e;for(const[s,o]of t)n[s]=o;return n},Cc=le(Sh,[["__scopeId","data-v-e5afb3c7"]]),$h=e=>(Ce("data-v-63440d07"),e=e(),Ee(),e),Ah={class:"loading"},Oh=$h(()=>a("i",{class:"fas fa-circle-notch fa-spin"},null,-1)),Rh=re({__name:"LoadingModal",setup(e){return(t,n)=>(w(),C("div",Ah,[$(Cc,{big:""}),Oh]))}}),Rs=le(Rh,[["__scopeId","data-v-63440d07"]]);var kr=function(e,t){return kr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(n[o]=s[o])},kr(e,t)};function Po(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");kr(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function Tr(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],s=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&s>=e.length&&(e=void 0),{value:e&&e[s++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Sr(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var s=n.call(e),o,r=[],i;try{for(;(t===void 0||t-- >0)&&!(o=s.next()).done;)r.push(o.value)}catch(l){i={error:l}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return r}function $r(e,t,n){if(n||arguments.length===2)for(var s=0,o=t.length,r;s<o;s++)(r||!(s in t))&&(r||(r=Array.prototype.slice.call(t,0,s)),r[s]=t[s]);return e.concat(r||Array.prototype.slice.call(t))}function Vt(e){return typeof e=="function"}function Ec(e){var t=function(s){Error.call(s),s.stack=new Error().stack},n=e(t);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Zo=Ec(function(e){return function(n){e(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(s,o){return o+1+") "+s.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function Ar(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Io=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,n,s,o,r;if(!this.closed){this.closed=!0;var i=this._parentage;if(i)if(this._parentage=null,Array.isArray(i))try{for(var l=Tr(i),c=l.next();!c.done;c=l.next()){var d=c.value;d.remove(this)}}catch(_){t={error:_}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}else i.remove(this);var u=this.initialTeardown;if(Vt(u))try{u()}catch(_){r=_ instanceof Zo?_.errors:[_]}var p=this._finalizers;if(p){this._finalizers=null;try{for(var m=Tr(p),v=m.next();!v.done;v=m.next()){var g=v.value;try{xa(g)}catch(_){r=r??[],_ instanceof Zo?r=$r($r([],Sr(r)),Sr(_.errors)):r.push(_)}}}catch(_){s={error:_}}finally{try{v&&!v.done&&(o=m.return)&&o.call(m)}finally{if(s)throw s.error}}}if(r)throw new Zo(r)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)xa(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}},e.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},e.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},e.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&Ar(n,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&Ar(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),kc=Io.EMPTY;function Tc(e){return e instanceof Io||e&&"closed"in e&&Vt(e.remove)&&Vt(e.add)&&Vt(e.unsubscribe)}function xa(e){Vt(e)?e():e.unsubscribe()}var Sc={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},$c={setTimeout:function(e,t){for(var n=[],s=2;s<arguments.length;s++)n[s-2]=arguments[s];return setTimeout.apply(void 0,$r([e,t],Sr(n)))},clearTimeout:function(e){var t=$c.delegate;return((t==null?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function Ph(e){$c.setTimeout(function(){throw e})}function Ca(){}function Zs(e){e()}var Ac=function(e){Po(t,e);function t(n){var s=e.call(this)||this;return s.isStopped=!1,n?(s.destination=n,Tc(n)&&n.add(s)):s.destination=Lh,s}return t.create=function(n,s,o){return new Or(n,s,o)},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(Io),Ih=Function.prototype.bind;function er(e,t){return Ih.call(e,t)}var Nh=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(s){js(s)}},e.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(s){js(s)}else js(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(n){js(n)}},e}(),Or=function(e){Po(t,e);function t(n,s,o){var r=e.call(this)||this,i;if(Vt(n)||!n)i={next:n??void 0,error:s??void 0,complete:o??void 0};else{var l;r&&Sc.useDeprecatedNextContext?(l=Object.create(n),l.unsubscribe=function(){return r.unsubscribe()},i={next:n.next&&er(n.next,l),error:n.error&&er(n.error,l),complete:n.complete&&er(n.complete,l)}):i=n}return r.destination=new Nh(i),r}return t}(Ac);function js(e){Ph(e)}function qh(e){throw e}var Lh={closed:!0,next:Ca,error:qh,complete:Ca},Dh=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Bh(e){return e}function Uh(e){return e.length===0?Bh:e.length===1?e[0]:function(n){return e.reduce(function(s,o){return o(s)},n)}}var Ea=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,s){var o=this,r=Mh(t)?t:new Or(t,n,s);return Zs(function(){var i=o,l=i.operator,c=i.source;r.add(l?l.call(r,c):c?o._subscribe(r):o._trySubscribe(r))}),r},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},e.prototype.forEach=function(t,n){var s=this;return n=ka(n),new n(function(o,r){var i=new Or({next:function(l){try{t(l)}catch(c){r(c),i.unsubscribe()}},error:r,complete:o});s.subscribe(i)})},e.prototype._subscribe=function(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)},e.prototype[Dh]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Uh(t)(this)},e.prototype.toPromise=function(t){var n=this;return t=ka(t),new t(function(s,o){var r;n.subscribe(function(i){return r=i},function(i){return o(i)},function(){return s(r)})})},e.create=function(t){return new e(t)},e}();function ka(e){var t;return(t=e??Sc.Promise)!==null&&t!==void 0?t:Promise}function Fh(e){return e&&Vt(e.next)&&Vt(e.error)&&Vt(e.complete)}function Mh(e){return e&&e instanceof Ac||Fh(e)&&Tc(e)}var jh=Ec(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Oc=function(e){Po(t,e);function t(){var n=e.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return t.prototype.lift=function(n){var s=new Ta(this,this);return s.operator=n,s},t.prototype._throwIfClosed=function(){if(this.closed)throw new jh},t.prototype.next=function(n){var s=this;Zs(function(){var o,r;if(s._throwIfClosed(),!s.isStopped){s.currentObservers||(s.currentObservers=Array.from(s.observers));try{for(var i=Tr(s.currentObservers),l=i.next();!l.done;l=i.next()){var c=l.value;c.next(n)}}catch(d){o={error:d}}finally{try{l&&!l.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}}})},t.prototype.error=function(n){var s=this;Zs(function(){if(s._throwIfClosed(),!s.isStopped){s.hasError=s.isStopped=!0,s.thrownError=n;for(var o=s.observers;o.length;)o.shift().error(n)}})},t.prototype.complete=function(){var n=this;Zs(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var s=n.observers;s.length;)s.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(n){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,n)},t.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},t.prototype._innerSubscribe=function(n){var s=this,o=this,r=o.hasError,i=o.isStopped,l=o.observers;return r||i?kc:(this.currentObservers=null,l.push(n),new Io(function(){s.currentObservers=null,Ar(l,n)}))},t.prototype._checkFinalizedStatuses=function(n){var s=this,o=s.hasError,r=s.thrownError,i=s.isStopped;o?n.error(r):i&&n.complete()},t.prototype.asObservable=function(){var n=new Ea;return n.source=this,n},t.create=function(n,s){return new Ta(n,s)},t}(Ea),Ta=function(e){Po(t,e);function t(n,s){var o=e.call(this)||this;return o.destination=n,o.source=s,o}return t.prototype.next=function(n){var s,o;(o=(s=this.destination)===null||s===void 0?void 0:s.next)===null||o===void 0||o.call(s,n)},t.prototype.error=function(n){var s,o;(o=(s=this.destination)===null||s===void 0?void 0:s.error)===null||o===void 0||o.call(s,n)},t.prototype.complete=function(){var n,s;(s=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||s===void 0||s.call(n)},t.prototype._subscribe=function(n){var s,o;return(o=(s=this.source)===null||s===void 0?void 0:s.subscribe(n))!==null&&o!==void 0?o:kc},t}(Oc);class U{constructor(){ue(this,"subject",new Oc)}static getInstance(){return this.instance||(this.instance=new this)}dispatch(t){this.subject.next(t)}static open(t,n){this.getInstance().dispatch({modal:t,modalConfig:n})}static close(t){this.getInstance().dispatch({modal:null}),t&&t()}addEventListener(t){this.subject.subscribe(t)}removeEventListener(){this.subject.unsubscribe()}}ue(U,"instance",null);function Rc(e,t){return function(){return e.apply(t,arguments)}}const{toString:Qh}=Object.prototype,{getPrototypeOf:vi}=Object,No=(e=>t=>{const n=Qh.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ut=e=>(e=e.toLowerCase(),t=>No(t)===e),qo=e=>t=>typeof t===e,{isArray:Zn}=Array,Es=qo("undefined");function Hh(e){return e!==null&&!Es(e)&&e.constructor!==null&&!Es(e.constructor)&&gt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Pc=Ut("ArrayBuffer");function Vh(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Pc(e.buffer),t}const Wh=qo("string"),gt=qo("function"),Ic=qo("number"),Lo=e=>e!==null&&typeof e=="object",Gh=e=>e===!0||e===!1,eo=e=>{if(No(e)!=="object")return!1;const t=vi(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},zh=Ut("Date"),Kh=Ut("File"),Yh=Ut("Blob"),Jh=Ut("FileList"),Xh=e=>Lo(e)&&gt(e.pipe),Zh=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||gt(e.append)&&((t=No(e))==="formdata"||t==="object"&&gt(e.toString)&&e.toString()==="[object FormData]"))},ep=Ut("URLSearchParams"),tp=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ps(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let s,o;if(typeof e!="object"&&(e=[e]),Zn(e))for(s=0,o=e.length;s<o;s++)t.call(null,e[s],s,e);else{const r=n?Object.getOwnPropertyNames(e):Object.keys(e),i=r.length;let l;for(s=0;s<i;s++)l=r[s],t.call(null,e[l],l,e)}}function Nc(e,t){t=t.toLowerCase();const n=Object.keys(e);let s=n.length,o;for(;s-- >0;)if(o=n[s],t===o.toLowerCase())return o;return null}const qc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Lc=e=>!Es(e)&&e!==qc;function Rr(){const{caseless:e}=Lc(this)&&this||{},t={},n=(s,o)=>{const r=e&&Nc(t,o)||o;eo(t[r])&&eo(s)?t[r]=Rr(t[r],s):eo(s)?t[r]=Rr({},s):Zn(s)?t[r]=s.slice():t[r]=s};for(let s=0,o=arguments.length;s<o;s++)arguments[s]&&Ps(arguments[s],n);return t}const np=(e,t,n,{allOwnKeys:s}={})=>(Ps(t,(o,r)=>{n&&gt(o)?e[r]=Rc(o,n):e[r]=o},{allOwnKeys:s}),e),sp=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),op=(e,t,n,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},rp=(e,t,n,s)=>{let o,r,i;const l={};if(t=t||{},e==null)return t;do{for(o=Object.getOwnPropertyNames(e),r=o.length;r-- >0;)i=o[r],(!s||s(i,e,t))&&!l[i]&&(t[i]=e[i],l[i]=!0);e=n!==!1&&vi(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},ip=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const s=e.indexOf(t,n);return s!==-1&&s===n},ap=e=>{if(!e)return null;if(Zn(e))return e;let t=e.length;if(!Ic(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},lp=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&vi(Uint8Array)),cp=(e,t)=>{const s=(e&&e[Symbol.iterator]).call(e);let o;for(;(o=s.next())&&!o.done;){const r=o.value;t.call(e,r[0],r[1])}},up=(e,t)=>{let n;const s=[];for(;(n=e.exec(t))!==null;)s.push(n);return s},dp=Ut("HTMLFormElement"),fp=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,o){return s.toUpperCase()+o}),Sa=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),hp=Ut("RegExp"),Dc=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),s={};Ps(n,(o,r)=>{let i;(i=t(o,r,e))!==!1&&(s[r]=i||o)}),Object.defineProperties(e,s)},pp=e=>{Dc(e,(t,n)=>{if(gt(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=e[n];if(gt(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},mp=(e,t)=>{const n={},s=o=>{o.forEach(r=>{n[r]=!0})};return Zn(e)?s(e):s(String(e).split(t)),n},yp=()=>{},gp=(e,t)=>(e=+e,Number.isFinite(e)?e:t),tr="abcdefghijklmnopqrstuvwxyz",$a="0123456789",Bc={DIGIT:$a,ALPHA:tr,ALPHA_DIGIT:tr+tr.toUpperCase()+$a},vp=(e=16,t=Bc.ALPHA_DIGIT)=>{let n="";const{length:s}=t;for(;e--;)n+=t[Math.random()*s|0];return n};function _p(e){return!!(e&&gt(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const bp=e=>{const t=new Array(10),n=(s,o)=>{if(Lo(s)){if(t.indexOf(s)>=0)return;if(!("toJSON"in s)){t[o]=s;const r=Zn(s)?[]:{};return Ps(s,(i,l)=>{const c=n(i,o+1);!Es(c)&&(r[l]=c)}),t[o]=void 0,r}}return s};return n(e,0)},wp=Ut("AsyncFunction"),xp=e=>e&&(Lo(e)||gt(e))&&gt(e.then)&&gt(e.catch),T={isArray:Zn,isArrayBuffer:Pc,isBuffer:Hh,isFormData:Zh,isArrayBufferView:Vh,isString:Wh,isNumber:Ic,isBoolean:Gh,isObject:Lo,isPlainObject:eo,isUndefined:Es,isDate:zh,isFile:Kh,isBlob:Yh,isRegExp:hp,isFunction:gt,isStream:Xh,isURLSearchParams:ep,isTypedArray:lp,isFileList:Jh,forEach:Ps,merge:Rr,extend:np,trim:tp,stripBOM:sp,inherits:op,toFlatObject:rp,kindOf:No,kindOfTest:Ut,endsWith:ip,toArray:ap,forEachEntry:cp,matchAll:up,isHTMLForm:dp,hasOwnProperty:Sa,hasOwnProp:Sa,reduceDescriptors:Dc,freezeMethods:pp,toObjectSet:mp,toCamelCase:fp,noop:yp,toFiniteNumber:gp,findKey:Nc,global:qc,isContextDefined:Lc,ALPHABET:Bc,generateString:vp,isSpecCompliantForm:_p,toJSONObject:bp,isAsyncFn:wp,isThenable:xp};function ye(e,t,n,s,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),s&&(this.request=s),o&&(this.response=o)}T.inherits(ye,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:T.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Uc=ye.prototype,Fc={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Fc[e]={value:e}});Object.defineProperties(ye,Fc);Object.defineProperty(Uc,"isAxiosError",{value:!0});ye.from=(e,t,n,s,o,r)=>{const i=Object.create(Uc);return T.toFlatObject(e,i,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),ye.call(i,e.message,t,n,s,o),i.cause=e,i.name=e.name,r&&Object.assign(i,r),i};const Cp=null;function Pr(e){return T.isPlainObject(e)||T.isArray(e)}function Mc(e){return T.endsWith(e,"[]")?e.slice(0,-2):e}function Aa(e,t,n){return e?e.concat(t).map(function(o,r){return o=Mc(o),!n&&r?"["+o+"]":o}).join(n?".":""):t}function Ep(e){return T.isArray(e)&&!e.some(Pr)}const kp=T.toFlatObject(T,{},null,function(t){return/^is[A-Z]/.test(t)});function Do(e,t,n){if(!T.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=T.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,A){return!T.isUndefined(A[_])});const s=n.metaTokens,o=n.visitor||u,r=n.dots,i=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&T.isSpecCompliantForm(t);if(!T.isFunction(o))throw new TypeError("visitor must be a function");function d(g){if(g===null)return"";if(T.isDate(g))return g.toISOString();if(!c&&T.isBlob(g))throw new ye("Blob is not supported. Use a Buffer instead.");return T.isArrayBuffer(g)||T.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function u(g,_,A){let I=g;if(g&&!A&&typeof g=="object"){if(T.endsWith(_,"{}"))_=s?_:_.slice(0,-2),g=JSON.stringify(g);else if(T.isArray(g)&&Ep(g)||(T.isFileList(g)||T.endsWith(_,"[]"))&&(I=T.toArray(g)))return _=Mc(_),I.forEach(function(G,ie){!(T.isUndefined(G)||G===null)&&t.append(i===!0?Aa([_],ie,r):i===null?_:_+"[]",d(G))}),!1}return Pr(g)?!0:(t.append(Aa(A,_,r),d(g)),!1)}const p=[],m=Object.assign(kp,{defaultVisitor:u,convertValue:d,isVisitable:Pr});function v(g,_){if(!T.isUndefined(g)){if(p.indexOf(g)!==-1)throw Error("Circular reference detected in "+_.join("."));p.push(g),T.forEach(g,function(I,H){(!(T.isUndefined(I)||I===null)&&o.call(t,I,T.isString(H)?H.trim():H,_,m))===!0&&v(I,_?_.concat(H):[H])}),p.pop()}}if(!T.isObject(e))throw new TypeError("data must be an object");return v(e),t}function Oa(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function _i(e,t){this._pairs=[],e&&Do(e,this,t)}const jc=_i.prototype;jc.append=function(t,n){this._pairs.push([t,n])};jc.toString=function(t){const n=t?function(s){return t.call(this,s,Oa)}:Oa;return this._pairs.map(function(o){return n(o[0])+"="+n(o[1])},"").join("&")};function Tp(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Qc(e,t,n){if(!t)return e;const s=n&&n.encode||Tp,o=n&&n.serialize;let r;if(o?r=o(t,n):r=T.isURLSearchParams(t)?t.toString():new _i(t,n).toString(s),r){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+r}return e}class Ra{constructor(){this.handlers=[]}use(t,n,s){return this.handlers.push({fulfilled:t,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){T.forEach(this.handlers,function(s){s!==null&&t(s)})}}const Hc={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Sp=typeof URLSearchParams<"u"?URLSearchParams:_i,$p=typeof FormData<"u"?FormData:null,Ap=typeof Blob<"u"?Blob:null,Op={isBrowser:!0,classes:{URLSearchParams:Sp,FormData:$p,Blob:Ap},protocols:["http","https","file","blob","url","data"]},Vc=typeof window<"u"&&typeof document<"u",Rp=(e=>Vc&&["ReactNative","NativeScript","NS"].indexOf(e)<0)(typeof navigator<"u"&&navigator.product),Pp=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Ip=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Vc,hasStandardBrowserEnv:Rp,hasStandardBrowserWebWorkerEnv:Pp},Symbol.toStringTag,{value:"Module"})),It={...Ip,...Op};function Np(e,t){return Do(e,new It.classes.URLSearchParams,Object.assign({visitor:function(n,s,o,r){return It.isNode&&T.isBuffer(n)?(this.append(s,n.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}function qp(e){return T.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Lp(e){const t={},n=Object.keys(e);let s;const o=n.length;let r;for(s=0;s<o;s++)r=n[s],t[r]=e[r];return t}function Wc(e){function t(n,s,o,r){let i=n[r++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),c=r>=n.length;return i=!i&&T.isArray(o)?o.length:i,c?(T.hasOwnProp(o,i)?o[i]=[o[i],s]:o[i]=s,!l):((!o[i]||!T.isObject(o[i]))&&(o[i]=[]),t(n,s,o[i],r)&&T.isArray(o[i])&&(o[i]=Lp(o[i])),!l)}if(T.isFormData(e)&&T.isFunction(e.entries)){const n={};return T.forEachEntry(e,(s,o)=>{t(qp(s),o,n,0)}),n}return null}function Dp(e,t,n){if(T.isString(e))try{return(t||JSON.parse)(e),T.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(e)}const Is={transitional:Hc,adapter:["xhr","http"],transformRequest:[function(t,n){const s=n.getContentType()||"",o=s.indexOf("application/json")>-1,r=T.isObject(t);if(r&&T.isHTMLForm(t)&&(t=new FormData(t)),T.isFormData(t))return o?JSON.stringify(Wc(t)):t;if(T.isArrayBuffer(t)||T.isBuffer(t)||T.isStream(t)||T.isFile(t)||T.isBlob(t))return t;if(T.isArrayBufferView(t))return t.buffer;if(T.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(r){if(s.indexOf("application/x-www-form-urlencoded")>-1)return Np(t,this.formSerializer).toString();if((l=T.isFileList(t))||s.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Do(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return r||o?(n.setContentType("application/json",!1),Dp(t)):t}],transformResponse:[function(t){const n=this.transitional||Is.transitional,s=n&&n.forcedJSONParsing,o=this.responseType==="json";if(t&&T.isString(t)&&(s&&!this.responseType||o)){const i=!(n&&n.silentJSONParsing)&&o;try{return JSON.parse(t)}catch(l){if(i)throw l.name==="SyntaxError"?ye.from(l,ye.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:It.classes.FormData,Blob:It.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};T.forEach(["delete","get","head","post","put","patch"],e=>{Is.headers[e]={}});const Bp=T.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Up=e=>{const t={};let n,s,o;return e&&e.split(`
`).forEach(function(i){o=i.indexOf(":"),n=i.substring(0,o).trim().toLowerCase(),s=i.substring(o+1).trim(),!(!n||t[n]&&Bp[n])&&(n==="set-cookie"?t[n]?t[n].push(s):t[n]=[s]:t[n]=t[n]?t[n]+", "+s:s)}),t},Pa=Symbol("internals");function as(e){return e&&String(e).trim().toLowerCase()}function to(e){return e===!1||e==null?e:T.isArray(e)?e.map(to):String(e)}function Fp(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(e);)t[s[1]]=s[2];return t}const Mp=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function nr(e,t,n,s,o){if(T.isFunction(s))return s.call(this,t,n);if(o&&(t=n),!!T.isString(t)){if(T.isString(s))return t.indexOf(s)!==-1;if(T.isRegExp(s))return s.test(t)}}function jp(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,s)=>n.toUpperCase()+s)}function Qp(e,t){const n=T.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+n,{value:function(o,r,i){return this[s].call(this,t,o,r,i)},configurable:!0})})}let vt=class{constructor(t){t&&this.set(t)}set(t,n,s){const o=this;function r(l,c,d){const u=as(c);if(!u)throw new Error("header name must be a non-empty string");const p=T.findKey(o,u);(!p||o[p]===void 0||d===!0||d===void 0&&o[p]!==!1)&&(o[p||c]=to(l))}const i=(l,c)=>T.forEach(l,(d,u)=>r(d,u,c));return T.isPlainObject(t)||t instanceof this.constructor?i(t,n):T.isString(t)&&(t=t.trim())&&!Mp(t)?i(Up(t),n):t!=null&&r(n,t,s),this}get(t,n){if(t=as(t),t){const s=T.findKey(this,t);if(s){const o=this[s];if(!n)return o;if(n===!0)return Fp(o);if(T.isFunction(n))return n.call(this,o,s);if(T.isRegExp(n))return n.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=as(t),t){const s=T.findKey(this,t);return!!(s&&this[s]!==void 0&&(!n||nr(this,this[s],s,n)))}return!1}delete(t,n){const s=this;let o=!1;function r(i){if(i=as(i),i){const l=T.findKey(s,i);l&&(!n||nr(s,s[l],l,n))&&(delete s[l],o=!0)}}return T.isArray(t)?t.forEach(r):r(t),o}clear(t){const n=Object.keys(this);let s=n.length,o=!1;for(;s--;){const r=n[s];(!t||nr(this,this[r],r,t,!0))&&(delete this[r],o=!0)}return o}normalize(t){const n=this,s={};return T.forEach(this,(o,r)=>{const i=T.findKey(s,r);if(i){n[i]=to(o),delete n[r];return}const l=t?jp(r):String(r).trim();l!==r&&delete n[r],n[l]=to(o),s[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return T.forEach(this,(s,o)=>{s!=null&&s!==!1&&(n[o]=t&&T.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const s=new this(t);return n.forEach(o=>s.set(o)),s}static accessor(t){const s=(this[Pa]=this[Pa]={accessors:{}}).accessors,o=this.prototype;function r(i){const l=as(i);s[l]||(Qp(o,i),s[l]=!0)}return T.isArray(t)?t.forEach(r):r(t),this}};vt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);T.reduceDescriptors(vt.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[n]=s}}});T.freezeMethods(vt);function sr(e,t){const n=this||Is,s=t||n,o=vt.from(s.headers);let r=s.data;return T.forEach(e,function(l){r=l.call(n,r,o.normalize(),t?t.status:void 0)}),o.normalize(),r}function Gc(e){return!!(e&&e.__CANCEL__)}function Ns(e,t,n){ye.call(this,e??"canceled",ye.ERR_CANCELED,t,n),this.name="CanceledError"}T.inherits(Ns,ye,{__CANCEL__:!0});function Hp(e,t,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?e(n):t(new ye("Request failed with status code "+n.status,[ye.ERR_BAD_REQUEST,ye.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const Vp=It.hasStandardBrowserEnv?{write(e,t,n,s,o,r){const i=[e+"="+encodeURIComponent(t)];T.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),T.isString(s)&&i.push("path="+s),T.isString(o)&&i.push("domain="+o),r===!0&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Wp(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Gp(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function zc(e,t){return e&&!Wp(t)?Gp(e,t):t}const zp=It.hasStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let s;function o(r){let i=r;return t&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return s=o(window.location.href),function(i){const l=T.isString(i)?o(i):i;return l.protocol===s.protocol&&l.host===s.host}}():function(){return function(){return!0}}();function Kp(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Yp(e,t){e=e||10;const n=new Array(e),s=new Array(e);let o=0,r=0,i;return t=t!==void 0?t:1e3,function(c){const d=Date.now(),u=s[r];i||(i=d),n[o]=c,s[o]=d;let p=r,m=0;for(;p!==o;)m+=n[p++],p=p%e;if(o=(o+1)%e,o===r&&(r=(r+1)%e),d-i<t)return;const v=u&&d-u;return v?Math.round(m*1e3/v):void 0}}function Ia(e,t){let n=0;const s=Yp(50,250);return o=>{const r=o.loaded,i=o.lengthComputable?o.total:void 0,l=r-n,c=s(l),d=r<=i;n=r;const u={loaded:r,total:i,progress:i?r/i:void 0,bytes:l,rate:c||void 0,estimated:c&&i&&d?(i-r)/c:void 0,event:o};u[t?"download":"upload"]=!0,e(u)}}const Jp=typeof XMLHttpRequest<"u",Xp=Jp&&function(e){return new Promise(function(n,s){let o=e.data;const r=vt.from(e.headers).normalize();let{responseType:i,withXSRFToken:l}=e,c;function d(){e.cancelToken&&e.cancelToken.unsubscribe(c),e.signal&&e.signal.removeEventListener("abort",c)}let u;if(T.isFormData(o)){if(It.hasStandardBrowserEnv||It.hasStandardBrowserWebWorkerEnv)r.setContentType(!1);else if((u=r.getContentType())!==!1){const[_,...A]=u?u.split(";").map(I=>I.trim()).filter(Boolean):[];r.setContentType([_||"multipart/form-data",...A].join("; "))}}let p=new XMLHttpRequest;if(e.auth){const _=e.auth.username||"",A=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";r.set("Authorization","Basic "+btoa(_+":"+A))}const m=zc(e.baseURL,e.url);p.open(e.method.toUpperCase(),Qc(m,e.params,e.paramsSerializer),!0),p.timeout=e.timeout;function v(){if(!p)return;const _=vt.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders()),I={data:!i||i==="text"||i==="json"?p.responseText:p.response,status:p.status,statusText:p.statusText,headers:_,config:e,request:p};Hp(function(G){n(G),d()},function(G){s(G),d()},I),p=null}if("onloadend"in p?p.onloadend=v:p.onreadystatechange=function(){!p||p.readyState!==4||p.status===0&&!(p.responseURL&&p.responseURL.indexOf("file:")===0)||setTimeout(v)},p.onabort=function(){p&&(s(new ye("Request aborted",ye.ECONNABORTED,e,p)),p=null)},p.onerror=function(){s(new ye("Network Error",ye.ERR_NETWORK,e,p)),p=null},p.ontimeout=function(){let A=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const I=e.transitional||Hc;e.timeoutErrorMessage&&(A=e.timeoutErrorMessage),s(new ye(A,I.clarifyTimeoutError?ye.ETIMEDOUT:ye.ECONNABORTED,e,p)),p=null},It.hasStandardBrowserEnv&&(l&&T.isFunction(l)&&(l=l(e)),l||l!==!1&&zp(m))){const _=e.xsrfHeaderName&&e.xsrfCookieName&&Vp.read(e.xsrfCookieName);_&&r.set(e.xsrfHeaderName,_)}o===void 0&&r.setContentType(null),"setRequestHeader"in p&&T.forEach(r.toJSON(),function(A,I){p.setRequestHeader(I,A)}),T.isUndefined(e.withCredentials)||(p.withCredentials=!!e.withCredentials),i&&i!=="json"&&(p.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&p.addEventListener("progress",Ia(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&p.upload&&p.upload.addEventListener("progress",Ia(e.onUploadProgress)),(e.cancelToken||e.signal)&&(c=_=>{p&&(s(!_||_.type?new Ns(null,e,p):_),p.abort(),p=null)},e.cancelToken&&e.cancelToken.subscribe(c),e.signal&&(e.signal.aborted?c():e.signal.addEventListener("abort",c)));const g=Kp(m);if(g&&It.protocols.indexOf(g)===-1){s(new ye("Unsupported protocol "+g+":",ye.ERR_BAD_REQUEST,e));return}p.send(o||null)})},Ir={http:Cp,xhr:Xp};T.forEach(Ir,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Na=e=>`- ${e}`,Zp=e=>T.isFunction(e)||e===null||e===!1,Kc={getAdapter:e=>{e=T.isArray(e)?e:[e];const{length:t}=e;let n,s;const o={};for(let r=0;r<t;r++){n=e[r];let i;if(s=n,!Zp(n)&&(s=Ir[(i=String(n)).toLowerCase()],s===void 0))throw new ye(`Unknown adapter '${i}'`);if(s)break;o[i||"#"+r]=s}if(!s){const r=Object.entries(o).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let i=t?r.length>1?`since :
`+r.map(Na).join(`
`):" "+Na(r[0]):"as no adapter specified";throw new ye("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return s},adapters:Ir};function or(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ns(null,e)}function qa(e){return or(e),e.headers=vt.from(e.headers),e.data=sr.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Kc.getAdapter(e.adapter||Is.adapter)(e).then(function(s){return or(e),s.data=sr.call(e,e.transformResponse,s),s.headers=vt.from(s.headers),s},function(s){return Gc(s)||(or(e),s&&s.response&&(s.response.data=sr.call(e,e.transformResponse,s.response),s.response.headers=vt.from(s.response.headers))),Promise.reject(s)})}const La=e=>e instanceof vt?{...e}:e;function zn(e,t){t=t||{};const n={};function s(d,u,p){return T.isPlainObject(d)&&T.isPlainObject(u)?T.merge.call({caseless:p},d,u):T.isPlainObject(u)?T.merge({},u):T.isArray(u)?u.slice():u}function o(d,u,p){if(T.isUndefined(u)){if(!T.isUndefined(d))return s(void 0,d,p)}else return s(d,u,p)}function r(d,u){if(!T.isUndefined(u))return s(void 0,u)}function i(d,u){if(T.isUndefined(u)){if(!T.isUndefined(d))return s(void 0,d)}else return s(void 0,u)}function l(d,u,p){if(p in t)return s(d,u);if(p in e)return s(void 0,d)}const c={url:r,method:r,data:r,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(d,u)=>o(La(d),La(u),!0)};return T.forEach(Object.keys(Object.assign({},e,t)),function(u){const p=c[u]||o,m=p(e[u],t[u],u);T.isUndefined(m)&&p!==l||(n[u]=m)}),n}const Yc="1.6.8",bi={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{bi[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const Da={};bi.transitional=function(t,n,s){function o(r,i){return"[Axios v"+Yc+"] Transitional option '"+r+"'"+i+(s?". "+s:"")}return(r,i,l)=>{if(t===!1)throw new ye(o(i," has been removed"+(n?" in "+n:"")),ye.ERR_DEPRECATED);return n&&!Da[i]&&(Da[i]=!0,console.warn(o(i," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(r,i,l):!0}};function em(e,t,n){if(typeof e!="object")throw new ye("options must be an object",ye.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let o=s.length;for(;o-- >0;){const r=s[o],i=t[r];if(i){const l=e[r],c=l===void 0||i(l,r,e);if(c!==!0)throw new ye("option "+r+" must be "+c,ye.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ye("Unknown option "+r,ye.ERR_BAD_OPTION)}}const Nr={assertOptions:em,validators:bi},nn=Nr.validators;let Sn=class{constructor(t){this.defaults=t,this.interceptors={request:new Ra,response:new Ra}}async request(t,n){try{return await this._request(t,n)}catch(s){if(s instanceof Error){let o;Error.captureStackTrace?Error.captureStackTrace(o={}):o=new Error;const r=o.stack?o.stack.replace(/^.+\n/,""):"";s.stack?r&&!String(s.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+r):s.stack=r}throw s}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=zn(this.defaults,n);const{transitional:s,paramsSerializer:o,headers:r}=n;s!==void 0&&Nr.assertOptions(s,{silentJSONParsing:nn.transitional(nn.boolean),forcedJSONParsing:nn.transitional(nn.boolean),clarifyTimeoutError:nn.transitional(nn.boolean)},!1),o!=null&&(T.isFunction(o)?n.paramsSerializer={serialize:o}:Nr.assertOptions(o,{encode:nn.function,serialize:nn.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let i=r&&T.merge(r.common,r[n.method]);r&&T.forEach(["delete","get","head","post","put","patch","common"],g=>{delete r[g]}),n.headers=vt.concat(i,r);const l=[];let c=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(n)===!1||(c=c&&_.synchronous,l.unshift(_.fulfilled,_.rejected))});const d=[];this.interceptors.response.forEach(function(_){d.push(_.fulfilled,_.rejected)});let u,p=0,m;if(!c){const g=[qa.bind(this),void 0];for(g.unshift.apply(g,l),g.push.apply(g,d),m=g.length,u=Promise.resolve(n);p<m;)u=u.then(g[p++],g[p++]);return u}m=l.length;let v=n;for(p=0;p<m;){const g=l[p++],_=l[p++];try{v=g(v)}catch(A){_.call(this,A);break}}try{u=qa.call(this,v)}catch(g){return Promise.reject(g)}for(p=0,m=d.length;p<m;)u=u.then(d[p++],d[p++]);return u}getUri(t){t=zn(this.defaults,t);const n=zc(t.baseURL,t.url);return Qc(n,t.params,t.paramsSerializer)}};T.forEach(["delete","get","head","options"],function(t){Sn.prototype[t]=function(n,s){return this.request(zn(s||{},{method:t,url:n,data:(s||{}).data}))}});T.forEach(["post","put","patch"],function(t){function n(s){return function(r,i,l){return this.request(zn(l||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:r,data:i}))}}Sn.prototype[t]=n(),Sn.prototype[t+"Form"]=n(!0)});let tm=class Jc{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(r){n=r});const s=this;this.promise.then(o=>{if(!s._listeners)return;let r=s._listeners.length;for(;r-- >0;)s._listeners[r](o);s._listeners=null}),this.promise.then=o=>{let r;const i=new Promise(l=>{s.subscribe(l),r=l}).then(o);return i.cancel=function(){s.unsubscribe(r)},i},t(function(r,i,l){s.reason||(s.reason=new Ns(r,i,l),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}static source(){let t;return{token:new Jc(function(o){t=o}),cancel:t}}};function nm(e){return function(n){return e.apply(null,n)}}function sm(e){return T.isObject(e)&&e.isAxiosError===!0}const qr={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(qr).forEach(([e,t])=>{qr[t]=e});function Xc(e){const t=new Sn(e),n=Rc(Sn.prototype.request,t);return T.extend(n,Sn.prototype,t,{allOwnKeys:!0}),T.extend(n,t,null,{allOwnKeys:!0}),n.create=function(o){return Xc(zn(e,o))},n}const Ue=Xc(Is);Ue.Axios=Sn;Ue.CanceledError=Ns;Ue.CancelToken=tm;Ue.isCancel=Gc;Ue.VERSION=Yc;Ue.toFormData=Do;Ue.AxiosError=ye;Ue.Cancel=Ue.CanceledError;Ue.all=function(t){return Promise.all(t)};Ue.spread=nm;Ue.isAxiosError=sm;Ue.mergeConfig=zn;Ue.AxiosHeaders=vt;Ue.formToJSON=e=>Wc(T.isHTMLForm(e)?new FormData(e):e);Ue.getAdapter=Kc.getAdapter;Ue.HttpStatusCode=qr;Ue.default=Ue;const{Axios:VS,AxiosError:WS,CanceledError:GS,isCancel:zS,CancelToken:KS,VERSION:YS,all:JS,Cancel:XS,isAxiosError:ZS,spread:e$,toFormData:t$,AxiosHeaders:n$,HttpStatusCode:zt,formToJSON:s$,getAdapter:o$,mergeConfig:r$}=Ue,rt=gi("auth",()=>{const e=N(),t=N(),n=localStorage.getItem("refreshToken");n&&(e.value=n);const s=r=>{e.value=r,r?localStorage.setItem("refreshToken",r):localStorage.removeItem("refreshToken")};return{accessToken:t,refreshToken:e,storeRefreshToken:s,clear:()=>{s(null),t.value=null}}}),wi=location.hostname==="localhost"?"http://localhost:3005":"https://bitd-vtt-server-production.up.railway.app";console.log("BASE_URL:",wi);const tt=Ue.create({baseURL:wi,timeout:1e4,withCredentials:!0,headers:{"Content-Type":"application/json"}});function om(){rm()}function rm(){tt.interceptors.request.use(async e=>(e||(e={}),e.headers.Authorization=`Bearer ${rt().accessToken}`,e)),tt.interceptors.response.use(e=>e,async e=>{var n,s,o,r;const t=["/auth/token","/account/login","/account/register"];if(((n=e.response)==null?void 0:n.status)===zt.Unauthorized&&!t.includes(e.config.url)){if((s=e.config.url)!=null&&s.includes("/auth/token"))return rt().clear(),Dt.push("/login"),Promise.reject("Invalid refresh token");if(!rt().refreshToken)return Promise.reject(((r=(o=e.response)==null?void 0:o.data)==null?void 0:r.message)||"No refresh token found");await Zc();const i=e.config;return i.headers.Authorization=`Bearer ${rt().accessToken}`,tt(i)}return Promise.reject(e)})}async function Zc(){let e;try{console.log("@fetchAccessToken: refreshToken:",rt().refreshToken),e=await tt.put("/auth/token",{refreshToken:rt().refreshToken})}catch{console.error("Invalid refresh token"),Di();return}rt().accessToken=e.data.accessToken}const Lr=[{id:"791e4a6b-8f2e-41b2-8410-09fdb69d22e2",name:"Crystal",author:"Icons8",source:"https://icons8.com",url:"/images/portrait-images/icons8-crystal-100.png",commonColor:"#8E3E63"},{id:"762c4875-c258-443a-8d88-adeaab82b31c",name:"Joker",author:"Icons8",source:"https://icons8.com",url:"/images/portrait-images/icons8-joker-100.png",commonColor:"#D2649A"},{id:"a1bee44a-c856-4f54-b665-4de8c278d117",name:"Battle",author:"Icons8",source:"https://icons8.com",url:"/images/portrait-images/icons8-battle-100.png",commonColor:"#577B8D"},{id:"7d5f18bc-a32d-4aca-a51d-507b827c8683",name:"Pawn",author:"Icons8",source:"https://icons8.com",url:"/images/portrait-images/icons8-pawn-100.png",commonColor:"#40A578"},{id:"5895f6e3-05b7-42e4-9b5f-19bb3d4ca33e",name:"Rook",author:"Icons8",source:"https://icons8.com",url:"/images/portrait-images/icons8-rook-100.png",commonColor:"#A91D3A"}],xe=gi("user",()=>{const e=N(),t=N(),n=N(!0),s=N(),o=N([]),r=N([...Lr]);return{id:e,username:t,portrait:s,isGuest:n,games:o,clear:()=>{e.value=null,t.value=null,s.value=null,n.value=!0,o.value=[]},portraits:r}}),Be=gi("game",()=>{const e=N(null),t=()=>{e.value=null},n=X(()=>{var s;return(s=e.value)==null?void 0:s.players[xe().id]});return{game:e,userPlayer:n,clear:t}});/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */var im=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,o){s.__proto__=o}||function(s,o){for(var r in o)o.hasOwnProperty(r)&&(s[r]=o[r])},e(t,n)};return function(t,n){e(t,n);function s(){this.constructor=t}t.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}}(),am=Object.prototype.hasOwnProperty;function Dr(e,t){return am.call(e,t)}function Br(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var s=[];for(var o in e)Dr(e,o)&&s.push(o);return s}function ht(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function Ur(e){for(var t=0,n=e.length,s;t<n;){if(s=e.charCodeAt(t),s>=48&&s<=57){t++;continue}return!1}return!0}function xn(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function eu(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function Fr(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(Fr(e[t]))return!0}else if(typeof e=="object"){for(var s=Br(e),o=s.length,r=0;r<o;r++)if(Fr(e[s[r]]))return!0}}return!1}function Ba(e,t){var n=[e];for(var s in t){var o=typeof t[s]=="object"?JSON.stringify(t[s],null,2):t[s];typeof o<"u"&&n.push(s+": "+o)}return n.join(`
`)}var tu=function(e){im(t,e);function t(n,s,o,r,i){var l=this.constructor,c=e.call(this,Ba(n,{name:s,index:o,operation:r,tree:i}))||this;return c.name=s,c.index=o,c.operation=r,c.tree=i,Object.setPrototypeOf(c,l.prototype),c.message=Ba(n,{name:s,index:o,operation:r,tree:i}),c}return t}(Error),De=tu,lm=ht,Fn={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var s=e[t];return delete e[t],{newDocument:n,removed:s}},replace:function(e,t,n){var s=e[t];return e[t]=this.value,{newDocument:n,removed:s}},move:function(e,t,n){var s=ho(n,this.path);s&&(s=ht(s));var o=$n(n,{op:"remove",path:this.from}).removed;return $n(n,{op:"add",path:this.path,value:o}),{newDocument:n,removed:s}},copy:function(e,t,n){var s=ho(n,this.from);return $n(n,{op:"add",path:this.path,value:ht(s)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:ks(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},cm={add:function(e,t,n){return Ur(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){var s=e.splice(t,1);return{newDocument:n,removed:s[0]}},replace:function(e,t,n){var s=e[t];return e[t]=this.value,{newDocument:n,removed:s}},move:Fn.move,copy:Fn.copy,test:Fn.test,_get:Fn._get};function ho(e,t){if(t=="")return e;var n={op:"_get",path:t};return $n(e,n),n.value}function $n(e,t,n,s,o,r){if(n===void 0&&(n=!1),s===void 0&&(s=!0),o===void 0&&(o=!0),r===void 0&&(r=0),n&&(typeof n=="function"?n(t,0,e,t.path):po(t,0)),t.path===""){var i={newDocument:e};if(t.op==="add")return i.newDocument=t.value,i;if(t.op==="replace")return i.newDocument=t.value,i.removed=e,i;if(t.op==="move"||t.op==="copy")return i.newDocument=ho(e,t.from),t.op==="move"&&(i.removed=e),i;if(t.op==="test"){if(i.test=ks(e,t.value),i.test===!1)throw new De("Test operation failed","TEST_OPERATION_FAILED",r,t,e);return i.newDocument=e,i}else{if(t.op==="remove")return i.removed=e,i.newDocument=null,i;if(t.op==="_get")return t.value=e,i;if(n)throw new De("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",r,t,e);return i}}else{s||(e=ht(e));var l=t.path||"",c=l.split("/"),d=e,u=1,p=c.length,m=void 0,v=void 0,g=void 0;for(typeof n=="function"?g=n:g=po;;){if(v=c[u],v&&v.indexOf("~")!=-1&&(v=eu(v)),o&&(v=="__proto__"||v=="prototype"&&u>0&&c[u-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&m===void 0&&(d[v]===void 0?m=c.slice(0,u).join("/"):u==p-1&&(m=t.path),m!==void 0&&g(t,0,e,m)),u++,Array.isArray(d)){if(v==="-")v=d.length;else{if(n&&!Ur(v))throw new De("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",r,t,e);Ur(v)&&(v=~~v)}if(u>=p){if(n&&t.op==="add"&&v>d.length)throw new De("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",r,t,e);var i=cm[t.op].call(t,d,v,e);if(i.test===!1)throw new De("Test operation failed","TEST_OPERATION_FAILED",r,t,e);return i}}else if(u>=p){var i=Fn[t.op].call(t,d,v,e);if(i.test===!1)throw new De("Test operation failed","TEST_OPERATION_FAILED",r,t,e);return i}if(d=d[v],n&&u<p&&(!d||typeof d!="object"))throw new De("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",r,t,e)}}}function Bo(e,t,n,s,o){if(s===void 0&&(s=!0),o===void 0&&(o=!0),n&&!Array.isArray(t))throw new De("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");s||(e=ht(e));for(var r=new Array(t.length),i=0,l=t.length;i<l;i++)r[i]=$n(e,t[i],n,!0,o,i),e=r[i].newDocument;return r.newDocument=e,r}function um(e,t,n){var s=$n(e,t);if(s.test===!1)throw new De("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return s.newDocument}function po(e,t,n,s){if(typeof e!="object"||e===null||Array.isArray(e))throw new De("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(Fn[e.op]){if(typeof e.path!="string")throw new De("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new De('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new De("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new De("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&Fr(e.value))throw new De("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n){if(e.op=="add"){var o=e.path.split("/").length,r=s.split("/").length;if(o!==r+1&&o!==r)throw new De("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==s)throw new De("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if(e.op==="move"||e.op==="copy"){var i={op:"_get",path:e.from,value:void 0},l=nu([i],n);if(l&&l.name==="OPERATION_PATH_UNRESOLVABLE")throw new De("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}}else throw new De("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n)}function nu(e,t,n){try{if(!Array.isArray(e))throw new De("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)Bo(ht(t),ht(e),n||!0);else{n=n||po;for(var s=0;s<e.length;s++)n(e[s],s,t,void 0)}}catch(o){if(o instanceof De)return o;throw o}}function ks(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=Array.isArray(e),s=Array.isArray(t),o,r,i;if(n&&s){if(r=e.length,r!=t.length)return!1;for(o=r;o--!==0;)if(!ks(e[o],t[o]))return!1;return!0}if(n!=s)return!1;var l=Object.keys(e);if(r=l.length,r!==Object.keys(t).length)return!1;for(o=r;o--!==0;)if(!t.hasOwnProperty(l[o]))return!1;for(o=r;o--!==0;)if(i=l[o],!ks(e[i],t[i]))return!1;return!0}return e!==e&&t!==t}const dm=Object.freeze(Object.defineProperty({__proto__:null,JsonPatchError:De,_areEquals:ks,applyOperation:$n,applyPatch:Bo,applyReducer:um,deepClone:lm,getValueByPointer:ho,validate:nu,validator:po},Symbol.toStringTag,{value:"Module"}));/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2021 Joachim Wester
 * MIT license
 */var xi=new WeakMap,fm=function(){function e(t){this.observers=new Map,this.obj=t}return e}(),hm=function(){function e(t,n){this.callback=t,this.observer=n}return e}();function pm(e){return xi.get(e)}function mm(e,t){return e.observers.get(t)}function ym(e,t){e.observers.delete(t.callback)}function gm(e,t){t.unobserve()}function vm(e,t){var n=[],s,o=pm(e);if(!o)o=new fm(e),xi.set(e,o);else{var r=mm(o,t);s=r&&r.observer}if(s)return s;if(s={},o.value=ht(e),t){s.callback=t,s.next=null;var i=function(){Mr(s)},l=function(){clearTimeout(s.next),s.next=setTimeout(i)};typeof window<"u"&&(window.addEventListener("mouseup",l),window.addEventListener("keyup",l),window.addEventListener("mousedown",l),window.addEventListener("keydown",l),window.addEventListener("change",l))}return s.patches=n,s.object=e,s.unobserve=function(){Mr(s),clearTimeout(s.next),ym(o,s),typeof window<"u"&&(window.removeEventListener("mouseup",l),window.removeEventListener("keyup",l),window.removeEventListener("mousedown",l),window.removeEventListener("keydown",l),window.removeEventListener("change",l))},o.observers.set(t,new hm(t,s)),s}function Mr(e,t){t===void 0&&(t=!1);var n=xi.get(e.object);Ci(n.value,e.object,e.patches,"",t),e.patches.length&&Bo(n.value,e.patches);var s=e.patches;return s.length>0&&(e.patches=[],e.callback&&e.callback(s)),s}function Ci(e,t,n,s,o){if(t!==e){typeof t.toJSON=="function"&&(t=t.toJSON());for(var r=Br(t),i=Br(e),l=!1,c=i.length-1;c>=0;c--){var d=i[c],u=e[d];if(Dr(t,d)&&!(t[d]===void 0&&u!==void 0&&Array.isArray(t)===!1)){var p=t[d];typeof u=="object"&&u!=null&&typeof p=="object"&&p!=null&&Array.isArray(u)===Array.isArray(p)?Ci(u,p,n,s+"/"+xn(d),o):u!==p&&(o&&n.push({op:"test",path:s+"/"+xn(d),value:ht(u)}),n.push({op:"replace",path:s+"/"+xn(d),value:ht(p)}))}else Array.isArray(e)===Array.isArray(t)?(o&&n.push({op:"test",path:s+"/"+xn(d),value:ht(u)}),n.push({op:"remove",path:s+"/"+xn(d)}),l=!0):(o&&n.push({op:"test",path:s,value:e}),n.push({op:"replace",path:s,value:t}))}if(!(!l&&r.length==i.length))for(var c=0;c<r.length;c++){var d=r[c];!Dr(e,d)&&t[d]!==void 0&&n.push({op:"add",path:s+"/"+xn(d),value:ht(t[d])})}}}function _m(e,t,n){n===void 0&&(n=!1);var s=[];return Ci(e,t,s,"",n),s}const bm=Object.freeze(Object.defineProperty({__proto__:null,compare:_m,generate:Mr,observe:vm,unobserve:gm},Symbol.toStringTag,{value:"Module"}));Object.assign({},dm,bm,{JsonPatchError:tu,deepClone:ht,escapePathComponent:xn,unescapePathComponent:eu});const Lt=Object.create(null);Lt.open="0";Lt.close="1";Lt.ping="2";Lt.pong="3";Lt.message="4";Lt.upgrade="5";Lt.noop="6";const no=Object.create(null);Object.keys(Lt).forEach(e=>{no[Lt[e]]=e});const jr={type:"error",data:"parser error"},su=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",ou=typeof ArrayBuffer=="function",ru=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Ei=({type:e,data:t},n,s)=>su&&t instanceof Blob?n?s(t):Ua(t,s):ou&&(t instanceof ArrayBuffer||ru(t))?n?s(t):Ua(new Blob([t]),s):s(Lt[e]+(t||"")),Ua=(e,t)=>{const n=new FileReader;return n.onload=function(){const s=n.result.split(",")[1];t("b"+(s||""))},n.readAsDataURL(e)};function Fa(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let rr;function wm(e,t){if(su&&e.data instanceof Blob)return e.data.arrayBuffer().then(Fa).then(t);if(ou&&(e.data instanceof ArrayBuffer||ru(e.data)))return t(Fa(e.data));Ei(e,!1,n=>{rr||(rr=new TextEncoder),t(rr.encode(n))})}const Ma="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ds=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<Ma.length;e++)ds[Ma.charCodeAt(e)]=e;const xm=e=>{let t=e.length*.75,n=e.length,s,o=0,r,i,l,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const d=new ArrayBuffer(t),u=new Uint8Array(d);for(s=0;s<n;s+=4)r=ds[e.charCodeAt(s)],i=ds[e.charCodeAt(s+1)],l=ds[e.charCodeAt(s+2)],c=ds[e.charCodeAt(s+3)],u[o++]=r<<2|i>>4,u[o++]=(i&15)<<4|l>>2,u[o++]=(l&3)<<6|c&63;return d},Cm=typeof ArrayBuffer=="function",ki=(e,t)=>{if(typeof e!="string")return{type:"message",data:iu(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:Em(e.substring(1),t)}:no[n]?e.length>1?{type:no[n],data:e.substring(1)}:{type:no[n]}:jr},Em=(e,t)=>{if(Cm){const n=xm(e);return iu(n,t)}else return{base64:!0,data:e}},iu=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},au="",km=(e,t)=>{const n=e.length,s=new Array(n);let o=0;e.forEach((r,i)=>{Ei(r,!1,l=>{s[i]=l,++o===n&&t(s.join(au))})})},Tm=(e,t)=>{const n=e.split(au),s=[];for(let o=0;o<n.length;o++){const r=ki(n[o],t);if(s.push(r),r.type==="error")break}return s};function Sm(){return new TransformStream({transform(e,t){wm(e,n=>{const s=n.length;let o;if(s<126)o=new Uint8Array(1),new DataView(o.buffer).setUint8(0,s);else if(s<65536){o=new Uint8Array(3);const r=new DataView(o.buffer);r.setUint8(0,126),r.setUint16(1,s)}else{o=new Uint8Array(9);const r=new DataView(o.buffer);r.setUint8(0,127),r.setBigUint64(1,BigInt(s))}e.data&&typeof e.data!="string"&&(o[0]|=128),t.enqueue(o),t.enqueue(n)})}})}let ir;function Qs(e){return e.reduce((t,n)=>t+n.length,0)}function Hs(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let s=0;for(let o=0;o<t;o++)n[o]=e[0][s++],s===e[0].length&&(e.shift(),s=0);return e.length&&s<e[0].length&&(e[0]=e[0].slice(s)),n}function $m(e,t){ir||(ir=new TextDecoder);const n=[];let s=0,o=-1,r=!1;return new TransformStream({transform(i,l){for(n.push(i);;){if(s===0){if(Qs(n)<1)break;const c=Hs(n,1);r=(c[0]&128)===128,o=c[0]&127,o<126?s=3:o===126?s=1:s=2}else if(s===1){if(Qs(n)<2)break;const c=Hs(n,2);o=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),s=3}else if(s===2){if(Qs(n)<8)break;const c=Hs(n,8),d=new DataView(c.buffer,c.byteOffset,c.length),u=d.getUint32(0);if(u>Math.pow(2,21)-1){l.enqueue(jr);break}o=u*Math.pow(2,32)+d.getUint32(4),s=3}else{if(Qs(n)<o)break;const c=Hs(n,o);l.enqueue(ki(r?c:ir.decode(c),t)),s=0}if(o===0||o>e){l.enqueue(jr);break}}}})}const lu=4;function je(e){if(e)return Am(e)}function Am(e){for(var t in je.prototype)e[t]=je.prototype[t];return e}je.prototype.on=je.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};je.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};je.prototype.off=je.prototype.removeListener=je.prototype.removeAllListeners=je.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var s,o=0;o<n.length;o++)if(s=n[o],s===t||s.fn===t){n.splice(o,1);break}return n.length===0&&delete this._callbacks["$"+e],this};je.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],s=1;s<arguments.length;s++)t[s-1]=arguments[s];if(n){n=n.slice(0);for(var s=0,o=n.length;s<o;++s)n[s].apply(this,t)}return this};je.prototype.emitReserved=je.prototype.emit;je.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};je.prototype.hasListeners=function(e){return!!this.listeners(e).length};const mt=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function cu(e,...t){return t.reduce((n,s)=>(e.hasOwnProperty(s)&&(n[s]=e[s]),n),{})}const Om=mt.setTimeout,Rm=mt.clearTimeout;function Uo(e,t){t.useNativeTimers?(e.setTimeoutFn=Om.bind(mt),e.clearTimeoutFn=Rm.bind(mt)):(e.setTimeoutFn=mt.setTimeout.bind(mt),e.clearTimeoutFn=mt.clearTimeout.bind(mt))}const Pm=1.33;function Im(e){return typeof e=="string"?Nm(e):Math.ceil((e.byteLength||e.size)*Pm)}function Nm(e){let t=0,n=0;for(let s=0,o=e.length;s<o;s++)t=e.charCodeAt(s),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(s++,n+=4);return n}function qm(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function Lm(e){let t={},n=e.split("&");for(let s=0,o=n.length;s<o;s++){let r=n[s].split("=");t[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return t}class Dm extends Error{constructor(t,n,s){super(t),this.description=n,this.context=s,this.type="TransportError"}}class Ti extends je{constructor(t){super(),this.writable=!1,Uo(this,t),this.opts=t,this.query=t.query,this.socket=t.socket}onError(t,n,s){return super.emitReserved("error",new Dm(t,n,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=ki(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=qm(t);return n.length?"?"+n:""}}const uu="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Qr=64,Bm={};let ja=0,Vs=0,Qa;function Ha(e){let t="";do t=uu[e%Qr]+t,e=Math.floor(e/Qr);while(e>0);return t}function du(){const e=Ha(+new Date);return e!==Qa?(ja=0,Qa=e):e+"."+Ha(ja++)}for(;Vs<Qr;Vs++)Bm[uu[Vs]]=Vs;let fu=!1;try{fu=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Um=fu;function hu(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||Um))return new XMLHttpRequest}catch{}if(!t)try{return new mt[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function Fm(){}const Mm=function(){return new hu({xdomain:!1}).responseType!=null}();class jm extends Ti{constructor(t){if(super(t),this.polling=!1,typeof location<"u"){const s=location.protocol==="https:";let o=location.port;o||(o=s?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||o!==t.port}const n=t&&t.forceBase64;this.supportsBinary=Mm&&!n,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let s=0;this.polling&&(s++,this.once("pollComplete",function(){--s||n()})),this.writable||(s++,this.once("drain",function(){--s||n()}))}else n()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=s=>{if(this.readyState==="opening"&&s.type==="open"&&this.onOpen(),s.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(s)};Tm(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,km(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=du()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}request(t={}){return Object.assign(t,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new Nt(this.uri(),t)}doWrite(t,n){const s=this.request({method:"POST",data:t});s.on("success",n),s.on("error",(o,r)=>{this.onError("xhr post error",o,r)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,s)=>{this.onError("xhr poll error",n,s)}),this.pollXhr=t}}class Nt extends je{constructor(t,n){super(),Uo(this,n),this.opts=n,this.method=n.method||"GET",this.uri=t,this.data=n.data!==void 0?n.data:null,this.create()}create(){var t;const n=cu(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this.opts.xd;const s=this.xhr=new hu(n);try{s.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let o in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(o)&&s.setRequestHeader(o,this.opts.extraHeaders[o])}}catch{}if(this.method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{s.setRequestHeader("Accept","*/*")}catch{}(t=this.opts.cookieJar)===null||t===void 0||t.addCookies(s),"withCredentials"in s&&(s.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(s.timeout=this.opts.requestTimeout),s.onreadystatechange=()=>{var o;s.readyState===3&&((o=this.opts.cookieJar)===null||o===void 0||o.parseCookies(s)),s.readyState===4&&(s.status===200||s.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof s.status=="number"?s.status:0)},0))},s.send(this.data)}catch(o){this.setTimeoutFn(()=>{this.onError(o)},0);return}typeof document<"u"&&(this.index=Nt.requestsCount++,Nt.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=Fm,t)try{this.xhr.abort()}catch{}typeof document<"u"&&delete Nt.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}Nt.requestsCount=0;Nt.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Va);else if(typeof addEventListener=="function"){const e="onpagehide"in mt?"pagehide":"unload";addEventListener(e,Va,!1)}}function Va(){for(let e in Nt.requests)Nt.requests.hasOwnProperty(e)&&Nt.requests[e].abort()}const Si=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0),Ws=mt.WebSocket||mt.MozWebSocket,Wa=!0,Qm="arraybuffer",Ga=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Hm extends Ti{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),n=this.opts.protocols,s=Ga?{}:cu(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=Wa&&!Ga?n?new Ws(t,n):new Ws(t):new Ws(t,n,s)}catch(o){return this.emitReserved("error",o)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const s=t[n],o=n===t.length-1;Ei(s,this.supportsBinary,r=>{const i={};try{Wa&&this.ws.send(r)}catch{}o&&Si(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=du()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}check(){return!!Ws}}class Vm extends Ti{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(t=>{const n=$m(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=t.readable.pipeThrough(n).getReader(),o=Sm();o.readable.pipeTo(t.writable),this.writer=o.writable.getWriter();const r=()=>{s.read().then(({done:l,value:c})=>{l||(this.onPacket(c),r())}).catch(l=>{})};r();const i={type:"open"};this.query.sid&&(i.data=`{"sid":"${this.query.sid}"}`),this.writer.write(i).then(()=>this.onOpen())})}))}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const s=t[n],o=n===t.length-1;this.writer.write(s).then(()=>{o&&Si(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this.transport)===null||t===void 0||t.close()}}const Wm={websocket:Hm,webtransport:Vm,polling:jm},Gm=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,zm=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Hr(e){if(e.length>2e3)throw"URI too long";const t=e,n=e.indexOf("["),s=e.indexOf("]");n!=-1&&s!=-1&&(e=e.substring(0,n)+e.substring(n,s).replace(/:/g,";")+e.substring(s,e.length));let o=Gm.exec(e||""),r={},i=14;for(;i--;)r[zm[i]]=o[i]||"";return n!=-1&&s!=-1&&(r.source=t,r.host=r.host.substring(1,r.host.length-1).replace(/;/g,":"),r.authority=r.authority.replace("[","").replace("]","").replace(/;/g,":"),r.ipv6uri=!0),r.pathNames=Km(r,r.path),r.queryKey=Ym(r,r.query),r}function Km(e,t){const n=/\/{2,9}/g,s=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&s.splice(0,1),t.slice(-1)=="/"&&s.splice(s.length-1,1),s}function Ym(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,o,r){o&&(n[o]=r)}),n}let pu=class Dn extends je{constructor(t,n={}){super(),this.binaryType=Qm,this.writeBuffer=[],t&&typeof t=="object"&&(n=t,t=null),t?(t=Hr(t),n.hostname=t.host,n.secure=t.protocol==="https"||t.protocol==="wss",n.port=t.port,t.query&&(n.query=t.query)):n.host&&(n.hostname=Hr(n.host).host),Uo(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=n.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Lm(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=lu,n.transport=t,this.id&&(n.sid=this.id);const s=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new Wm[t](s)}open(){let t;if(this.opts.rememberUpgrade&&Dn.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch{this.transports.shift(),this.open();return}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",n=>this.onClose("transport close",n))}probe(t){let n=this.createTransport(t),s=!1;Dn.priorWebsocketSuccess=!1;const o=()=>{s||(n.send([{type:"ping",data:"probe"}]),n.once("packet",p=>{if(!s)if(p.type==="pong"&&p.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Dn.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(u(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const m=new Error("probe error");m.transport=n.name,this.emitReserved("upgradeError",m)}}))};function r(){s||(s=!0,u(),n.close(),n=null)}const i=p=>{const m=new Error("probe error: "+p);m.transport=n.name,r(),this.emitReserved("upgradeError",m)};function l(){i("transport closed")}function c(){i("socket closed")}function d(p){n&&p.name!==n.name&&r()}const u=()=>{n.removeListener("open",o),n.removeListener("error",i),n.removeListener("close",l),this.off("close",c),this.off("upgrading",d)};n.once("open",o),n.once("error",i),n.once("close",l),this.once("close",c),this.once("upgrading",d),this.upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{s||n.open()},200):n.open()}onOpen(){if(this.readyState="open",Dn.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let t=0;const n=this.upgrades.length;for(;t<n;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),this.resetPingTimeout(),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const n=new Error("server error");n.code=t.data,this.onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let s=0;s<this.writeBuffer.length;s++){const o=this.writeBuffer[s].data;if(o&&(n+=Im(o)),s>0&&n>this.maxPayload)return this.writeBuffer.slice(0,s);n+=2}return this.writeBuffer}write(t,n,s){return this.sendPacket("message",t,n,s),this}send(t,n,s){return this.sendPacket("message",t,n,s),this}sendPacket(t,n,s,o){if(typeof n=="function"&&(o=n,n=void 0),typeof s=="function"&&(o=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;const r={type:t,data:n,options:s};this.emitReserved("packetCreate",r),this.writeBuffer.push(r),o&&this.once("flush",o),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},s=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():t()}):this.upgrading?s():t()),this}onError(t){Dn.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,n){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const n=[];let s=0;const o=t.length;for(;s<o;s++)~this.transports.indexOf(t[s])&&n.push(t[s]);return n}};pu.protocol=lu;function Jm(e,t="",n){let s=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),s=Hr(e)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const r=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+r+":"+s.port+t,s.href=s.protocol+"://"+r+(n&&n.port===s.port?"":":"+s.port),s}const Xm=typeof ArrayBuffer=="function",Zm=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,mu=Object.prototype.toString,ey=typeof Blob=="function"||typeof Blob<"u"&&mu.call(Blob)==="[object BlobConstructor]",ty=typeof File=="function"||typeof File<"u"&&mu.call(File)==="[object FileConstructor]";function $i(e){return Xm&&(e instanceof ArrayBuffer||Zm(e))||ey&&e instanceof Blob||ty&&e instanceof File}function so(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,s=e.length;n<s;n++)if(so(e[n]))return!0;return!1}if($i(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return so(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&so(e[n]))return!0;return!1}function ny(e){const t=[],n=e.data,s=e;return s.data=Vr(n,t),s.attachments=t.length,{packet:s,buffers:t}}function Vr(e,t){if(!e)return e;if($i(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let s=0;s<e.length;s++)n[s]=Vr(e[s],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=Vr(e[s],t));return n}return e}function sy(e,t){return e.data=Wr(e.data,t),delete e.attachments,e}function Wr(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=Wr(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=Wr(e[n],t));return e}const oy=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],ry=5;var pe;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(pe||(pe={}));class iy{constructor(t){this.replacer=t}encode(t){return(t.type===pe.EVENT||t.type===pe.ACK)&&so(t)?this.encodeAsBinary({type:t.type===pe.EVENT?pe.BINARY_EVENT:pe.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===pe.BINARY_EVENT||t.type===pe.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=ny(t),s=this.encodeAsString(n.packet),o=n.buffers;return o.unshift(s),o}}function za(e){return Object.prototype.toString.call(e)==="[object Object]"}class Ai extends je{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const s=n.type===pe.BINARY_EVENT;s||n.type===pe.BINARY_ACK?(n.type=s?pe.EVENT:pe.ACK,this.reconstructor=new ay(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if($i(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const s={type:Number(t.charAt(0))};if(pe[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===pe.BINARY_EVENT||s.type===pe.BINARY_ACK){const r=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const i=t.substring(r,n);if(i!=Number(i)||t.charAt(n)!=="-")throw new Error("Illegal attachments");s.attachments=Number(i)}if(t.charAt(n+1)==="/"){const r=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););s.nsp=t.substring(r,n)}else s.nsp="/";const o=t.charAt(n+1);if(o!==""&&Number(o)==o){const r=n+1;for(;++n;){const i=t.charAt(n);if(i==null||Number(i)!=i){--n;break}if(n===t.length)break}s.id=Number(t.substring(r,n+1))}if(t.charAt(++n)){const r=this.tryParse(t.substr(n));if(Ai.isPayloadValid(s.type,r))s.data=r;else throw new Error("invalid payload")}return s}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case pe.CONNECT:return za(n);case pe.DISCONNECT:return n===void 0;case pe.CONNECT_ERROR:return typeof n=="string"||za(n);case pe.EVENT:case pe.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&oy.indexOf(n[0])===-1);case pe.ACK:case pe.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class ay{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=sy(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const ly=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Ai,Encoder:iy,get PacketType(){return pe},protocol:ry},Symbol.toStringTag,{value:"Module"}));function xt(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const cy=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class yu extends je{constructor(t,n,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[xt(t,"open",this.onopen.bind(this)),xt(t,"packet",this.onpacket.bind(this)),xt(t,"error",this.onerror.bind(this)),xt(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){if(cy.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const s={type:pe.EVENT,data:n};if(s.options={},s.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const i=this.ids++,l=n.pop();this._registerAckCallback(i,l),s.id=i}const o=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!o||!this.connected)||(this.connected?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(t,n){var s;const o=(s=this.flags.timeout)!==null&&s!==void 0?s:this._opts.ackTimeout;if(o===void 0){this.acks[t]=n;return}const r=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===t&&this.sendBuffer.splice(l,1);n.call(this,new Error("operation has timed out"))},o),i=(...l)=>{this.io.clearTimeoutFn(r),n.apply(this,l)};i.withError=!0,this.acks[t]=i}emitWithAck(t,...n){return new Promise((s,o)=>{const r=(i,l)=>i?o(i):s(l);r.withError=!0,n.push(r),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((o,...r)=>s!==this._queue[0]?void 0:(o!==null?s.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(o)):(this._queue.shift(),n&&n(null,...r)),s.pending=!1,this._drainQueue())),this._queue.push(s),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:pe.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(s=>String(s.id)===t)){const s=this.acks[t];delete this.acks[t],s.withError&&s.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case pe.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case pe.EVENT:case pe.BINARY_EVENT:this.onevent(t);break;case pe.ACK:case pe.BINARY_ACK:this.onack(t);break;case pe.DISCONNECT:this.ondisconnect();break;case pe.CONNECT_ERROR:this.destroy();const s=new Error(t.data.message);s.data=t.data.data,this.emitReserved("connect_error",s);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const s of n)s.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let s=!1;return function(...o){s||(s=!0,n.packet({type:pe.ACK,id:t,data:o}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(delete this.acks[t.id],n.withError&&t.data.unshift(null),n.apply(this,t.data))}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:pe.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let s=0;s<n.length;s++)if(t===n[s])return n.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let s=0;s<n.length;s++)if(t===n[s])return n.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const s of n)s.apply(this,t.data)}}}function es(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}es.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};es.prototype.reset=function(){this.attempts=0};es.prototype.setMin=function(e){this.ms=e};es.prototype.setMax=function(e){this.max=e};es.prototype.setJitter=function(e){this.jitter=e};class Gr extends je{constructor(t,n){var s;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Uo(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((s=n.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new es({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const o=n.parser||ly;this.encoder=new o.Encoder,this.decoder=new o.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new pu(this.uri,this.opts);const n=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const o=xt(n,"open",function(){s.onopen(),t&&t()}),r=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),t?t(l):this.maybeReconnectOnOpen()},i=xt(n,"error",r);if(this._timeout!==!1){const l=this._timeout,c=this.setTimeoutFn(()=>{o(),r(new Error("timeout")),n.close()},l);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(o),this.subs.push(i),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(xt(t,"ping",this.onping.bind(this)),xt(t,"data",this.ondata.bind(this)),xt(t,"error",this.onerror.bind(this)),xt(t,"close",this.onclose.bind(this)),xt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){Si(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let s=this.nsps[t];return s?this._autoConnect&&!s.active&&s.connect():(s=new yu(this,t,n),this.nsps[t]=s),s}_destroy(t){const n=Object.keys(this.nsps);for(const s of n)if(this.nsps[s].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let s=0;s<n.length;s++)this.engine.write(n[s],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,n){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(o=>{o?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",o)):t.onreconnect()}))},n);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const ls={};function oo(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=Jm(e,t.path||"/socket.io"),s=n.source,o=n.id,r=n.path,i=ls[o]&&r in ls[o].nsps,l=t.forceNew||t["force new connection"]||t.multiplex===!1||i;let c;return l?c=new Gr(s,t):(ls[o]||(ls[o]=new Gr(s,t)),c=ls[o]),n.query&&!t.query&&(t.query=n.queryKey),c.socket(n.path,t)}Object.assign(oo,{Manager:Gr,Socket:yu,io:oo,connect:oo});let wt=null;function uy(e){console.log("@game-controller: connectToGame"),U.open(Rs),wt&&(wt.disconnect(),wt=null);const t={query:{gameId:e,token:rt().refreshToken}};wt=oo(wi,t),wt.on("connect",hy),wt.on("disconnect",py),wt.on("patch",fy),wt.on("error",my),U.close()}function dy(){wt&&(wt.disconnect(),wt=null,Be().clear())}function fy(e){try{const{patches:t}=e;console.log("@game-controller: onReceivePatch:",t),Be().game=Bo(Be().game||{},t).newDocument}catch(t){console.error("Failed to patch:",t);return}}function hy(){console.log("@game-controller: onOpen")}function py(){console.log("@game-controller: onClose")}function my(e){console.log("@game-controller: onError:",e)}async function Pe(e){var t;await tt.patch(`/game/${(t=Be().game)==null?void 0:t._id}`,e)}const Fo=[{id:"46c018c0-de33-4bd2-9024-71548b22db7e",name:"Forest",author:"Dan Meyers",source:"https://unsplash.com/photos/tall-trees-wB6B3AqXjy0",url:"/images/cover-images/forest.jpg",commonColor:"#8b7d73"},{id:"9131e281-184e-4e2d-8994-8536f9d3c0d0",name:"Forest 2",author:"Simon Berger",source:"https://unsplash.com/photos/grayscale-photo-of-trees-and-pathway-rydQVdwcgUQ",url:"/images/cover-images/forest-2.jpg",commonColor:"#7f7f7f"},{id:"2e2ec06d-97b4-4cce-b88d-a58c10b8bef8",name:"Castle",author:"Cederic Vandenberghe",source:"https://unsplash.com/photos/closeup-photo-of-castle-with-mist-21DP3hytVHw",url:"/images/cover-images/castle.jpg",commonColor:"#3f7690"},{id:"230ecd94-c69b-4444-a7e2-2585a2652051",name:"Broadsword",author:"Jonathan Kemper",source:"https://unsplash.com/photos/brown-wooden-handle-bar-on-brown-wooden-table-4_ZvmLAeIZk",url:"/images/cover-images/broadsword.jpg",commonColor:"#6c4c34"},{id:"16761f54-5c0c-4f56-8274-f04af8e7f33e",name:"Warband",author:"Hasan Almasi",source:"https://unsplash.com/photos/people-gathering-on-street-during-nighttime-OwqLxCvoVxI",url:"/images/cover-images/warband.jpg",commonColor:"#c34e33"}],yy=e=>(Ce("data-v-bc5094d5"),e=e(),Ee(),e),gy=["src"],vy={class:"game-card__content"},_y={class:"row info"},by={class:"tag"},wy={class:"row users"},xy=yy(()=>a("i",{class:"fas fa-users"},null,-1)),Cy={class:"date-created"},Ey=re({__name:"GameCard",props:{game:{type:Object,required:!0}},setup(e){const t=e,n=X(()=>Fo.find(r=>r.id===t.game.coverImage)),s=X(()=>t.game.players[xe().id]),o=X(()=>new Date(t.game.dateCreated).toLocaleDateString());return(r,i)=>{var l,c;return w(),C("div",{class:"game-card",style:Bt({backgroundColor:(l=n.value)==null?void 0:l.commonColor})},[a("img",{src:(c=n.value)==null?void 0:c.url},null,8,gy),a("div",vy,[a("h2",null,R(t.game.name),1),a("div",_y,[a("span",by,R(s.value.role),1),a("div",wy,[xy,a("span",null,R(Object.keys(t.game.players).length),1)]),a("p",Cy,R(o.value),1)])])],4)}}}),ky=le(Ey,[["__scopeId","data-v-bc5094d5"]]),Ty=e=>(Ce("data-v-3245c5b7"),e=e(),Ee(),e),Sy={class:"ribbon__content"},$y=["innerHTML"],Ay=Ty(()=>a("i",{class:"fas fa-times"},null,-1)),Oy=[Ay],Ry=re({__name:"Ribbon",props:{id:{},message:{},onActivate:{type:Function}},setup(e){const t=e;function n(){localStorage.setItem("ribbon."+t.id,"true"),s.value=!1}const s=N(!localStorage.getItem("ribbon."+t.id));return(o,r)=>(w(),C("div",{class:oe(["ribbon",{"ribbon--hidden":!s.value}])},[a("div",Sy,[a("p",{innerHTML:o.message,onClick:r[0]||(r[0]=(...i)=>o.onActivate&&o.onActivate(...i))},null,8,$y),a("button",{class:"btn btn--icon",onClick:n},Oy)])],2))}}),Py=le(Ry,[["__scopeId","data-v-3245c5b7"]]),Iy="/images/fitd-logo.webp",Ny={},Oi=e=>(Ce("data-v-ba692196"),e=e(),Ee(),e),qy={class:"divider"},Ly=Oi(()=>a("div",{class:"line"},null,-1)),Dy=Oi(()=>a("div",{class:"middle-symbol"},"",-1)),By=Oi(()=>a("div",{class:"line"},null,-1)),Uy=[Ly,Dy,By];function Fy(e,t){return w(),C("div",qy,Uy)}const jt=le(Ny,[["render",Fy],["__scopeId","data-v-ba692196"]]),My={},jy={class:"modal"},Qy={class:"modal__content"};function Hy(e,t){return w(),C("div",jy,[xs(e.$slots,"header",{},void 0),a("div",Qy,[xs(e.$slots,"content",{},void 0)])])}const Ke=le(My,[["render",Hy],["__scopeId","data-v-16f47290"]]),Vy=e=>(Ce("data-v-b77cb2fd"),e=e(),Ee(),e),Wy={class:"modal__header"},Gy=Vy(()=>a("i",{class:"fas fa-times"},null,-1)),zy=[Gy],Ky=re({__name:"ModalHeader",props:{closeButton:Boolean,closeButtonAction:Function},setup(e){const t=e;function n(){t.closeButtonAction?t.closeButtonAction():U.close()}return(s,o)=>(w(),C("div",Wy,[xs(s.$slots,"default",{},void 0),e.closeButton?(w(),C("button",{key:0,class:"btn--icon",onClick:n},zy)):z("",!0)]))}}),Ye=le(Ky,[["__scopeId","data-v-b77cb2fd"]]),Kt=e=>(Ce("data-v-31f53e2d"),e=e(),Ee(),e),Yy=Kt(()=>a("h2",null,"Attribution",-1)),Jy={class:"attribution"},Xy=Kt(()=>a("p",null,[ne(" This work is based on "),a("a",{class:"anchor-link",href:"http://www.bladesinthedark.com/",target:"_blank"}," Blades in the Dark "),ne(" , product of One Seven Design, developed and authored by John Harper, and licensed for our use under the "),a("a",{class:"anchor-link",href:"http://creativecommons.org/licenses/by/3.0/",target:"_blank"}," Creative Commons Attribution 3.0 Unported license ")],-1)),Zy=Kt(()=>a("p",null,[ne(" This website is made and maintained by "),a("a",{class:"anchor-link",href:"https://olinkirk.land",target:"_blank"},"OlinKirkland")],-1)),eg=Kt(()=>a("img",{src:Iy},null,-1)),tg=Kt(()=>a("p",null," Blades in the Dark is a trademark of One Seven Design. The Forged in the Dark Logo is  One Seven Design, and is used with permission ",-1)),ng=Kt(()=>a("p",{class:"images-description"},[ne(" Illustrations are by "),a("a",{class:"anchor-link",href:"https://www.reddit.com/user/perryphery/submitted/",target:"_blank"},"u/perryphery on Reddit")],-1)),sg=Kt(()=>a("p",{class:"images-description"},[ne(" Cover images are from "),a("a",{class:"anchor-link",href:"https://unsplash.com/",target:"_blank"},"Unsplash")],-1)),og={class:"images"},rg=["href"],ig=["src"],ag=Kt(()=>a("br",null,null,-1)),lg={class:"muted"},cg=Kt(()=>a("p",{class:"images-description"},[ne(" Icons are from "),a("a",{class:"anchor-link",href:"https://fontawesome.com/",target:"_blank"},"Font Awesome"),ne(" and "),a("a",{class:"anchor-link",href:"https://icons8.com/"},"Icons8")],-1)),ug=re({__name:"AttributionModal",setup(e){new Date().getFullYear();const t=n=>{const[s,o]=n.split(" ");return o?`${s} ${o[0]}.`:s};return(n,s)=>(w(),de(Ke,null,{header:L(()=>[$(Ye,{closeButton:""},{default:L(()=>[Yy]),_:1})]),content:L(()=>[a("div",Jy,[Xy,$(jt),Zy,$(jt),eg,tg,$(jt),ng,$(jt),sg,a("ul",og,[(w(!0),C(ee,null,me(Q(Fo),o=>(w(),C("li",{key:o.id},[a("a",{href:o.source,target:"_blank"},[a("img",{src:o.url},null,8,ig),a("p",null,[ne(R(o.name),1),ag,a("span",lg,"by "+R(t(o.author)),1)])],8,rg)]))),128))]),$(jt),cg,ne("  ")])]),_:1}))}}),gu=le(ug,[["__scopeId","data-v-31f53e2d"]]),dg={crew:{reputations:["Ambitious","Brutal","Daring","Honorable","Professional","Savvy","Subtle","Strange"],lairs:[{name:"A crumbling watch tower",districts:["Six Towers","Crow's Foot","Coalridge"]},{name:"A half-sunken grotto beneath the city",districts:["Charterhall","Nightmarket","Barrowcleft"]},{name:"A dilapidated lighthouse",districts:["The Docks","Nightmarket","Crow's Foot"]},{name:"Backrooms of a merchant's shop",districts:["Silkshore","Brightstone","Six Towers"]},{name:"A junked rail car",districts:["Dunslough","Charhollow","Coalridge"]},{name:"A rickety, tin-roofed shack",districts:["Silkshore","Charterhall"]},{name:"A small, abandoned house",districts:["Charterhall","Six Towers","Brightstone"]},{name:"Derelict ship, anchored in the canal",districts:["The Docks","Nightmarket","Crow's Foot"]},{name:"Tunnels beneath a bridge",districts:["Crow's Foot","Charterhall","Barrowcleft"]}],"upgrade-descriptions":{crew:{"assassin-rigging":"You get 2 free load worth of weapon or gear items. For example, you could carry a pistol (a weapon) and burglary tools (gear) for zero load.","ironhook-contacts":"Your Tier is effectively +1 higher in prison. This counts for any Tier-related element in prison, including the incarceration roll.","elite-skulks":"All of your cohorts with the Skulks type get +1d to quality rolls for Skulk-related actions.","elite-thugs":"All of your cohorts with the Thugs type get +1d to quality rolls for Thug-related actions.",hardened:"Each PC gets +1 trauma box. This costs three upgrades to unlock, not just one. This may bring a PC with 4 trauma back into play if you wish.","bravos-rigging":"You get 2 free load worth of weapon or armor items. For example, you could carry a sword & pistol or wear normal armor for zero load.","elite-rovers":"All of your cohorts with the Rovers type get +1d to quality rolls for Rover-related actions.","cult-rigging":"You get 2 free load worth of document or implement items. For example, you could carry a profane book of curses and a demon's hand for zero load.","ritual-sanctum-in-lair":"This counts as a sacred and arcane workshop for occult practices and rituals.","elite-adepts":"All of your cohorts with the Adepts type get +1d to quality rolls for Adept-related actions.",ordained:"Each PC gets +1 trauma box. This costs three upgrades to unlock, not just one. This may bring a PC with 4 trauma back into play if you wish.","hawker-rigging":"One carried item is concealed and has no load. For example, you could carry a load of drugs or a weapon, perfectly concealed, for zero load.","elite-rooks":"All of your cohorts with the Rooks type get +1d to quality rolls for Rook-related actions.",composed:"Each PC gets +1 stress box. This costs three upgrades to unlock, not just one.","thief-rigging":"You get 2 free load worth of tool or gear items. For example, you could carry burglary gear and tinkering tools for zero load.","underground-maps-and-passkeys":"You have easy passage through the underground canals, tunnels, and basements of the city.",steady:"Each PC gets +1 stress box. This costs three upgrades to unlock, not just one.","smuggler-rigging":"Two of your carried items are perfectly concealed. For example, you could carry 1 load of contraband and a pistol, perfectly concealed, even against a pat down.",camouflage:"Your vehicles are perfectly concealed when at rest. They blend in as part of the environment, or as an uninteresting civilian vehicle (your choice).",barge:"Add mobility to your lair. You can move it to a new location as a downtime activity."},categories:{lair:"Lair upgrades improve the crew's lair, making it more secure, more useful, or more comfortable.",training:"Training upgrades improve the crew's ability to earn xp during downtime.",quality:"improves the quality rating of all the PCs items of that type, beyond the quality established by the crew's Tier and fine items"},lair:{"boat-house":"You have a boat, a dock on a waterway, and a small shack to store boating supplies. A second upgrade improves the boat with armor and more cargo capacity.","carriage-house":"You have a carriage, two goats to pull it, and a stable. A second upgrade improves the carriage with armor and larger, swifter goats. Horses are very rare in Doskvolmost carriages in the city use the large Akorosian goat as their draft animal.",cohort:"A cohort is a gang or a single expert NPC who works for your crew.","hidden-lair":"Your lair has a secret location and is disguised to hide it from view. If your lair is discovered, use two downtime activities and pay coin equal to your Tier to relocate it and hide it once again.",quarters:"Your lair includes living quarters for the crew. Without this upgrade, each PC sleeps elsewhere, and is vulnerable when they do so.","secure-lair":"Your lair has locks, alarms, and traps to thwart intruders. A second upgrade improves the defenses to include arcane measures that work against spirits. You might roll your crew's Tier if these measures are ever put to the test, to see how well they thwart an intruder.",vault:"Your lair has a secure vault, increasing your storage capacity for coin to 8. A second upgrade increases your capacity to 16. A separate part of your vault can be used as a holding cell.",workshop:"Your lair has a workshop appointed with tools for tinkering and alchemy, as well as a small library of books, documents, and maps. You may accomplish long-term projects with these assets without leaving your lair.",quality:"Each upgrade improves the quality rating of all the PCs' items of that type, beyond the quality established by the crew's Tier and fine items. You can improve the quality of Documents, Gear (covers Burglary Gear and Climbing Gear), Arcane Implements, Subterfuge Supplies, Tools (covers Demolitions Tools and Tinkering Tools), and Weapons. So, if you are Tier 0, with fine lockpicks (+1) and the Quality upgrade for gear (+1), you could contend equally with a Tier II quality lock."},training:{insight:"Earn 2 xp (instead of 1) when you train your Insight during downtime.",prowess:"Earn 2 xp (instead of 1) when you train your Prowess during downtime.",resolve:"Earn 2 xp (instead of 1) when you train your Resolve during downtime.",personal:"Earn 2 xp (instead of 1) when you train your Playbook during downtime.",mastery:"Your crew has access to master level training. You may advance your action ratings to 4 (until you unlock this upgrade, PC action ratings are capped at 3). This costs four upgrade boxes to unlock."},quality:{documents:"Improves the quality rating of all the crew's documents.",gear:"Improves the quality rating of all the crew's Burglary Gear and Climbing Gear.",implements:"Improves the quality rating of all the crew's Arcane Implements.",supplies:"Improves the quality rating of all the crew's Subterfuge Supplies.",tools:"Improves the quality rating of all the crew's Demolitions Tools and Tinkering Tools.",weapons:"Improves the quality rating of all the crew's weapons."}},cohorts:{harm:[{name:"Weakened",description:"Has reduced effect."},{name:"Impaired",description:"Operates with reduced quality (-1d)."},{name:"Broken",description:"Can't do anything until they recover."},{name:"Dead",description:"Destroyed. Spend Coin equal to your Tier +2 to restore."}],expertise:["Doctor","Investigator","Occultist","Assassin","Spy"],edges:[{name:"Fearsome",description:"Terrifying in aspect and reputation."},{name:"Independent",description:"Can be trusted to make good decisions and act on their own initiative."},{name:"Loyal",description:"Can't be bribed or turned against you."},{name:"Tenacious",description:"Won't be deterred from a task."}],flaws:[{name:"Principled",description:"Has an ethic or values that it won't betray."},{name:"Savage",description:"Excessively violent and cruel."},{name:"Unreliable",description:"Not always available, due to other obligations."},{name:"Wild",description:"Drunken and loud-mouthed."}]}}},fg={districts:[{name:"Brightstone",blurb:"The grand mansions and luxury shops of the wealthy elite."},{name:"Charterhall",blurb:"The city's civic offices and the hub for shops, artisans, and commerce."},{name:"Six Towers",blurb:"A formerly rich district, now worn down and dilapidated."},{name:"Silkshore",blurb:"The 'red lamp district' and artist community."},{name:"Nightmarket",blurb:"The trade center for exotic goods imported by rail. Many vendors also trade in illicit goods."},{name:"Crow's Foot",blurb:"A cramped neighborhood of multi-level streets, ruled by gangs."},{name:"The Docks",blurb:"Rough taverns, tattoo parlors, fighting pits, and warehouses."},{name:"Barrowcleft",blurb:"Residences and markets for the farmers who work the fields and eeleries."},{name:"Coalridge",blurb:"The remnants of Doskvol's original hilltop mining settlement, now home to laborers and industrial factories."},{name:"Charhollow",blurb:"A maze of tenements and squalid row houses."},{name:"Dunslough",blurb:"A labor camp served by convicts and a ghetto for the destitute poor."}]},hg={firstNames:["Adric","Aldo","Amison","Andrel","Arcy","Arden","Arilyn","Arquo","Arvus","Ashlyn","Branon","Brace","Brance","Brena","Bricks","Candra","Canter","Carissa","Carro","Casslyn","Cavelle","Clave","Corille","Cross","Crowl","Cyrene","Daphnia","Drav","Edlun","Emeline","Grell","Helles","Hix","Holtz","Kamelin","Kelyr","Kobb","Kristov","Laudius","Lauria","Lenia","Lizete","Lorette","Lucella","Lynthia","Mara","Milos","Morlan","Myre","Narcus","Naria","Noggs","Odrienne","Orlan","Phin","Polonia","Quess","Remira","Ring","Roethe","Sesereth","Sethla","Skannon","Stavrul","Stev","Syra","Talitha","Tesslyn","Thena","Timoth","Tocker","Una","Vaurin","Veleris","Veretta","Vestine","Vey","Volette","Vond","Weaver","Wester","Zamira"],lastNames:["Arran","Athanoch","Basran","Boden","Booker","Ankhayat","Bowmore","Breakiron","Brogan","Clelland","Clermont","Coleburn","Comber","Daava","Dalmore","Danfield","Dunvil","Edrad","Farros","Grine","Haig","Helker","Helles","Hellyers","Jayan","Jeduin","Kardera","Karstas","Keel","Kessarin","Kinclaith","Lomond","Maroden","Michter","Morriston","Penderyn","Prichard","Rowan","Salkara","Sevoy","Skelkallan","Slane","Strangford","Strathmill","Templeton","Tyrconnell","Vale","Vedat","Walund"],deityNames:["The One Within Many","The Silver Fire","The Rapturous Chord","The Fallen Star","The Lord of the Depths","The Silent Song","The Lady of Thorns","Our Blood Spilled in Glory","The Ram","The Empty Vessel","The Closed Eye","The Hand of Sorrow","That Which Hungers","The Thousand Faces","The Web of Pain","The Pillars of Night","The Burned King","The Father of the Abyss","The Forsaken Legion","The Unbroken Sun","The Revelation","The Radiant Word","The Shrouded Queen","The Reconciler","The Cloud of Woe","The Broken Circle","The Conqueror","She Who Slays in Darkness","The Dream Beyond Death","The Blood Dimmed Tide","The Guardian of the Gates","The Maw of the Void","The Keeper of the Flame","The Throne of Judgment","The Lost Crown","The Golden Stag"]},pg={sheets:dg,lexicon:fg,names:hg};async function mg(e,t){try{const n=await tt.post("/game/new",{gameName:e,coverImage:t,codex:pg});if(n.status===zt.Ok)return console.log(n.data),xe().games=n.data,null}catch(n){return n.response.data}}async function yg(){var e;try{if((await tt.post(`/game/${(e=Be().game)==null?void 0:e._id}/leave`)).status===zt.Ok)return Be().clear(),await ns(),null}catch(t){return t.response.data}}function gg(e){const t=Lr.find(s=>s.id==="791e4a6b-8f2e-41b2-8410-09fdb69d22e2");return e&&Lr.find(s=>e===s.id)||t}const vg=["src"],_g=re({__name:"Portrait",props:{portraitId:{}},setup(e){const t=e,n=X(()=>gg(t.portraitId));return(s,o)=>(w(),C("div",{class:"portrait",style:Bt({backgroundColor:n.value.commonColor})},[a("img",{src:n.value.url,alt:"Portrait"},null,8,vg)],4))}}),Mo=le(_g,[["__scopeId","data-v-ce4fddda"]]),qs=e=>(Ce("data-v-90e063bd"),e=e(),Ee(),e),bg=qs(()=>a("h2",null,"Game Preview",-1)),wg={class:"game-preview"},xg=["src"],Cg={class:"overlay"},Eg={class:"row center game-join-bar"},kg={class:"tag"},Tg={class:"row users"},Sg=qs(()=>a("i",{class:"fas fa-users"},null,-1)),$g=qs(()=>a("span",null,"Play",-1)),Ag=[$g],Og=qs(()=>a("h3",null,"Players",-1)),Rg={class:"players-container"},Pg=qs(()=>a("i",{class:"fas fa-circle-notch fa-spin"},null,-1)),Ig=[Pg],Ng=re({__name:"GamePreviewModal",props:{game:{}},setup(e){const t=e,n=X(()=>t.game.players[xe().id]),s=X(()=>Fo.find(r=>r.id===t.game.coverImage));function o(){Dt.push({name:"game",params:{id:t.game._id}}),U.close()}return(r,i)=>(w(),de(Ke,null,{header:L(()=>[$(Ye,{closeButton:""},{default:L(()=>[bg]),_:1})]),content:L(()=>{var l,c;return[a("div",wg,[a("div",{class:"title-block",style:Bt({backgroundColor:(l=s.value)==null?void 0:l.commonColor})},[a("img",{class:"game-preview__cover",src:(c=s.value)==null?void 0:c.url},null,8,xg),a("div",Cg,[a("h1",null,R(r.game.name),1)])],4),a("div",Eg,[a("span",kg,R(n.value.role),1),a("div",Tg,[Sg,a("span",null,R(Object.keys(r.game.players).length),1)]),a("button",{class:"btn mobile-full-width",onClick:o},Ag)]),$(jt),Og,a("div",Rg,[a("div",{class:oe(["row center waiting-players",{collapsed:Object.keys(r.game.players).length>0}])},Ig,2),a("ul",{class:oe(["players",{collapsed:Object.keys(r.game.players).length===0}])},[(w(!0),C(ee,null,me(r.game.players,(d,u)=>(w(),C("li",{class:"row",key:u},[$(Mo,{portraitId:d.portrait},null,8,["portraitId"]),a("span",null,R(d.username),1)]))),128))],2)])])]}),_:1}))}}),vu=le(Ng,[["__scopeId","data-v-90e063bd"]]),In=e=>(Ce("data-v-e3ba015e"),e=e(),Ee(),e),qg=In(()=>a("h2",null,"New Game",-1)),Lg={class:"game"},Dg=In(()=>a("p",null,[ne(" Create a new "),a("em",null,"Blades in the Dark"),ne(" game. "),a("br"),a("span",{class:"muted"}," You can invite players once the game has been created. ")],-1)),Bg={class:"inputs"},Ug={class:"input-group"},Fg=In(()=>a("label",{for:"gameName"},"Game Name",-1)),Mg={key:0,class:"reminder shake-once"},jg={class:"input-group"},Qg=In(()=>a("label",{for:"coverImage"},"Cover Image",-1)),Hg={class:"cover-image-list"},Vg=["onClick"],Wg=["src","onLoad","onError"],Gg={key:0,class:"overlay"},zg={class:"caption"},Kg={key:1,class:"fas fa-check-circle"},Yg={key:0,class:"alert"},Jg=In(()=>a("i",{class:"fas fa-exclamation-circle"},null,-1)),Xg=In(()=>a("i",{class:"fas fa-times"},null,-1)),Zg=[Xg],ev={class:"row center"},tv={key:0,class:"fas fa-circle-notch fa-spin"},nv=In(()=>a("span",null,"Create Game",-1)),sv=re({__name:"CreateGameModal",setup(e){const t=N(Fo.map(u=>({...u,loaded:!1}))),n=N(""),s=N(!1),o=N(""),r=N(!1),i=X(()=>r.value&&o.value.length===0?"Every game should have a name":null),l=N(t.value[0].id),c=X(()=>o.value.length>0);async function d(){if(!c.value&&(!r.value||i.value)){r.value=!0,document.querySelectorAll(".reminder").forEach(m=>{m.classList.remove("shake-once"),m.offsetWidth,m.classList.add("shake-once")});return}s.value=!0,n.value="";const u=await mg(o.value,l.value);s.value=!1,u?n.value=u:U.open(vu,{game:xe().games.find(p=>p.name===o.value)})}return(u,p)=>(w(),de(Ke,{class:oe({disabled:s.value})},{header:L(()=>[$(Ye,{closeButton:""},{default:L(()=>[qg]),_:1})]),content:L(()=>[a("div",Lg,[Dg,a("div",Bg,[a("div",Ug,[Fg,$e(a("input",{type:"text",onInput:p[0]||(p[0]=m=>r.value=!0),onKeyup:Os(d,["enter"]),placeholder:"Enter a name","onUpdate:modelValue":p[1]||(p[1]=m=>o.value=m)},null,544),[[Ae,o.value]]),i.value?(w(),C("span",Mg,R(i.value),1)):z("",!0)]),a("div",jg,[Qg,a("ul",Hg,[(w(!0),C(ee,null,me(t.value,m=>(w(),C("li",{key:m.id},[a("button",{onClick:v=>l.value=m.id,style:Bt({backgroundColor:m.commonColor})},[a("img",{src:m.url,onLoad:v=>m.loaded=!0,onError:v=>m.loaded=!0,class:oe({loaded:m.loaded})},null,42,Wg),l.value===m.id?(w(),C("div",Gg)):z("",!0),a("div",zg,[a("span",null,R(m.name),1)]),l.value===m.id?(w(),C("i",Kg)):z("",!0)],12,Vg)]))),128))])])]),n.value?(w(),C("div",Yg,[Jg,a("span",null,R(n.value),1),a("button",{class:"btn btn--icon close",onClick:p[2]||(p[2]=m=>n.value="")},Zg)])):z("",!0),a("div",ev,[a("button",{class:"btn mobile-full-width",onClick:d},[s.value?(w(),C("i",tv)):z("",!0),nv])])])]),_:1},8,["class"]))}}),ov=le(sv,[["__scopeId","data-v-e3ba015e"]]),_u=e=>(Ce("data-v-4ebc0b1b"),e=e(),Ee(),e),rv={class:"page"},iv={class:"game-list"},av=_u(()=>a("i",{class:"fas fa-folder-plus"},null,-1)),lv=_u(()=>a("span",null,"New Game",-1)),cv=[av,lv],uv=re({__name:"TheHomePage",setup(e){async function t(){U.open(ov)}const n=X(()=>xe().games);function s(o){U.open(vu,{game:o})}return Gt(()=>{ns()}),(o,r)=>(w(),C("div",rv,[$(Py,{id:"welcome-ribbon",message:"<em>Online in the Dark</em> is an unofficial tool designed for playing <em>Blades in the Dark</em> online. Click to view the full attribution.",onActivate:()=>{Q(U).open(gu)}},null,8,["onActivate"]),a("ul",iv,[(w(!0),C(ee,null,me(n.value,i=>(w(),C("li",{key:i._id},[$(ky,{game:i,onClick:l=>s(i)},null,8,["game","onClick"])]))),128)),a("li",null,[a("div",{class:"new-game-card",onClick:t},cv)])])]))}}),dv=le(uv,[["__scopeId","data-v-4ebc0b1b"]]);async function fv(e){U.open(Rs);try{const t=await tt.post(`/invite/${e}`);if(t.status===zt.Ok){const n=t.data.gameId;Dt.push({name:Xr.GAME,params:{id:n}})}}catch(t){console.error(t),Dt.push({name:Xr.HOME}),U.close();return}U.close()}const hv={},pv={class:"panel"};function mv(e,t){return w(),C("div",pv,[xs(e.$slots,"default",{},void 0)])}const bu=le(hv,[["render",mv],["__scopeId","data-v-c9a6184a"]]);/*!
  * vue-router v4.3.2
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Bn=typeof document<"u";function yv(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const Se=Object.assign;function ar(e,t){const n={};for(const s in t){const o=t[s];n[s]=Tt(o)?o.map(e):e(o)}return n}const gs=()=>{},Tt=Array.isArray,wu=/#/g,gv=/&/g,vv=/\//g,_v=/=/g,bv=/\?/g,xu=/\+/g,wv=/%5B/g,xv=/%5D/g,Cu=/%5E/g,Cv=/%60/g,Eu=/%7B/g,Ev=/%7C/g,ku=/%7D/g,kv=/%20/g;function Ri(e){return encodeURI(""+e).replace(Ev,"|").replace(wv,"[").replace(xv,"]")}function Tv(e){return Ri(e).replace(Eu,"{").replace(ku,"}").replace(Cu,"^")}function zr(e){return Ri(e).replace(xu,"%2B").replace(kv,"+").replace(wu,"%23").replace(gv,"%26").replace(Cv,"`").replace(Eu,"{").replace(ku,"}").replace(Cu,"^")}function Sv(e){return zr(e).replace(_v,"%3D")}function $v(e){return Ri(e).replace(wu,"%23").replace(bv,"%3F")}function Av(e){return e==null?"":$v(e).replace(vv,"%2F")}function Ts(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const Ov=/\/$/,Rv=e=>e.replace(Ov,"");function lr(e,t,n="/"){let s,o={},r="",i="";const l=t.indexOf("#");let c=t.indexOf("?");return l<c&&l>=0&&(c=-1),c>-1&&(s=t.slice(0,c),r=t.slice(c+1,l>-1?l:t.length),o=e(r)),l>-1&&(s=s||t.slice(0,l),i=t.slice(l,t.length)),s=qv(s??t,n),{fullPath:s+(r&&"?")+r+i,path:s,query:o,hash:Ts(i)}}function Pv(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Ka(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Iv(e,t,n){const s=t.matched.length-1,o=n.matched.length-1;return s>-1&&s===o&&Kn(t.matched[s],n.matched[o])&&Tu(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Kn(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Tu(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!Nv(e[n],t[n]))return!1;return!0}function Nv(e,t){return Tt(e)?Ya(e,t):Tt(t)?Ya(t,e):e===t}function Ya(e,t){return Tt(t)?e.length===t.length&&e.every((n,s)=>n===t[s]):e.length===1&&e[0]===t}function qv(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),s=e.split("/"),o=s[s.length-1];(o===".."||o===".")&&s.push("");let r=n.length-1,i,l;for(i=0;i<s.length;i++)if(l=s[i],l!==".")if(l==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+s.slice(i).join("/")}var Ss;(function(e){e.pop="pop",e.push="push"})(Ss||(Ss={}));var vs;(function(e){e.back="back",e.forward="forward",e.unknown=""})(vs||(vs={}));function Lv(e){if(!e)if(Bn){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Rv(e)}const Dv=/^[^#]+#/;function Bv(e,t){return e.replace(Dv,"#")+t}function Uv(e,t){const n=document.documentElement.getBoundingClientRect(),s=e.getBoundingClientRect();return{behavior:t.behavior,left:s.left-n.left-(t.left||0),top:s.top-n.top-(t.top||0)}}const jo=()=>({left:window.scrollX,top:window.scrollY});function Fv(e){let t;if("el"in e){const n=e.el,s=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;t=Uv(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Ja(e,t){return(history.state?history.state.position-t:-1)+e}const Kr=new Map;function Mv(e,t){Kr.set(e,t)}function jv(e){const t=Kr.get(e);return Kr.delete(e),t}let Qv=()=>location.protocol+"//"+location.host;function Su(e,t){const{pathname:n,search:s,hash:o}=t,r=e.indexOf("#");if(r>-1){let l=o.includes(e.slice(r))?e.slice(r).length:1,c=o.slice(l);return c[0]!=="/"&&(c="/"+c),Ka(c,"")}return Ka(n,e)+s+o}function Hv(e,t,n,s){let o=[],r=[],i=null;const l=({state:m})=>{const v=Su(e,location),g=n.value,_=t.value;let A=0;if(m){if(n.value=v,t.value=m,i&&i===g){i=null;return}A=_?m.position-_.position:0}else s(v);o.forEach(I=>{I(n.value,g,{delta:A,type:Ss.pop,direction:A?A>0?vs.forward:vs.back:vs.unknown})})};function c(){i=n.value}function d(m){o.push(m);const v=()=>{const g=o.indexOf(m);g>-1&&o.splice(g,1)};return r.push(v),v}function u(){const{history:m}=window;m.state&&m.replaceState(Se({},m.state,{scroll:jo()}),"")}function p(){for(const m of r)m();r=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:c,listen:d,destroy:p}}function Xa(e,t,n,s=!1,o=!1){return{back:e,current:t,forward:n,replaced:s,position:window.history.length,scroll:o?jo():null}}function Vv(e){const{history:t,location:n}=window,s={value:Su(e,n)},o={value:t.state};o.value||r(s.value,{back:null,current:s.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function r(c,d,u){const p=e.indexOf("#"),m=p>-1?(n.host&&document.querySelector("base")?e:e.slice(p))+c:Qv()+e+c;try{t[u?"replaceState":"pushState"](d,"",m),o.value=d}catch(v){console.error(v),n[u?"replace":"assign"](m)}}function i(c,d){const u=Se({},t.state,Xa(o.value.back,c,o.value.forward,!0),d,{position:o.value.position});r(c,u,!0),s.value=c}function l(c,d){const u=Se({},o.value,t.state,{forward:c,scroll:jo()});r(u.current,u,!0);const p=Se({},Xa(s.value,c,null),{position:u.position+1},d);r(c,p,!1),s.value=c}return{location:s,state:o,push:l,replace:i}}function Wv(e){e=Lv(e);const t=Vv(e),n=Hv(e,t.state,t.location,t.replace);function s(r,i=!0){i||n.pauseListeners(),history.go(r)}const o=Se({location:"",base:e,go:s,createHref:Bv.bind(null,e)},t,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t.state.value}),o}function Gv(e){return typeof e=="string"||e&&typeof e=="object"}function $u(e){return typeof e=="string"||typeof e=="symbol"}const sn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Au=Symbol("");var Za;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Za||(Za={}));function Yn(e,t){return Se(new Error,{type:e,[Au]:!0},t)}function Ft(e,t){return e instanceof Error&&Au in e&&(t==null||!!(e.type&t))}const el="[^/]+?",zv={sensitive:!1,strict:!1,start:!0,end:!0},Kv=/[.+*?^${}()[\]/\\]/g;function Yv(e,t){const n=Se({},zv,t),s=[];let o=n.start?"^":"";const r=[];for(const d of e){const u=d.length?[]:[90];n.strict&&!d.length&&(o+="/");for(let p=0;p<d.length;p++){const m=d[p];let v=40+(n.sensitive?.25:0);if(m.type===0)p||(o+="/"),o+=m.value.replace(Kv,"\\$&"),v+=40;else if(m.type===1){const{value:g,repeatable:_,optional:A,regexp:I}=m;r.push({name:g,repeatable:_,optional:A});const H=I||el;if(H!==el){v+=10;try{new RegExp(`(${H})`)}catch(ie){throw new Error(`Invalid custom RegExp for param "${g}" (${H}): `+ie.message)}}let G=_?`((?:${H})(?:/(?:${H}))*)`:`(${H})`;p||(G=A&&d.length<2?`(?:/${G})`:"/"+G),A&&(G+="?"),o+=G,v+=20,A&&(v+=-8),_&&(v+=-20),H===".*"&&(v+=-50)}u.push(v)}s.push(u)}if(n.strict&&n.end){const d=s.length-1;s[d][s[d].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&(o+="(?:/|$)");const i=new RegExp(o,n.sensitive?"":"i");function l(d){const u=d.match(i),p={};if(!u)return null;for(let m=1;m<u.length;m++){const v=u[m]||"",g=r[m-1];p[g.name]=v&&g.repeatable?v.split("/"):v}return p}function c(d){let u="",p=!1;for(const m of e){(!p||!u.endsWith("/"))&&(u+="/"),p=!1;for(const v of m)if(v.type===0)u+=v.value;else if(v.type===1){const{value:g,repeatable:_,optional:A}=v,I=g in d?d[g]:"";if(Tt(I)&&!_)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const H=Tt(I)?I.join("/"):I;if(!H)if(A)m.length<2&&(u.endsWith("/")?u=u.slice(0,-1):p=!0);else throw new Error(`Missing required param "${g}"`);u+=H}}return u||"/"}return{re:i,score:s,keys:r,parse:l,stringify:c}}function Jv(e,t){let n=0;for(;n<e.length&&n<t.length;){const s=t[n]-e[n];if(s)return s;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function Xv(e,t){let n=0;const s=e.score,o=t.score;for(;n<s.length&&n<o.length;){const r=Jv(s[n],o[n]);if(r)return r;n++}if(Math.abs(o.length-s.length)===1){if(tl(s))return 1;if(tl(o))return-1}return o.length-s.length}function tl(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Zv={type:0,value:""},e_=/[a-zA-Z0-9_]/;function t_(e){if(!e)return[[]];if(e==="/")return[[Zv]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(v){throw new Error(`ERR (${n})/"${d}": ${v}`)}let n=0,s=n;const o=[];let r;function i(){r&&o.push(r),r=[]}let l=0,c,d="",u="";function p(){d&&(n===0?r.push({type:0,value:d}):n===1||n===2||n===3?(r.length>1&&(c==="*"||c==="+")&&t(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:d,regexp:u,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):t("Invalid state to consume buffer"),d="")}function m(){d+=c}for(;l<e.length;){if(c=e[l++],c==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:c==="/"?(d&&p(),i()):c===":"?(p(),n=1):m();break;case 4:m(),n=s;break;case 1:c==="("?n=2:e_.test(c)?m():(p(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&l--);break;case 2:c===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+c:n=3:u+=c;break;case 3:p(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&l--,u="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${d}"`),p(),i(),o}function n_(e,t,n){const s=Yv(t_(e.path),n),o=Se(s,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function s_(e,t){const n=[],s=new Map;t=ol({strict:!1,end:!0,sensitive:!1},t);function o(u){return s.get(u)}function r(u,p,m){const v=!m,g=o_(u);g.aliasOf=m&&m.record;const _=ol(t,u),A=[g];if("alias"in u){const G=typeof u.alias=="string"?[u.alias]:u.alias;for(const ie of G)A.push(Se({},g,{components:m?m.record.components:g.components,path:ie,aliasOf:m?m.record:g}))}let I,H;for(const G of A){const{path:ie}=G;if(p&&ie[0]!=="/"){const ce=p.record.path,Z=ce[ce.length-1]==="/"?"":"/";G.path=p.record.path+(ie&&Z+ie)}if(I=n_(G,p,_),m?m.alias.push(I):(H=H||I,H!==I&&H.alias.push(I),v&&u.name&&!sl(I)&&i(u.name)),g.children){const ce=g.children;for(let Z=0;Z<ce.length;Z++)r(ce[Z],I,m&&m.children[Z])}m=m||I,(I.record.components&&Object.keys(I.record.components).length||I.record.name||I.record.redirect)&&c(I)}return H?()=>{i(H)}:gs}function i(u){if($u(u)){const p=s.get(u);p&&(s.delete(u),n.splice(n.indexOf(p),1),p.children.forEach(i),p.alias.forEach(i))}else{const p=n.indexOf(u);p>-1&&(n.splice(p,1),u.record.name&&s.delete(u.record.name),u.children.forEach(i),u.alias.forEach(i))}}function l(){return n}function c(u){let p=0;for(;p<n.length&&Xv(u,n[p])>=0&&(u.record.path!==n[p].record.path||!Ou(u,n[p]));)p++;n.splice(p,0,u),u.record.name&&!sl(u)&&s.set(u.record.name,u)}function d(u,p){let m,v={},g,_;if("name"in u&&u.name){if(m=s.get(u.name),!m)throw Yn(1,{location:u});_=m.record.name,v=Se(nl(p.params,m.keys.filter(H=>!H.optional).concat(m.parent?m.parent.keys.filter(H=>H.optional):[]).map(H=>H.name)),u.params&&nl(u.params,m.keys.map(H=>H.name))),g=m.stringify(v)}else if(u.path!=null)g=u.path,m=n.find(H=>H.re.test(g)),m&&(v=m.parse(g),_=m.record.name);else{if(m=p.name?s.get(p.name):n.find(H=>H.re.test(p.path)),!m)throw Yn(1,{location:u,currentLocation:p});_=m.record.name,v=Se({},p.params,u.params),g=m.stringify(v)}const A=[];let I=m;for(;I;)A.unshift(I.record),I=I.parent;return{name:_,path:g,params:v,matched:A,meta:i_(A)}}return e.forEach(u=>r(u)),{addRoute:r,resolve:d,removeRoute:i,getRoutes:l,getRecordMatcher:o}}function nl(e,t){const n={};for(const s of t)s in e&&(n[s]=e[s]);return n}function o_(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:r_(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function r_(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const s in e.components)t[s]=typeof n=="object"?n[s]:n;return t}function sl(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function i_(e){return e.reduce((t,n)=>Se(t,n.meta),{})}function ol(e,t){const n={};for(const s in e)n[s]=s in t?t[s]:e[s];return n}function Ou(e,t){return t.children.some(n=>n===e||Ou(e,n))}function a_(e){const t={};if(e===""||e==="?")return t;const s=(e[0]==="?"?e.slice(1):e).split("&");for(let o=0;o<s.length;++o){const r=s[o].replace(xu," "),i=r.indexOf("="),l=Ts(i<0?r:r.slice(0,i)),c=i<0?null:Ts(r.slice(i+1));if(l in t){let d=t[l];Tt(d)||(d=t[l]=[d]),d.push(c)}else t[l]=c}return t}function rl(e){let t="";for(let n in e){const s=e[n];if(n=Sv(n),s==null){s!==void 0&&(t+=(t.length?"&":"")+n);continue}(Tt(s)?s.map(r=>r&&zr(r)):[s&&zr(s)]).forEach(r=>{r!==void 0&&(t+=(t.length?"&":"")+n,r!=null&&(t+="="+r))})}return t}function l_(e){const t={};for(const n in e){const s=e[n];s!==void 0&&(t[n]=Tt(s)?s.map(o=>o==null?null:""+o):s==null?s:""+s)}return t}const c_=Symbol(""),il=Symbol(""),Pi=Symbol(""),Ii=Symbol(""),Yr=Symbol("");function cs(){let e=[];function t(s){return e.push(s),()=>{const o=e.indexOf(s);o>-1&&e.splice(o,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function cn(e,t,n,s,o,r=i=>i()){const i=s&&(s.enterCallbacks[o]=s.enterCallbacks[o]||[]);return()=>new Promise((l,c)=>{const d=m=>{m===!1?c(Yn(4,{from:n,to:t})):m instanceof Error?c(m):Gv(m)?c(Yn(2,{from:t,to:m})):(i&&s.enterCallbacks[o]===i&&typeof m=="function"&&i.push(m),l())},u=r(()=>e.call(s&&s.instances[o],t,n,d));let p=Promise.resolve(u);e.length<3&&(p=p.then(d)),p.catch(m=>c(m))})}function cr(e,t,n,s,o=r=>r()){const r=[];for(const i of e)for(const l in i.components){let c=i.components[l];if(!(t!=="beforeRouteEnter"&&!i.instances[l]))if(u_(c)){const u=(c.__vccOpts||c)[t];u&&r.push(cn(u,n,s,i,l,o))}else{let d=c();r.push(()=>d.then(u=>{if(!u)return Promise.reject(new Error(`Couldn't resolve component "${l}" at "${i.path}"`));const p=yv(u)?u.default:u;i.components[l]=p;const v=(p.__vccOpts||p)[t];return v&&cn(v,n,s,i,l,o)()}))}}return r}function u_(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function al(e){const t=kt(Pi),n=kt(Ii),s=X(()=>{const c=Q(e.to);return t.resolve(c)}),o=X(()=>{const{matched:c}=s.value,{length:d}=c,u=c[d-1],p=n.matched;if(!u||!p.length)return-1;const m=p.findIndex(Kn.bind(null,u));if(m>-1)return m;const v=ll(c[d-2]);return d>1&&ll(u)===v&&p[p.length-1].path!==v?p.findIndex(Kn.bind(null,c[d-2])):m}),r=X(()=>o.value>-1&&p_(n.params,s.value.params)),i=X(()=>o.value>-1&&o.value===n.matched.length-1&&Tu(n.params,s.value.params));function l(c={}){return h_(c)?t[Q(e.replace)?"replace":"push"](Q(e.to)).catch(gs):Promise.resolve()}return{route:s,href:X(()=>s.value.href),isActive:r,isExactActive:i,navigate:l}}const d_=re({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:al,setup(e,{slots:t}){const n=$s(al(e)),{options:s}=kt(Pi),o=X(()=>({[cl(e.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[cl(e.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=t.default&&t.default(n);return e.custom?r:gc("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},r)}}}),f_=d_;function h_(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function p_(e,t){for(const n in t){const s=t[n],o=e[n];if(typeof s=="string"){if(s!==o)return!1}else if(!Tt(o)||o.length!==s.length||s.some((r,i)=>r!==o[i]))return!1}return!0}function ll(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const cl=(e,t,n)=>e??t??n,m_=re({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const s=kt(Yr),o=X(()=>e.route||s.value),r=kt(il,0),i=X(()=>{let d=Q(r);const{matched:u}=o.value;let p;for(;(p=u[d])&&!p.components;)d++;return d}),l=X(()=>o.value.matched[i.value]);Ys(il,X(()=>i.value+1)),Ys(c_,l),Ys(Yr,o);const c=N();return Hn(()=>[c.value,l.value,e.name],([d,u,p],[m,v,g])=>{u&&(u.instances[p]=d,v&&v!==u&&d&&d===m&&(u.leaveGuards.size||(u.leaveGuards=v.leaveGuards),u.updateGuards.size||(u.updateGuards=v.updateGuards))),d&&u&&(!v||!Kn(u,v)||!m)&&(u.enterCallbacks[p]||[]).forEach(_=>_(d))},{flush:"post"}),()=>{const d=o.value,u=e.name,p=l.value,m=p&&p.components[u];if(!m)return ul(n.default,{Component:m,route:d});const v=p.props[u],g=v?v===!0?d.params:typeof v=="function"?v(d):v:null,A=gc(m,Se({},g,t,{onVnodeUnmounted:I=>{I.component.isUnmounted&&(p.instances[u]=null)},ref:c}));return ul(n.default,{Component:A,route:d})||A}}});function ul(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const y_=m_;function g_(e){const t=s_(e.routes,e),n=e.parseQuery||a_,s=e.stringifyQuery||rl,o=e.history,r=cs(),i=cs(),l=cs(),c=mr(sn);let d=sn;Bn&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=ar.bind(null,S=>""+S),p=ar.bind(null,Av),m=ar.bind(null,Ts);function v(S,M){let D,V;return $u(S)?(D=t.getRecordMatcher(S),V=M):V=S,t.addRoute(V,D)}function g(S){const M=t.getRecordMatcher(S);M&&t.removeRoute(M)}function _(){return t.getRoutes().map(S=>S.record)}function A(S){return!!t.getRecordMatcher(S)}function I(S,M){if(M=Se({},M||c.value),typeof S=="string"){const f=lr(n,S,M.path),b=t.resolve({path:f.path},M),E=o.createHref(f.fullPath);return Se(f,b,{params:m(b.params),hash:Ts(f.hash),redirectedFrom:void 0,href:E})}let D;if(S.path!=null)D=Se({},S,{path:lr(n,S.path,M.path).path});else{const f=Se({},S.params);for(const b in f)f[b]==null&&delete f[b];D=Se({},S,{params:p(f)}),M.params=p(M.params)}const V=t.resolve(D,M),we=S.hash||"";V.params=u(m(V.params));const Re=Pv(s,Se({},S,{hash:Tv(we),path:V.path})),h=o.createHref(Re);return Se({fullPath:Re,hash:we,query:s===rl?l_(S.query):S.query||{}},V,{redirectedFrom:void 0,href:h})}function H(S){return typeof S=="string"?lr(n,S,c.value.path):Se({},S)}function G(S,M){if(d!==S)return Yn(8,{from:M,to:S})}function ie(S){return Te(S)}function ce(S){return ie(Se(H(S),{replace:!0}))}function Z(S){const M=S.matched[S.matched.length-1];if(M&&M.redirect){const{redirect:D}=M;let V=typeof D=="function"?D(S):D;return typeof V=="string"&&(V=V.includes("?")||V.includes("#")?V=H(V):{path:V},V.params={}),Se({query:S.query,hash:S.hash,params:V.path!=null?{}:S.params},V)}}function Te(S,M){const D=d=I(S),V=c.value,we=S.state,Re=S.force,h=S.replace===!0,f=Z(D);if(f)return Te(Se(H(f),{state:typeof f=="object"?Se({},we,f.state):we,force:Re,replace:h}),M||D);const b=D;b.redirectedFrom=M;let E;return!Re&&Iv(s,V,D)&&(E=Yn(16,{to:b,from:V}),pt(V,V,!0,!1)),(E?Promise.resolve(E):B(b,V)).catch(k=>Ft(k)?Ft(k,2)?k:at(k):be(k,b,V)).then(k=>{if(k){if(Ft(k,2))return Te(Se({replace:h},H(k.to),{state:typeof k.to=="object"?Se({},we,k.to.state):we,force:Re}),M||b)}else k=Le(b,V,!0,h,we);return he(b,V,k),k})}function Y(S,M){const D=G(S,M);return D?Promise.reject(D):Promise.resolve()}function F(S){const M=Zt.values().next().value;return M&&typeof M.runWithContext=="function"?M.runWithContext(S):S()}function B(S,M){let D;const[V,we,Re]=v_(S,M);D=cr(V.reverse(),"beforeRouteLeave",S,M);for(const f of V)f.leaveGuards.forEach(b=>{D.push(cn(b,S,M))});const h=Y.bind(null,S,M);return D.push(h),He(D).then(()=>{D=[];for(const f of r.list())D.push(cn(f,S,M));return D.push(h),He(D)}).then(()=>{D=cr(we,"beforeRouteUpdate",S,M);for(const f of we)f.updateGuards.forEach(b=>{D.push(cn(b,S,M))});return D.push(h),He(D)}).then(()=>{D=[];for(const f of Re)if(f.beforeEnter)if(Tt(f.beforeEnter))for(const b of f.beforeEnter)D.push(cn(b,S,M));else D.push(cn(f.beforeEnter,S,M));return D.push(h),He(D)}).then(()=>(S.matched.forEach(f=>f.enterCallbacks={}),D=cr(Re,"beforeRouteEnter",S,M,F),D.push(h),He(D))).then(()=>{D=[];for(const f of i.list())D.push(cn(f,S,M));return D.push(h),He(D)}).catch(f=>Ft(f,8)?f:Promise.reject(f))}function he(S,M,D){l.list().forEach(V=>F(()=>V(S,M,D)))}function Le(S,M,D,V,we){const Re=G(S,M);if(Re)return Re;const h=M===sn,f=Bn?history.state:{};D&&(V||h?o.replace(S.fullPath,Se({scroll:h&&f&&f.scroll},we)):o.push(S.fullPath,we)),c.value=S,pt(S,M,D,h),at()}let Fe;function Je(){Fe||(Fe=o.listen((S,M,D)=>{if(!en.listening)return;const V=I(S),we=Z(V);if(we){Te(Se(we,{replace:!0}),V).catch(gs);return}d=V;const Re=c.value;Bn&&Mv(Ja(Re.fullPath,D.delta),jo()),B(V,Re).catch(h=>Ft(h,12)?h:Ft(h,2)?(Te(h.to,V).then(f=>{Ft(f,20)&&!D.delta&&D.type===Ss.pop&&o.go(-1,!1)}).catch(gs),Promise.reject()):(D.delta&&o.go(-D.delta,!1),be(h,V,Re))).then(h=>{h=h||Le(V,Re,!1),h&&(D.delta&&!Ft(h,8)?o.go(-D.delta,!1):D.type===Ss.pop&&Ft(h,20)&&o.go(-1,!1)),he(V,Re,h)}).catch(gs)}))}let Xe=cs(),ge=cs(),ke;function be(S,M,D){at(S);const V=ge.list();return V.length?V.forEach(we=>we(S,M,D)):console.error(S),Promise.reject(S)}function _t(){return ke&&c.value!==sn?Promise.resolve():new Promise((S,M)=>{Xe.add([S,M])})}function at(S){return ke||(ke=!S,Je(),Xe.list().forEach(([M,D])=>S?D(S):M()),Xe.reset()),S}function pt(S,M,D,V){const{scrollBehavior:we}=e;if(!Bn||!we)return Promise.resolve();const Re=!D&&jv(Ja(S.fullPath,0))||(V||!D)&&history.state&&history.state.scroll||null;return fi().then(()=>we(S,M,Re)).then(h=>h&&Fv(h)).catch(h=>be(h,S,M))}const st=S=>o.go(S);let Xt;const Zt=new Set,en={currentRoute:c,listening:!0,addRoute:v,removeRoute:g,hasRoute:A,getRoutes:_,resolve:I,options:e,push:ie,replace:ce,go:st,back:()=>st(-1),forward:()=>st(1),beforeEach:r.add,beforeResolve:i.add,afterEach:l.add,onError:ge.add,isReady:_t,install(S){const M=this;S.component("RouterLink",f_),S.component("RouterView",y_),S.config.globalProperties.$router=M,Object.defineProperty(S.config.globalProperties,"$route",{enumerable:!0,get:()=>Q(c)}),Bn&&!Xt&&c.value===sn&&(Xt=!0,ie(o.location).catch(we=>{}));const D={};for(const we in sn)Object.defineProperty(D,we,{get:()=>c.value[we],enumerable:!0});S.provide(Pi,M),S.provide(Ii,Dl(D)),S.provide(Yr,c);const V=S.unmount;Zt.add(S),S.unmount=function(){Zt.delete(S),Zt.size<1&&(d=sn,Fe&&Fe(),Fe=null,c.value=sn,Xt=!1,ke=!1),V()}}};function He(S){return S.reduce((M,D)=>M.then(()=>F(D)),Promise.resolve())}return en}function v_(e,t){const n=[],s=[],o=[],r=Math.max(t.matched.length,e.matched.length);for(let i=0;i<r;i++){const l=t.matched[i];l&&(e.matched.find(d=>Kn(d,l))?s.push(l):n.push(l));const c=e.matched[i];c&&(t.matched.find(d=>Kn(d,c))||o.push(c))}return[n,s,o]}function Ru(){return kt(Ii)}const __={class:"page"},b_=a("h1",null,"INVITE PAGE",-1),w_=re({__name:"TheInvitePage",setup(e){const n=Ru().params.code;return Gt(()=>{fv(n)}),(s,o)=>(w(),C("div",__,[b_,$(bu,null,{default:L(()=>[a("p",null,R(Q(n)),1)]),_:1})]))}}),Pu=e=>(Ce("data-v-c2b83b82"),e=e(),Ee(),e),x_={class:"page"},C_=Pu(()=>a("h1",null,"404",-1)),E_=Pu(()=>a("p",null,"This page does not exist.",-1)),k_=re({__name:"TheLostPage",setup(e){function t(){Dt.push("/")}return(n,s)=>(w(),C("div",x_,[$(bu,{id:"lost"},{default:L(()=>[C_,E_,a("button",{class:"btn",onClick:s[0]||(s[0]=o=>t())},"Return to Home Page")]),_:1})]))}}),T_=le(k_,[["__scopeId","data-v-c2b83b82"]]),Iu=[{id:"e52f27b1-e5f6-42de-9889-c2d9aeeb3b0d",name:"Assassin Crew",author:"Perryphery",source:"",url:"/images/crews/assassins.jpg",commonColor:"#a27043"},{id:"ab9c33a6-2710-41ff-a814-edf6b648af54",name:"Bravos Crew",author:"Perryphery",source:"",url:"/images/crews/bravos.jpg",commonColor:"#e88b62"},{id:"7544b3a4-0e4d-4758-9870-cd5b8f7774cb",name:"Cult Crew",author:"Perryphery",source:"",url:"/images/crews/cult.jpg",commonColor:"#c94c34"},{id:"13867125-73d8-4399-a550-db499a4eedfe",name:"Hawkers Crew",author:"Perryphery",source:"",url:"/images/crews/hawkers.jpg",commonColor:"#bfa53f"},{id:"bbc1bf16-dc4d-4e97-a898-0bf9e688d327",name:"Shadows Crew",author:"Perryphery",source:"",url:"/images/crews/shadows.jpg",commonColor:"#a27043"},{id:"de509b5c-f37c-4975-9768-5e123d24e19b",name:"Smugglers Crew",author:"Perryphery",source:"",url:"/images/crews/smugglers.jpg",commonColor:"#dac684"}],S_=["src"],$_={class:"sheet-card__content"},A_={class:"row info"},O_={class:"tag"},R_=re({__name:"SheetCard",props:{sheet:{type:Object,required:!0}},setup(e){const t=e,n=X(()=>{const o=t.sheet.sheetType;if(o==="crew")return t.sheet.crewType;if(o==="character")return t.sheet.characterType}),s=X(()=>Iu.find(o=>o.id===t.sheet.image));return(o,r)=>{var i,l;return w(),C("div",{class:"sheet-card",style:Bt({backgroundColor:(i=s.value)==null?void 0:i.commonColor})},[a("img",{src:(l=s.value)==null?void 0:l.url},null,8,S_),a("div",$_,[a("h2",null,R(t.sheet.name),1),a("div",A_,[a("span",O_,R(n.value),1)])])],4)}}}),dl=le(R_,[["__scopeId","data-v-243a74b3"]]),P_=["innerHTML"],I_=re({__name:"Tooltip",props:{text:{},top:{type:Boolean}},setup(e){const t=N(null);return(n,s)=>(w(),C("div",{class:oe(["tooltip",{"tooltip--top":n.top}]),ref_key:"tooltip",ref:t},[a("span",{innerHTML:n.text},null,8,P_)],2))}}),N_=le(I_,[["__scopeId","data-v-5e947be2"]]),q_={class:"player-bar"},L_=re({__name:"PlayerBar",setup(e){return(t,n)=>{var s;return w(),C("ul",q_,[(w(!0),C(ee,null,me((s=Q(Be)().game)==null?void 0:s.players,(o,r)=>(w(),C("li",{key:r,class:oe({"inactive-player":!o.isOnline})},[$(Mo,{portraitId:o.portrait},null,8,["portraitId"]),$(N_,{top:"",text:o.username},null,8,["text"]),a("div",{class:oe(["online-indicator",{"online-indicator--online":o.isOnline}])},null,2)],2))),128))])}}}),D_=le(L_,[["__scopeId","data-v-8422fb27"]]),B_={class:"confirm"},U_=["innerHTML"],F_={class:"row wrap"},M_=re({__name:"ConfirmModal",props:{title:{},message:{},onConfirm:{type:Function},onCancel:{type:Function},confirmText:{},cancelText:{}},setup(e){const t=e;function n(){t.onCancel?t.onCancel():U.close()}return(s,o)=>(w(),de(Ke,null,{header:L(()=>[$(Ye,{closeButton:"",closeButtonAction:n},{default:L(()=>[a("h2",null,R(t.title),1)]),_:1})]),content:L(()=>[a("div",B_,[a("p",{innerHTML:t.message},null,8,U_),a("div",F_,[a("button",{class:"btn btn--alt mobile-full-width",onClick:o[0]||(o[0]=(...r)=>t.onConfirm&&t.onConfirm(...r))},[a("span",null,R(t.confirmText||"Yes"),1)]),a("button",{class:"btn mobile-full-width",onClick:n},[a("span",null,R(t.cancelText||"No, I changed my mind"),1)])])])]),_:1}))}}),Ni=le(M_,[["__scopeId","data-v-f18967fd"]]);let Gs;const j_=new Uint8Array(16);function Q_(){if(!Gs&&(Gs=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Gs))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Gs(j_)}const Ze=[];for(let e=0;e<256;++e)Ze.push((e+256).toString(16).slice(1));function H_(e,t=0){return Ze[e[t+0]]+Ze[e[t+1]]+Ze[e[t+2]]+Ze[e[t+3]]+"-"+Ze[e[t+4]]+Ze[e[t+5]]+"-"+Ze[e[t+6]]+Ze[e[t+7]]+"-"+Ze[e[t+8]]+Ze[e[t+9]]+"-"+Ze[e[t+10]]+Ze[e[t+11]]+Ze[e[t+12]]+Ze[e[t+13]]+Ze[e[t+14]]+Ze[e[t+15]]}const V_=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),fl={randomUUID:V_};function Nu(e,t,n){if(fl.randomUUID&&!t&&!e)return fl.randomUUID();e=e||{};const s=e.random||(e.rng||Q_)();return s[6]=s[6]&15|64,s[8]=s[8]&63|128,H_(s)}class W_{constructor(){ue(this,"id");ue(this,"sheetType");ue(this,"createdBy");ue(this,"createdAt");ue(this,"image");this.id=Nu(),this.sheetType="sheet",this.createdBy=xe().id,this.createdAt=Date.now(),this.image=""}}function G_(){return[]}var Qt=(e=>(e.NORTH="north",e.EAST="east",e.SOUTH="south",e.WEST="west",e))(Qt||{});class ts extends W_{constructor(){super();ue(this,"name","Untitled Crew");ue(this,"description","");ue(this,"reputationType","Ambitious");ue(this,"lair","An abandoned warehouse");ue(this,"lairDistrict","Crow's Foot");ue(this,"huntingGroundsDistrict","Crow's Foot");ue(this,"reputation",0);ue(this,"turf",0);ue(this,"hold","strong");ue(this,"tier",0);ue(this,"heat",0);ue(this,"wantedLevel",0);ue(this,"coin",0);ue(this,"vaults",0);ue(this,"crewExperience",0);ue(this,"cohorts",[]);ue(this,"crewType","");ue(this,"crewTypeDescription","");ue(this,"specialAbilities",[]);ue(this,"image","e52f27b1-e5f6-42de-9889-c2d9aeeb3b0d");ue(this,"contacts",[]);ue(this,"crewUpgrades",[]);ue(this,"lairUpgrades",[{id:"carriage-house",name:"Carriage",description:"",quantity:0,maxQuantity:2},{id:"boat-house",name:"Boat",description:"",quantity:0,maxQuantity:2},{id:"hidden-lair",name:"Hidden",description:"",quantity:0,maxQuantity:1},{id:"quarters",name:"Quarters",description:"",quantity:0,maxQuantity:1},{id:"secure-lair",name:"Secure",description:"",quantity:0,maxQuantity:2},{id:"vault",name:"Vault",description:"",quantity:0,maxQuantity:2},{id:"workshop",name:"Workshop",description:"",quantity:0,maxQuantity:1}]);ue(this,"trainingUpgrades",[{id:"insight",name:"Insight",description:"",quantity:0,maxQuantity:1},{id:"prowess",name:"Prowess",description:"",quantity:0,maxQuantity:1},{id:"resolve",name:"Resolve",description:"",quantity:0,maxQuantity:1},{id:"personal",name:"Personal",description:"",quantity:0,maxQuantity:1},{id:"mastery",name:"Mastery",description:"",quantity:0,maxQuantity:4}]);ue(this,"qualityUpgrades",[{id:"documents",name:"Documents",description:"",quantity:0,maxQuantity:1},{id:"gear",name:"Gear",description:"",quantity:0,maxQuantity:1},{id:"implements",name:"Implements",description:"",quantity:0,maxQuantity:1},{id:"supplies",name:"Supplies",description:"",quantity:0,maxQuantity:1},{id:"tools",name:"Tools",description:"",quantity:0,maxQuantity:1},{id:"weapons",name:"Weapons",description:"",quantity:0,maxQuantity:1}]);ue(this,"claims",[]);ue(this,"huntingGroundsLabel","Hunting Grounds");ue(this,"huntingGrounds",[]);this.sheetType="crew"}applyUpgradesDescriptionsFromCodex(){var s;const n=(s=Be().game)==null?void 0:s.codex.sheets.crew["upgrade-descriptions"];this.crewUpgrades.forEach(o=>{var i;const r=(i=n==null?void 0:n.crew)==null?void 0:i[o.id];r?o.description=r:o.description||(o.description="no description found for "+o.id)}),this.lairUpgrades.forEach(o=>{const r=n.lair[o.id];r?o.description=r:o.description||(o.description="no description found for "+o.id)}),this.trainingUpgrades.forEach(o=>{const r=n.training[o.id];r?o.description=r:o.description||(o.description="no description found for "+o.id)}),this.qualityUpgrades.forEach(o=>{const r=n.quality[o.id];r?o.description=r:o.description||(o.description="no description found for "+o.id)})}}class z_ extends ts{constructor(){super(),this.name="Untitled Assassins",this.crewType="Assassins",this.crewTypeDescription="Murderers for hire",this.image="e52f27b1-e5f6-42de-9889-c2d9aeeb3b0d",this.specialAbilities=[{id:"assassins-deadly",name:"Deadly",description:"Each PC may add +1 action rating to Hunt, Prowl, or Skirmish (up to a max rating of 3).",quantity:0,maxQuantity:1},{id:"assassins-crows-veil",name:"Crow's Veil",description:"Due to hard-won experience or occult ritual, your activities are hidden from the notice of the death-seeker crows. You don't take extra heat when killing is involved on a score.",quantity:0,maxQuantity:1},{id:"assassins-emberdeath",name:"Emberdeath",description:"Due to hard-won experience or occult ritual, you know the arcane method to destroy a living victim's spirit at the moment you kill them. Take 3 stress to channel electroplasmic energy from the ghost field to disintegrate the spirit and dead body in a shower of sparking embers.",quantity:0,maxQuantity:1},{id:"assassins-no-traces",name:"No Traces",description:"When you keep an operation quiet or make it look like an accident, you get half the rep value of the target (round up) instead of zero. When you end downtime with zero heat, take +1 rep.",quantity:0,maxQuantity:1},{id:"assassins-patron",name:"Patron",description:"When you advance your Tier, it costs half the coin it normally would. Who is your patron? Why do they help you?",quantity:0,maxQuantity:1},{id:"assassins-predators",name:"Predators",description:"When you use stealth or subterfuge to commit murder, take +1d to the engagement roll.",quantity:0,maxQuantity:1},{id:"assassins-vipers",name:"Vipers",description:"When you acquire or craft poisons, you get +1 result level to your roll. When you employ a poison, you are specially prepared to be immune to its effects.",quantity:0,maxQuantity:1},{id:"assassins-veteran",name:"Veteran",description:"Choose a special ability from another crew.",quantity:0,maxQuantity:3}],this.crewUpgrades=[{id:"assassin-rigging",name:"Assassin Rigging",description:"2 free load of weapons or gear.",quantity:0,maxQuantity:1},{id:"ironhook-contacts",name:"Ironhook Contacts",description:"+1 Tier in prison.",quantity:0,maxQuantity:1},{id:"elite-skulks",name:"Elite Skulks",description:"",quantity:0,maxQuantity:1},{id:"elite-thugs",name:"Elite Thugs",description:"",quantity:0,maxQuantity:1},{id:"hardened",name:"Hardened",description:"+1 trauma box.",quantity:0,maxQuantity:3}],this.contacts=[{id:"assassins-trev",name:"Trev",description:"A gang boss",attitude:0},{id:"assassins-contact-lydra",name:"Lydra",description:"A deal broker",attitude:0},{id:"assassins-contact-irimina",name:"Irimina",description:"A vicious noble",attitude:0},{id:"assassins-contact-karlos",name:"Karlos",description:"A bounty hunter",attitude:0},{id:"assassins-contact-exeter",name:"Exeter",description:"A spirit warden",attitude:0},{id:"assassins-contact-sevoy",name:"Sevoy",description:"A merchant lord",attitude:0}],this.applyUpgradesDescriptionsFromCodex(),this.claims=[{id:"assassins-training-room",name:"Training Room",description:"+1 scale for your Skulks cohorts",position:{x:0,y:0},quantity:0,maxQuantity:1,adjacent:["east","south"]},{id:"assassins-vice-den",name:"Vice Den",description:"(Tier roll) - Heat = coin in downtime",position:{x:1,y:0},quantity:0,maxQuantity:1,adjacent:["west","south"]},{id:"assassins-fixer",name:"Fixer",description:"+2 coin for lower-class targets",position:{x:2,y:0},quantity:0,maxQuantity:1,adjacent:["south"]},{id:"assassins-informants",name:"Informants",description:"+1d gather info for scores",position:{x:3,y:0},quantity:0,maxQuantity:1,adjacent:["east","south"]},{id:"assassins-hagfish-farm",name:"Hagfish Farm",description:"Body disposal, +1d to reduce heat after killing",position:{x:4,y:0},quantity:0,maxQuantity:1,adjacent:["west","south"]},{id:"assassins-victim-trophies",name:"Victim Trophies",description:"+1 rep per score",position:{x:0,y:1},quantity:0,maxQuantity:1,adjacent:["north","south"]},{id:"assassins-turf-1",name:"Turf",description:"",position:{x:1,y:1},quantity:0,maxQuantity:1,adjacent:["north","east","south"]},{id:"assassins-lair",name:"Lair",description:"",position:{x:2,y:1},quantity:1,maxQuantity:1,adjacent:["north","east","south","west"]},{id:"assassins-turf-2",name:"Turf",description:"",position:{x:3,y:1},quantity:0,maxQuantity:1,adjacent:["north","west","east"]},{id:"assassins-cover-operation",name:"Cover Operation",description:"-2 heat per score",position:{x:4,y:1},quantity:0,maxQuantity:1,adjacent:["north","west","south"]},{id:"assassins-protection-racket",name:"Protection Racket",description:"(Tier roll) - Heat = coin in downtime",position:{x:0,y:2},quantity:0,maxQuantity:1,adjacent:["north","east"]},{id:"assassins-infirmary",name:"Infirmary",description:"+1d to healing rolls",position:{x:1,y:2},quantity:0,maxQuantity:1,adjacent:["north","west"]},{id:"assassins-envoy",name:"Envoy",description:"+2 coin for high-class targets",position:{x:2,y:2},quantity:0,maxQuantity:1,adjacent:["north"]},{id:"assassins-cover-identities",name:"Cover Identities",description:"+1d engagement for deception and social plans",position:{x:3,y:2},quantity:0,maxQuantity:1,adjacent:["east"]},{id:"assassins-city-records",name:"City Records",description:"+1d engagement for stealth plans",position:{x:4,y:2},quantity:0,maxQuantity:1,adjacent:["north","west"]}],this.huntingGroundsLabel="Hunting Grounds",this.huntingGrounds=[{id:"assassins-hunting-ground-accident",name:"Accident",description:"A killing with no telltale signs of murder.",quantity:0,maxQuantity:1},{id:"assassins-hunting-ground-disappearance",name:"Disappearance",description:"The victim vanishes without a trace.",quantity:0,maxQuantity:1},{id:"assassins-hunting-ground-murder",name:"Murder",description:"An obvious killing that sends a message.",quantity:0,maxQuantity:1},{id:"assassins-hunting-ground-ransom",name:"Ransom",description:"A kidnapping and demand for payment for their return.",quantity:0,maxQuantity:1}]}}class K_ extends ts{constructor(){super(),this.name="Untitled Bravos",this.crewType="Bravos",this.crewTypeDescription="Mercenaries, thugs, & killers",this.image="ab9c33a6-2710-41ff-a814-edf6b648af54",this.specialAbilities=[{id:"dangerous",name:"Dangerous",description:"Each PC may add +1 action rating to Hunt, Skirmish, or Wreck (up to a max rating of 3).",quantity:0,maxQuantity:1},{id:"blood-brothers",name:"Blood Brothers",description:"When you fight alongside your cohorts in combat, they get +1d for teamwork rolls (setup and group actions). All of your cohorts get the Thugs type for free (if they're already Thugs, add another type).",quantity:0,maxQuantity:1},{id:"door-kickers",name:"Door Kickers",description:"When you execute an assault plan, take +1d to the engagement roll.",quantity:0,maxQuantity:1},{id:"fiends",name:"Fiends",description:"Fear is as good as respect. You may count each wanted level as if it was turf.",quantity:0,maxQuantity:1},{id:"forged-in-the-fire",name:"Forged in the Fire",description:"Each PC has been toughened by cruel experience. You get +1d to resistance rolls.",quantity:0,maxQuantity:1},{id:"patron",name:"Patron",description:"When you advance your Tier, it costs half the coin it normally would. Who is your patron? Why do they help you?",quantity:0,maxQuantity:1},{id:"war-dogs",name:"War Dogs",description:"When youre at war (-3 faction status), your crew does not suffer -1 hold and PCs still get two downtime activities, instead of just one.",quantity:0,maxQuantity:1},{id:"veteran",name:"Veteran",description:"Choose a special ability from another crew.",quantity:0,maxQuantity:3}],this.crewUpgrades=[{id:"bravos-rigging",name:"Bravos Rigging",description:"2 free load of weapons or armor.",quantity:0,maxQuantity:1},{id:"elite-skulks",name:"Elite Skulks",description:"",quantity:0,maxQuantity:1},{id:"elite-thugs",name:"Elite Thugs",description:"",quantity:0,maxQuantity:1},{id:"hardened",name:"Hardened",description:"+1 trauma box.",quantity:0,maxQuantity:3},{id:"ironhook-contacts",name:"Ironhook Contacts",description:"+1 Tier in prison.",quantity:0,maxQuantity:1}],this.contacts=[{id:"bravos-contact-meg",name:"Meg",description:"A pit-fighter",attitude:0},{id:"bravos-contact-conway",name:"Conway",description:"A bluecoat",attitude:0},{id:"bravos-contact-keller",name:"Keller",description:"A blacksmith",attitude:0},{id:"bravos-contact-tomas",name:"Tomas",description:"A physicker",attitude:0},{id:"bravos-contact-walker",name:"Walker",description:"A ward boss",attitude:0},{id:"bravos-contact-lutes",name:"Lutes",description:"A tavern owner",attitude:0}],this.claims=[{id:"bravos-barracks",name:"Barracks",description:"+1 scale for your Thug cohorts",position:{x:0,y:0},quantity:0,maxQuantity:1,adjacent:["east","south"]},{id:"bravos-turf-1",name:"Turf",description:"",position:{x:1,y:0},quantity:0,maxQuantity:1,adjacent:["west","east"]},{id:"bravos-terrorized-citizens",name:"Terrorized Citizens",description:"+2 coin for battle or extortion",position:{x:2,y:0},quantity:0,maxQuantity:1,adjacent:["west","south"]},{id:"bravos-informants",name:"Informants",description:"+1 gather info for scores",position:{x:3,y:0},quantity:0,maxQuantity:1,adjacent:["east","south"]},{id:"bravos-protection-racket",name:"Protection Racket",description:"(Tier roll) - Heat = coin in downtime",position:{x:4,y:0},quantity:0,maxQuantity:1,adjacent:["west","south"]},{id:"bravos-fighting-pits",name:"Fighting Pits",description:"(Tier roll) - Heat = coin in downtime",position:{x:0,y:1},quantity:0,maxQuantity:1,adjacent:["north","east","south"]},{id:"bravos-turf-2",name:"Turf",description:"",position:{x:1,y:1},quantity:0,maxQuantity:1,adjacent:["west","east","south"]},{id:"bravos-lair",name:"Lair",description:"",position:{x:2,y:1},quantity:0,maxQuantity:1,adjacent:["north","east","south","west"]},{id:"bravos-turf-3",name:"Turf",description:"",position:{x:3,y:1},quantity:0,maxQuantity:1,adjacent:["north","west","east","south"]},{id:"bravos-turf-4",name:"Turf",description:"",position:{x:4,y:1},quantity:0,maxQuantity:1,adjacent:["north","west","south"]},{id:"bravos-infirmary",name:"Infirmary",description:"+1d to healing rolls",position:{x:0,y:2},quantity:0,maxQuantity:1,adjacent:["north","east"]},{id:"bravos-bluecoat-intimidation",name:"Bluecoat Intimidation",description:"-2 heat per score",position:{x:1,y:2},quantity:0,maxQuantity:1,adjacent:["north","west"]},{id:"bravos-street-fence",name:"Street Fence",description:"+2 coin for lower-class targets",position:{x:2,y:2},quantity:0,maxQuantity:1,adjacent:["north","east"]},{id:"bravos-warehouses",name:"Warehouses",description:"Stockpiles give you +1d to acquire assets",position:{x:3,y:2},quantity:0,maxQuantity:1,adjacent:["north","west","east"]},{id:"bravos-bluecoat-confederates",name:"Bluecoat Confederates",description:"+1d engagemnt for assault plans",position:{x:4,y:2},quantity:0,maxQuantity:1,adjacent:["north","west"]}],this.huntingGroundsLabel="Hunting Grounds",this.huntingGrounds=[{id:"bravos-hunting-ground-battle",name:"Battle",description:"Defeat an enemy with overwhelming force.",quantity:0,maxQuantity:1},{id:"bravos-hunting-ground-extortion",name:"Extortion",description:"Threaten violence unless youre paid off.",quantity:0,maxQuantity:1},{id:"bravos-hunting-ground-sabotage",name:"Sabotage",description:"Hurt an opponent by destroying something.",quantity:0,maxQuantity:1},{id:"bravos-hunting-ground-smash-and-grab",name:"Smash & Grab",description:"A fast and violent armed robbery.",quantity:0,maxQuantity:1}],this.applyUpgradesDescriptionsFromCodex()}}class Y_ extends ts{constructor(){super();ue(this,"deityName");ue(this,"deityFeatures");this.name="Untitled Cult",this.crewType="Cult",this.crewTypeDescription="Acolytes of a deity",this.image="7544b3a4-0e4d-4758-9870-cd5b8f7774cb",this.specialAbilities=[{id:"chosen",name:"Chosen",description:"Each PC may add +1 action rating to Attune, Study, or Sway (up to a max rating of 3).",quantity:0,maxQuantity:1},{id:"anointed",name:"Anointed",description:"You get +1d to resistance rolls against supernatural threats. You get +1d to healing rolls when you have supernatural harm.",quantity:0,maxQuantity:1},{id:"bound-in-darkness",name:"Bound in Darkness",description:"You may use teamwork with any cult member, regardless of the distance separating you. By taking 1 stress, your whispered message is heard by every cultist.",quantity:0,maxQuantity:1},{id:"conviction",name:"Conviction",description:"Each PC gains an additional Vice: Worship. When you indulge this vice and bring a pleasing sacrifice, you don't overindulge if you clear excess stress. In addition, your deity will assist any one action roll you makefrom now until you indulge this vice again.",quantity:0,maxQuantity:1},{id:"glory-incarnate",name:"Glory Incarnate",description:"Your deity sometimes manifests in the physical world. This can be a great boon, but the priorities and values of a god are not those of mortals. You have been warned.",quantity:0,maxQuantity:1},{id:"sealed-in-blood",name:"Sealed in Blood",description:"Each human sacrifice yields -3 stress cost for any ritual you perform.",quantity:0,maxQuantity:1},{id:"zealotry",name:"Zealotry",description:"Your cohorts have abandoned their reason to devote themselves to the cult. They will undertake any service, no matter how dangerous or strange. They gain +1d to rolls against enemies of the faith.",quantity:0,maxQuantity:1},{id:"veteran",name:"Veteran",description:"Choose a special ability from another crew.",quantity:0,maxQuantity:3}],this.crewUpgrades=[{id:"cult-rigging",name:"Cult Rigging",description:"2 free load of documents or implements.",quantity:0,maxQuantity:1},{id:"ritual-sanctum-in-lair",name:"Ritual Sanctum in Lair",description:"",quantity:0,maxQuantity:1},{id:"elite-adepts",name:"Elite Adepts",description:"",quantity:0,maxQuantity:1},{id:"elite-thugs",name:"Elite Thugs",description:"",quantity:0,maxQuantity:1},{id:"ordained",name:"Ordained",description:"+1 trauma box.",quantity:0,maxQuantity:3}],this.contacts=[{id:"cult-contact-gagan",name:"Gagan",description:"An academic",attitude:0},{id:"cult-contact-adikin",name:"Adikin",description:"An occultist",attitude:0},{id:"cult-contact-hutchins",name:"Hutchins",description:"An antiquarian",attitude:0},{id:"cult-contact-moriya",name:"Moriya",description:"A spirit trafficker",attitude:0},{id:"cult-contact-mateas-kline",name:"Mateas Kline",description:"A noble",attitude:0},{id:"cult-bennett",name:"Bennett",description:"An astronomer",attitude:0}],this.claims=[{id:"cult-cloister",name:"Cloister",description:"+1 scale for your Adept cohorts",position:{x:0,y:0},quantity:0,maxQuantity:1,adjacent:["east","south"]},{id:"cult-vice-den",name:"Vice Den",description:"(Tier roll) - Heat = coin in downtime",position:{x:1,y:0},quantity:0,maxQuantity:1,adjacent:["west","south","east"]},{id:"cult-offertory",name:"Offertory",description:"+2 coin for occult operations",position:{x:2,y:0},quantity:0,maxQuantity:1,adjacent:["west","south"]},{id:"cult-ancient-obelisk",name:"Ancient Obelisk",description:"-1 stress cost for all arcane powers and rituals",position:{x:3,y:0},quantity:0,maxQuantity:1,adjacent:["east"]},{id:"cult-ancient-tower",name:"Ancient Tower",description:"+1d to Consort w/ arcane entities on site",position:{x:4,y:0},quantity:0,maxQuantity:1,adjacent:["west","south"]},{id:"cult-turf-1",name:"Turf",description:"",position:{x:0,y:1},quantity:0,maxQuantity:1,adjacent:["north","east"]},{id:"cult-turf-2",name:"Turf",description:"",position:{x:1,y:1},quantity:0,maxQuantity:1,adjacent:["north","west","east","south"]},{id:"cult-lair",name:"Lair",description:"",position:{x:2,y:1},quantity:0,maxQuantity:1,adjacent:["north","west","east","south"]},{id:"cult-turf-3",name:"Turf",description:"",position:{x:3,y:1},quantity:0,maxQuantity:1,adjacent:["south","west","east"]},{id:"cult-turf-4",name:"Turf",description:"",position:{x:4,y:1},quantity:0,maxQuantity:1,adjacent:["north","west","south"]},{id:"cult-spirit-well",name:"Spirit Well",description:"+1d to Attune on site",position:{x:0,y:2},quantity:0,maxQuantity:1,adjacent:["east"]},{id:"cult-ancient-gate",name:"Ancient Gate",description:"Safe passage in the Deathlands",position:{x:1,y:2},quantity:0,maxQuantity:1,adjacent:["west","north"]},{id:"cult-sanctuary",name:"Sanctuary",description:"+1d to Command and Sway on site",position:{x:2,y:2},quantity:0,maxQuantity:1,adjacent:["north"]},{id:"cult-sacred-nexus",name:"Sacred Nexus",description:"+1d to healing rolls",position:{x:3,y:2},quantity:0,maxQuantity:1,adjacent:["north","east"]},{id:"cult-ancient-altar",name:"Ancient Altar",description:"+1d engagement for occult plans",position:{x:4,y:2},quantity:0,maxQuantity:1,adjacent:["north","west"]}],this.huntingGroundsLabel="Sacred Sites",this.huntingGrounds=[{id:"cult-sacred-site-acquisition",name:"Acquisition",description:"Procure an arcane artifact and attune it to your god.",quantity:0,maxQuantity:1},{id:"cult-sacred-site-augury",name:"Augury",description:"Do what you must to attract the gods attention and counsel.",quantity:0,maxQuantity:1},{id:"cult-sacred-site-consecration",name:"Consecration",description:"Anoint a place for your deity.",quantity:0,maxQuantity:1},{id:"cult-sacred-site-sacrifice",name:"Sacrifice",description:"Destroy what is valuable or good in honor of your god.",quantity:0,maxQuantity:1}],this.deityName="",this.deityFeatures="",this.applyUpgradesDescriptionsFromCodex()}}class J_ extends ts{constructor(){super(),this.name="Untitled Hawkers",this.crewType="Hawkers",this.crewTypeDescription="Vice dealers",this.image="13867125-73d8-4399-a550-db499a4eedfe",this.specialAbilities=[{id:"silver-tongues",name:"Silver Tongues",description:"Each PC may add +1 action rating to Command, Consort, or Sway (up to a max rating of 3).",quantity:0,maxQuantity:1},{id:"accord",name:"Accord",description:"Sometimes friends are as good as territory. You may count up to three +3 faction statuses you hold as if they are turf.",quantity:0,maxQuantity:1},{id:"the-good-stuff",name:"The Good Stuff",description:"Your merchandise is exquisite. The product quality is equal to your Tier+2. When you deal with a crew or faction, the GM will tell you who among them is hooked on your product (one, a few, many, or all).",quantity:0,maxQuantity:1},{id:"ghost-market",name:"Ghost Market",description:"Through arcane ritual or hard-won experience, you have discovered how to prepare your product for sale to ghosts and/or demons. They do not pay in coin. What do they pay with?",quantity:0,maxQuantity:1},{id:"high-society",name:"High Society",description:"It's all about who you know. Take -1 heat during downtime and +1d to gather info about the city's elite.",quantity:0,maxQuantity:1},{id:"hooked",name:"Hooked",description:"Your gang members use your product. Add the savage, unreliable, or wild flaw to your gangs to give them +1 quality.",quantity:0,maxQuantity:1},{id:"patron",name:"Patron",description:"When you advance your Tier, it costs half the coin it normally would. Who is your patron? Why do they help you?",quantity:0,maxQuantity:1},{id:"veteran",name:"Veteran",description:"Choose a special ability from another crew.",quantity:0,maxQuantity:3}],this.crewUpgrades=[{id:"hawkers-rigging",name:"Hawkers Rigging",description:"1 carried item is concealed and has no load",quantity:0,maxQuantity:1},{id:"ironhook-contacts",name:"Ironhook Contacts",description:"+1 Tier in prison.",quantity:0,maxQuantity:1},{id:"elite-rooks",name:"Elite Rooks",description:"",quantity:0,maxQuantity:1},{id:"elite-thugs",name:"Elite Thugs",description:"",quantity:0,maxQuantity:1},{id:"composed",name:"Composed",description:"+1 stress box.",quantity:0,maxQuantity:3}],this.contacts=[{id:"hawkers-contact-rolan-wott",name:"Rolan Wott",description:"A magistrate",attitude:0},{id:"hawkers-contact-laroze",name:"Laroze",description:"A bluecoat",attitude:0},{id:"hawkers-contact-lydra",name:"Lydra",description:"A deal broker",attitude:0},{id:"hawkers-contact-hoxley",name:"Hoxley",description:"A smuggler",attitude:0},{id:"hawkers-contact-anya",name:"Anya",description:"A dilettante",attitude:0},{id:"hawkers-contact-marlo",name:"Marlo",description:"A gang boss",attitude:0}],this.claims=[{id:"hawkers-turf-1",name:"Turf",description:"",position:{x:0,y:0},quantity:0,maxQuantity:1,adjacent:["east","south"]},{id:"hawkers-personal-clothier",name:"Personal Clothier",description:"+1d engagement roll for social plans",position:{x:1,y:0},quantity:0,maxQuantity:1,adjacent:["west","south"]},{id:"hawkers-local-graft",name:"Local Graft",description:"+2 coin for show of force or socialize",position:{x:2,y:0},quantity:0,maxQuantity:1,adjacent:["south"]},{id:"hawkers-lookouts",name:"Lookouts",description:"+1d to Survey or Hunt on your turf",position:{x:3,y:0},quantity:0,maxQuantity:1,adjacent:["east","south"]},{id:"hawkers-informants",name:"Informants",description:"+1 gather info for scores",position:{x:4,y:0},quantity:0,maxQuantity:1,adjacent:["west","south"]},{id:"hawkers-turf-2",name:"Turf",description:"",position:{x:0,y:1},quantity:0,maxQuantity:1,adjacent:["north","south"]},{id:"hawkers-turf-3",name:"Turf",description:"",position:{x:1,y:1},quantity:0,maxQuantity:1,adjacent:["north","east","south"]},{id:"lair",name:"Lair",description:"",position:{x:2,y:1},quantity:0,maxQuantity:1,adjacent:["north","east","south","west"]},{id:"hawkers-turf-4",name:"Turf",description:"",position:{x:3,y:1},quantity:0,maxQuantity:1,adjacent:["north","west","east","south"]},{id:"hawkers-luxury-venue",name:"Luxury Venue",description:"+1d to Consort or Sway on site",position:{x:4,y:1},quantity:0,maxQuantity:1,adjacent:["north","west"]},{id:"hawkers-foreign-market",name:"Foreign Market",description:"(Tier roll) - Heat = coin in downtime",position:{x:0,y:2},quantity:0,maxQuantity:1,adjacent:["east","north"]},{id:"hawkers-vice-den",name:"Vice Den",description:"(Tier roll) - Heat = coin in downtime",position:{x:1,y:2},quantity:0,maxQuantity:1,adjacent:["north","west"]},{id:"hawkers-surplus-caches",name:"Surplus Caches",description:"+2 coin for product sale or supply",position:{x:2,y:2},quantity:0,maxQuantity:1,adjacent:["north"]},{id:"hawkers-cover-operation",name:"Cover Operation",description:"-2 heat per score",position:{x:3,y:2},quantity:0,maxQuantity:1,adjacent:["north","east"]},{id:"hawkers-cover-identities",name:"Cover Identities",description:"+1 engagement roll for deception or transport plans",position:{x:4,y:2},quantity:0,maxQuantity:1,adjacent:["west"]}],this.huntingGroundsLabel="Sales Territory",this.huntingGrounds=[{id:"hawkers-sales-territory-sale",name:"Sale",description:"A significant transaction with a special buyer of illicit product.",quantity:0,maxQuantity:1},{id:"hawkers-sales-territory-supply",name:"Supply",description:"A transaction to acquire new product or establish a new supplier.",quantity:0,maxQuantity:1},{id:"hawkers-sales-territory-show-of-force",name:"Show of Force",description:"Make an example of an enemy to dominate territory.",quantity:0,maxQuantity:1},{id:"hawkers-sales-territory-socialize",name:"Socialize",description:"Improve customer and/or supplier relations with a social event.",quantity:0,maxQuantity:1}],this.applyUpgradesDescriptionsFromCodex()}}class X_ extends ts{constructor(){super(),this.name="Untitled Shadows",this.crewType="Shadows",this.crewTypeDescription="Thieves, spies, and saboteurs",this.image="bbc1bf16-dc4d-4e97-a898-0bf9e688d327",this.specialAbilities=[{id:"everyone-steals",name:"Everyone Steals",description:"Each PC may add +1 action rating to Prowl, Finesse, or Tinker (up to a max rating of 3).",quantity:0,maxQuantity:1},{id:"ghost-echoes",name:"Ghost Echoes",description:"From weird experience or occult ritual, all crew members gain the ability to see and interact with the ghostly structures, streets, and objects within the echo of Doskvol that exists in the ghost field.",quantity:0,maxQuantity:1},{id:"pack-rats",name:"Pack Rats",description:"Your lair is a jumble of stolen items. When you roll to acquire an asset, take +1d.",quantity:0,maxQuantity:1},{id:"patron",name:"Patron",description:"When you advance your Tier, it costs half the coin it normally would. Who is your patron? Why do they help you?",quantity:0,maxQuantity:1},{id:"second-story",name:"Second Story",description:"When you execute a clandestine infiltration, you get +1d to the engagement roll.",quantity:0,maxQuantity:1},{id:"slippery",name:"Slippery",description:"When you roll entanglements, roll twice and keep the one you want. When you reduce heat on the crew, take +1d.",quantity:0,maxQuantity:1},{id:"synchronized",name:"Synchronized",description:"When you perform a group action, you may count multiple 6s from different rolls as a critical success.",quantity:0,maxQuantity:1},{id:"veteran",name:"Veteran",description:"Choose a special ability from another crew.",quantity:0,maxQuantity:3}],this.crewUpgrades=[{id:"thief-rigging",name:"Thief Rigging",description:"2 free load of tools or gear.",quantity:0,maxQuantity:1},{id:"underground-maps-and-passkeys",name:"Underground Maps and Passkeys",description:"",quantity:0,maxQuantity:1},{id:"elite-rooks",name:"Elite Rooks",description:"",quantity:0,maxQuantity:1},{id:"elite-skulks",name:"Elite Skulks",description:"",quantity:0,maxQuantity:1},{id:"steady",name:"Steady",description:"+1 stress box.",quantity:0,maxQuantity:3}],this.contacts=[{id:"shadows-contact-dowler",name:"Dowler",description:"An explorer",attitude:0},{id:"shadows-contact-laroze",name:"Laroze",description:"A bluecoat",attitude:0},{id:"shadows-contact-amancio",name:"Amancio",description:"A deal broker",attitude:0},{id:"shadows-contact-fitz",name:"Fitz",description:"A collector",attitude:0},{id:"shadows-contact-adelaide-phroaig",name:"Adelaide Phroaig",description:"A noble",attitude:0},{id:"shadows-contact-rigney",name:"Rigney",description:"A tavern owner",attitude:0}],this.claims=[{id:"shadows-interrogation-chamber",name:"Interrogation Chamber",description:"+1d to Command and Sway on site",position:{x:0,y:0},quantity:0,maxQuantity:1,adjacent:["east","south"]},{id:"shadows-turf-1",name:"Turf",description:"",position:{x:1,y:0},quantity:0,maxQuantity:1,adjacent:["west","east"]},{id:"shadows-loyal-fence",name:"Loyal Fence",description:"+2 coin for burglary or robbery",position:{x:2,y:0},quantity:0,maxQuantity:1,adjacent:["west","south"]},{id:"shadows-gambling-den",name:"Gambling Den",description:"(Tier roll) - Heat = coin in downtime",position:{x:3,y:0},quantity:0,maxQuantity:1,adjacent:["east","south"]},{id:"shadows-tavern",name:"Tavern",description:"+1d to Consort and Sway on site",position:{x:4,y:0},quantity:0,maxQuantity:1,adjacent:["west","south"]},{id:"shadows-drug-den",name:"Drug Den",description:"(Tier roll) - Heat = coin in downtime",position:{x:0,y:1},quantity:0,maxQuantity:1,adjacent:["north","east","south"]},{id:"shadows-informants",name:"Informants",description:"+1 gather info for scores",position:{x:1,y:1},quantity:0,maxQuantity:1,adjacent:["south","west","east"]},{id:"shadows-lair",name:"Lair",description:"",position:{x:2,y:1},quantity:0,maxQuantity:1,adjacent:["north","west","east","south"]},{id:"shadows-turf-2",name:"Turf",description:"",position:{x:3,y:1},quantity:0,maxQuantity:1,adjacent:["north","west","east"]},{id:"shadows-lookouts",name:"Lookouts",description:"+1d to Survey or Hunt on your turf",position:{x:4,y:1},quantity:0,maxQuantity:1,adjacent:["north","west","south"]},{id:"shadows-hagfish-farm",name:"Hagfish Farm",description:"Body disposal, +1d to reduce heat after killing",position:{x:0,y:2},quantity:0,maxQuantity:1,adjacent:["east","north"]},{id:"shadows-infirmary",name:"Infirmary",description:"+1d to healing rolls",position:{x:1,y:2},quantity:0,maxQuantity:1,adjacent:["west","north"]},{id:"shadows-covert-drops",name:"Covert Drops",description:"+2 coin for espionage or sabotage",position:{x:2,y:2},quantity:0,maxQuantity:1,adjacent:["north","east"]},{id:"shadows-turf-3",name:"Turf",description:"",position:{x:3,y:2},quantity:0,maxQuantity:1,adjacent:["west","east"]},{id:"shadows-secret-pathways",name:"Secret Pathways",description:"+1d engagement for stealth plans",position:{x:4,y:2},quantity:0,maxQuantity:1,adjacent:["west","north"]}],this.huntingGroundsLabel="Hunting Grounds",this.huntingGrounds=[{id:"shadows-hunting-grounds-burglary",name:"Burglary",description:"Theft by breaking and entering.",quantity:0,maxQuantity:1},{id:"shadows-hunting-grounds-espionage",name:"Espionage",description:"Obtain secret information by covert or clandestine means.",quantity:0,maxQuantity:1},{id:"shadows-hunting-grounds-robbery",name:"Robbery",description:"Theft by force or threats.",quantity:0,maxQuantity:1},{id:"shadows-hunting-grounds-sabotage",name:"Sabotage",description:"Hurt an opponent by destroying something.",quantity:0,maxQuantity:1}],this.applyUpgradesDescriptionsFromCodex()}}class Z_ extends ts{constructor(){super(),this.name="Untitled Smugglers",this.crewType="Smugglers",this.crewTypeDescription="Suppliers of illicit goods",this.image="de509b5c-f37c-4975-9768-5e123d24e19b",this.specialAbilities=[{id:"like-part-of-the-family",name:"Like Part of the Family",description:"Create one of your vehicles as a cohort (use the vehicle edges and flaws, below). Its quality is equal to your Tier +1.",quantity:0,maxQuantity:1},{id:"all-hands",name:"All Hands",description:"During downtime, one of your cohorts may perform a downtime activity for the crew to acquire an asset, reduce heat, or work on a long-term project.",quantity:0,maxQuantity:1},{id:"ghost-passage",name:"Ghost Passage",description:'From harsh experience or occult ritual, all crew members become immune to possession by spirits, but may choose to "carry" a second ghost as a passenger within their body.',quantity:0,maxQuantity:1},{id:"just-passing-through",name:"Just Passing Through",description:"During downtime, take -1 heat. When your heat is 4 or less, you get +1d to deceive people when you pass yourselves off as ordinary citizens.",quantity:0,maxQuantity:1},{id:"leverage",name:"Leverage",description:"Your crew supplies contraband for other factions. Your success is good for them. Whenever you gain rep, gain +1 rep.",quantity:0,maxQuantity:1},{id:"reavers",name:"Reavers",description:"When you go into conflict aboard a vehicle, you gain +1 effect for vehicle damage and speed. Your vehicle gains armor.",quantity:0,maxQuantity:1},{id:"renegades",name:"Renegades",description:"Each PC may add +1 action rating to Finesse, Prowl, or Skirmish (up to a max rating of 3).",quantity:0,maxQuantity:1},{id:"veteran",name:"Veteran",description:"Choose a special ability from another crew.",quantity:0,maxQuantity:3}],this.crewUpgrades=[{id:"smugglers-rigging",name:"Smugglers Rigging",description:"2 items carried are perfectly concealed.",quantity:0,maxQuantity:1},{id:"camoflage",name:"Camoflage",description:"Vehicles are perfectly concealed at rest",quantity:0,maxQuantity:1},{id:"elite-rovers",name:"Elite Rovers",description:"",quantity:0,maxQuantity:1},{id:"barge",name:"Barge",description:"",quantity:0,maxQuantity:1},{id:"steady",name:"Steady",description:"+1 stress box.",quantity:0,maxQuantity:3}],this.contacts=[{id:"smugglers-contact-elynn",name:"Elynn",description:"A dock worker",attitude:0},{id:"smugglers-contact-rolan",name:"Rolan",description:"A drug dealer",attitude:0},{id:"smugglers-contact-sera",name:"Sera",description:"An arms dealer",attitude:0},{id:"smugglers-contact-nyelle",name:"Nyelle",description:"A spirit trafficker",attitude:0},{id:"smugglers-contact-decker",name:"Decker",description:"An anarchist",attitude:0},{id:"smugglers-contact-esme",name:"Esme",description:"A tavern owner",attitude:0}],this.claims=[{id:"smugglers-turf-1",name:"Turf",description:"",position:{x:0,y:0},quantity:0,maxQuantity:1,adjacent:["east","south"]},{id:"smugglers-side-business",name:"Side Business",description:"(Tier roll) - Heat = coin in downtime",position:{x:1,y:0},quantity:0,maxQuantity:1,adjacent:["west","south"]},{id:"smugglers-luxury-fence",name:"Luxury Fence",description:"+2 coin for high-class targets",position:{x:2,y:0},quantity:0,maxQuantity:1,adjacent:["south"]},{id:"smugglers-vice-den",name:"Vice Den",description:"(Tier roll) - Heat = coin in downtime",position:{x:3,y:0},quantity:0,maxQuantity:1,adjacent:["east","south"]},{id:"smugglers-tavern",name:"Tavern",description:"+1d to Consort and Sway on site",position:{x:4,y:0},quantity:0,maxQuantity:1,adjacent:["west","south"]},{id:"smugglers-ancient-gate",name:"Ancient Gate",description:"Safe passage in the Deathlands",position:{x:0,y:1},quantity:0,maxQuantity:1,adjacent:["south","north"]},{id:"smugglers-turf-2",name:"Turf",description:"",position:{x:1,y:1},quantity:0,maxQuantity:1,adjacent:["north","east","south"]},{id:"smugglers-lair",name:"Lair",description:"",position:{x:2,y:1},quantity:0,maxQuantity:1,adjacent:["north","west","east","south"]},{id:"smugglers-turf-3",name:"Turf",description:"",position:{x:3,y:1},quantity:0,maxQuantity:1,adjacent:["north","west","east","south"]},{id:"smugglers-turf-4",name:"Turf",description:"",position:{x:4,y:1},quantity:0,maxQuantity:1,adjacent:["north","west","south"]},{id:"smugglers-secret-routes",name:"Secret Routes",description:"+1d engagement for transport plans",position:{x:0,y:2},quantity:0,maxQuantity:1,adjacent:["east","north"]},{id:"smugglers-informants",name:"Informants",description:"+1 gather info for scores",position:{x:1,y:2},quantity:0,maxQuantity:1,adjacent:["west","north"]},{id:"smugglers-fleet",name:"Fleet",description:"Your cohorts have their own vehicles",position:{x:2,y:2},quantity:0,maxQuantity:1,adjacent:["north"]},{id:"smugglers-cover-operation",name:"Cover Operation",description:"-2 heat per score",position:{x:3,y:2},quantity:0,maxQuantity:1,adjacent:["north","east"]},{id:"smugglers-warehouse",name:"Warehouse",description:"Stockpiles give you +1d to acquire assets",position:{x:4,y:2},quantity:0,maxQuantity:1,adjacent:["north","west"]}],this.huntingGroundsLabel="Cargo Types",this.huntingGrounds=[{id:"smugglers-cargo-type-arcane-weird",name:"Arcane/Weird",description:"Spirit essences, ghosts, cult materials.",quantity:0,maxQuantity:1},{id:"smugglers-cargo-type-arms",name:"Arms",description:"Restricted military weapons, heavy ordnance, explosives.",quantity:0,maxQuantity:1},{id:"smugglers-cargo-type-contraband",name:"Contraband",description:"High-tax luxuries, drugs, banned art, etc.",quantity:0,maxQuantity:1},{id:"smugglers-cargo-type-passengers",name:"Passengers",description:"People or livestock traveling in secret.",quantity:0,maxQuantity:1}],this.applyUpgradesDescriptionsFromCodex()}}function eb(){return{assassins:new z_,bravos:new K_,cult:new Y_,hawkers:new J_,shadows:new X_,smugglers:new Z_}}function tb(e){return e==="crew"?eb():e==="character"?G_():{}}function mo(e){return Iu.find(t=>t.id===e)}function hl(e){return e.length===0?e:e.charAt(0).toUpperCase()+e.slice(1)}function nb(e){return["zero","one","two","three","four","five","six","seven","eight","nine","ten"][e]}const sb=e=>(Ce("data-v-a1192683"),e=e(),Ee(),e),ob={class:"template-picker"},rb=sb(()=>a("p",null," The crew type you choose determines the group's purpose, their special abilities, and how they advance. ",-1)),ib=["onClick"],ab=["src"],lb={class:"row mobile-only"},cb=re({__name:"SheetTemplatePickerModal",props:{sheetType:String,templateTypeKey:String,templates:Object,onConfirm:{type:Function,required:!0}},setup(e){const t=e;function n(r){console.log("template",r),t.onConfirm(t.sheetType,r),U.close()}const s=N(0);function o(r){const i=r.children[0].clientWidth,l=(r.scrollLeft+i/2)/i;s.value=Math.floor(l)}return(r,i)=>(w(),de(Ke,null,{header:L(()=>[$(Ye,{closeButton:""},{default:L(()=>[a("h2",null,"Choose a "+R(e.sheetType)+" template",1)]),_:1})]),content:L(()=>[a("div",ob,[rb,a("ul",{class:"scroll-container",ref:"carouselRef",onScroll:i[0]||(i[0]=l=>o(l.target))},[(w(!0),C(ee,null,me(e.templates,(l,c,d)=>{var u,p;return w(),C("li",null,[(w(),C("div",{class:oe(["template-card prevent-click-on-mobile",{active:s.value==d,"left-of-active":s.value>d,"right-of-active":s.value<d}]),onClick:m=>n(l),key:l.id,style:Bt({"background-color":(u=Q(mo)(l.image))==null?void 0:u.commonColor})},[a("img",{src:(p=Q(mo)(l.image))==null?void 0:p.url},null,8,ab),a("h3",null,R(l[e.templateTypeKey]),1),a("p",null,R(l[e.templateTypeKey+"Description"]),1)],14,ib))])}),256))],544),a("div",lb,[a("button",{class:"btn mobile-full-width",onClick:i[1]||(i[1]=l=>n(Object.values(t.templates)[s.value]))},[a("span",null,"New "+R(Q(hl)(Object.keys(t.templates||[])[s.value]))+" "+R(Q(hl)(e.sheetType||"sheet")),1)])])])]),_:1}))}}),ub=le(cb,[["__scopeId","data-v-a1192683"]]),db=a("h1",null,"CHARACTER SHEET",-1),fb=re({__name:"TheCharacterSheet",props:{sheet:{}},setup(e){return(t,n)=>(w(),C(ee,null,[db,a("pre",null,R(JSON.stringify(t.sheet,null,2)),1)],64))}}),hb={class:"icon"},pb={key:0},mb=re({__name:"Checkbox",props:{modelValue:{type:[String,Boolean,Array],required:!0},label:{type:String,required:!1},value:{type:String,required:!1},text:{type:String,required:!1,default:""},icon:{type:String,required:!1}},setup(e,{emit:t}){const n=e,s=t,o=X(()=>n.value&&Array.isArray(n.modelValue)?n.modelValue.includes(n.value):n.modelValue);function r(i){if(i.preventDefault(),!(n.value&&Array.isArray(n.modelValue)))return s("update:modelValue",!n.modelValue);n.modelValue.includes(n.value)?n.modelValue.splice(n.modelValue.indexOf(n.value),1):n.modelValue.push(n.value),s("update:modelValue",n.modelValue)}return(i,l)=>{var c;return w(),C("div",{class:oe(["checkbox-group",{compact:!((c=e.label)!=null&&c.length),checked:o.value}]),onClick:r},[a("div",hb,[a("i",{class:oe(["fas",e.icon])},null,2),e.icon?z("",!0):(w(),C("span",pb,R(e.text),1))]),a("p",null,R(e.label),1)],2)}}}),Mt=le(mb,[["__scopeId","data-v-afe70239"]]),yb={class:"header"},gb={class:"roadmap"},vb=re({__name:"ClaimTile",props:{claim:{},idPrefix:{},propertyName:{},neighborClaims:{},change:{type:Function}},setup(e){const t=e,n=N(null),s=N(!1);Gt(()=>{o(),window.addEventListener("resize",o)}),Xn(()=>{window.removeEventListener("resize",o)});function o(){var c;s.value=((c=n.value)==null?void 0:c.clientWidth)&&n.value.clientWidth<140||!1}function r(c){const d=t.neighborClaims[c];return d?d.quantity>0:!1}const i=X(()=>t.claim.adjacent.map(c=>l(c)));function l(c,d=1){const u=[Qt.NORTH,Qt.EAST,Qt.SOUTH,Qt.WEST],p=u.indexOf(c);return p===-1?c:u[(p+d+u.length)%u.length]}return(c,d)=>(w(),C("div",{ref_key:"claimTile",ref:n,class:oe(["claim-tile",{small:s.value,active:t.claim.quantity>0}]),onClick:d[0]||(d[0]=u=>t.change(t.claim.quantity?0:1))},[a("div",yb,[a("h2",null,R(t.claim.name),1)]),a("ul",gb,[(w(!0),C(ee,null,me(i.value,u=>(w(),C("li",{class:oe({[u]:!0,active:t.claim.quantity>0&&r(l(u,-1))})},null,2))),256))])],2))}}),_b=le(vb,[["__scopeId","data-v-17d35069"]]),bb=re({__name:"CollapsingShelf",props:{show:{type:Boolean}},setup(e){const t=e;return(n,s)=>(w(),C("div",{class:oe(["shelf",{show:t.show}])},[xs(n.$slots,"default",{},void 0)],2))}}),Me=le(bb,[["__scopeId","data-v-5c22fd0d"]]),mn=e=>(Ce("data-v-c2d02373"),e=e(),Ee(),e),wb={class:"edit"},xb={class:"input-group"},Cb=mn(()=>a("label",{for:"name"},"Name",-1)),Eb=mn(()=>a("label",{for:"id"},[ne("ID "),a("label",{class:"muted"},"(permanent)")],-1)),kb={class:"input-group stretch"},Tb={for:"description"},Sb={class:"muted"},$b={class:"input-group"},Ab=mn(()=>a("label",{for:"maxQuantity"},"Max Quantity",-1)),Ob={key:0,class:"row"},Rb=mn(()=>a("span",null,"Cancel",-1)),Pb=[Rb],Ib=mn(()=>a("span",null,"New",-1)),Nb=[Ib],qb={key:1,class:"row"},Lb=mn(()=>a("i",{class:"fas fa-trash"},null,-1)),Db=mn(()=>a("span",null,"Delete",-1)),Bb=[Lb,Db],Ub=mn(()=>a("span",null,"Save",-1)),Fb=[Ub],Mb=re({__name:"EditEffectableModal",props:{propertyName:{},effectable:{},onEdit:{type:Function},onDelete:{type:Function},idPrefix:{},onCreateNew:{type:Function}},setup(e){const t=e,n={id:"",name:"",description:"",quantity:0,maxQuantity:1},s=N({...t.effectable||n});function o(c){if(!t.onCreateNew)return;let d=(t.idPrefix||"")+"-"+c;d=d.toLowerCase().replace(/ /g,"-").replace(/[^a-z0-9-]/g,""),s.value.id=d}function r(){t.onCreateNew&&(t.onCreateNew(s.value),U.close())}function i(){t.onEdit&&(t.onEdit(s.value),U.close())}function l(){t.onDelete&&(t.onDelete(s.value.id),U.close())}return(c,d)=>(w(),de(Ke,null,{header:L(()=>[$(Ye,{closeButton:""},{default:L(()=>[a("h2",null,R(t.onCreateNew?"Create":"Edit")+" "+R(c.propertyName),1)]),_:1})]),content:L(()=>[a("div",wb,[a("div",xb,[Cb,$e(a("input",{type:"text",id:"name","onUpdate:modelValue":d[0]||(d[0]=u=>s.value.name=u),placeholder:"Enter a memorable name",onInput:d[1]||(d[1]=u=>o(s.value.name))},null,544),[[Ae,s.value.name]])]),a("div",{class:oe(["input-group",{disabled:!t.onCreateNew}])},[Eb,$e(a("input",{type:"text",id:"id","onUpdate:modelValue":d[2]||(d[2]=u=>s.value.id=u),placeholder:"A hyphenated identifier"},null,512),[[Ae,s.value.id]])],2),a("div",kb,[a("label",Tb,[ne("Description "),a("label",Sb,"("+R(s.value.description.length)+" / 400) ",1)]),$e(a("textarea",{id:"description","onUpdate:modelValue":d[3]||(d[3]=u=>s.value.description=u),placeholder:"A brief description"},null,512),[[Ae,s.value.description]])]),a("div",$b,[Ab,$e(a("input",{type:"number",id:"maxQuantity","onUpdate:modelValue":d[4]||(d[4]=u=>s.value.maxQuantity=u),placeholder:"1, 2, 3..."},null,512),[[Ae,s.value.maxQuantity]])]),t.onCreateNew?(w(),C("div",Ob,[a("button",{class:"btn btn--alt mobile-full-width",onClick:d[5]||(d[5]=u=>Q(U).close())},Pb),a("button",{class:"btn mobile-full-width",onClick:r},Nb)])):(w(),C("div",qb,[a("button",{class:"btn btn--alt mobile-full-width",onClick:l},Bb),a("button",{class:"btn mobile-full-width",onClick:i},Fb)]))])]),_:1}))}}),Un=le(Mb,[["__scopeId","data-v-c2d02373"]]),jb=e=>(Ce("data-v-a2b561e2"),e=e(),Ee(),e),Qb={class:"header"},Hb=jb(()=>a("i",{class:"fas fa-edit"},null,-1)),Vb=[Hb],Wb={class:"row selection-bar"},Gb=re({__name:"EffectableTile",props:{effectable:{},idPrefix:{},propertyName:{},change:{type:Function},onEdit:{type:Function},onDelete:{type:Function}},setup(e){const t=e;function n(){s.value=r(t.effectable.quantity)}const s=N([]);n(),Hn(()=>t.effectable.quantity,n);function o(c){let d=s.value;d=d.filter(p=>parseInt(p)<=parseInt(c));const u=Math.max(...d.map(p=>parseInt(p)));d=d.map(p=>parseInt(p)<=u?p:c),s.value=Array.from({length:u},(p,m)=>(m+1).toString()),t.change(u)}function r(c){return Array.from({length:c},(d,u)=>(u+1).toString())}function i(c){t.onEdit&&t.onEdit(c)}function l(c){t.onDelete&&t.onDelete(c)}return(c,d)=>(w(),C("div",{class:oe(["effectable-tile",{active:t.effectable.quantity>0}])},[a("div",Qb,[a("h2",null,R(t.effectable.name),1),t.onEdit?(w(),C("button",{key:0,class:"btn btn--icon",onClick:d[0]||(d[0]=u=>Q(U).open(Un,{propertyName:c.propertyName,effectable:t.effectable,idPrefix:t.idPrefix,onDelete:l,onEdit:i}))},Vb)):z("",!0)]),a("div",Wb,[(w(!0),C(ee,null,me(c.effectable.maxQuantity,u=>(w(),de(Mt,{key:c.effectable.id+u,modelValue:s.value,"onUpdate:modelValue":[d[1]||(d[1]=p=>s.value=p),p=>o(u.toString())],value:u.toString()},null,8,["modelValue","value","onUpdate:modelValue"]))),128))]),a("p",null,R(t.effectable.description),1)],2))}}),Rt=le(Gb,[["__scopeId","data-v-a2b561e2"]]);function zb(e){return Kb(0,e)}function Kb(e,t){return Math.floor(Math.random()*(t-e)+e)}function An(e){return e[zb(e.length)]}const Ge=e=>(Ce("data-v-db5abe77"),e=e(),Ee(),e),Yb={class:"edit"},Jb={key:0,class:"input-group"},Xb=Ge(()=>a("label",{for:"gangType"},[ne("Gang Type "),a("label",{class:"muted"},"(Choose one. A second Gang Type costs 2 upgrades)")],-1)),Zb={class:"tile-list tile-list--mini"},ew={key:1,class:"input-group"},tw=Ge(()=>a("label",{for:"name"},"Name",-1)),nw=Ge(()=>a("p",null,"Choose a name for your Expert.",-1)),sw=Ge(()=>a("i",{class:"fas fa-random"},null,-1)),ow=Ge(()=>a("span",null,"Randomize",-1)),rw=[sw,ow],iw={key:2,class:"input-group"},aw=Ge(()=>a("label",{for:"expertise1"},"Expertise",-1)),lw=Ge(()=>a("p",null,"Choose your Expert's area of expertise.",-1)),cw={class:"text-list"},uw=["onMousedown"],dw={key:3,class:"input-group"},fw=Ge(()=>a("label",{for:"expertise2"},[ne("Additional Expertise "),a("label",{class:"muted"},"(Costs 2 upgrades)")],-1)),hw=Ge(()=>a("p",null,"Choose an additional area of expertise for your Expert.",-1)),pw={class:"text-list"},mw=["onMousedown"],yw={class:"input-block"},gw={class:"input-group"},vw=Ge(()=>a("label",{for:"quality"},"Quality",-1)),_w={key:0},bw={key:1},ww={key:0,class:"input-group"},xw=Ge(()=>a("label",{for:"scale"},"Scale",-1)),Cw=Ge(()=>a("p",null," A Gang's scale is equal to your current Crew Tier and increases with your Crew Tier. ",-1)),Ew={class:"input-group"},kw=Ge(()=>a("label",{for:"edges"},[ne("Edges "),a("label",{class:"muted"},"(Choose at least one)")],-1)),Tw={class:"tile-list tile-list--mini"},Sw={class:"input-group"},$w={for:"flaws"},Aw={class:"muted"},Ow={class:"tile-list tile-list--mini"},Rw={class:"input-group"},Pw=Ge(()=>a("label",{for:"harm"},"Harm",-1)),Iw={class:"tile-list tile-list--mini"},Nw={class:"input-group stretch"},qw={for:"description"},Lw={class:"muted"},Dw={key:4,class:"row"},Bw=Ge(()=>a("span",null,"Cancel",-1)),Uw=[Bw],Fw=Ge(()=>a("span",null,"New",-1)),Mw=[Fw],jw={key:5,class:"row"},Qw=Ge(()=>a("i",{class:"fas fa-trash"},null,-1)),Hw=Ge(()=>a("span",null,"Delete",-1)),Vw=[Qw,Hw],Ww=Ge(()=>a("span",null,"Save",-1)),Gw=[Ww],zw=re({__name:"EditCohortModal",props:{propertyName:{},cohort:{},onEdit:{type:Function},onDelete:{type:Function},idPrefix:{},onCreateNew:{type:Function}},setup(e){var m,v,g,_,A,I,H,G,ie,ce,Z,Te;const t=(m=Be().game)==null?void 0:m.codex,n=e;Gt(()=>{document.addEventListener("blur",o,!0)}),Xn(()=>{document.removeEventListener("blur",o,!0)});const s=N();function o(Y){s.value=null}function r(){var B,he;const Y=An((B=t==null?void 0:t.names)==null?void 0:B.firstNames),F=An((he=t==null?void 0:t.names)==null?void 0:he.lastNames);l.value.name=`${Y} ${F}`,console.log(l.value.name)}const i={id:Nu(),name:"",description:"",cohortType:n.propertyName==="gang"?"gang":"expert",edges:((_=(g=(v=t==null?void 0:t.sheets)==null?void 0:v.crew)==null?void 0:g.cohorts)==null?void 0:_.edges.map(Y=>({...Y,id:"edge-"+name,quantity:0,maxQuantity:1})))||[],flaws:((H=(I=(A=t==null?void 0:t.sheets)==null?void 0:A.crew)==null?void 0:I.cohorts)==null?void 0:H.flaws.map(Y=>({...Y,id:"flaw-"+name,quantity:0,maxQuantity:1})))||[],gangType:n.propertyName==="gang"?[{id:"gangType-adepts",name:"Adepts",description:"Scholars, tinkerers, occultists, and chemists",quantity:0,maxQuantity:1},{id:"gangType-rooks",name:"Rooks",description:"Con artists, spies, and socialites",quantity:0,maxQuantity:1},{id:"gangType-rovers",name:"Rovers",description:"Sailors, carriage drivers, and scavengers",quantity:0,maxQuantity:1},{id:"gangType-skulks",name:"Skulks",description:"Scouts, infiltrators, and thieves",quantity:0,maxQuantity:1},{id:"gangType-thugs",name:"Thugs",description:"Killers, brawlers, and roustabouts",quantity:0,maxQuantity:1}]:[],expertise1:"",expertise2:"",harm:((Te=(Z=(ce=(ie=(G=Be().game)==null?void 0:G.codex)==null?void 0:ie.sheets)==null?void 0:ce.crew)==null?void 0:Z.cohorts)==null?void 0:Te.harm.map(Y=>({...Y,id:"harm-"+name,quantity:0,maxQuantity:1})))||[],quality:0,scale:0},l=N({...n.cohort||i});function c(Y){if(!n.onCreateNew)return;let F=(n.idPrefix||"")+"-"+Y;F=F.toLowerCase().replace(/ /g,"-").replace(/[^a-z0-9-]/g,""),l.value.id=F}function d(){n.onCreateNew&&(n.onCreateNew(l.value),U.close())}function u(){n.onEdit&&(n.onEdit(l.value),U.close())}function p(){n.onDelete&&(n.onDelete(l.value.id),U.close())}return(Y,F)=>(w(),de(Ke,null,{header:L(()=>[$(Ye,{closeButton:""},{default:L(()=>[a("h2",null,R(n.onCreateNew?"Create":"Edit")+" "+R(n.propertyName),1)]),_:1})]),content:L(()=>[a("div",Yb,[n.propertyName==="gang"?(w(),C("div",Jb,[Xb,a("div",Zb,[(w(!0),C(ee,null,me(l.value.gangType,B=>(w(),de(Rt,{effectable:B,key:B.id,idPrefix:n.idPrefix+"-gangType",propertyName:B.name,change:he=>{B.quantity=he}},null,8,["effectable","idPrefix","propertyName","change"]))),128))])])):z("",!0),n.propertyName==="expert"?(w(),C("div",ew,[tw,$e(a("input",{class:"ignore-initial-focus",type:"text",id:"name","onUpdate:modelValue":F[0]||(F[0]=B=>l.value.name=B),placeholder:"A name for your Expert",onFocus:F[1]||(F[1]=B=>s.value="name"),onBlur:F[2]||(F[2]=B=>c(l.value.name))},null,544),[[Ae,l.value.name]]),$(Me,{show:s.value==="name"},{default:L(()=>[nw,a("button",{class:"btn btn--icon",onMousedown:r},rw,32)]),_:1},8,["show"])])):z("",!0),n.propertyName==="expert"?(w(),C("div",iw,[aw,$e(a("input",{class:"ignore-initial-focus",type:"text",id:"expertise1","onUpdate:modelValue":F[3]||(F[3]=B=>l.value.expertise1=B),placeholder:"An area of expertise",onFocus:F[4]||(F[4]=B=>s.value="expertise1")},null,544),[[Ae,l.value.expertise1]]),$(Me,{show:s.value==="expertise1"},{default:L(()=>{var B,he,Le,Fe;return[lw,a("div",cw,[(w(!0),C(ee,null,me((Fe=(Le=(he=(B=Q(t))==null?void 0:B.sheets)==null?void 0:he.crew)==null?void 0:Le.cohorts)==null?void 0:Fe.expertise,Je=>(w(),C("button",{class:"btn btn--text",onMousedown:Xe=>l.value.expertise1=Je},R(Je),41,uw))),256))])]}),_:1},8,["show"])])):z("",!0),n.propertyName==="expert"?(w(),C("div",dw,[fw,$e(a("input",{class:"ignore-initial-focus",type:"text",id:"expertise2","onUpdate:modelValue":F[5]||(F[5]=B=>l.value.expertise2=B),placeholder:"An additional area of expertise",onFocus:F[6]||(F[6]=B=>s.value="expertise2")},null,544),[[Ae,l.value.expertise2]]),$(Me,{show:s.value==="expertise2"},{default:L(()=>{var B,he,Le,Fe;return[hw,a("div",pw,[(w(!0),C(ee,null,me((Fe=(Le=(he=(B=Q(t))==null?void 0:B.sheets)==null?void 0:he.crew)==null?void 0:Le.cohorts)==null?void 0:Fe.expertise,Je=>(w(),C("button",{class:"btn btn--text",onMousedown:Xe=>l.value.expertise2=Je},R(Je),41,mw))),256))])]}),_:1},8,["show"])])):z("",!0),a("div",yw,[a("div",gw,[vw,$e(a("input",{class:"ignore-initial-focus",type:"number",id:"quality","onUpdate:modelValue":F[7]||(F[7]=B=>l.value.quality=B),onFocus:F[8]||(F[8]=B=>s.value="quality")},null,544),[[Ae,l.value.quality]]),$(Me,{show:s.value==="quality"},{default:L(()=>[n.propertyName==="gang"?(w(),C("p",_w," A Gang's quality is equal to your current Crew Tier and increases with your Crew Tier. ")):(w(),C("p",bw," An Expert's quality is equal to your current Crew Tier +1 and increases with your Crew Tier. "))]),_:1},8,["show"])]),n.propertyName==="gang"?(w(),C("div",ww,[xw,$e(a("input",{class:"ignore-initial-focus",type:"number",id:"scale","onUpdate:modelValue":F[9]||(F[9]=B=>l.value.scale=B),placeholder:"scale",onFocus:F[10]||(F[10]=B=>s.value="scale")},null,544),[[Ae,l.value.scale]]),$(Me,{show:s.value==="scale"},{default:L(()=>[Cw]),_:1},8,["show"])])):z("",!0)]),a("div",Ew,[kw,a("div",Tw,[(w(!0),C(ee,null,me(l.value.edges,B=>(w(),de(Rt,{effectable:B,key:B.id,idPrefix:n.idPrefix+"-edge",propertyName:B.name,change:he=>{B.quantity=he}},null,8,["effectable","idPrefix","propertyName","change"]))),128))])]),a("div",Sw,[a("label",$w,[ne("Flaws "),a("label",Aw,"(Choose at least "+R(Q(nb)(Math.max(l.value.edges.filter(B=>B.quantity>0).length,1)))+") ",1)]),a("div",Ow,[(w(!0),C(ee,null,me(l.value.flaws,B=>(w(),de(Rt,{effectable:B,key:B.id,idPrefix:n.idPrefix+"-flaw",propertyName:B.name,change:he=>{B.quantity=he}},null,8,["effectable","idPrefix","propertyName","change"]))),128))])]),a("div",Rw,[Pw,a("div",Iw,[(w(!0),C(ee,null,me(l.value.harm,B=>(w(),de(Rt,{effectable:B,key:B.id,idPrefix:n.idPrefix+"-harm",propertyName:B.name,change:he=>{l.value.harm.forEach(Le=>{Le.quantity=0}),B.quantity=he}},null,8,["effectable","idPrefix","propertyName","change"]))),128))])]),a("div",Nw,[a("label",qw,[ne("Description "),a("label",Lw,"("+R(l.value.description.length)+" / 400) ",1)]),$e(a("textarea",{id:"description","onUpdate:modelValue":F[11]||(F[11]=B=>l.value.description=B),placeholder:"A brief description"},null,512),[[Ae,l.value.description]])]),n.onCreateNew?(w(),C("section",Dw,[a("button",{class:"btn btn--alt mobile-full-width",onClick:F[12]||(F[12]=B=>Q(U).close())},Uw),a("button",{class:"btn mobile-full-width",onClick:d},Mw)])):(w(),C("section",jw,[a("button",{class:"btn btn--alt mobile-full-width",onClick:p},Vw),a("button",{class:"btn mobile-full-width",onClick:u},Gw)]))])]),_:1}))}}),Jr=le(zw,[["__scopeId","data-v-db5abe77"]]),qi=e=>(Ce("data-v-95423a98"),e=e(),Ee(),e),Kw={class:"cohort-tile"},Yw={class:"header"},Jw={key:0},Xw={key:0,class:"harm"},Zw={key:1},e1={key:0,class:"harm"},t1=qi(()=>a("i",{class:"fas fa-edit"},null,-1)),n1=[t1],s1={class:"edges-and-flaws"},o1=qi(()=>a("i",{class:"fas fa-chevron-up"},null,-1)),r1=qi(()=>a("i",{class:"fas fa-chevron-down"},null,-1)),i1=re({__name:"CohortTile",props:{cohort:{},idPrefix:{},onEdit:{type:Function},onDelete:{type:Function}},setup(e){var c,d,u;const t=e;(c=t.cohort.gangType)==null||c.filter(p=>p.quantity>0);const n=[t.cohort.expertise1].concat(t.cohort.expertise2?[t.cohort.expertise2]:[]),s=X(()=>{var p;return((p=t.cohort.harm.filter(m=>m.quantity>0)[0])==null?void 0:p.name)||""}),o=((d=t.cohort.edges)==null?void 0:d.filter(p=>p.quantity>0).map(p=>p.name))||[],r=((u=t.cohort.flaws)==null?void 0:u.filter(p=>p.quantity>0).map(p=>p.name))||[];function i(p){t.onEdit&&t.onEdit(p)}function l(p){t.onDelete&&t.onDelete(p)}return(p,m)=>{var v,g;return w(),C("div",Kw,[a("div",Yw,[t.cohort.cohortType==="gang"?(w(),C("div",Jw,[a("h3",null,[s.value?(w(),C("span",Xw,R(s.value)+"!",1)):z("",!0),ne(" Gang ")]),a("h1",null,R((v=t.cohort.gangType)==null?void 0:v.filter(_=>_.quantity>0)[0].name),1),a("h2",null,R((g=t.cohort.gangType)==null?void 0:g.filter(_=>_.quantity>0)[0].description),1)])):(w(),C("div",Zw,[a("h3",null,[s.value?(w(),C("span",e1,R(s.value)+"!",1)):z("",!0),ne(" Expert ")]),a("h1",null,R(t.cohort.name),1),a("h2",null,R(Q(n).join(" & ")),1)])),t.onEdit?(w(),C("button",{key:2,class:"btn btn--icon",onClick:m[0]||(m[0]=_=>Q(U).open(Jr,{propertyName:t.cohort.cohortType,cohort:t.cohort,idPrefix:t.idPrefix,onDelete:l,onEdit:i}))},n1)):z("",!0)]),a("div",s1,[a("ul",null,[(w(!0),C(ee,null,me(Q(o),_=>(w(),C("li",{key:_},[o1,a("span",null,R(_),1)]))),128))]),a("ul",null,[(w(!0),C(ee,null,me(Q(r),_=>(w(),C("li",{key:_},[r1,a("span",null,R(_),1)]))),128))])]),a("p",null,R(t.cohort.description),1)])}}}),a1=le(i1,[["__scopeId","data-v-95423a98"]]),St=e=>(Ce("data-v-33db5543"),e=e(),Ee(),e),l1={class:"edit"},c1={class:"input-group"},u1=St(()=>a("label",{for:"name"},"Name",-1)),d1=St(()=>a("p",null,"Choose a name.",-1)),f1=St(()=>a("i",{class:"fas fa-random"},null,-1)),h1=St(()=>a("span",null,"Randomize",-1)),p1=[f1,h1],m1=St(()=>a("label",{for:"id"},[ne("ID "),a("label",{class:"muted"},"(permanent)")],-1)),y1={class:"input-group stretch"},g1={for:"description"},v1={class:"muted"},_1={class:"input-group"},b1=St(()=>a("label",{for:"attitude"},"Attitude",-1)),w1={key:0,class:"row"},x1=St(()=>a("span",null,"Cancel",-1)),C1=[x1],E1=St(()=>a("span",null,"New",-1)),k1=[E1],T1={key:1,class:"row"},S1=St(()=>a("i",{class:"fas fa-trash"},null,-1)),$1=St(()=>a("span",null,"Delete",-1)),A1=[S1,$1],O1=St(()=>a("span",null,"Save",-1)),R1=[O1],P1=re({__name:"EditPersonModal",props:{propertyName:{},person:{},onEdit:{type:Function},onDelete:{type:Function},idPrefix:{},onCreateNew:{type:Function}},setup(e){var m;const t=e;Gt(()=>{document.addEventListener("blur",o,!0)}),Xn(()=>{document.removeEventListener("blur",o,!0)});const n=(m=Be().game)==null?void 0:m.codex,s=N();function o(v){s.value=null}function r(){var A,I;const v=An((A=n==null?void 0:n.names)==null?void 0:A.firstNames),g=An((I=n==null?void 0:n.names)==null?void 0:I.lastNames),_=`${v} ${g}`;l.value.name=_,c(_)}const i={id:"",name:"",description:"",attitude:0},l=N({...t.person||i});function c(v){if(!t.onCreateNew)return;let g=(t.idPrefix||"")+"-"+v;g=g.toLowerCase().replace(/ /g,"-").replace(/[^a-z0-9-]/g,""),l.value.id=g}function d(){t.onCreateNew&&(t.onCreateNew(l.value),U.close())}function u(){t.onEdit&&(t.onEdit(l.value),U.close())}function p(){t.onDelete&&(t.onDelete(l.value.id),U.close())}return(v,g)=>(w(),de(Ke,null,{header:L(()=>[$(Ye,{closeButton:""},{default:L(()=>[a("h2",null,R(t.onCreateNew?"Create":"Edit")+" "+R(v.propertyName),1)]),_:1})]),content:L(()=>[a("div",l1,[a("div",c1,[u1,$e(a("input",{type:"text",id:"name","onUpdate:modelValue":g[0]||(g[0]=_=>l.value.name=_),placeholder:"Enter a memorable name",onInput:g[1]||(g[1]=_=>c(l.value.name)),onFocus:g[2]||(g[2]=_=>s.value="name")},null,544),[[Ae,l.value.name]]),$(Me,{show:s.value==="name"},{default:L(()=>[d1,a("button",{class:"btn btn--icon",onMousedown:r},p1,32)]),_:1},8,["show"])]),a("div",{class:oe(["input-group",{disabled:!t.onCreateNew}])},[m1,$e(a("input",{type:"text",id:"id","onUpdate:modelValue":g[3]||(g[3]=_=>l.value.id=_),placeholder:"A hyphenated identifier"},null,512),[[Ae,l.value.id]])],2),a("div",y1,[a("label",g1,[ne("Description "),a("label",v1,"("+R(l.value.description.length)+" / 400) ",1)]),$e(a("textarea",{id:"description","onUpdate:modelValue":g[4]||(g[4]=_=>l.value.description=_),placeholder:"A brief description"},null,512),[[Ae,l.value.description]])]),a("div",_1,[b1,$e(a("input",{type:"number",id:"attitude","onUpdate:modelValue":g[5]||(g[5]=_=>l.value.attitude=_),placeholder:"-1, 0, 1..."},null,512),[[Ae,l.value.attitude]])]),t.onCreateNew?(w(),C("div",w1,[a("button",{class:"btn btn--alt mobile-full-width",onClick:g[6]||(g[6]=_=>Q(U).close())},C1),a("button",{class:"btn mobile-full-width",onClick:d},k1)])):(w(),C("div",T1,[a("button",{class:"btn btn--alt mobile-full-width",onClick:p},A1),a("button",{class:"btn mobile-full-width",onClick:u},R1)]))])]),_:1}))}}),qu=le(P1,[["__scopeId","data-v-33db5543"]]),Lu=e=>(Ce("data-v-395f631f"),e=e(),Ee(),e),I1=Lu(()=>a("i",{class:"fas fa-theater-masks"},null,-1)),N1={class:"person-tile__content"},q1={class:"header"},L1=Lu(()=>a("i",{class:"fas fa-edit"},null,-1)),D1=[L1],B1={class:"row selection-bar"},U1=re({__name:"PersonTile",props:{person:{},propertyName:{},idPrefix:{},change:{type:Function},onEdit:{type:Function},onDelete:{type:Function},options:{}},setup(e){const t=e,n=N([t.person.attitude.toString()]);function s(i){n.value.length>1&&(n.value=[i.toString()]);const l=n.value.length>0?parseInt(n.value[0]):0;t.change(t.person,l)}function o(i){t.onEdit(i)}function r(i){t.onDelete(i)}return(i,l)=>(w(),C("div",{class:oe(["person-tile",{active:t.person.attitude!==0}])},[I1,a("div",N1,[a("div",q1,[a("h2",null,R(t.person.name),1),a("button",{class:"btn btn--icon",onClick:l[0]||(l[0]=c=>Q(U).open(qu,{propertyName:i.propertyName,person:t.person,idPrefix:t.idPrefix,onDelete:r,onEdit:o}))},D1)]),a("div",B1,[(w(!0),C(ee,null,me(i.options,c=>(w(),de(Mt,{key:c.value,modelValue:n.value,"onUpdate:modelValue":[l[1]||(l[1]=d=>n.value=d),d=>s(c.value)],value:c.value.toString(),icon:c.icon,text:c.text},null,8,["modelValue","value","onUpdate:modelValue","icon","text"]))),128))]),a("p",null,R(t.person.description),1)])],2))}}),F1=le(U1,[["__scopeId","data-v-395f631f"]]),Li=e=>(Ce("data-v-b7a325fd"),e=e(),Ee(),e),M1={class:"edit"},j1={class:"input-group"},Q1=Li(()=>a("label",{for:"name"},"Name",-1)),H1={class:"input-group disabled"},V1=Li(()=>a("label",{for:"id"},[ne("ID "),a("label",{class:"muted"},"(permanent)")],-1)),W1={class:"input-group stretch"},G1={for:"description"},z1={class:"muted"},K1=Li(()=>a("span",null,"Save",-1)),Y1=[K1],J1=re({__name:"EditClaimModal",props:{propertyName:{},claim:{},onEdit:{type:Function},idPrefix:{}},setup(e){const t=e,n=N({...t.claim});function s(){t.onEdit&&(t.onEdit(n.value),U.close())}return(o,r)=>(w(),de(Ke,null,{header:L(()=>[$(Ye,{closeButton:""},{default:L(()=>[a("h2",null,"Edit "+R(o.propertyName),1)]),_:1})]),content:L(()=>[a("div",M1,[a("div",j1,[Q1,$e(a("input",{type:"text",id:"name","onUpdate:modelValue":r[0]||(r[0]=i=>n.value.name=i),placeholder:"Enter a memorable name"},null,512),[[Ae,n.value.name]])]),a("div",H1,[V1,$e(a("input",{type:"text",id:"id","onUpdate:modelValue":r[1]||(r[1]=i=>n.value.id=i),placeholder:"A hyphenated identifier"},null,512),[[Ae,n.value.id]])]),a("div",W1,[a("label",G1,[ne("Description "),a("label",z1,"("+R(n.value.description.length)+" / 400) ",1)]),$e(a("textarea",{id:"description","onUpdate:modelValue":r[2]||(r[2]=i=>n.value.description=i),placeholder:"A brief description"},null,512),[[Ae,n.value.description]])]),a("div",{class:"row"},[a("button",{class:"btn mobile-full-width",onClick:s},Y1)])])]),_:1}))}}),X1=le(J1,[["__scopeId","data-v-b7a325fd"]]),Du=e=>(Ce("data-v-da34d4d5"),e=e(),Ee(),e),Z1=Du(()=>a("h2",null,"Edit Claims",-1)),e0={class:"edit-claims"},t0=Du(()=>a("p",null,"Select a claim below.",-1)),n0=["onClick"],s0=re({__name:"EditClaimsModal",props:{sheetId:{},claims:{}},setup(e){const t=e;function n(s){const o=t.claims.findIndex(r=>r.id===s.id);Pe([{op:"replace",path:`/data/sheets/${t.sheetId}/claims/${o}`,value:s}])}return(s,o)=>(w(),de(Ke,null,{header:L(()=>[$(Ye,{"close-button":""},{default:L(()=>[Z1]),_:1})]),content:L(()=>[a("div",e0,[t0,a("ul",null,[(w(!0),C(ee,null,me(t.claims,r=>(w(),C("li",{key:r.id},[a("button",{class:"btn btn--text",onClick:i=>Q(U).open(X1,{claim:r,onEdit:n})},[a("span",null,R(r.name),1)],8,n0)]))),128))])])]),_:1}))}}),o0=le(s0,[["__scopeId","data-v-da34d4d5"]]),W=e=>(Ce("data-v-89d0e0bb"),e=e(),Ee(),e),r0={class:"sheet-layout__nested"},i0=["src"],a0=W(()=>a("h2",null,"Crew sheet",-1)),l0={class:"input-group"},c0=W(()=>a("label",{for:"crew-name"},"Name",-1)),u0=["value","placeholder"],d0=W(()=>a("p",null,"Choose a name for your crew.",-1)),f0={class:"input-group"},h0=W(()=>a("label",{for:"reputation-type"},"Reputation",-1)),p0=["value"],m0=W(()=>a("p",null,"Choose how other underworld factions see you.",-1)),y0={class:"text-list"},g0=["onMousedown"],v0={class:"input-group"},_0=W(()=>a("label",{for:"crew-description"},"Description",-1)),b0=["value"],w0=W(()=>a("p",null,"Describe your crew in a few sentences.",-1)),x0={key:0},C0={class:"input-group"},E0=W(()=>a("label",{for:"deity-name"},"Deity Name",-1)),k0={class:"row"},T0=["value"],S0=W(()=>a("i",{class:"fas fa-random"},null,-1)),$0=[S0],A0={class:"input-group"},O0=W(()=>a("label",{for:"deity-features"},"Deity Features ",-1)),R0=["value"],P0=W(()=>a("p",null,"Choose two features from the list to describe your deity.",-1)),I0={class:"text-list"},N0=["onMousedown"],q0={class:"input-group"},L0=W(()=>a("label",{for:"crew-lair"},"Lair",-1)),D0={class:"row"},B0=["value"],U0=W(()=>a("i",{class:"fas fa-random"},null,-1)),F0=[U0],M0={class:"input-group"},j0=W(()=>a("label",{for:"crew-lair-district"},"District",-1)),Q0=["value"],H0=W(()=>a("p",null,"Where is your lair located?",-1)),V0={class:"text-list"},W0=["onMousedown"],G0=W(()=>a("label",{class:"muted"},"(Choose one)",-1)),z0={class:"row"},K0={class:"tile-list tile-list--mini"},Y0={key:1},J0={class:"input-block"},X0={class:"input-group"},Z0=W(()=>a("label",{for:"crew-rep"},"Rep",-1)),ex=["value"],tx=W(()=>a("p",null,"How much rep does your crew have?",-1)),nx={class:"input-group"},sx=W(()=>a("label",{for:"crew-turf"},"Turf",-1)),ox=["value"],rx=W(()=>a("p",null,"How much turf does your crew control?",-1)),ix={class:"input-block"},ax={class:"input-group"},lx=W(()=>a("label",{for:"crew-hold"},"Hold",-1)),cx={class:"row"},ux=W(()=>a("p",null,"How strong is your crew's hold on its turf?",-1)),dx={class:"input-group"},fx=W(()=>a("label",{for:"crew-tier"},"Tier",-1)),hx=["value"],px=W(()=>a("p",null,"What tier is your crew?",-1)),mx={class:"input-block"},yx={class:"input-group"},gx=W(()=>a("label",{for:"crew-heat"},"Heat",-1)),vx=["value"],_x=W(()=>a("p",null,"How much heat is your crew generating?",-1)),bx={class:"input-group"},wx=W(()=>a("label",{for:"crew-wanted-level"},"Wanted Level",-1)),xx=["value"],Cx=W(()=>a("p",null,"How much attention is the law giving your crew?",-1)),Ex={class:"input-block"},kx={class:"input-group"},Tx=W(()=>a("label",{for:"crew-coin"},"Coin",-1)),Sx=["value"],$x=W(()=>a("p",null,"How much coin does your crew have squirreled away?",-1)),Ax={class:"input-group"},Ox=W(()=>a("label",{for:"crew-vaults"},"Vaults",-1)),Rx=["value"],Px=W(()=>a("p",null," Vaults represent the storage capacity for your crew's coin. ",-1)),Ix=W(()=>a("label",{for:"claims"},"Claims",-1)),Nx={class:"row"},qx=W(()=>a("span",null,"Edit Claims",-1)),Lx=[qx],Dx={class:"claims-list"},Bx={class:"input-group"},Ux=W(()=>a("label",{for:"crew-xp"},"Crew XP",-1)),Fx=["value"],Mx=W(()=>a("p",null,"How much experience has your crew accumulated?",-1)),jx=W(()=>a("label",{for:"crew-abilities"},"Special Abilities",-1)),Qx={class:"row"},Hx=W(()=>a("span",null,"New",-1)),Vx=[Hx],Wx={class:"tile-list"},Gx={key:0},zx=W(()=>a("em",null," No Special Abilities selected",-1)),Kx=[zx],Yx=W(()=>a("label",{for:"contacts"},"Crew Contacts",-1)),Jx={class:"row"},Xx=W(()=>a("span",null,"New",-1)),Zx=[Xx],eC={class:"tile-list"},tC={key:0},nC=W(()=>a("em",null," No Crew Contacts selected",-1)),sC=[nC],oC=W(()=>a("label",{for:"cohorts"},"Cohorts",-1)),rC={class:"row"},iC=W(()=>a("span",null,"New Gang",-1)),aC=[iC],lC=W(()=>a("span",null,"New Expert",-1)),cC=[lC],uC={class:"tile-list"},dC=W(()=>a("label",{for:"crew-upgrades"},"Crew Upgrades",-1)),fC={class:"row"},hC=W(()=>a("span",null,"New",-1)),pC=[hC],mC={class:"tile-list"},yC={key:0},gC=W(()=>a("em",null," No crew upgrades selected",-1)),vC=[gC],_C=W(()=>a("label",{for:"crew-lair-upgrades"},"Lair Upgrades",-1)),bC={class:"row"},wC=W(()=>a("span",null,"New",-1)),xC=[wC],CC={class:"tile-list"},EC={key:0},kC=W(()=>a("em",null," No lair upgrades selected",-1)),TC=[kC],SC=W(()=>a("label",{for:"crew-training-upgrades"},"Training Upgrades",-1)),$C={class:"row"},AC=W(()=>a("span",null,"New",-1)),OC=[AC],RC={class:"tile-list"},PC={key:0},IC=W(()=>a("em",null," No training upgrades selected",-1)),NC=[IC],qC=W(()=>a("label",{for:"crew-quality-upgrades"},"Quality Upgrades",-1)),LC={class:"row"},DC=W(()=>a("span",null,"New",-1)),BC=[DC],UC={class:"tile-list"},FC={key:0},MC=W(()=>a("em",null," No quality upgrades selected",-1)),jC=[MC],QC={class:"row center mobile-nav"},HC=W(()=>a("i",{class:"fas fa-file-alt"},null,-1)),VC=W(()=>a("i",{class:"fas fa-file-alt"},null,-1)),WC=W(()=>a("i",{class:"fas fa-file-alt"},null,-1)),wn=200,GC=re({__name:"TheCrewSheet",props:{sheet:{}},setup(e){var Re;const t=(Re=Be().game)==null?void 0:Re.codex;Gt(()=>{document.addEventListener("blur",i,!0)}),Xn(()=>{document.removeEventListener("blur",i,!0)});const n=e,s=N(0),o=N(null),r=N();function i(h){var f;console.log(h.relatedTarget),!((f=h.relatedTarget)!=null&&f.closest(".shelf"))&&(r.value=null)}function l(h,f){console.log("onChangeValue",h,f);const b=`/data/sheets/${n.sheet.id}/${f}`;Pe([{op:"replace",path:b,value:h}])}function c(h){const f=Math.round(h.scrollLeft/h.clientWidth);s.value=f}function d(h){o.value&&(o.value.scrollTo({top:0}),o.value.scrollTo({left:o.value.clientWidth*h,behavior:"smooth"}))}function u(){const h=t.sheets.crew.lairs,{name:f,districts:b}=An(h),E=An(b);l(f,"lair"),l(E,"lairDistrict")}function p(){const h=t.names.deityNames,f=An(h);l(f,"deityName")}const m=N(!1),v=X(()=>(m.value?n.sheet.crewUpgrades.filter(h=>h.quantity>0):n.sheet.crewUpgrades).sort(at)),g=N(!1),_=X(()=>(g.value?n.sheet.lairUpgrades.filter(h=>h.quantity>0):n.sheet.lairUpgrades).sort(at)),A=N(!1),I=X(()=>(A.value?n.sheet.trainingUpgrades.filter(h=>h.quantity>0):n.sheet.trainingUpgrades).sort(at)),H=N(!1),G=X(()=>(H.value?n.sheet.qualityUpgrades.filter(h=>h.quantity>0):n.sheet.qualityUpgrades).sort(at));function ie(h,f){const b=n.sheet.crewUpgrades.findIndex(E=>E.id===h.id);Pe([{op:"replace",path:`/data/sheets/${n.sheet.id}/${f}Upgrades/${b}`,value:h}])}function ce(h,f){const b=n.sheet.crewUpgrades.findIndex(E=>E.id===h);Pe([{op:"remove",path:`/data/sheets/${n.sheet.id}/${f}Upgrades/${b}`}])}function Z(h,f,b){const E=n.sheet[`${b}Upgrades`].findIndex(y=>y.id===h.id);if(E===-1)return console.error("Upgrade not found",h);const k=`/data/sheets/${n.sheet.id}/${b}Upgrades/${E}/quantity`;Pe([{op:"replace",path:k,value:f}])}function Te(h,f){Pe([{op:"add",path:`/data/sheets/${n.sheet.id}/${f}Upgrades/-`,value:h}])}const Y=N(!1),F=X(()=>Y.value?n.sheet.contacts.filter(h=>h.attitude!==0):n.sheet.contacts);function B(h){const f=n.sheet.contacts.findIndex(b=>b.id===h.id);Pe([{op:"replace",path:`/data/sheets/${n.sheet.id}/contacts/${f}`,value:h}])}function he(h){const f=n.sheet.contacts.findIndex(b=>b.id===h);Pe([{op:"remove",path:`/data/sheets/${n.sheet.id}/contacts/${f}`}])}function Le(h,f){const b=n.sheet.contacts.findIndex(k=>k.id===h.id),E=`/data/sheets/${n.sheet.id}/contacts/${b}/attitude`;Pe([{op:"replace",path:E,value:f}])}function Fe(h){Pe([{op:"add",path:`/data/sheets/${n.sheet.id}/contacts/-`,value:h}])}const Je=N(!1),Xe=X(()=>(Je.value?n.sheet.specialAbilities.filter(h=>h.quantity>0):n.sheet.specialAbilities).sort(at));function ge(h,f){const b=n.sheet.specialAbilities.findIndex(k=>k.id===h.id),E=`/data/sheets/${n.sheet.id}/specialAbilities/${b}/quantity`;Pe([{op:"replace",path:E,value:f}])}function ke(h){const f=n.sheet.specialAbilities.findIndex(b=>b.id===h.id);Pe([{op:"replace",path:`/data/sheets/${n.sheet.id}/specialAbilities/${f}`,value:h}])}function be(h){const f=n.sheet.specialAbilities.findIndex(b=>b.id===h);Pe([{op:"remove",path:`/data/sheets/${n.sheet.id}/specialAbilities/${f}`}])}function _t(h){Pe([{op:"add",path:`/data/sheets/${n.sheet.id}/specialAbilities/-`,value:h}])}function at(h,f){const b=h.description.length>wn,E=f.description.length>wn;return b&&!E?-1:E&&!b?1:0}function pt(h,f){return h.position.x!==f.position.x?h.position.x-f.position.x:f.position.y-h.position.y}N(!0);const st=X(()=>n.sheet.claims.sort(pt));function Xt(h){const f={},b={[Qt.NORTH]:{x:0,y:-1},[Qt.EAST]:{x:1,y:0},[Qt.SOUTH]:{x:0,y:1},[Qt.WEST]:{x:-1,y:0}};return h.adjacent.forEach(E=>{const k=b[E],y={x:h.position.x+k.x,y:h.position.y+k.y},x=n.sheet.claims.find(P=>P.position.x===y.x&&P.position.y===y.y);x&&(f[E]=x)}),f}function Zt(h,f){const b=n.sheet.claims.findIndex(k=>k.id===h.id),E=`/data/sheets/${n.sheet.id}/claims/${b}/quantity`;Pe([{op:"replace",path:E,value:f}])}const en=N(!1),He=X(()=>(en.value?n.sheet.huntingGrounds.filter(h=>h.quantity>0):n.sheet.huntingGrounds).sort(at));function S(h,f){const b=n.sheet.huntingGrounds.findIndex(k=>k.id===h.id),E=`/data/sheets/${n.sheet.id}/huntingGrounds/${b}/quantity`;Pe([{op:"replace",path:E,value:f}])}function M(h){const f=n.sheet.huntingGrounds.findIndex(b=>b.id===h.id);Pe([{op:"replace",path:`/data/sheets/${n.sheet.id}/huntingGrounds/${f}`,value:h}])}X(()=>n.sheet.cohorts.filter(h=>h.cohortType==="gang")),X(()=>n.sheet.cohorts.filter(h=>h.cohortType==="expert"));function D(h){const f=n.sheet.cohorts.findIndex(b=>b.id===h);Pe([{op:"remove",path:`/data/sheets/${n.sheet.id}/cohorts/${f}`}])}function V(h){Pe([{op:"add",path:`/data/sheets/${n.sheet.id}/cohorts/-`,value:h}])}function we(h){const f=n.sheet.cohorts.findIndex(b=>b.id===h.id);Pe([{op:"replace",path:`/data/sheets/${n.sheet.id}/cohorts/${f}`,value:h}])}return(h,f)=>{var E,k;const b=ko("Divider");return w(),C("div",r0,[a("div",{class:"crew-layout",ref_key:"carouselRef",ref:o,onScroll:f[48]||(f[48]=y=>c(y.target))},[a("div",{class:oe(["main-and-claims",{active:s.value==0}])},[a("section",null,[a("div",{class:"crew-type-card",style:Bt({backgroundColor:(E=Q(mo)(h.sheet.image))==null?void 0:E.commonColor})},[a("img",{src:(k=Q(mo)(h.sheet.image))==null?void 0:k.url},null,8,i0),a0,a("h1",null,R(h.sheet.crewType),1),a("p",null,R(h.sheet.crewTypeDescription),1)],4),a("div",l0,[c0,a("input",{id:"crew-name",type:"text",value:n.sheet.name,onFocus:f[0]||(f[0]=y=>r.value="name"),placeholder:"Untitled "+h.sheet.crewType,onChange:f[1]||(f[1]=y=>{var x;return l((x=y.target)==null?void 0:x.value,"name")})},null,40,u0),$(Me,{show:r.value=="name"},{default:L(()=>[d0]),_:1},8,["show"])]),a("div",f0,[h0,a("input",{id:"reputation-type",type:"text",value:n.sheet.reputationType,onFocus:f[2]||(f[2]=y=>r.value="reputation-type"),placeholder:"Ambitious",onChange:f[3]||(f[3]=y=>{var x;return l((x=y.target)==null?void 0:x.value,"reputationType")})},null,40,p0),$(Me,{show:r.value=="reputation-type"},{default:L(()=>[m0,a("div",y0,[(w(!0),C(ee,null,me(Q(t).sheets.crew.reputations,y=>(w(),C("button",{class:"btn btn--text",onMousedown:x=>l(y,"reputationType")},R(y),41,g0))),256))])]),_:1},8,["show"])]),a("div",v0,[_0,a("textarea",{id:"crew-description",value:n.sheet.description,onFocus:f[4]||(f[4]=y=>r.value="description"),placeholder:"A group of scoundrels scraping by in the underworld",onChange:f[5]||(f[5]=y=>{var x;return l((x=y.target)==null?void 0:x.value,"description")})},`\r
            `,40,b0),$(Me,{show:r.value=="description"},{default:L(()=>[w0]),_:1},8,["show"])]),n.sheet.crewType==="Cult"?(w(),C("div",x0,[a("div",C0,[E0,a("div",k0,[a("input",{id:"deity-name",type:"text",value:n.sheet.deityName,placeholder:"By what name do you know your deity?",onFocus:f[6]||(f[6]=y=>r.value="deity-name"),onChange:f[7]||(f[7]=y=>{var x;return l((x=y.target)==null?void 0:x.value,"deityName")})},null,40,T0),a("button",{class:"btn btn--icon",onClick:p},$0)])]),a("div",A0,[O0,a("input",{id:"deity-features",type:"text",onFocus:f[8]||(f[8]=y=>r.value="deity-features"),onChange:f[9]||(f[9]=y=>{var x;return l((x=y.target)==null?void 0:x.value,"deityFeatures")}),placeholder:"Describe your deity in a few words",value:n.sheet.deityFeatures},null,40,R0),$(Me,{show:r.value=="deity-features"},{default:L(()=>[P0,a("div",I0,[(w(),C(ee,null,me(["Alluring","Cruel","Ferocious","Monstrous","Radiant","Sinister","Serene","Transcendent"],y=>a("button",{class:"btn btn--text",key:y,onMousedown:x=>l(h.sheet.deityFeatures.length?h.sheet.deityFeatures+", "+y.toLowerCase():y,"deityFeatures")},R(y),41,N0)),64))])]),_:1},8,["show"])])])):z("",!0),$(b),a("div",q0,[L0,a("div",D0,[a("input",{id:"crew-lair",type:"text",value:n.sheet.lair,placeholder:"Where your crew hatches its schemes",onFocus:f[10]||(f[10]=y=>r.value="lair"),onChange:f[11]||(f[11]=y=>{var x;return l((x=y.target)==null?void 0:x.value,"lair")})},null,40,B0),a("button",{class:"btn btn--icon",onClick:u},F0)]),a("div",M0,[j0,a("input",{id:"crew-lair-district",type:"text",value:n.sheet.lairDistrict,placeholder:"Where do you call home?",onFocus:f[12]||(f[12]=y=>r.value="lair-district"),onChange:f[13]||(f[13]=y=>{var x;return l((x=y.target)==null?void 0:x.value,"lairDistrict")})},null,40,Q0),$(Me,{show:r.value=="lair-district"},{default:L(()=>[H0,a("div",V0,[(w(!0),C(ee,null,me(Q(t).lexicon.districts.map(y=>y.name),y=>(w(),C("button",{class:"btn btn--text",key:y,onMousedown:x=>l(y,"lairDistrict")},R(y),41,W0))),128))])]),_:1},8,["show"])])]),a("label",null,[ne(R(h.sheet.huntingGroundsLabel)+" ",1),G0]),a("div",z0,[$(Mt,{icon:"fa-low-vision",modelValue:en.value,"onUpdate:modelValue":f[14]||(f[14]=y=>en.value=y),label:"Show only selected"},null,8,["modelValue"])]),a("div",K0,[(w(!0),C(ee,null,me(He.value,y=>(w(),de(Rt,{effectable:y,key:y.id,idPrefix:n.sheet.crewType,propertyName:h.sheet.huntingGroundsLabel,change:x=>S(y,x),onEdit:M,onDelete:()=>{}},null,8,["effectable","idPrefix","propertyName","change"]))),128))]),He.value.length==0?(w(),C("p",Y0,[a("em",null," No "+R(h.sheet.huntingGroundsLabel)+" selected",1)])):z("",!0)]),$(b),a("section",null,[a("div",J0,[a("div",X0,[Z0,a("input",{id:"crew-rep",type:"number",pattern:"[0-9]*",value:n.sheet.reputation,onFocus:f[15]||(f[15]=y=>r.value="reputation"),onChange:f[16]||(f[16]=y=>{var x;return l((x=y.target)==null?void 0:x.value,"reputation")})},null,40,ex),$(Me,{show:r.value=="reputation"},{default:L(()=>[tx]),_:1},8,["show"])]),a("div",nx,[sx,a("input",{id:"crew-turf",type:"number",pattern:"[0-9]*",value:n.sheet.turf,onFocus:f[17]||(f[17]=y=>r.value="turf"),onChange:f[18]||(f[18]=y=>{var x;return l((x=y.target)==null?void 0:x.value,"turf")})},null,40,ox),$(Me,{show:r.value=="turf"},{default:L(()=>[rx]),_:1},8,["show"])])]),a("div",ix,[a("div",ax,[lx,a("div",cx,[a("button",{class:oe(["btn btn--tab",{active:n.sheet.hold=="weak"}]),onClick:f[19]||(f[19]=y=>l("weak","hold"))}," Weak ",2),a("button",{class:oe(["btn btn--tab",{active:n.sheet.hold=="strong"}]),onClick:f[20]||(f[20]=y=>l("strong","hold"))}," Strong ",2)]),$(Me,{show:r.value=="hold"},{default:L(()=>[ux]),_:1},8,["show"])]),a("div",dx,[fx,a("input",{id:"crew-tier",type:"number",pattern:"[0-9]*",value:n.sheet.tier,onFocus:f[21]||(f[21]=y=>r.value="tier"),onChange:f[22]||(f[22]=y=>{var x;return l((x=y.target)==null?void 0:x.value,"tier")})},null,40,hx),$(Me,{show:r.value=="tier"},{default:L(()=>[px]),_:1},8,["show"])])])]),$(b),a("section",null,[a("div",mx,[a("div",yx,[gx,a("input",{id:"crew-heat",type:"number",pattern:"[0-9]*",value:n.sheet.heat,onFocus:f[23]||(f[23]=y=>r.value="heat"),onChange:f[24]||(f[24]=y=>{var x;return l((x=y.target)==null?void 0:x.value,"heat")})},null,40,vx),$(Me,{show:r.value=="heat"},{default:L(()=>[_x]),_:1},8,["show"])]),a("div",bx,[wx,a("input",{id:"crew-wanted-level",type:"number",pattern:"[0-9]*",value:n.sheet.wantedLevel,onFocus:f[25]||(f[25]=y=>r.value="wanted-level"),onChange:f[26]||(f[26]=y=>{var x;return l((x=y.target)==null?void 0:x.value,"wantedLevel")})},null,40,xx),$(Me,{show:r.value=="wanted-level"},{default:L(()=>[Cx]),_:1},8,["show"])])]),a("div",Ex,[a("div",kx,[Tx,a("input",{id:"crew-coin",type:"number",pattern:"[0-9]*",value:n.sheet.coin,onFocus:f[27]||(f[27]=y=>r.value="coin"),onChange:f[28]||(f[28]=y=>{var x;return l((x=y.target)==null?void 0:x.value,"coin")})},null,40,Sx),$(Me,{show:r.value=="coin"},{default:L(()=>[$x]),_:1},8,["show"])]),a("div",Ax,[Ox,a("input",{id:"crew-vaults",type:"number",pattern:"[0-9]*",value:n.sheet.vaults,onFocus:f[29]||(f[29]=y=>r.value="vaults"),onChange:f[30]||(f[30]=y=>{var x;return l((x=y.target)==null?void 0:x.value,"vaults")})},null,40,Rx),$(Me,{show:r.value=="vaults"},{default:L(()=>[Px]),_:1},8,["show"])])])]),$(b),a("section",null,[Ix,a("div",Nx,[a("button",{class:"btn",onClick:f[31]||(f[31]=y=>Q(U).open(o0,{sheetId:n.sheet.id,claims:n.sheet.claims}))},Lx)]),a("div",Dx,[(w(!0),C(ee,null,me(st.value,y=>(w(),de(_b,{key:y.id,claim:y,idPrefix:n.sheet.crewType,propertyName:"Claim",neighborClaims:Xt(y),change:x=>Zt(y,x)},null,8,["claim","idPrefix","neighborClaims","change"]))),128))])])],2),a("div",{class:oe(["abilities-xp-and-contacts",{active:s.value==1}])},[a("section",null,[a("div",Bx,[Ux,a("input",{id:"crew-xp",type:"number",pattern:"[0-9]*",value:n.sheet.crewExperience,onFocus:f[32]||(f[32]=y=>r.value="xp"),onChange:f[33]||(f[33]=y=>{var x;return l((x=y.target)==null?void 0:x.value,"crewExperience")})},null,40,Fx),$(Me,{show:r.value=="xp"},{default:L(()=>[Mx]),_:1},8,["show"])])]),$(b),a("section",null,[jx,a("div",Qx,[a("button",{class:"btn",onClick:f[34]||(f[34]=y=>Q(U).open(Un,{propertyName:"Special Ability",idPrefix:h.sheet.crewType,onCreateNew:_t}))},Vx),$(Mt,{icon:"fa-low-vision",modelValue:Je.value,"onUpdate:modelValue":f[35]||(f[35]=y=>Je.value=y),label:"Show only selected"},null,8,["modelValue"])]),a("div",Wx,[(w(!0),C(ee,null,me(Xe.value,y=>(w(),de(Rt,{key:y.id,effectable:y,idPrefix:n.sheet.crewType,propertyName:"Special Ability",change:x=>ge(y,x),onEdit:ke,onDelete:be,class:oe({"wide-tile":y.description.length>wn})},null,8,["effectable","idPrefix","change","class"]))),128))]),Xe.value.length==0?(w(),C("p",Gx,Kx)):z("",!0)]),$(b),a("section",null,[Yx,a("div",Jx,[a("button",{class:"btn",onClick:f[36]||(f[36]=y=>Q(U).open(qu,{propertyName:"Crew Contact",idPrefix:h.sheet.crewType+"-contact",onCreateNew:Fe}))},Zx),$(Mt,{icon:"fa-low-vision",modelValue:Y.value,"onUpdate:modelValue":f[37]||(f[37]=y=>Y.value=y),label:"Show only selected"},null,8,["modelValue"])]),a("div",eC,[(w(!0),C(ee,null,me(F.value,y=>(w(),de(F1,{key:y.id,idPrefix:n.sheet.crewType+"-contact",propertyName:"Crew Contact",person:y,change:Le,onEdit:B,onDelete:he,options:[{value:1,text:""}]},null,8,["idPrefix","person"]))),128))]),F.value.length==0?(w(),C("p",tC,sC)):z("",!0)]),$(b),a("section",null,[oC,a("div",rC,[a("button",{class:"btn",onClick:f[38]||(f[38]=y=>Q(U).open(Jr,{propertyName:"gang",idPrefix:h.sheet.crewType+"-gang",onCreateNew:V}))},aC),a("button",{class:"btn",onClick:f[39]||(f[39]=y=>Q(U).open(Jr,{propertyName:"expert",idPrefix:h.sheet.crewType+"-expert",onCreateNew:V}))},cC)]),a("div",uC,[(w(!0),C(ee,null,me(n.sheet.cohorts,y=>(w(),de(a1,{class:"wide-tile",key:y.id,cohort:y,idPrefix:n.sheet.crewType,onEdit:we,onDelete:D},null,8,["cohort","idPrefix"]))),128))])])],2),a("div",{class:oe(["upgrades",{active:s.value==2}])},[a("section",null,[dC,a("div",fC,[a("button",{class:"btn",onClick:f[40]||(f[40]=y=>Q(U).open(Un,{propertyName:"Upgrade",idPrefix:h.sheet.crewType+"-upgrade",onCreateNew:x=>Te(x,"crew")}))},pC),$(Mt,{icon:"fa-low-vision",modelValue:m.value,"onUpdate:modelValue":f[41]||(f[41]=y=>m.value=y),label:"Show only selected"},null,8,["modelValue"])]),a("div",mC,[(w(!0),C(ee,null,me(v.value,y=>(w(),de(Rt,{key:y.id,effectable:y,idPrefix:n.sheet.crewType+"-upgrade",propertyName:"Upgrade",change:x=>{Z(y,x,"crew")},onEdit:x=>{ie(x,"crew")},onDelete:x=>ce(x,"crew"),class:oe({"wide-tile":y.description.length>wn})},null,8,["effectable","idPrefix","change","onEdit","onDelete","class"]))),128))]),v.value.length==0?(w(),C("p",yC,vC)):z("",!0)]),$(b),a("section",null,[_C,a("div",bC,[a("button",{class:"btn",onClick:f[42]||(f[42]=y=>Q(U).open(Un,{propertyName:"Upgrade",idPrefix:h.sheet.crewType+"-lair-upgrade",onCreateNew:x=>Te(x,"lair")}))},xC),$(Mt,{icon:"fa-low-vision",modelValue:g.value,"onUpdate:modelValue":f[43]||(f[43]=y=>g.value=y),label:"Show only selected"},null,8,["modelValue"])]),a("div",CC,[(w(!0),C(ee,null,me(_.value,y=>(w(),de(Rt,{key:y.id,effectable:y,idPrefix:n.sheet.crewType+"-lair-upgrade",propertyName:"Upgrade",change:x=>{Z(y,x,"lair")},onEdit:x=>{ie(x,"lair")},onDelete:x=>ce(x,"lair"),class:oe({"wide-tile":y.description.length>wn})},null,8,["effectable","idPrefix","change","onEdit","onDelete","class"]))),128))]),_.value.length==0?(w(),C("p",EC,TC)):z("",!0)]),$(b),a("section",null,[SC,a("div",$C,[a("button",{class:"btn",onClick:f[44]||(f[44]=y=>Q(U).open(Un,{propertyName:"Upgrade",idPrefix:h.sheet.crewType+"-training-upgrade",onCreateNew:x=>Te(x,"training")}))},OC),$(Mt,{icon:"fa-low-vision",modelValue:A.value,"onUpdate:modelValue":f[45]||(f[45]=y=>A.value=y),label:"Show only selected"},null,8,["modelValue"])]),a("div",RC,[(w(!0),C(ee,null,me(I.value,y=>(w(),de(Rt,{key:y.id,effectable:y,idPrefix:n.sheet.crewType+"-training-upgrade",propertyName:"Upgrade",change:x=>{Z(y,x,"training")},onEdit:x=>{ie(x,"training")},onDelete:x=>ce(x,"training"),class:oe({"wide-tile":y.description.length>wn})},null,8,["effectable","idPrefix","change","onEdit","onDelete","class"]))),128))]),I.value.length==0?(w(),C("p",PC,NC)):z("",!0)]),$(b),a("section",null,[qC,a("div",LC,[a("button",{class:"btn",onClick:f[46]||(f[46]=y=>Q(U).open(Un,{propertyName:"Upgrade",idPrefix:h.sheet.crewType+"-quality-upgrade",onCreateNew:x=>Te(x,"quality")}))},BC),$(Mt,{icon:"fa-low-vision",modelValue:H.value,"onUpdate:modelValue":f[47]||(f[47]=y=>H.value=y),label:"Show only selected"},null,8,["modelValue"])]),a("div",UC,[(w(!0),C(ee,null,me(G.value,y=>(w(),de(Rt,{key:y.id,effectable:y,idPrefix:n.sheet.crewType+"-quality-upgrade",propertyName:"Upgrade",change:x=>{Z(y,x,"quality")},onEdit:x=>{ie(x,"quality")},onDelete:x=>ce(x,"quality"),class:oe({"wide-tile":y.description.length>wn})},null,8,["effectable","idPrefix","change","onEdit","onDelete","class"]))),128))]),G.value.length==0?(w(),C("p",FC,jC)):z("",!0)])],2)],544),a("div",QC,[a("button",{class:oe(["btn btn--tab",{active:s.value==0}]),onClick:f[49]||(f[49]=y=>d(0))},[ne(" 1 "),HC],2),a("button",{class:oe(["btn btn--tab",{active:s.value==1}]),onClick:f[50]||(f[50]=y=>d(1))},[ne(" 2 "),VC],2),a("button",{class:oe(["btn btn--tab",{active:s.value==2}]),onClick:f[51]||(f[51]=y=>d(2))},[ne(" 3 "),WC],2)])])}}}),zC=le(GC,[["__scopeId","data-v-89d0e0bb"]]),yn=e=>(Ce("data-v-7e9337b9"),e=e(),Ee(),e),KC={class:"page"},YC={class:"controls"},JC={key:0,class:"row center"},XC=["onClick"],ZC={key:1,class:"row sheet-controls"},eE=yn(()=>a("i",{class:"fas fa-arrow-left"},null,-1)),tE=yn(()=>a("span",{class:"mobile-hidden"},"Back",-1)),nE=[eE,tE],sE={class:"breadcrumbs"},oE=yn(()=>a("span",{class:"mobile-hidden"},"Sheets",-1)),rE=yn(()=>a("i",{class:"fas fa-angle-right"},null,-1)),iE=yn(()=>a("i",{class:"fas fa-trash"},null,-1)),aE=yn(()=>a("span",{class:"mobile-hidden"},"Delete",-1)),lE=[iE,aE],cE={key:0,class:"sheet-layout"},uE={key:1,class:"sheet-select-layout"},dE={key:0,class:"sheet-list"},fE=yn(()=>a("i",{class:"fas fa-folder-plus"},null,-1)),hE={key:1,class:"sheet-list"},pE=yn(()=>a("i",{class:"fas fa-folder-plus"},null,-1)),mE={key:0,class:"model-overlay"},yE=re({__name:"TheGamePage",setup(e){const t=Ru(),n=N("crew"),s=X(()=>{var p,m;return Object.values(((m=(p=Be().game)==null?void 0:p.data)==null?void 0:m.sheets)||[])}),o=X(()=>s.value.filter(p=>p.sheetType==="crew")),r=X(()=>s.value.filter(p=>p.sheetType==="character")),i=N(null),l=N(!1);Gt(()=>{const p=t.params.id;uy(p)});function c(){U.open(ub,{sheetType:n.value,templateTypeKey:"crewType",templates:tb(n.value),onConfirm:d})}function d(p,m){var v,g;if(!m)return console.error("Sheet not found");(g=(v=Be().game)==null?void 0:v.data)!=null&&g.sheets?Pe([{op:"add",path:`/data/sheets/${m.id}`,value:m}]):Pe([{op:"replace",path:"/data",value:{sheets:{[m.id]:m}}}])}function u(){i.value&&U.open(Ni,{title:"Delete Sheet",message:`Are you sure you want to delete <em>${i.value.name}</em> ${i.value.sheetType} sheet?`,confirmText:"Yes, delete it",onConfirm:()=>{var p;Pe([{op:"remove",path:`/data/sheets/${(p=i.value)==null?void 0:p.id}`}]),i.value=null,U.close()}})}return(p,m)=>{var v,g;return w(),C(ee,null,[a("div",KC,[a("div",YC,[i.value?(w(),C("div",ZC,[a("button",{class:"btn btn--icon",onClick:m[0]||(m[0]=_=>i.value=null)},nE),a("h2",sE,[a("span",null,[a("span",null,R(i.value.sheetType),1),oE]),rE,a("span",null,R(i.value.name),1)]),a("button",{class:"btn btn--icon delete",onClick:u},lE)])):(w(),C("div",JC,[(w(),C(ee,null,me([{name:"crew",text:"Crews"},{name:"character",text:"Characters",disabled:!0},{name:"world",text:"World",disabled:!0}],_=>a("button",{class:oe(["btn btn--tab",{active:n.value===_.name,disabled:_.disabled}]),onClick:A=>n.value=_.name},[a("span",null,R(_.text),1)],10,XC)),64))]))]),i.value?(w(),C("div",cE,[((v=i.value)==null?void 0:v.sheetType)==="crew"?(w(),de(zC,{key:0,sheet:i.value},null,8,["sheet"])):z("",!0),((g=i.value)==null?void 0:g.sheetType)==="character"?(w(),de(fb,{key:1,sheet:i.value},null,8,["sheet"])):z("",!0)])):(w(),C("div",uE,[n.value==="crew"?(w(),C("ul",dE,[(w(!0),C(ee,null,me(o.value,_=>(w(),C("li",{key:_.id},[$(dl,{sheet:_,onClick:A=>i.value=_},null,8,["sheet","onClick"])]))),128)),a("li",null,[a("div",{class:"new-sheet-card",onClick:c},[fE,a("span",null,"New "+R(n.value),1)])])])):n.value==="character"?(w(),C("ul",hE,[(w(!0),C(ee,null,me(r.value,_=>(w(),C("li",{key:_.id},[$(dl,{sheet:_,onClick:A=>i.value=_},null,8,["sheet","onClick"])]))),128)),a("li",null,[a("div",{class:"new-sheet-card",onClick:c},[pE,a("span",null,"New "+R(n.value),1)])])])):z("",!0),$(D_,{class:"mobile-hidden"})]))]),l.value?(w(),C("div",mE,[a("pre",null,R(JSON.stringify(Q(Be)().game,null,2)),1),a("button",{class:"btn debug btn",onClick:m[1]||(m[1]=_=>l.value=!1)}," Close ")])):z("",!0)],64)}}}),gE=le(yE,[["__scopeId","data-v-7e9337b9"]]),vE=N();var Xr=(e=>(e.HOME="home",e.GAMES="games",e.GAME="game",e.INVITE="invite",e.SETTINGS="settings",e.LOST="lost",e))(Xr||{});const _E=[{path:"/",components:{page:dv},name:"home"},{path:"/game/:id",components:{page:gE},name:"game"},{path:"/invite/:code",components:{page:w_},name:"invite"},{path:"/:pathMatch(.*)*",components:{page:T_},name:"lost"}],bE={history:Wv(),routes:_E},Dt=g_(bE);Dt.afterEach(async(e,t)=>{});Dt.beforeEach(async(e,t,n)=>{dy(),U.open(Rs,{backgroundClass:"opaque"}),rt().refreshToken&&!rt().accessToken&&await Zc(),xe().id||(console.log("@index.ts: fetchMyAccount() because no user id"),await ns()),(!rt().refreshToken||!xe().id)&&await Bu(),U.close(),vE.value=e.name,n()});async function Bu(){try{const e=await tt.post("/account/create-guest");return e.data.refreshToken&&(rt().storeRefreshToken(e.data.refreshToken),rt().accessToken=e.data.accessToken,console.log("@account.ts: fetchMyAccount() because of createGuest"),await ns()),e.data}catch{return null}}async function wE(e,t){var n;try{const o=!e||!t?{}:{username:e,password:t};console.log("registerAccount payload:",o);const r=await tt.post("/account/create",o);return console.log("response:",r),r.status!==zt.Ok?r.data:(console.log("@account.ts: fetchMyAccount() because of registerAccount"),await ns(),null)}catch(s){return(n=s==null?void 0:s.response)==null?void 0:n.data}}async function xE(e,t){var n;try{const s=await tt.post("/account/login",{username:e,password:t});return s.data.refreshToken&&(rt().storeRefreshToken(s.data.refreshToken),rt().accessToken=s.data.accessToken,console.log("@account.ts: fetchMyAccount() because of login"),await ns()),s.data}catch(s){return(n=s==null?void 0:s.response)==null?void 0:n.data}}async function ns(){try{const e=await tt.get("/account/me");return e.data?(xe().id=e.data.id,xe().username=e.data.username,xe().isGuest=e.data.isGuest,xe().portrait=e.data.portrait,xe().games=e.data.games,e.data):null}catch{return null}}async function Di(){rt().clear(),xe().clear(),Be().clear(),Dt.push("/"),U.open(Rs),await Bu(),U.close()}async function CE(e){var t;try{const n=await tt.delete("/account/me",{data:{password:e}});return n.status!==zt.Ok?n.data:null}catch(n){return(t=n==null?void 0:n.response)==null?void 0:t.data}}async function EE(e){var t;try{const n=await tt.put("/account/username",{newUsername:e});return n.status!==zt.Ok?n.data:(xe().username=e,null)}catch(n){return(t=n==null?void 0:n.response)==null?void 0:t.data}}async function kE(e,t){var n;try{const s=await tt.put("/account/password",{password:e,newPassword:t});return s.status!==zt.Ok?s.data:null}catch(s){return(n=s==null?void 0:s.response)==null?void 0:n.data}}async function TE(e){var t;try{const n=await tt.put("/account/portrait",{portraitId:e});return n.status!==zt.Ok?n.data:(xe().portrait=e,null)}catch(n){return(t=n==null?void 0:n.response)==null?void 0:t.data}}let ur;async function SE(){return ur||(ur=(await tt.get("/version")).data),ur}const $E=e=>(Ce("data-v-da03a0e2"),e=e(),Ee(),e),AE={class:"info"},OE=["innerHTML"],RE=$E(()=>a("span",null,"Okay",-1)),PE=[RE],IE=re({__name:"InfoModal",props:{title:{},message:{}},setup(e){const t=e;return(n,s)=>(w(),de(Ke,null,{header:L(()=>[$(Ye,null,{default:L(()=>[a("h2",null,R(t.title),1)]),_:1})]),content:L(()=>[a("div",AE,[a("p",{innerHTML:t.message},null,8,OE),a("button",{class:"btn mobile-full-width",onClick:s[0]||(s[0]=(...o)=>Q(U).close&&Q(U).close(...o))},PE)])]),_:1}))}}),Uu=le(IE,[["__scopeId","data-v-da03a0e2"]]),Yt=e=>(Ce("data-v-fd8ada18"),e=e(),Ee(),e),NE=Yt(()=>a("h2",null,"Change Password",-1)),qE={class:"change-password"},LE=Yt(()=>a("p",null,[ne("Choose a new "),a("em",null,"password"),ne(" for your account.")],-1)),DE=Yt(()=>a("p",{class:"muted"}," Your new password should be at least 8 characters long. ",-1)),BE={class:"inputs"},UE={class:"input-group"},FE=Yt(()=>a("label",{for:"password"},"Current Password",-1)),ME={key:0,class:"reminder shake-once"},jE={class:"input-group"},QE=Yt(()=>a("label",{for:"password"},"New Password",-1)),HE={key:0,class:"reminder shake-once"},VE={class:"input-group"},WE=Yt(()=>a("label",{for:"confirm-password"},"Confirm New Password",-1)),GE={key:0,class:"reminder shake-once"},zE={key:0,class:"alert"},KE=Yt(()=>a("i",{class:"fas fa-exclamation-circle"},null,-1)),YE=Yt(()=>a("i",{class:"fas fa-times"},null,-1)),JE=[YE],XE={class:"row center"},ZE={key:0,class:"fas fa-circle-notch fa-spin"},ek=Yt(()=>a("span",null,"Change Password",-1)),tk=re({__name:"ChangePasswordModal",setup(e){const t=N(""),n=N(!1),s=N(""),o=N(!1),r=X(()=>l.value&&i.value.length===0?"Enter your current password":null),i=N(""),l=N(!1),c=X(()=>l.value?i.value.length===0?"Come up with something clever":i.value.length<8?"Must be at least 8 characters":i.value.length>64?"Can't be more than 64 characters":null:null),d=N(""),u=N(!1),p=X(()=>u.value?d.value.length===0?"Your new password again":i.value!==d.value?"Passwords don't match":null:null);async function m(){if(!o.value||!l.value||!u.value||r.value||c.value||p.value){o.value=!0,l.value=!0,u.value=!0,document.querySelectorAll(".reminder").forEach(_=>{_.classList.remove("shake-once"),_.offsetWidth,_.classList.add("shake-once")});return}n.value=!0,t.value="";const v=await kE(s.value,i.value);n.value=!1,v?t.value=v:U.open(Uu,{title:"Success",message:"Your password has been changed successfully."})}return(v,g)=>(w(),de(Ke,{class:oe({disabled:n.value})},{header:L(()=>[$(Ye,{closeButton:""},{default:L(()=>[NE]),_:1})]),content:L(()=>[a("div",qE,[LE,DE,a("div",BE,[a("div",UE,[FE,$e(a("input",{type:"password",onInput:g[0]||(g[0]=_=>o.value=!0),placeholder:"Your current password","onUpdate:modelValue":g[1]||(g[1]=_=>s.value=_)},null,544),[[Ae,s.value]]),r.value?(w(),C("span",ME,R(r.value),1)):z("",!0)]),a("div",jE,[QE,$e(a("input",{type:"password",onInput:g[2]||(g[2]=_=>l.value=!0),placeholder:"Create a new password","onUpdate:modelValue":g[3]||(g[3]=_=>i.value=_)},null,544),[[Ae,i.value]]),c.value?(w(),C("span",HE,R(c.value),1)):z("",!0)]),a("div",VE,[WE,$e(a("input",{type:"password",onInput:g[4]||(g[4]=_=>u.value=!0),onKeyup:Os(m,["enter"]),placeholder:"Confirm your new password","onUpdate:modelValue":g[5]||(g[5]=_=>d.value=_)},null,544),[[Ae,d.value]]),p.value?(w(),C("span",GE,R(p.value),1)):z("",!0)])]),t.value?(w(),C("div",zE,[KE,a("span",null,R(t.value),1),a("button",{class:"btn btn--icon close",onClick:g[6]||(g[6]=_=>t.value="")},JE)])):z("",!0),a("div",XE,[a("button",{class:"btn mobile-full-width",onClick:m},[n.value?(w(),C("i",ZE)):z("",!0),ek])])])]),_:1},8,["class"]))}}),nk=le(tk,[["__scopeId","data-v-fd8ada18"]]),ss=e=>(Ce("data-v-af22bc65"),e=e(),Ee(),e),sk=ss(()=>a("h2",null,"Change Username",-1)),ok={class:"change-username"},rk=ss(()=>a("p",null,[ne("Choose a new "),a("em",null,"username"),ne(" for your account.")],-1)),ik={class:"muted"},ak={class:"inputs"},lk={class:"input-group"},ck=ss(()=>a("label",{for:"username"},"New Username",-1)),uk={key:0,class:"reminder shake-once"},dk={key:0,class:"alert"},fk=ss(()=>a("i",{class:"fas fa-exclamation-circle"},null,-1)),hk=ss(()=>a("i",{class:"fas fa-times"},null,-1)),pk=[hk],mk={class:"row center"},yk={key:0,class:"fas fa-circle-notch fa-spin"},gk=ss(()=>a("span",null,"Change Username",-1)),vk=re({__name:"ChangeUsernameModal",setup(e){const t=N(""),n=N(!1),s=N(""),o=N(!1),r=X(()=>o.value?s.value.length===0?"What should we call you?":s.value.length<3?"Must be at least 3 characters":s.value.length>24?"Must have no more than 16 characters":/^[a-zA-Z0-9]+$/.test(s.value)?null:"Letters and numbers only":null);async function i(){if(!o.value||r.value){o.value=!0,document.querySelectorAll(".reminder").forEach(d=>{d.classList.remove("shake-once"),d.offsetWidth,d.classList.add("shake-once")});return}n.value=!0,t.value="";const l=await EE(s.value);n.value=!1,l?t.value=l:U.open(Uu,{title:"Success",message:`Username has been changed successfully. Your username is now <em>${s.value}</em>.`})}return(l,c)=>(w(),de(Ke,{class:oe({disabled:n.value})},{header:L(()=>[$(Ye,{closeButton:""},{default:L(()=>[sk]),_:1})]),content:L(()=>[a("div",ok,[rk,a("p",ik,[ne(" Your current username is "),a("em",null,R(Q(xe)().username),1),ne(". ")]),a("div",ak,[a("div",lk,[ck,$e(a("input",{type:"text",onInput:c[0]||(c[0]=d=>o.value=!0),onKeydown:Os(i,["enter"]),placeholder:"Enter a new username","onUpdate:modelValue":c[1]||(c[1]=d=>s.value=d)},null,544),[[Ae,s.value]]),r.value?(w(),C("span",uk,R(r.value),1)):z("",!0)])]),t.value?(w(),C("div",dk,[fk,a("span",null,R(t.value),1),a("button",{class:"btn btn--icon close",onClick:c[2]||(c[2]=d=>t.value="")},pk)])):z("",!0),a("div",mk,[a("button",{class:"btn mobile-full-width",onClick:i},[n.value?(w(),C("i",yk)):z("",!0),gk])])])]),_:1},8,["class"]))}}),_k=le(vk,[["__scopeId","data-v-af22bc65"]]),gn=e=>(Ce("data-v-0286b377"),e=e(),Ee(),e),bk=gn(()=>a("h2",null,"Delete Account",-1)),wk={class:"confirm"},xk=gn(()=>a("p",null,[ne(" This action is "),a("em",null,"irreversible"),ne(". All data related to your account will be "),a("em",null,"lost"),ne(". Are you sure you want to continue and delete your account? ")],-1)),Ck={class:"input-group"},Ek=gn(()=>a("label",{for:"password"},"Password",-1)),kk={key:0,class:"alert"},Tk=gn(()=>a("i",{class:"fas fa-exclamation-circle"},null,-1)),Sk=gn(()=>a("i",{class:"fas fa-times"},null,-1)),$k=[Sk],Ak={class:"column center"},Ok=gn(()=>a("span",null,"No, I want to keep my account",-1)),Rk=[Ok],Pk=gn(()=>a("span",{class:"muted"},"or",-1)),Ik=gn(()=>a("span",null,"Yes, I want to delete my account",-1)),Nk=[Ik],qk=re({__name:"ConfirmDeleteAccountModal",setup(e){const t=N(""),n=N(""),s=N(!1);async function o(){s.value=!0,n.value="",n.value=await CE(t.value),n.value||(U.close(),Di()),s.value=!1}return(r,i)=>(w(),de(Ke,{disabled:s.value},{header:L(()=>[$(Ye,{closeButton:""},{default:L(()=>[bk]),_:1})]),content:L(()=>[a("div",wk,[xk,a("div",Ck,[Ek,$e(a("input",{id:"password",type:"password",placeholder:"Enter your password","onUpdate:modelValue":i[0]||(i[0]=l=>t.value=l)},null,512),[[Ae,t.value]])]),n.value?(w(),C("div",kk,[Tk,a("span",null,R(n.value),1),a("button",{class:"btn btn--icon close",onClick:i[1]||(i[1]=l=>n.value="")},$k)])):z("",!0),$(jt),a("div",Ak,[a("button",{class:"btn",onClick:i[2]||(i[2]=l=>Q(U).close())},Rk),Pk,a("button",{class:oe(["btn btn--text",{disabled:!t.value}]),onClick:o},Nk,2)])])]),_:1},8,["disabled"]))}}),Lk=le(qk,[["__scopeId","data-v-0286b377"]]),vn=e=>(Ce("data-v-497ae5b4"),e=e(),Ee(),e),Dk=vn(()=>a("h2",null,"Login",-1)),Bk={class:"login"},Uk=vn(()=>a("p",null,[ne("Enter your "),a("em",null,"username"),ne(" and "),a("em",null,"password"),ne(".")],-1)),Fk={class:"inputs"},Mk={class:"input-group"},jk=vn(()=>a("label",{for:"username"},"Username",-1)),Qk={key:0,class:"reminder shake-once"},Hk={class:"input-group"},Vk=vn(()=>a("label",{for:"password"},"Password",-1)),Wk={key:0,class:"reminder shake-once"},Gk={key:0,class:"alert"},zk=vn(()=>a("i",{class:"fas fa-exclamation-circle"},null,-1)),Kk=vn(()=>a("i",{class:"fas fa-times"},null,-1)),Yk=[Kk],Jk={class:"row center"},Xk={key:0,class:"fas fa-circle-notch fa-spin"},Zk=vn(()=>a("span",null,"Login",-1)),eT=vn(()=>a("p",null,"Don't have an account?",-1)),tT=re({__name:"LoginModal",setup(e){const t=N(""),n=N(!1),s=N(""),o=N(!1),r=X(()=>o.value&&s.value.length===0?"Your username, please":null),i=N(""),l=N(!1),c=X(()=>l.value&&i.value.length===0?"Did you forget something?":null),d=X(()=>s.value.length>0&&i.value.length>0);async function u(){if(!d.value&&(!o.value||!l||r.value||c.value)){o.value=!0,l.value=!0,document.querySelectorAll(".reminder").forEach(g=>{g.classList.remove("shake-once"),g.offsetWidth,g.classList.add("shake-once")});return}n.value=!0,t.value="";const m=await xE(s.value,i.value);n.value=!1,m.refreshToken?U.close():t.value=m}function p(){U.open(Mu)}return(m,v)=>(w(),de(Ke,{class:oe({disabled:n.value})},{header:L(()=>[$(Ye,{closeButton:""},{default:L(()=>[Dk]),_:1})]),content:L(()=>[a("div",Bk,[Uk,a("div",Fk,[a("div",Mk,[jk,$e(a("input",{type:"text",onInput:v[0]||(v[0]=g=>o.value=!0),placeholder:"Enter a username","onUpdate:modelValue":v[1]||(v[1]=g=>s.value=g)},null,544),[[Ae,s.value]]),r.value?(w(),C("span",Qk,R(r.value),1)):z("",!0)]),a("div",Hk,[Vk,$e(a("input",{type:"password",onInput:v[2]||(v[2]=g=>l.value=!0),onKeyup:Os(u,["enter"]),placeholder:"Create a password","onUpdate:modelValue":v[3]||(v[3]=g=>i.value=g)},null,544),[[Ae,i.value]]),c.value?(w(),C("span",Wk,R(c.value),1)):z("",!0)])]),t.value?(w(),C("div",Gk,[zk,a("span",null,R(t.value),1),a("button",{class:"btn btn--icon close",onClick:v[4]||(v[4]=g=>t.value="")},Yk)])):z("",!0),a("div",Jk,[a("button",{class:"btn mobile-full-width",onClick:u},[n.value?(w(),C("i",Xk)):z("",!0),Zk])]),a("div",{class:"row center"},[eT,a("button",{class:"btn btn--text",onClick:p}," Register ")])])]),_:1},8,["class"]))}}),Fu=le(tT,[["__scopeId","data-v-497ae5b4"]]),Jt=e=>(Ce("data-v-bb068875"),e=e(),Ee(),e),nT=Jt(()=>a("h2",null,"Register your Account",-1)),sT={class:"create-account"},oT=Jt(()=>a("p",null,[ne(" Choose a "),a("em",null,"username"),ne(" and "),a("em",null,"password"),ne(" to register your account. ")],-1)),rT={class:"inputs"},iT={class:"input-group"},aT=Jt(()=>a("label",{for:"username"},"Username",-1)),lT={key:0,class:"reminder shake-once"},cT={class:"input-group"},uT=Jt(()=>a("label",{for:"password"},"Password",-1)),dT={key:0,class:"reminder shake-once"},fT={class:"input-group"},hT=Jt(()=>a("label",{for:"confirm-password"},"Confirm Password",-1)),pT={key:0,class:"reminder shake-once"},mT={key:0,class:"alert"},yT=Jt(()=>a("i",{class:"fas fa-exclamation-circle"},null,-1)),gT=Jt(()=>a("i",{class:"fas fa-times"},null,-1)),vT=[gT],_T={class:"row center"},bT={key:0,class:"fas fa-circle-notch fa-spin"},wT=Jt(()=>a("span",null,"Register Account",-1)),xT=Jt(()=>a("p",null,"Already have an account?",-1)),CT=re({__name:"CreateAccountModal",setup(e){const t=N(""),n=N(!1),s=N(""),o=N(!1),r=X(()=>o.value?s.value.length===0?"What should we call you?":s.value.length<3?"Must be at least 3 characters":s.value.length>24?"Must have no more than 16 characters":/^[a-zA-Z0-9]+$/.test(s.value)?null:"Letters and numbers only":null),i=N(""),l=N(!1),c=X(()=>l.value?i.value.length===0?"Come up with something clever":i.value.length<8?"Must be at least 8 characters":i.value.length>64?"Can't be more than 64 characters":null:null),d=N(""),u=N(!1),p=X(()=>u.value?d.value.length===0?"Your password again":i.value!==d.value?"Passwords don't match":null:null);async function m(){if(!o.value||!l.value||!u.value||r.value||c.value||p.value){o.value=!0,l.value=!0,u.value=!0,document.querySelectorAll(".reminder").forEach(A=>{A.classList.remove("shake-once"),A.offsetWidth,A.classList.add("shake-once")});return}n.value=!0,t.value="";const g=await wE(s.value,i.value);n.value=!1,g?t.value=g:U.close()}function v(){U.open(Fu)}return(g,_)=>(w(),de(Ke,{class:oe({disabled:n.value})},{header:L(()=>[$(Ye,{closeButton:""},{default:L(()=>[nT]),_:1})]),content:L(()=>[a("div",sT,[oT,a("div",rT,[a("div",iT,[aT,$e(a("input",{type:"text",onInput:_[0]||(_[0]=A=>o.value=!0),placeholder:"Enter a username","onUpdate:modelValue":_[1]||(_[1]=A=>s.value=A)},null,544),[[Ae,s.value]]),r.value?(w(),C("span",lT,R(r.value),1)):z("",!0)]),a("div",cT,[uT,$e(a("input",{type:"password",onInput:_[2]||(_[2]=A=>l.value=!0),placeholder:"Create a password","onUpdate:modelValue":_[3]||(_[3]=A=>i.value=A)},null,544),[[Ae,i.value]]),c.value?(w(),C("span",dT,R(c.value),1)):z("",!0)]),a("div",fT,[hT,$e(a("input",{type:"password",onInput:_[4]||(_[4]=A=>u.value=!0),onKeyup:Os(m,["enter"]),placeholder:"Confirm your password","onUpdate:modelValue":_[5]||(_[5]=A=>d.value=A)},null,544),[[Ae,d.value]]),p.value?(w(),C("span",pT,R(p.value),1)):z("",!0)])]),t.value?(w(),C("div",mT,[yT,a("span",null,R(t.value),1),a("button",{class:"btn btn--icon close",onClick:_[6]||(_[6]=A=>t.value="")},vT)])):z("",!0),a("div",_T,[a("button",{class:"btn mobile-full-width",onClick:m},[n.value?(w(),C("i",bT)):z("",!0),wT])]),a("div",{class:"row center"},[xT,a("button",{class:"btn btn--text",onClick:v},"Log in")])])]),_:1},8,["class"]))}}),Mu=le(CT,[["__scopeId","data-v-bb068875"]]),it=e=>(Ce("data-v-265ed790"),e=e(),Ee(),e),ET={class:"account"},kT=it(()=>a("p",null,"Choose a portrait from the list below.",-1)),TT={class:"portrait-select"},ST=["onClick"],$T={key:0,class:"overlay"},AT={key:1,class:"fas fa-check-circle"},OT={key:0},RT=it(()=>a("p",null,"You are currently logged in as a guest.",-1)),PT={key:0,class:"row"},IT=it(()=>a("span",null,"Register Account",-1)),NT=[IT],qT=it(()=>a("i",{class:"fas fa-sign-out-alt"},null,-1)),LT=it(()=>a("span",null,"Login",-1)),DT=[qT,LT],BT={key:1,class:"account-management"},UT=it(()=>a("p",null," Change your username. This will also change your display name in all games. ",-1)),FT=it(()=>a("i",{class:"fas fa-user-edit"},null,-1)),MT=it(()=>a("span",null,"Change Username",-1)),jT=[FT,MT],QT=it(()=>a("p",null,"Change your password.",-1)),HT=it(()=>a("i",{class:"fas fa-key"},null,-1)),VT=it(()=>a("span",null,"Change Password",-1)),WT=[HT,VT],GT={class:"attribution"},zT={class:"muted"},KT=it(()=>a("p",null,[ne(" This work is based on "),a("a",{class:"anchor-link",href:"http://www.bladesinthedark.com/",target:"_blank"}," Blades in the Dark "),ne(" , product of One Seven Design, developed and authored by John Harper, and licensed for our use under the "),a("a",{class:"anchor-link",href:"http://creativecommons.org/licenses/by/3.0/",target:"_blank"}," Creative Commons Attribution 3.0 Unported license ")],-1)),YT=it(()=>a("span",null,"View Full Attribution",-1)),JT=[YT],XT={class:"center"},ZT=it(()=>a("span",null,"Sign Out",-1)),eS=[ZT],tS=it(()=>a("span",null,"Delete Account",-1)),nS=[tS],sS={class:"row center id-block"},oS={class:"muted text-center"},rS=it(()=>a("i",{class:"fas fa-copy"},null,-1)),iS=[rS],aS={class:"muted text-center"},lS=re({__name:"AccountModal",setup(e){const t=N("");Gt(()=>{SE().then(p=>t.value=`${Ch.version}  ${p}`)});const n=new Date().getFullYear();function s(){U.open(Ni,{title:"Sign Out",message:"Are you sure you want to sign out?",onConfirm:()=>Di(),onCancel:()=>U.open(ju),onConfirmText:"Yes, I want to sign out",onCancelText:"No, keep me signed in"})}function o(){U.open(Lk)}function r(){U.open(Fu)}function i(){navigator.clipboard.writeText(xe().id)}function l(){U.open(Mu)}function c(p){TE(p)}function d(){U.open(_k)}function u(){U.open(nk)}return(p,m)=>{const v=ko("Divider");return w(),de(Ke,null,{header:L(()=>[$(Ye,{closeButton:""},{default:L(()=>[a("h2",null,R(Q(xe)().username)+"'s Account",1)]),_:1})]),content:L(()=>[a("div",ET,[a("section",null,[kT,a("ul",TT,[(w(!0),C(ee,null,me(Q(xe)().portraits,g=>(w(),C("li",{key:g.id,onClick:_=>c(g.id),class:oe({selected:g.id===Q(xe)().portrait})},[$(Mo,{portraitId:g.id},null,8,["portraitId"]),g.id===Q(xe)().portrait?(w(),C("div",$T)):z("",!0),g.id===Q(xe)().portrait?(w(),C("i",AT)):z("",!0)],10,ST))),128))])]),$(v),Q(xe)().isGuest?(w(),C("section",OT,[RT,Q(xe)().isGuest?(w(),C("div",PT,[a("button",{class:"btn",onClick:l},NT),a("button",{class:"btn btn--alt",onClick:r},DT)])):z("",!0)])):(w(),C("section",BT,[a("div",{class:"input-group"},[UT,a("button",{class:"btn mobile-full-width",onClick:d},jT)]),a("div",{class:"input-group"},[QT,a("button",{class:"btn mobile-full-width",onClick:u},WT)])])),$(v),a("section",GT,[a("p",null,[a("span",zT," "+R(Q(n))+" Olin Kirkland | All rights reserved",1)]),KT,a("button",{class:"btn btn--alt mobile-full-width",onClick:m[0]||(m[0]=()=>Q(U).open(gu))},JT)]),$(v),a("section",XT,[Q(xe)().isGuest?z("",!0):(w(),C("button",{key:0,class:"btn btn--text",onClick:s},eS)),Q(xe)().isGuest?z("",!0):(w(),C("button",{key:1,class:"btn btn--text",onClick:o},nS)),a("div",sS,[a("p",oS,"ID: "+R(Q(xe)().id),1),a("button",{class:"btn btn--icon muted",onClick:i},iS)]),a("p",aS,R(t.value),1)])])]),_:1})}}}),ju=le(lS,[["__scopeId","data-v-265ed790"]]);var Zr=(e=>(e.PLAYER="player",e.GM="gm",e.ADMIN="admin",e))(Zr||{});const pl=["tiny","big","happy","sad","smart","funny","serious","crazy","silly","brave","shy","loud","quiet","fast","slow","strong","weak","bright","dark","hot","cold","hard","soft","sharp","dull","clean","dirty","smooth","rough","old","new","sweet","sour","bitter","spicy","tasty","gross","fresh","stale","thick","thin","straight","curved","simple","complex","friendly","fierce","gentle","wild","calm"],ml=["dog","cat","bird","fish","rabbit","lion","tiger","elephant","monkey","snake","turtle","spider","horse","cow","sheep","goat","pig","chicken","duck","mouse","bear","fox","wolf","deer","whale","shark","dolphin","octopus","frog","crocodile","dragon","unicorn","phoenix","eagle","hawk","owl","penguin","koala","panda","squirrel","bat","bee","ant","butterfly","mosquito","snail","slug","lizard","crab","lobster","starfish","tree","flower","mountain","river","ocean","lake","island","desert","forest","cave","rock","cloud","sun","moon","star","planet","galaxy","comet","asteroid","meteor","rain","snow","wind","storm","rainbow","thunder","lightning","fire","ice","earth","sky","sea","sand","dust","grass","leaf","root","branch","twig","stone","pebble","sand","soil","mud","clay","metal","gold","silver","copper","iron","bronze","steel","aluminum","platinum","diamond","ruby","sapphire","emerald","crystal","gem","pearl","amber","ivory","bone","horn","feather","fur","hair","wool","silk","cotton","leather","cloth","fabric","thread","needle","scissors","knife","sword","shield","bow","arrow","spear","axe","hammer","nail","screw","bolt","nut","washer","glue","tape","rope","chain","wire","cable","net","mesh","web","hook","latch","lock","key","door","window","wall","floor","ceiling","roof","stairs","bridge","path","road","street","alley","lane","highway","avenue","boulevard","square","park","garden","yard","field","meadow","pasture","orchard","vineyard","farm","barn","shed","house","home","cottage","cabin","villa","palace","castle","tower","fort","church","temple","mosque","synagogue","shrine","monastery","cathedral","chapel","grave","tomb","crypt","pyramid","sphinx","statue","monument","obelisk","arch","gate","fence","wall","hedge","barrier","barricade","fountain","pool","pond","lake","river","stream","waterfall","spring","well","oasis","beach","coast","cliff","canyon","valley","plateau","mountain","hill","peak","summit","volcano","crater","glacier","iceberg","cave","tunnel","mine","cemetery","graveyard","mausoleum","sanctuary","altar","shrine","mosque","temple","church","synagogue","cathedral","monastery","abbey","cloister","nunnery","chapel","crypt","tomb","grave","ossuary","sarcophagus","catacomb","columbarium","graveyard","cemetary","burialground","necropolis","pyramid","museum","gallery","exhibition","exhibit","art","sculpture","painting","portrait","landscape","stilllife","history","ancient","medieval","renaissance","modern","contemporary","abstract","realism","impressionism","expressionism","surrealism","cubism","dadaism","futurism","constructivism","minimalism","popart","opart","kineticart","environmentalart","performanceart","installationart","conceptualart","videoart","digitalart","netart","virtualart","interactivart","landart","streetart","graffiti","photography","photojournalism","documentary","landscape","portrait","wildlife","nature","macro","micro","aerial","underwater","night","longexposure","blackandwhite","color","fineart","commercial","editorial","fashion","beauty","portrait","product","food","interior","architecture","cityscape","event","wedding","sports","action","adventure","travel","street","documentary","candid","photojournalism","landscape","wildlife","nature","macro","aerial","underwater","night","longexposure","blackandwhite","color","fineart","commercial","editorial","fashion","beauty","portrait","product","food","interior","architecture","cityscape","event","wedding","sports","action","adventure","travel","street","documentary","candid"];function cS(){const e=pl[Math.floor(Math.random()*pl.length)],t=ml[Math.floor(Math.random()*ml.length)],n=Math.floor(Math.random()*900)+100;return`${e}-${t}-${n}`}const os=e=>(Ce("data-v-bcea3429"),e=e(),Ee(),e),uS=os(()=>a("h2",null,"Game Options",-1)),dS={class:"options"},fS={class:"game-name"},hS={class:"input-group"},pS=os(()=>a("label",{for:"name"},"Game Name",-1)),mS={key:0,class:"reminder shake-once"},yS={class:"invite"},gS=os(()=>a("label",null,"Invite Link",-1)),vS={class:"row invite-block"},_S={class:"row"},bS={class:"muted text-center"},wS=os(()=>a("i",{class:"fas fa-copy"},null,-1)),xS=[wS],CS=os(()=>a("i",{class:"fas fa-sync"},null,-1)),ES=[CS],kS=os(()=>a("span",null," Leave Game ",-1)),TS=[kS],SS=re({__name:"GameOptionsModal",setup(e){var c;const t=N(null),n=N((c=Be().game)==null?void 0:c.name),s=X(()=>{var d;return`${window.location.origin}/invite/${(d=Be().game)==null?void 0:d.inviteCode}`});function o(){if(!n.value){t.value="Name cannot be empty";return}t.value=null,Pe([{op:"replace",path:"/name",value:n.value}])}function r(){navigator.clipboard.writeText(s.value)}function i(){Pe([{op:"replace",path:"/inviteCode",value:cS()}])}function l(){U.open(Ni,{title:"Leave Game",message:"Are you sure you want to leave the game?",confirmText:"Leave Game",onConfirm:async()=>{U.open(Rs),await yg(),Dt.push("/"),U.close()}})}return(d,u)=>(w(),de(Ke,null,{header:L(()=>[$(Ye,{closeButton:""},{default:L(()=>[uS]),_:1})]),content:L(()=>{var p,m;return[a("div",dS,[a("section",fS,[a("div",hS,[pS,$e(a("input",{type:"text",class:oe({disabled:((p=Q(Be)().userPlayer)==null?void 0:p.role)!==Q(Zr).GM}),onChange:o,placeholder:"Enter a descriptive name","onUpdate:modelValue":u[0]||(u[0]=v=>n.value=v)},null,34),[[Ae,n.value]]),t.value?(w(),C("span",mS,R(t.value),1)):z("",!0)])]),a("section",yS,[gS,a("div",vS,[a("div",_S,[a("p",bS,R(s.value),1),a("button",{class:"btn btn--icon muted",onClick:r},xS)]),((m=Q(Be)().userPlayer)==null?void 0:m.role)===Q(Zr).GM?(w(),C("button",{key:0,class:"btn btn--icon muted",onClick:i},ES)):z("",!0)])]),$(jt),a("button",{class:"btn btn--alt",onClick:l},TS)])]}),_:1}))}}),$S=le(SS,[["__scopeId","data-v-bcea3429"]]),AS=e=>(Ce("data-v-3bc7c2c2"),e=e(),Ee(),e),OS={class:"logo"},RS={class:"account"},PS=AS(()=>a("i",{class:"fas fa-cog"},null,-1)),IS=[PS],NS=re({__name:"TheNavigation",setup(e){function t(){U.open(ju)}function n(){U.open($S)}return(s,o)=>{var i;const r=ko("router-link");return w(),C("nav",null,[a("div",OS,[$(r,{to:"/"},{default:L(()=>[$(Cc)]),_:1})]),a("div",RS,[(i=Q(Be)().game)!=null&&i._id?(w(),C("button",{key:0,class:"btn btn--icon game-options",onClick:n},IS)):z("",!0),a("button",{class:"btn btn--account",onClick:t},[$(Mo,{portraitId:Q(xe)().portrait},null,8,["portraitId"]),a("span",null,R(Q(xe)().username||"Account"),1)])])])}}}),qS=le(NS,[["__scopeId","data-v-3bc7c2c2"]]),LS=re({__name:"TheModalContainer",setup(e){const t=N(),n=mr(null),s=mr(null),o=N();function r(){var i;(i=s.value)!=null&&i.closeOnClick&&U.close()}return U.getInstance().addEventListener(({modal:i,modalConfig:l})=>{var c;if((c=document.activeElement)==null||c.blur(),!i)return n.value=null;n.value={...i},s.value={...l},requestAnimationFrame(()=>{var g,_;o.value&&clearInterval(o.value);const d=(g=t.value)==null?void 0:g.$el;if(!d)return;const u=d.querySelector(".modal__header")?[d.querySelector(".modal__header")]:[],p=Array.from(((_=d.querySelector(".modal__content > div"))==null?void 0:_.children)||[]),m=[...u,...p];window.modalChildren=m;const v=d.querySelector("input:not(.disabled):not(.ignore-initial-focus)");v&&v.focus(),m.forEach(A=>A.classList.add("hidden")),o.value=setInterval(()=>{if(!m.length)console.log("clearing interval"),clearInterval(o.value);else{const A=m.shift();A==null||A.classList.remove("hidden")}},50)})}),(i,l)=>{var c;return n.value?(w(),C("div",{key:0,class:oe(["modal-container",(c=s.value)==null?void 0:c.backgroundClass])},[a("div",{class:"modal-container__background",onClick:l[0]||(l[0]=d=>r())}),(w(),de(Fd(n.value),pc(s.value,{ref_key:"modalRef",ref:t}),null,16))],2)):z("",!0)}}}),DS=le(LS,[["__scopeId","data-v-fd2251b7"]]),BS={class:"page-layout"},US={class:"page-layout__content"},FS=re({__name:"App",setup(e){return(t,n)=>{const s=ko("router-view");return w(),C(ee,null,[a("div",BS,[$(qS),a("div",US,[$(s,{name:"page"})])]),$(DS)],64)}}});om();const Qo=ah(FS);Qo.component("Divider",jt);const MS=dh();Qo.use(MS);Qo.use(Dt);Qo.mount("#app");
