var Ou=Object.defineProperty;var Ru=(e,t,n)=>t in e?Ou(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var pe=(e,t,n)=>(Ru(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();/**
* @vue/shared v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Vo(e,t){const n=new Set(e.split(","));return s=>n.has(s)}const ke={},Rn=[],ht=()=>{},Pu=()=>!1,or=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Wo=e=>e.startsWith("onUpdate:"),Ve=Object.assign,Ko=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Iu=Object.prototype.hasOwnProperty,de=(e,t)=>Iu.call(e,t),Y=Array.isArray,Pn=e=>ir(e)==="[object Map]",al=e=>ir(e)==="[object Set]",te=e=>typeof e=="function",Le=e=>typeof e=="string",Fn=e=>typeof e=="symbol",$e=e=>e!==null&&typeof e=="object",ll=e=>($e(e)||te(e))&&te(e.then)&&te(e.catch),cl=Object.prototype.toString,ir=e=>cl.call(e),Nu=e=>ir(e).slice(8,-1),ul=e=>ir(e)==="[object Object]",Qo=e=>Le(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,ts=Vo(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ar=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Lu=/-(\w)/g,Ot=ar(e=>e.replace(Lu,(t,n)=>n?n.toUpperCase():"")),Bu=/\B([A-Z])/g,vn=ar(e=>e.replace(Bu,"-$1").toLowerCase()),lr=ar(e=>e.charAt(0).toUpperCase()+e.slice(1)),Pr=ar(e=>e?`on${lr(e)}`:""),nn=(e,t)=>!Object.is(e,t),Ms=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Ys=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},Zr=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Ri;const fl=()=>Ri||(Ri=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function rn(e){if(Y(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],r=Le(s)?Fu(s):rn(s);if(r)for(const o in r)t[o]=r[o]}return t}else if(Le(e)||$e(e))return e}const Du=/;(?![^(]*\))/g,Uu=/:([^]+)/,Mu=/\/\*[^]*?\*\//g;function Fu(e){const t={};return e.replace(Mu,"").split(Du).forEach(n=>{if(n){const s=n.split(Uu);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function me(e){let t="";if(Le(e))t=e;else if(Y(e))for(let n=0;n<e.length;n++){const s=me(e[n]);s&&(t+=s+" ")}else if($e(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const qu="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ju=Vo(qu);function dl(e){return!!e||e===""}const j=e=>Le(e)?e:e==null?"":Y(e)||$e(e)&&(e.toString===cl||!te(e.toString))?JSON.stringify(e,hl,2):String(e),hl=(e,t)=>t&&t.__v_isRef?hl(e,t.value):Pn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[s,r],o)=>(n[Ir(s,o)+" =>"]=r,n),{})}:al(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Ir(n))}:Fn(t)?Ir(t):$e(t)&&!Y(t)&&!ul(t)?String(t):t,Ir=(e,t="")=>{var n;return Fn(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ct;class pl{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=ct,!t&&ct&&(this.index=(ct.scopes||(ct.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=ct;try{return ct=this,t()}finally{ct=n}}}on(){ct=this}off(){ct=this.parent}stop(t){if(this._active){let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this._active=!1}}}function ml(e){return new pl(e)}function Hu(e,t=ct){t&&t.active&&t.effects.push(e)}function yl(){return ct}function Vu(e){ct&&ct.cleanups.push(e)}let mn;class Go{constructor(t,n,s,r){this.fn=t,this.trigger=n,this.scheduler=s,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,Hu(this,r)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,bn();for(let t=0;t<this._depsLength;t++){const n=this.deps[t];if(n.computed&&(Wu(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),wn()}return this._dirtyLevel>=4}set dirty(t){this._dirtyLevel=t?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=Zt,n=mn;try{return Zt=!0,mn=this,this._runnings++,Pi(this),this.fn()}finally{Ii(this),this._runnings--,mn=n,Zt=t}}stop(){var t;this.active&&(Pi(this),Ii(this),(t=this.onStop)==null||t.call(this),this.active=!1)}}function Wu(e){return e.value}function Pi(e){e._trackId++,e._depsLength=0}function Ii(e){if(e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)gl(e.deps[t],e);e.deps.length=e._depsLength}}function gl(e,t){const n=e.get(t);n!==void 0&&t._trackId!==n&&(e.delete(t),e.size===0&&e.cleanup())}let Zt=!0,eo=0;const _l=[];function bn(){_l.push(Zt),Zt=!1}function wn(){const e=_l.pop();Zt=e===void 0?!0:e}function zo(){eo++}function Yo(){for(eo--;!eo&&to.length;)to.shift()()}function vl(e,t,n){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const s=e.deps[e._depsLength];s!==t?(s&&gl(s,e),e.deps[e._depsLength++]=t):e._depsLength++}}const to=[];function bl(e,t,n){zo();for(const s of e.keys()){let r;s._dirtyLevel<t&&(r??(r=e.get(s)===s._trackId))&&(s._shouldSchedule||(s._shouldSchedule=s._dirtyLevel===0),s._dirtyLevel=t),s._shouldSchedule&&(r??(r=e.get(s)===s._trackId))&&(s.trigger(),(!s._runnings||s.allowRecurse)&&s._dirtyLevel!==2&&(s._shouldSchedule=!1,s.scheduler&&to.push(s.scheduler)))}Yo()}const wl=(e,t)=>{const n=new Map;return n.cleanup=e,n.computed=t,n},Js=new WeakMap,yn=Symbol(""),no=Symbol("");function rt(e,t,n){if(Zt&&mn){let s=Js.get(e);s||Js.set(e,s=new Map);let r=s.get(n);r||s.set(n,r=wl(()=>s.delete(n))),vl(mn,r)}}function Dt(e,t,n,s,r,o){const i=Js.get(e);if(!i)return;let a=[];if(t==="clear")a=[...i.values()];else if(n==="length"&&Y(e)){const c=Number(s);i.forEach((f,u)=>{(u==="length"||!Fn(u)&&u>=c)&&a.push(f)})}else switch(n!==void 0&&a.push(i.get(n)),t){case"add":Y(e)?Qo(n)&&a.push(i.get("length")):(a.push(i.get(yn)),Pn(e)&&a.push(i.get(no)));break;case"delete":Y(e)||(a.push(i.get(yn)),Pn(e)&&a.push(i.get(no)));break;case"set":Pn(e)&&a.push(i.get(yn));break}zo();for(const c of a)c&&bl(c,4);Yo()}function Ku(e,t){var n;return(n=Js.get(e))==null?void 0:n.get(t)}const Qu=Vo("__proto__,__v_isRef,__isVue"),El=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Fn)),Ni=Gu();function Gu(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const s=he(this);for(let o=0,i=this.length;o<i;o++)rt(s,"get",o+"");const r=s[t](...n);return r===-1||r===!1?s[t](...n.map(he)):r}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){bn(),zo();const s=he(this)[t].apply(this,n);return Yo(),wn(),s}}),e}function zu(e){const t=he(this);return rt(t,"has",e),t.hasOwnProperty(e)}class Cl{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,s){const r=this._isReadonly,o=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return o;if(n==="__v_raw")return s===(r?o?cf:Al:o?xl:Sl).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const i=Y(t);if(!r){if(i&&de(Ni,n))return Reflect.get(Ni,n,s);if(n==="hasOwnProperty")return zu}const a=Reflect.get(t,n,s);return(Fn(n)?El.has(n):Qu(n))||(r||rt(t,"get",n),o)?a:De(a)?i&&Qo(n)?a:a.value:$e(a)?r?$l(a):_s(a):a}}class kl extends Cl{constructor(t=!1){super(!1,t)}set(t,n,s,r){let o=t[n];if(!this._isShallow){const c=Ln(o);if(!Xs(s)&&!Ln(s)&&(o=he(o),s=he(s)),!Y(t)&&De(o)&&!De(s))return c?!1:(o.value=s,!0)}const i=Y(t)&&Qo(n)?Number(n)<t.length:de(t,n),a=Reflect.set(t,n,s,r);return t===he(r)&&(i?nn(s,o)&&Dt(t,"set",n,s):Dt(t,"add",n,s)),a}deleteProperty(t,n){const s=de(t,n);t[n];const r=Reflect.deleteProperty(t,n);return r&&s&&Dt(t,"delete",n,void 0),r}has(t,n){const s=Reflect.has(t,n);return(!Fn(n)||!El.has(n))&&rt(t,"has",n),s}ownKeys(t){return rt(t,"iterate",Y(t)?"length":yn),Reflect.ownKeys(t)}}class Yu extends Cl{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Ju=new kl,Xu=new Yu,Zu=new kl(!0),Jo=e=>e,cr=e=>Reflect.getPrototypeOf(e);function As(e,t,n=!1,s=!1){e=e.__v_raw;const r=he(e),o=he(t);n||(nn(t,o)&&rt(r,"get",t),rt(r,"get",o));const{has:i}=cr(r),a=s?Jo:n?ei:cs;if(i.call(r,t))return a(e.get(t));if(i.call(r,o))return a(e.get(o));e!==r&&e.get(t)}function Ts(e,t=!1){const n=this.__v_raw,s=he(n),r=he(e);return t||(nn(e,r)&&rt(s,"has",e),rt(s,"has",r)),e===r?n.has(e):n.has(e)||n.has(r)}function $s(e,t=!1){return e=e.__v_raw,!t&&rt(he(e),"iterate",yn),Reflect.get(e,"size",e)}function Li(e){e=he(e);const t=he(this);return cr(t).has.call(t,e)||(t.add(e),Dt(t,"add",e,e)),this}function Bi(e,t){t=he(t);const n=he(this),{has:s,get:r}=cr(n);let o=s.call(n,e);o||(e=he(e),o=s.call(n,e));const i=r.call(n,e);return n.set(e,t),o?nn(t,i)&&Dt(n,"set",e,t):Dt(n,"add",e,t),this}function Di(e){const t=he(this),{has:n,get:s}=cr(t);let r=n.call(t,e);r||(e=he(e),r=n.call(t,e)),s&&s.call(t,e);const o=t.delete(e);return r&&Dt(t,"delete",e,void 0),o}function Ui(){const e=he(this),t=e.size!==0,n=e.clear();return t&&Dt(e,"clear",void 0,void 0),n}function Os(e,t){return function(s,r){const o=this,i=o.__v_raw,a=he(i),c=t?Jo:e?ei:cs;return!e&&rt(a,"iterate",yn),i.forEach((f,u)=>s.call(r,c(f),c(u),o))}}function Rs(e,t,n){return function(...s){const r=this.__v_raw,o=he(r),i=Pn(o),a=e==="entries"||e===Symbol.iterator&&i,c=e==="keys"&&i,f=r[e](...s),u=n?Jo:t?ei:cs;return!t&&rt(o,"iterate",c?no:yn),{next(){const{value:d,done:h}=f.next();return h?{value:d,done:h}:{value:a?[u(d[0]),u(d[1])]:u(d),done:h}},[Symbol.iterator](){return this}}}}function Wt(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function ef(){const e={get(o){return As(this,o)},get size(){return $s(this)},has:Ts,add:Li,set:Bi,delete:Di,clear:Ui,forEach:Os(!1,!1)},t={get(o){return As(this,o,!1,!0)},get size(){return $s(this)},has:Ts,add:Li,set:Bi,delete:Di,clear:Ui,forEach:Os(!1,!0)},n={get(o){return As(this,o,!0)},get size(){return $s(this,!0)},has(o){return Ts.call(this,o,!0)},add:Wt("add"),set:Wt("set"),delete:Wt("delete"),clear:Wt("clear"),forEach:Os(!0,!1)},s={get(o){return As(this,o,!0,!0)},get size(){return $s(this,!0)},has(o){return Ts.call(this,o,!0)},add:Wt("add"),set:Wt("set"),delete:Wt("delete"),clear:Wt("clear"),forEach:Os(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{e[o]=Rs(o,!1,!1),n[o]=Rs(o,!0,!1),t[o]=Rs(o,!1,!0),s[o]=Rs(o,!0,!0)}),[e,n,t,s]}const[tf,nf,sf,rf]=ef();function Xo(e,t){const n=t?e?rf:sf:e?nf:tf;return(s,r,o)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?s:Reflect.get(de(n,r)&&r in s?n:s,r,o)}const of={get:Xo(!1,!1)},af={get:Xo(!1,!0)},lf={get:Xo(!0,!1)},Sl=new WeakMap,xl=new WeakMap,Al=new WeakMap,cf=new WeakMap;function uf(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ff(e){return e.__v_skip||!Object.isExtensible(e)?0:uf(Nu(e))}function _s(e){return Ln(e)?e:Zo(e,!1,Ju,of,Sl)}function Tl(e){return Zo(e,!1,Zu,af,xl)}function $l(e){return Zo(e,!0,Xu,lf,Al)}function Zo(e,t,n,s,r){if(!$e(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=r.get(e);if(o)return o;const i=ff(e);if(i===0)return e;const a=new Proxy(e,i===2?s:n);return r.set(e,a),a}function en(e){return Ln(e)?en(e.__v_raw):!!(e&&e.__v_isReactive)}function Ln(e){return!!(e&&e.__v_isReadonly)}function Xs(e){return!!(e&&e.__v_isShallow)}function Ol(e){return en(e)||Ln(e)}function he(e){const t=e&&e.__v_raw;return t?he(t):e}function ur(e){return Object.isExtensible(e)&&Ys(e,"__v_skip",!0),e}const cs=e=>$e(e)?_s(e):e,ei=e=>$e(e)?$l(e):e;class Rl{constructor(t,n,s,r){this.getter=t,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Go(()=>t(this._value),()=>Fs(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=s}get value(){const t=he(this);return(!t._cacheable||t.effect.dirty)&&nn(t._value,t._value=t.effect.run())&&Fs(t,4),Pl(t),t.effect._dirtyLevel>=2&&Fs(t,2),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function df(e,t,n=!1){let s,r;const o=te(e);return o?(s=e,r=ht):(s=e.get,r=e.set),new Rl(s,r,o||!r,n)}function Pl(e){var t;Zt&&mn&&(e=he(e),vl(mn,(t=e.dep)!=null?t:e.dep=wl(()=>e.dep=void 0,e instanceof Rl?e:void 0)))}function Fs(e,t=4,n){e=he(e);const s=e.dep;s&&bl(s,t)}function De(e){return!!(e&&e.__v_isRef===!0)}function q(e){return Il(e,!1)}function so(e){return Il(e,!0)}function Il(e,t){return De(e)?e:new hf(e,t)}class hf{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:he(t),this._value=n?t:cs(t)}get value(){return Pl(this),this._value}set value(t){const n=this.__v_isShallow||Xs(t)||Ln(t);t=n?t:he(t),nn(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:cs(t),Fs(this,4))}}function ee(e){return De(e)?e.value:e}const pf={get:(e,t,n)=>ee(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const r=e[t];return De(r)&&!De(n)?(r.value=n,!0):Reflect.set(e,t,n,s)}};function Nl(e){return en(e)?e:new Proxy(e,pf)}function mf(e){const t=Y(e)?new Array(e.length):{};for(const n in e)t[n]=gf(e,n);return t}class yf{constructor(t,n,s){this._object=t,this._key=n,this._defaultValue=s,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Ku(he(this._object),this._key)}}function gf(e,t,n){const s=e[t];return De(s)?s:new yf(e,t,n)}/**
* @vue/runtime-core v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function tn(e,t,n,s){try{return s?e(...s):e()}catch(r){fr(r,t,n)}}function bt(e,t,n,s){if(te(e)){const o=tn(e,t,n,s);return o&&ll(o)&&o.catch(i=>{fr(i,t,n)}),o}const r=[];for(let o=0;o<e.length;o++)r.push(bt(e[o],t,n,s));return r}function fr(e,t,n,s=!0){const r=t?t.vnode:null;if(t){let o=t.parent;const i=t.proxy,a=`https://vuejs.org/error-reference/#runtime-${n}`;for(;o;){const f=o.ec;if(f){for(let u=0;u<f.length;u++)if(f[u](e,i,a)===!1)return}o=o.parent}const c=t.appContext.config.errorHandler;if(c){tn(c,null,10,[e,i,a]);return}}_f(e,n,r,s)}function _f(e,t,n,s=!0){console.error(e)}let us=!1,ro=!1;const Qe=[];let At=0;const In=[];let zt=null,hn=0;const Ll=Promise.resolve();let ti=null;function ni(e){const t=ti||Ll;return e?t.then(this?e.bind(this):e):t}function vf(e){let t=At+1,n=Qe.length;for(;t<n;){const s=t+n>>>1,r=Qe[s],o=fs(r);o<e||o===e&&r.pre?t=s+1:n=s}return t}function si(e){(!Qe.length||!Qe.includes(e,us&&e.allowRecurse?At+1:At))&&(e.id==null?Qe.push(e):Qe.splice(vf(e.id),0,e),Bl())}function Bl(){!us&&!ro&&(ro=!0,ti=Ll.then(Ul))}function bf(e){const t=Qe.indexOf(e);t>At&&Qe.splice(t,1)}function wf(e){Y(e)?In.push(...e):(!zt||!zt.includes(e,e.allowRecurse?hn+1:hn))&&In.push(e),Bl()}function Mi(e,t,n=us?At+1:0){for(;n<Qe.length;n++){const s=Qe[n];if(s&&s.pre){if(e&&s.id!==e.uid)continue;Qe.splice(n,1),n--,s()}}}function Dl(e){if(In.length){const t=[...new Set(In)].sort((n,s)=>fs(n)-fs(s));if(In.length=0,zt){zt.push(...t);return}for(zt=t,hn=0;hn<zt.length;hn++)zt[hn]();zt=null,hn=0}}const fs=e=>e.id==null?1/0:e.id,Ef=(e,t)=>{const n=fs(e)-fs(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function Ul(e){ro=!1,us=!0,Qe.sort(Ef);try{for(At=0;At<Qe.length;At++){const t=Qe[At];t&&t.active!==!1&&tn(t,null,14)}}finally{At=0,Qe.length=0,Dl(),us=!1,ti=null,(Qe.length||In.length)&&Ul()}}function Cf(e,t,...n){if(e.isUnmounted)return;const s=e.vnode.props||ke;let r=n;const o=t.startsWith("update:"),i=o&&t.slice(7);if(i&&i in s){const u=`${i==="modelValue"?"model":i}Modifiers`,{number:d,trim:h}=s[u]||ke;h&&(r=n.map(y=>Le(y)?y.trim():y)),d&&(r=n.map(Zr))}let a,c=s[a=Pr(t)]||s[a=Pr(Ot(t))];!c&&o&&(c=s[a=Pr(vn(t))]),c&&bt(c,e,6,r);const f=s[a+"Once"];if(f){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,bt(f,e,6,r)}}function Ml(e,t,n=!1){const s=t.emitsCache,r=s.get(e);if(r!==void 0)return r;const o=e.emits;let i={},a=!1;if(!te(e)){const c=f=>{const u=Ml(f,t,!0);u&&(a=!0,Ve(i,u))};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!o&&!a?($e(e)&&s.set(e,null),null):(Y(o)?o.forEach(c=>i[c]=null):Ve(i,o),$e(e)&&s.set(e,i),i)}function dr(e,t){return!e||!or(t)?!1:(t=t.slice(2).replace(/Once$/,""),de(e,t[0].toLowerCase()+t.slice(1))||de(e,vn(t))||de(e,t))}let Be=null,hr=null;function Zs(e){const t=Be;return Be=e,hr=e&&e.type.__scopeId||null,t}function Se(e){hr=e}function xe(){hr=null}function V(e,t=Be,n){if(!t||e._n)return e;const s=(...r)=>{s._d&&Yi(-1);const o=Zs(t);let i;try{i=e(...r)}finally{Zs(o),s._d&&Yi(1)}return i};return s._n=!0,s._c=!0,s._d=!0,s}function Nr(e){const{type:t,vnode:n,proxy:s,withProxy:r,props:o,propsOptions:[i],slots:a,attrs:c,emit:f,render:u,renderCache:d,data:h,setupState:y,ctx:g,inheritAttrs:_}=e;let $,L;const H=Zs(e);try{if(n.shapeFlag&4){const oe=r||s,fe=oe;$=xt(u.call(fe,oe,d,o,y,h,g)),L=c}else{const oe=t;$=xt(oe.length>1?oe(o,{attrs:c,slots:a,emit:f}):oe(o,null)),L=t.props?c:kf(c)}}catch(oe){os.length=0,fr(oe,e,1),$=P(sn)}let K=$;if(L&&_!==!1){const oe=Object.keys(L),{shapeFlag:fe}=K;oe.length&&fe&7&&(i&&oe.some(Wo)&&(L=Sf(L,i)),K=Bn(K,L))}return n.dirs&&(K=Bn(K),K.dirs=K.dirs?K.dirs.concat(n.dirs):n.dirs),n.transition&&(K.transition=n.transition),$=K,Zs(H),$}const kf=e=>{let t;for(const n in e)(n==="class"||n==="style"||or(n))&&((t||(t={}))[n]=e[n]);return t},Sf=(e,t)=>{const n={};for(const s in e)(!Wo(s)||!(s.slice(9)in t))&&(n[s]=e[s]);return n};function xf(e,t,n){const{props:s,children:r,component:o}=e,{props:i,children:a,patchFlag:c}=t,f=o.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return s?Fi(s,i,f):!!i;if(c&8){const u=t.dynamicProps;for(let d=0;d<u.length;d++){const h=u[d];if(i[h]!==s[h]&&!dr(f,h))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:s===i?!1:s?i?Fi(s,i,f):!0:!!i;return!1}function Fi(e,t,n){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let r=0;r<s.length;r++){const o=s[r];if(t[o]!==e[o]&&!dr(n,o))return!0}return!1}function Af({vnode:e,parent:t},n){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s===e)(e=t.vnode).el=n,t=t.parent;else break}}const Fl="components";function ri(e,t){return jl(Fl,e,!0,t)||e}const ql=Symbol.for("v-ndc");function Tf(e){return Le(e)?jl(Fl,e,!1)||e:e||ql}function jl(e,t,n=!0,s=!1){const r=Be||je;if(r){const o=r.type;{const a=bd(o,!1);if(a&&(a===t||a===Ot(t)||a===lr(Ot(t))))return o}const i=qi(r[e]||o[e],t)||qi(r.appContext[e],t);return!i&&s?o:i}}function qi(e,t){return e&&(e[t]||e[Ot(t)]||e[lr(Ot(t))])}const $f=e=>e.__isSuspense;function Of(e,t){t&&t.pendingBranch?Y(e)?t.effects.push(...e):t.effects.push(e):wf(e)}const Rf=Symbol.for("v-scx"),Pf=()=>wt(Rf),Ps={};function ns(e,t,n){return Hl(e,t,n)}function Hl(e,t,{immediate:n,deep:s,flush:r,once:o,onTrack:i,onTrigger:a}=ke){if(t&&o){const J=t;t=(...Ae)=>{J(...Ae),fe()}}const c=je,f=J=>s===!0?J:pn(J,s===!1?1:void 0);let u,d=!1,h=!1;if(De(e)?(u=()=>e.value,d=Xs(e)):en(e)?(u=()=>f(e),d=!0):Y(e)?(h=!0,d=e.some(J=>en(J)||Xs(J)),u=()=>e.map(J=>{if(De(J))return J.value;if(en(J))return f(J);if(te(J))return tn(J,c,2)})):te(e)?t?u=()=>tn(e,c,2):u=()=>(y&&y(),bt(e,c,3,[g])):u=ht,t&&s){const J=u;u=()=>pn(J())}let y,g=J=>{y=K.onStop=()=>{tn(J,c,4),y=K.onStop=void 0}},_;if(gr)if(g=ht,t?n&&bt(t,c,3,[u(),h?[]:void 0,g]):u(),r==="sync"){const J=Pf();_=J.__watcherHandles||(J.__watcherHandles=[])}else return ht;let $=h?new Array(e.length).fill(Ps):Ps;const L=()=>{if(!(!K.active||!K.dirty))if(t){const J=K.run();(s||d||(h?J.some((Ae,N)=>nn(Ae,$[N])):nn(J,$)))&&(y&&y(),bt(t,c,3,[J,$===Ps?void 0:h&&$[0]===Ps?[]:$,g]),$=J)}else K.run()};L.allowRecurse=!!t;let H;r==="sync"?H=L:r==="post"?H=()=>nt(L,c&&c.suspense):(L.pre=!0,c&&(L.id=c.uid),H=()=>si(L));const K=new Go(u,ht,H),oe=yl(),fe=()=>{K.stop(),oe&&Ko(oe.effects,K)};return t?n?L():$=K.run():r==="post"?nt(K.run.bind(K),c&&c.suspense):K.run(),_&&_.push(fe),fe}function If(e,t,n){const s=this.proxy,r=Le(e)?e.includes(".")?Vl(s,e):()=>s[e]:e.bind(s,s);let o;te(t)?o=t:(o=t.handler,n=t);const i=vs(this),a=Hl(r,o.bind(s),n);return i(),a}function Vl(e,t){const n=t.split(".");return()=>{let s=e;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}function pn(e,t,n=0,s){if(!$e(e)||e.__v_skip)return e;if(t&&t>0){if(n>=t)return e;n++}if(s=s||new Set,s.has(e))return e;if(s.add(e),De(e))pn(e.value,t,n,s);else if(Y(e))for(let r=0;r<e.length;r++)pn(e[r],t,n,s);else if(al(e)||Pn(e))e.forEach(r=>{pn(r,t,n,s)});else if(ul(e))for(const r in e)pn(e[r],t,n,s);return e}function Ge(e,t){if(Be===null)return e;const n=_r(Be)||Be.proxy,s=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[o,i,a,c=ke]=t[r];o&&(te(o)&&(o={mounted:o,updated:o}),o.deep&&pn(i),s.push({dir:o,instance:n,value:i,oldValue:void 0,arg:a,modifiers:c}))}return e}function un(e,t,n,s){const r=e.dirs,o=t&&t.dirs;for(let i=0;i<r.length;i++){const a=r[i];o&&(a.oldValue=o[i].value);let c=a.dir[s];c&&(bn(),bt(c,n,8,[e.el,a,e,t]),wn())}}/*! #__NO_SIDE_EFFECTS__ */function re(e,t){return te(e)?Ve({name:e.name},t,{setup:e}):e}const ss=e=>!!e.type.__asyncLoader,Wl=e=>e.type.__isKeepAlive;function Nf(e,t){Kl(e,"a",t)}function Lf(e,t){Kl(e,"da",t)}function Kl(e,t,n=je){const s=e.__wdc||(e.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(pr(t,s,n),n){let r=n.parent;for(;r&&r.parent;)Wl(r.parent.vnode)&&Bf(s,t,n,r),r=r.parent}}function Bf(e,t,n,s){const r=pr(t,e,s,!0);oi(()=>{Ko(s[t],r)},n)}function pr(e,t,n=je,s=!1){if(n){const r=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...i)=>{if(n.isUnmounted)return;bn();const a=vs(n),c=bt(t,n,e,i);return a(),wn(),c});return s?r.unshift(o):r.push(o),o}}const Mt=e=>(t,n=je)=>(!gr||e==="sp")&&pr(e,(...s)=>t(...s),n),Df=Mt("bm"),qn=Mt("m"),Uf=Mt("bu"),Mf=Mt("u"),Ff=Mt("bum"),oi=Mt("um"),qf=Mt("sp"),jf=Mt("rtg"),Hf=Mt("rtc");function Vf(e,t=je){pr("ec",e,t)}function Ze(e,t,n,s){let r;const o=n;if(Y(e)||Le(e)){r=new Array(e.length);for(let i=0,a=e.length;i<a;i++)r[i]=t(e[i],i,void 0,o)}else if(typeof e=="number"){r=new Array(e);for(let i=0;i<e;i++)r[i]=t(i+1,i,void 0,o)}else if($e(e))if(e[Symbol.iterator])r=Array.from(e,(i,a)=>t(i,a,void 0,o));else{const i=Object.keys(e);r=new Array(i.length);for(let a=0,c=i.length;a<c;a++){const f=i[a];r[a]=t(e[f],f,a,o)}}else r=[];return r}function ds(e,t,n={},s,r){if(Be.isCE||Be.parent&&ss(Be.parent)&&Be.parent.isCE)return t!=="default"&&(n.name=t),P("slot",n,s);let o=e[t];o&&o._c&&(o._d=!1),w();const i=o&&Ql(o(n)),a=Pe(we,{key:n.key||i&&i.key||`_${t}`},i||[],i&&e._===1?64:-2);return o&&o._c&&(o._d=!0),a}function Ql(e){return e.some(t=>tr(t)?!(t.type===sn||t.type===we&&!Ql(t.children)):!0)?e:null}const oo=e=>e?ic(e)?_r(e)||e.proxy:oo(e.parent):null,rs=Ve(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>oo(e.parent),$root:e=>oo(e.root),$emit:e=>e.emit,$options:e=>ii(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,si(e.update)}),$nextTick:e=>e.n||(e.n=ni.bind(e.proxy)),$watch:e=>If.bind(e)}),Lr=(e,t)=>e!==ke&&!e.__isScriptSetup&&de(e,t),Wf={get({_:e},t){const{ctx:n,setupState:s,data:r,props:o,accessCache:i,type:a,appContext:c}=e;let f;if(t[0]!=="$"){const y=i[t];if(y!==void 0)switch(y){case 1:return s[t];case 2:return r[t];case 4:return n[t];case 3:return o[t]}else{if(Lr(s,t))return i[t]=1,s[t];if(r!==ke&&de(r,t))return i[t]=2,r[t];if((f=e.propsOptions[0])&&de(f,t))return i[t]=3,o[t];if(n!==ke&&de(n,t))return i[t]=4,n[t];io&&(i[t]=0)}}const u=rs[t];let d,h;if(u)return t==="$attrs"&&rt(e,"get",t),u(e);if((d=a.__cssModules)&&(d=d[t]))return d;if(n!==ke&&de(n,t))return i[t]=4,n[t];if(h=c.config.globalProperties,de(h,t))return h[t]},set({_:e},t,n){const{data:s,setupState:r,ctx:o}=e;return Lr(r,t)?(r[t]=n,!0):s!==ke&&de(s,t)?(s[t]=n,!0):de(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:r,propsOptions:o}},i){let a;return!!n[i]||e!==ke&&de(e,i)||Lr(t,i)||(a=o[0])&&de(a,i)||de(s,i)||de(rs,i)||de(r.config.globalProperties,i)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:de(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function ji(e){return Y(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let io=!0;function Kf(e){const t=ii(e),n=e.proxy,s=e.ctx;io=!1,t.beforeCreate&&Hi(t.beforeCreate,e,"bc");const{data:r,computed:o,methods:i,watch:a,provide:c,inject:f,created:u,beforeMount:d,mounted:h,beforeUpdate:y,updated:g,activated:_,deactivated:$,beforeDestroy:L,beforeUnmount:H,destroyed:K,unmounted:oe,render:fe,renderTracked:J,renderTriggered:Ae,errorCaptured:N,serverPrefetch:b,expose:x,inheritAttrs:B,components:Fe,directives:et,filters:cn}=t;if(f&&Qf(f,s,null),i)for(const Ee in i){const _e=i[Ee];te(_e)&&(s[Ee]=_e.bind(n))}if(r){const Ee=r.call(n,n);$e(Ee)&&(e.data=_s(Ee))}if(io=!0,o)for(const Ee in o){const _e=o[Ee],Lt=te(_e)?_e.bind(n,n):te(_e.get)?_e.get.bind(n,n):ht,Vt=!te(_e)&&te(_e.set)?_e.set.bind(n):ht,Ct=Z({get:Lt,set:Vt});Object.defineProperty(s,Ee,{enumerable:!0,configurable:!0,get:()=>Ct.value,set:tt=>Ct.value=tt})}if(a)for(const Ee in a)Gl(a[Ee],s,n,Ee);if(c){const Ee=te(c)?c.call(n):c;Reflect.ownKeys(Ee).forEach(_e=>{qs(_e,Ee[_e])})}u&&Hi(u,e,"c");function ye(Ee,_e){Y(_e)?_e.forEach(Lt=>Ee(Lt.bind(n))):_e&&Ee(_e.bind(n))}if(ye(Df,d),ye(qn,h),ye(Uf,y),ye(Mf,g),ye(Nf,_),ye(Lf,$),ye(Vf,N),ye(Hf,J),ye(jf,Ae),ye(Ff,H),ye(oi,oe),ye(qf,b),Y(x))if(x.length){const Ee=e.exposed||(e.exposed={});x.forEach(_e=>{Object.defineProperty(Ee,_e,{get:()=>n[_e],set:Lt=>n[_e]=Lt})})}else e.exposed||(e.exposed={});fe&&e.render===ht&&(e.render=fe),B!=null&&(e.inheritAttrs=B),Fe&&(e.components=Fe),et&&(e.directives=et)}function Qf(e,t,n=ht){Y(e)&&(e=ao(e));for(const s in e){const r=e[s];let o;$e(r)?"default"in r?o=wt(r.from||s,r.default,!0):o=wt(r.from||s):o=wt(r),De(o)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>o.value,set:i=>o.value=i}):t[s]=o}}function Hi(e,t,n){bt(Y(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,n)}function Gl(e,t,n,s){const r=s.includes(".")?Vl(n,s):()=>n[s];if(Le(e)){const o=t[e];te(o)&&ns(r,o)}else if(te(e))ns(r,e.bind(n));else if($e(e))if(Y(e))e.forEach(o=>Gl(o,t,n,s));else{const o=te(e.handler)?e.handler.bind(n):t[e.handler];te(o)&&ns(r,o,e)}}function ii(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:r,optionsCache:o,config:{optionMergeStrategies:i}}=e.appContext,a=o.get(t);let c;return a?c=a:!r.length&&!n&&!s?c=t:(c={},r.length&&r.forEach(f=>er(c,f,i,!0)),er(c,t,i)),$e(t)&&o.set(t,c),c}function er(e,t,n,s=!1){const{mixins:r,extends:o}=t;o&&er(e,o,n,!0),r&&r.forEach(i=>er(e,i,n,!0));for(const i in t)if(!(s&&i==="expose")){const a=Gf[i]||n&&n[i];e[i]=a?a(e[i],t[i]):t[i]}return e}const Gf={data:Vi,props:Wi,emits:Wi,methods:Zn,computed:Zn,beforeCreate:Xe,created:Xe,beforeMount:Xe,mounted:Xe,beforeUpdate:Xe,updated:Xe,beforeDestroy:Xe,beforeUnmount:Xe,destroyed:Xe,unmounted:Xe,activated:Xe,deactivated:Xe,errorCaptured:Xe,serverPrefetch:Xe,components:Zn,directives:Zn,watch:Yf,provide:Vi,inject:zf};function Vi(e,t){return t?e?function(){return Ve(te(e)?e.call(this,this):e,te(t)?t.call(this,this):t)}:t:e}function zf(e,t){return Zn(ao(e),ao(t))}function ao(e){if(Y(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Xe(e,t){return e?[...new Set([].concat(e,t))]:t}function Zn(e,t){return e?Ve(Object.create(null),e,t):t}function Wi(e,t){return e?Y(e)&&Y(t)?[...new Set([...e,...t])]:Ve(Object.create(null),ji(e),ji(t??{})):t}function Yf(e,t){if(!e)return t;if(!t)return e;const n=Ve(Object.create(null),e);for(const s in t)n[s]=Xe(e[s],t[s]);return n}function zl(){return{app:null,config:{isNativeTag:Pu,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Jf=0;function Xf(e,t){return function(s,r=null){te(s)||(s=Ve({},s)),r!=null&&!$e(r)&&(r=null);const o=zl(),i=new WeakSet;let a=!1;const c=o.app={_uid:Jf++,_component:s,_props:r,_container:null,_context:o,_instance:null,version:Ed,get config(){return o.config},set config(f){},use(f,...u){return i.has(f)||(f&&te(f.install)?(i.add(f),f.install(c,...u)):te(f)&&(i.add(f),f(c,...u))),c},mixin(f){return o.mixins.includes(f)||o.mixins.push(f),c},component(f,u){return u?(o.components[f]=u,c):o.components[f]},directive(f,u){return u?(o.directives[f]=u,c):o.directives[f]},mount(f,u,d){if(!a){const h=P(s,r);return h.appContext=o,d===!0?d="svg":d===!1&&(d=void 0),u&&t?t(h,f):e(h,f,d),a=!0,c._container=f,f.__vue_app__=c,_r(h.component)||h.component.proxy}},unmount(){a&&(e(null,c._container),delete c._container.__vue_app__)},provide(f,u){return o.provides[f]=u,c},runWithContext(f){const u=Nn;Nn=c;try{return f()}finally{Nn=u}}};return c}}let Nn=null;function qs(e,t){if(je){let n=je.provides;const s=je.parent&&je.parent.provides;s===n&&(n=je.provides=Object.create(s)),n[e]=t}}function wt(e,t,n=!1){const s=je||Be;if(s||Nn){const r=s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:Nn._context.provides;if(r&&e in r)return r[e];if(arguments.length>1)return n&&te(t)?t.call(s&&s.proxy):t}}function Zf(){return!!(je||Be||Nn)}function ed(e,t,n,s=!1){const r={},o={};Ys(o,yr,1),e.propsDefaults=Object.create(null),Yl(e,t,r,o);for(const i in e.propsOptions[0])i in r||(r[i]=void 0);n?e.props=s?r:Tl(r):e.type.props?e.props=r:e.props=o,e.attrs=o}function td(e,t,n,s){const{props:r,attrs:o,vnode:{patchFlag:i}}=e,a=he(r),[c]=e.propsOptions;let f=!1;if((s||i>0)&&!(i&16)){if(i&8){const u=e.vnode.dynamicProps;for(let d=0;d<u.length;d++){let h=u[d];if(dr(e.emitsOptions,h))continue;const y=t[h];if(c)if(de(o,h))y!==o[h]&&(o[h]=y,f=!0);else{const g=Ot(h);r[g]=lo(c,a,g,y,e,!1)}else y!==o[h]&&(o[h]=y,f=!0)}}}else{Yl(e,t,r,o)&&(f=!0);let u;for(const d in a)(!t||!de(t,d)&&((u=vn(d))===d||!de(t,u)))&&(c?n&&(n[d]!==void 0||n[u]!==void 0)&&(r[d]=lo(c,a,d,void 0,e,!0)):delete r[d]);if(o!==a)for(const d in o)(!t||!de(t,d))&&(delete o[d],f=!0)}f&&Dt(e,"set","$attrs")}function Yl(e,t,n,s){const[r,o]=e.propsOptions;let i=!1,a;if(t)for(let c in t){if(ts(c))continue;const f=t[c];let u;r&&de(r,u=Ot(c))?!o||!o.includes(u)?n[u]=f:(a||(a={}))[u]=f:dr(e.emitsOptions,c)||(!(c in s)||f!==s[c])&&(s[c]=f,i=!0)}if(o){const c=he(n),f=a||ke;for(let u=0;u<o.length;u++){const d=o[u];n[d]=lo(r,c,d,f[d],e,!de(f,d))}}return i}function lo(e,t,n,s,r,o){const i=e[n];if(i!=null){const a=de(i,"default");if(a&&s===void 0){const c=i.default;if(i.type!==Function&&!i.skipFactory&&te(c)){const{propsDefaults:f}=r;if(n in f)s=f[n];else{const u=vs(r);s=f[n]=c.call(null,t),u()}}else s=c}i[0]&&(o&&!a?s=!1:i[1]&&(s===""||s===vn(n))&&(s=!0))}return s}function Jl(e,t,n=!1){const s=t.propsCache,r=s.get(e);if(r)return r;const o=e.props,i={},a=[];let c=!1;if(!te(e)){const u=d=>{c=!0;const[h,y]=Jl(d,t,!0);Ve(i,h),y&&a.push(...y)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!o&&!c)return $e(e)&&s.set(e,Rn),Rn;if(Y(o))for(let u=0;u<o.length;u++){const d=Ot(o[u]);Ki(d)&&(i[d]=ke)}else if(o)for(const u in o){const d=Ot(u);if(Ki(d)){const h=o[u],y=i[d]=Y(h)||te(h)?{type:h}:Ve({},h);if(y){const g=zi(Boolean,y.type),_=zi(String,y.type);y[0]=g>-1,y[1]=_<0||g<_,(g>-1||de(y,"default"))&&a.push(d)}}}const f=[i,a];return $e(e)&&s.set(e,f),f}function Ki(e){return e[0]!=="$"&&!ts(e)}function Qi(e){return e===null?"null":typeof e=="function"?e.name||"":typeof e=="object"&&e.constructor&&e.constructor.name||""}function Gi(e,t){return Qi(e)===Qi(t)}function zi(e,t){return Y(t)?t.findIndex(n=>Gi(n,e)):te(t)&&Gi(t,e)?0:-1}const Xl=e=>e[0]==="_"||e==="$stable",ai=e=>Y(e)?e.map(xt):[xt(e)],nd=(e,t,n)=>{if(t._n)return t;const s=V((...r)=>ai(t(...r)),n);return s._c=!1,s},Zl=(e,t,n)=>{const s=e._ctx;for(const r in e){if(Xl(r))continue;const o=e[r];if(te(o))t[r]=nd(r,o,s);else if(o!=null){const i=ai(o);t[r]=()=>i}}},ec=(e,t)=>{const n=ai(t);e.slots.default=()=>n},sd=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=he(t),Ys(t,"_",n)):Zl(t,e.slots={})}else e.slots={},t&&ec(e,t);Ys(e.slots,yr,1)},rd=(e,t,n)=>{const{vnode:s,slots:r}=e;let o=!0,i=ke;if(s.shapeFlag&32){const a=t._;a?n&&a===1?o=!1:(Ve(r,t),!n&&a===1&&delete r._):(o=!t.$stable,Zl(t,r)),i=t}else t&&(ec(e,t),i={default:1});if(o)for(const a in r)!Xl(a)&&i[a]==null&&delete r[a]};function co(e,t,n,s,r=!1){if(Y(e)){e.forEach((h,y)=>co(h,t&&(Y(t)?t[y]:t),n,s,r));return}if(ss(s)&&!r)return;const o=s.shapeFlag&4?_r(s.component)||s.component.proxy:s.el,i=r?null:o,{i:a,r:c}=e,f=t&&t.r,u=a.refs===ke?a.refs={}:a.refs,d=a.setupState;if(f!=null&&f!==c&&(Le(f)?(u[f]=null,de(d,f)&&(d[f]=null)):De(f)&&(f.value=null)),te(c))tn(c,a,12,[i,u]);else{const h=Le(c),y=De(c);if(h||y){const g=()=>{if(e.f){const _=h?de(d,c)?d[c]:u[c]:c.value;r?Y(_)&&Ko(_,o):Y(_)?_.includes(o)||_.push(o):h?(u[c]=[o],de(d,c)&&(d[c]=u[c])):(c.value=[o],e.k&&(u[e.k]=c.value))}else h?(u[c]=i,de(d,c)&&(d[c]=i)):y&&(c.value=i,e.k&&(u[e.k]=i))};i?(g.id=-1,nt(g,n)):g()}}}const nt=Of;function od(e){return id(e)}function id(e,t){const n=fl();n.__VUE__=!0;const{insert:s,remove:r,patchProp:o,createElement:i,createText:a,createComment:c,setText:f,setElementText:u,parentNode:d,nextSibling:h,setScopeId:y=ht,insertStaticContent:g}=e,_=(p,m,v,S=null,E=null,R=null,U=void 0,O=null,I=!!m.dynamicChildren)=>{if(p===m)return;p&&!zn(p,m)&&(S=k(p),tt(p,E,R,!0),p=null),m.patchFlag===-2&&(I=!1,m.dynamicChildren=null);const{type:T,ref:F,shapeFlag:z}=m;switch(T){case mr:$(p,m,v,S);break;case sn:L(p,m,v,S);break;case Dr:p==null&&H(m,v,S,U);break;case we:Fe(p,m,v,S,E,R,U,O,I);break;default:z&1?fe(p,m,v,S,E,R,U,O,I):z&6?et(p,m,v,S,E,R,U,O,I):(z&64||z&128)&&T.process(p,m,v,S,E,R,U,O,I,W)}F!=null&&E&&co(F,p&&p.ref,R,m||p,!m)},$=(p,m,v,S)=>{if(p==null)s(m.el=a(m.children),v,S);else{const E=m.el=p.el;m.children!==p.children&&f(E,m.children)}},L=(p,m,v,S)=>{p==null?s(m.el=c(m.children||""),v,S):m.el=p.el},H=(p,m,v,S)=>{[p.el,p.anchor]=g(p.children,m,v,S,p.el,p.anchor)},K=({el:p,anchor:m},v,S)=>{let E;for(;p&&p!==m;)E=h(p),s(p,v,S),p=E;s(m,v,S)},oe=({el:p,anchor:m})=>{let v;for(;p&&p!==m;)v=h(p),r(p),p=v;r(m)},fe=(p,m,v,S,E,R,U,O,I)=>{m.type==="svg"?U="svg":m.type==="math"&&(U="mathml"),p==null?J(m,v,S,E,R,U,O,I):b(p,m,E,R,U,O,I)},J=(p,m,v,S,E,R,U,O)=>{let I,T;const{props:F,shapeFlag:z,transition:Q,dirs:X}=p;if(I=p.el=i(p.type,R,F&&F.is,F),z&8?u(I,p.children):z&16&&N(p.children,I,null,S,E,Br(p,R),U,O),X&&un(p,null,S,"created"),Ae(I,p,p.scopeId,U,S),F){for(const Ce in F)Ce!=="value"&&!ts(Ce)&&o(I,Ce,null,F[Ce],R,p.children,S,E,We);"value"in F&&o(I,"value",null,F.value,R),(T=F.onVnodeBeforeMount)&&St(T,S,p)}X&&un(p,null,S,"beforeMount");const ie=ad(E,Q);ie&&Q.beforeEnter(I),s(I,m,v),((T=F&&F.onVnodeMounted)||ie||X)&&nt(()=>{T&&St(T,S,p),ie&&Q.enter(I),X&&un(p,null,S,"mounted")},E)},Ae=(p,m,v,S,E)=>{if(v&&y(p,v),S)for(let R=0;R<S.length;R++)y(p,S[R]);if(E){let R=E.subTree;if(m===R){const U=E.vnode;Ae(p,U,U.scopeId,U.slotScopeIds,E.parent)}}},N=(p,m,v,S,E,R,U,O,I=0)=>{for(let T=I;T<p.length;T++){const F=p[T]=O?Yt(p[T]):xt(p[T]);_(null,F,m,v,S,E,R,U,O)}},b=(p,m,v,S,E,R,U)=>{const O=m.el=p.el;let{patchFlag:I,dynamicChildren:T,dirs:F}=m;I|=p.patchFlag&16;const z=p.props||ke,Q=m.props||ke;let X;if(v&&fn(v,!1),(X=Q.onVnodeBeforeUpdate)&&St(X,v,m,p),F&&un(m,p,v,"beforeUpdate"),v&&fn(v,!0),T?x(p.dynamicChildren,T,O,v,S,Br(m,E),R):U||_e(p,m,O,null,v,S,Br(m,E),R,!1),I>0){if(I&16)B(O,m,z,Q,v,S,E);else if(I&2&&z.class!==Q.class&&o(O,"class",null,Q.class,E),I&4&&o(O,"style",z.style,Q.style,E),I&8){const ie=m.dynamicProps;for(let Ce=0;Ce<ie.length;Ce++){const Te=ie[Ce],Ue=z[Te],yt=Q[Te];(yt!==Ue||Te==="value")&&o(O,Te,Ue,yt,E,p.children,v,S,We)}}I&1&&p.children!==m.children&&u(O,m.children)}else!U&&T==null&&B(O,m,z,Q,v,S,E);((X=Q.onVnodeUpdated)||F)&&nt(()=>{X&&St(X,v,m,p),F&&un(m,p,v,"updated")},S)},x=(p,m,v,S,E,R,U)=>{for(let O=0;O<m.length;O++){const I=p[O],T=m[O],F=I.el&&(I.type===we||!zn(I,T)||I.shapeFlag&70)?d(I.el):v;_(I,T,F,null,S,E,R,U,!0)}},B=(p,m,v,S,E,R,U)=>{if(v!==S){if(v!==ke)for(const O in v)!ts(O)&&!(O in S)&&o(p,O,v[O],null,U,m.children,E,R,We);for(const O in S){if(ts(O))continue;const I=S[O],T=v[O];I!==T&&O!=="value"&&o(p,O,T,I,U,m.children,E,R,We)}"value"in S&&o(p,"value",v.value,S.value,U)}},Fe=(p,m,v,S,E,R,U,O,I)=>{const T=m.el=p?p.el:a(""),F=m.anchor=p?p.anchor:a("");let{patchFlag:z,dynamicChildren:Q,slotScopeIds:X}=m;X&&(O=O?O.concat(X):X),p==null?(s(T,v,S),s(F,v,S),N(m.children||[],v,F,E,R,U,O,I)):z>0&&z&64&&Q&&p.dynamicChildren?(x(p.dynamicChildren,Q,v,E,R,U,O),(m.key!=null||E&&m===E.subTree)&&tc(p,m,!0)):_e(p,m,v,F,E,R,U,O,I)},et=(p,m,v,S,E,R,U,O,I)=>{m.slotScopeIds=O,p==null?m.shapeFlag&512?E.ctx.activate(m,v,S,U,I):cn(m,v,S,E,R,U,I):ft(p,m,I)},cn=(p,m,v,S,E,R,U)=>{const O=p.component=md(p,S,E);if(Wl(p)&&(O.ctx.renderer=W),yd(O),O.asyncDep){if(E&&E.registerDep(O,ye),!p.el){const I=O.subTree=P(sn);L(null,I,m,v)}}else ye(O,p,m,v,E,R,U)},ft=(p,m,v)=>{const S=m.component=p.component;if(xf(p,m,v))if(S.asyncDep&&!S.asyncResolved){Ee(S,m,v);return}else S.next=m,bf(S.update),S.effect.dirty=!0,S.update();else m.el=p.el,S.vnode=m},ye=(p,m,v,S,E,R,U)=>{const O=()=>{if(p.isMounted){let{next:F,bu:z,u:Q,parent:X,vnode:ie}=p;{const Sn=nc(p);if(Sn){F&&(F.el=ie.el,Ee(p,F,U)),Sn.asyncDep.then(()=>{p.isUnmounted||O()});return}}let Ce=F,Te;fn(p,!1),F?(F.el=ie.el,Ee(p,F,U)):F=ie,z&&Ms(z),(Te=F.props&&F.props.onVnodeBeforeUpdate)&&St(Te,X,F,ie),fn(p,!0);const Ue=Nr(p),yt=p.subTree;p.subTree=Ue,_(yt,Ue,d(yt.el),k(yt),p,E,R),F.el=Ue.el,Ce===null&&Af(p,Ue.el),Q&&nt(Q,E),(Te=F.props&&F.props.onVnodeUpdated)&&nt(()=>St(Te,X,F,ie),E)}else{let F;const{el:z,props:Q}=m,{bm:X,m:ie,parent:Ce}=p,Te=ss(m);if(fn(p,!1),X&&Ms(X),!Te&&(F=Q&&Q.onVnodeBeforeMount)&&St(F,Ce,m),fn(p,!0),z&&Oe){const Ue=()=>{p.subTree=Nr(p),Oe(z,p.subTree,p,E,null)};Te?m.type.__asyncLoader().then(()=>!p.isUnmounted&&Ue()):Ue()}else{const Ue=p.subTree=Nr(p);_(null,Ue,v,S,p,E,R),m.el=Ue.el}if(ie&&nt(ie,E),!Te&&(F=Q&&Q.onVnodeMounted)){const Ue=m;nt(()=>St(F,Ce,Ue),E)}(m.shapeFlag&256||Ce&&ss(Ce.vnode)&&Ce.vnode.shapeFlag&256)&&p.a&&nt(p.a,E),p.isMounted=!0,m=v=S=null}},I=p.effect=new Go(O,ht,()=>si(T),p.scope),T=p.update=()=>{I.dirty&&I.run()};T.id=p.uid,fn(p,!0),T()},Ee=(p,m,v)=>{m.component=p;const S=p.vnode.props;p.vnode=m,p.next=null,td(p,m.props,S,v),rd(p,m.children,v),bn(),Mi(p),wn()},_e=(p,m,v,S,E,R,U,O,I=!1)=>{const T=p&&p.children,F=p?p.shapeFlag:0,z=m.children,{patchFlag:Q,shapeFlag:X}=m;if(Q>0){if(Q&128){Vt(T,z,v,S,E,R,U,O,I);return}else if(Q&256){Lt(T,z,v,S,E,R,U,O,I);return}}X&8?(F&16&&We(T,E,R),z!==T&&u(v,z)):F&16?X&16?Vt(T,z,v,S,E,R,U,O,I):We(T,E,R,!0):(F&8&&u(v,""),X&16&&N(z,v,S,E,R,U,O,I))},Lt=(p,m,v,S,E,R,U,O,I)=>{p=p||Rn,m=m||Rn;const T=p.length,F=m.length,z=Math.min(T,F);let Q;for(Q=0;Q<z;Q++){const X=m[Q]=I?Yt(m[Q]):xt(m[Q]);_(p[Q],X,v,null,E,R,U,O,I)}T>F?We(p,E,R,!0,!1,z):N(m,v,S,E,R,U,O,I,z)},Vt=(p,m,v,S,E,R,U,O,I)=>{let T=0;const F=m.length;let z=p.length-1,Q=F-1;for(;T<=z&&T<=Q;){const X=p[T],ie=m[T]=I?Yt(m[T]):xt(m[T]);if(zn(X,ie))_(X,ie,v,null,E,R,U,O,I);else break;T++}for(;T<=z&&T<=Q;){const X=p[z],ie=m[Q]=I?Yt(m[Q]):xt(m[Q]);if(zn(X,ie))_(X,ie,v,null,E,R,U,O,I);else break;z--,Q--}if(T>z){if(T<=Q){const X=Q+1,ie=X<F?m[X].el:S;for(;T<=Q;)_(null,m[T]=I?Yt(m[T]):xt(m[T]),v,ie,E,R,U,O,I),T++}}else if(T>Q)for(;T<=z;)tt(p[T],E,R,!0),T++;else{const X=T,ie=T,Ce=new Map;for(T=ie;T<=Q;T++){const at=m[T]=I?Yt(m[T]):xt(m[T]);at.key!=null&&Ce.set(at.key,T)}let Te,Ue=0;const yt=Q-ie+1;let Sn=!1,Ti=0;const Gn=new Array(yt);for(T=0;T<yt;T++)Gn[T]=0;for(T=X;T<=z;T++){const at=p[T];if(Ue>=yt){tt(at,E,R,!0);continue}let kt;if(at.key!=null)kt=Ce.get(at.key);else for(Te=ie;Te<=Q;Te++)if(Gn[Te-ie]===0&&zn(at,m[Te])){kt=Te;break}kt===void 0?tt(at,E,R,!0):(Gn[kt-ie]=T+1,kt>=Ti?Ti=kt:Sn=!0,_(at,m[kt],v,null,E,R,U,O,I),Ue++)}const $i=Sn?ld(Gn):Rn;for(Te=$i.length-1,T=yt-1;T>=0;T--){const at=ie+T,kt=m[at],Oi=at+1<F?m[at+1].el:S;Gn[T]===0?_(null,kt,v,Oi,E,R,U,O,I):Sn&&(Te<0||T!==$i[Te]?Ct(kt,v,Oi,2):Te--)}}},Ct=(p,m,v,S,E=null)=>{const{el:R,type:U,transition:O,children:I,shapeFlag:T}=p;if(T&6){Ct(p.component.subTree,m,v,S);return}if(T&128){p.suspense.move(m,v,S);return}if(T&64){U.move(p,m,v,W);return}if(U===we){s(R,m,v);for(let z=0;z<I.length;z++)Ct(I[z],m,v,S);s(p.anchor,m,v);return}if(U===Dr){K(p,m,v);return}if(S!==2&&T&1&&O)if(S===0)O.beforeEnter(R),s(R,m,v),nt(()=>O.enter(R),E);else{const{leave:z,delayLeave:Q,afterLeave:X}=O,ie=()=>s(R,m,v),Ce=()=>{z(R,()=>{ie(),X&&X()})};Q?Q(R,ie,Ce):Ce()}else s(R,m,v)},tt=(p,m,v,S=!1,E=!1)=>{const{type:R,props:U,ref:O,children:I,dynamicChildren:T,shapeFlag:F,patchFlag:z,dirs:Q}=p;if(O!=null&&co(O,null,v,p,!0),F&256){m.ctx.deactivate(p);return}const X=F&1&&Q,ie=!ss(p);let Ce;if(ie&&(Ce=U&&U.onVnodeBeforeUnmount)&&St(Ce,m,p),F&6)xs(p.component,v,S);else{if(F&128){p.suspense.unmount(v,S);return}X&&un(p,null,m,"beforeUnmount"),F&64?p.type.remove(p,m,v,E,W,S):T&&(R!==we||z>0&&z&64)?We(T,m,v,!1,!0):(R===we&&z&384||!E&&F&16)&&We(I,m,v),S&&Cn(p)}(ie&&(Ce=U&&U.onVnodeUnmounted)||X)&&nt(()=>{Ce&&St(Ce,m,p),X&&un(p,null,m,"unmounted")},v)},Cn=p=>{const{type:m,el:v,anchor:S,transition:E}=p;if(m===we){kn(v,S);return}if(m===Dr){oe(p);return}const R=()=>{r(v),E&&!E.persisted&&E.afterLeave&&E.afterLeave()};if(p.shapeFlag&1&&E&&!E.persisted){const{leave:U,delayLeave:O}=E,I=()=>U(v,R);O?O(p.el,R,I):I()}else R()},kn=(p,m)=>{let v;for(;p!==m;)v=h(p),r(p),p=v;r(m)},xs=(p,m,v)=>{const{bum:S,scope:E,update:R,subTree:U,um:O}=p;S&&Ms(S),E.stop(),R&&(R.active=!1,tt(U,p,m,v)),O&&nt(O,m),nt(()=>{p.isUnmounted=!0},m),m&&m.pendingBranch&&!m.isUnmounted&&p.asyncDep&&!p.asyncResolved&&p.suspenseId===m.pendingId&&(m.deps--,m.deps===0&&m.resolve())},We=(p,m,v,S=!1,E=!1,R=0)=>{for(let U=R;U<p.length;U++)tt(p[U],m,v,S,E)},k=p=>p.shapeFlag&6?k(p.component.subTree):p.shapeFlag&128?p.suspense.next():h(p.anchor||p.el);let M=!1;const D=(p,m,v)=>{p==null?m._vnode&&tt(m._vnode,null,null,!0):_(m._vnode||null,p,m,null,null,null,v),M||(M=!0,Mi(),Dl(),M=!1),m._vnode=p},W={p:_,um:tt,m:Ct,r:Cn,mt:cn,mc:N,pc:_e,pbc:x,n:k,o:e};let ve,Oe;return{render:D,hydrate:ve,createApp:Xf(D,ve)}}function Br({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function fn({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function ad(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function tc(e,t,n=!1){const s=e.children,r=t.children;if(Y(s)&&Y(r))for(let o=0;o<s.length;o++){const i=s[o];let a=r[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[o]=Yt(r[o]),a.el=i.el),n||tc(i,a)),a.type===mr&&(a.el=i.el)}}function ld(e){const t=e.slice(),n=[0];let s,r,o,i,a;const c=e.length;for(s=0;s<c;s++){const f=e[s];if(f!==0){if(r=n[n.length-1],e[r]<f){t[s]=r,n.push(s);continue}for(o=0,i=n.length-1;o<i;)a=o+i>>1,e[n[a]]<f?o=a+1:i=a;f<e[n[o]]&&(o>0&&(t[s]=n[o-1]),n[o]=s)}}for(o=n.length,i=n[o-1];o-- >0;)n[o]=i,i=t[i];return n}function nc(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:nc(t)}const cd=e=>e.__isTeleport,we=Symbol.for("v-fgt"),mr=Symbol.for("v-txt"),sn=Symbol.for("v-cmt"),Dr=Symbol.for("v-stc"),os=[];let vt=null;function w(e=!1){os.push(vt=e?null:[])}function ud(){os.pop(),vt=os[os.length-1]||null}let hs=1;function Yi(e){hs+=e}function sc(e){return e.dynamicChildren=hs>0?vt||Rn:null,ud(),hs>0&&vt&&vt.push(e),e}function A(e,t,n,s,r,o){return sc(l(e,t,n,s,r,o,!0))}function Pe(e,t,n,s,r){return sc(P(e,t,n,s,r,!0))}function tr(e){return e?e.__v_isVNode===!0:!1}function zn(e,t){return e.type===t.type&&e.key===t.key}const yr="__vInternal",rc=({key:e})=>e??null,js=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Le(e)||De(e)||te(e)?{i:Be,r:e,k:t,f:!!n}:e:null);function l(e,t=null,n=null,s=0,r=null,o=e===we?0:1,i=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&rc(t),ref:t&&js(t),scopeId:hr,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Be};return a?(li(c,n),o&128&&e.normalize(c)):n&&(c.shapeFlag|=Le(n)?8:16),hs>0&&!i&&vt&&(c.patchFlag>0||o&6)&&c.patchFlag!==32&&vt.push(c),c}const P=fd;function fd(e,t=null,n=null,s=0,r=null,o=!1){if((!e||e===ql)&&(e=sn),tr(e)){const a=Bn(e,t,!0);return n&&li(a,n),hs>0&&!o&&vt&&(a.shapeFlag&6?vt[vt.indexOf(e)]=a:vt.push(a)),a.patchFlag|=-2,a}if(wd(e)&&(e=e.__vccOpts),t){t=dd(t);let{class:a,style:c}=t;a&&!Le(a)&&(t.class=me(a)),$e(c)&&(Ol(c)&&!Y(c)&&(c=Ve({},c)),t.style=rn(c))}const i=Le(e)?1:$f(e)?128:cd(e)?64:$e(e)?4:te(e)?2:0;return l(e,t,n,s,r,i,o,!0)}function dd(e){return e?Ol(e)||yr in e?Ve({},e):e:null}function Bn(e,t,n=!1){const{props:s,ref:r,patchFlag:o,children:i}=e,a=t?oc(s||{},t):s;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&rc(a),ref:t&&t.ref?n&&r?Y(r)?r.concat(js(t)):[r,js(t)]:js(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:i,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==we?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Bn(e.ssContent),ssFallback:e.ssFallback&&Bn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function ue(e=" ",t=0){return P(mr,null,e,t)}function ne(e="",t=!1){return t?(w(),Pe(sn,null,e)):P(sn,null,e)}function xt(e){return e==null||typeof e=="boolean"?P(sn):Y(e)?P(we,null,e.slice()):typeof e=="object"?Yt(e):P(mr,null,String(e))}function Yt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Bn(e)}function li(e,t){let n=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(Y(t))n=16;else if(typeof t=="object")if(s&65){const r=t.default;r&&(r._c&&(r._d=!1),li(e,r()),r._c&&(r._d=!0));return}else{n=32;const r=t._;!r&&!(yr in t)?t._ctx=Be:r===3&&Be&&(Be.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else te(t)?(t={default:t,_ctx:Be},n=32):(t=String(t),s&64?(n=16,t=[ue(t)]):n=8);e.children=t,e.shapeFlag|=n}function oc(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const r in s)if(r==="class")t.class!==s.class&&(t.class=me([t.class,s.class]));else if(r==="style")t.style=rn([t.style,s.style]);else if(or(r)){const o=t[r],i=s[r];i&&o!==i&&!(Y(o)&&o.includes(i))&&(t[r]=o?[].concat(o,i):i)}else r!==""&&(t[r]=s[r])}return t}function St(e,t,n,s=null){bt(e,t,7,[n,s])}const hd=zl();let pd=0;function md(e,t,n){const s=e.type,r=(t?t.appContext:e.appContext)||hd,o={uid:pd++,vnode:e,type:s,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new pl(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Jl(s,r),emitsOptions:Ml(s,r),emit:null,emitted:null,propsDefaults:ke,inheritAttrs:s.inheritAttrs,ctx:ke,data:ke,props:ke,attrs:ke,slots:ke,refs:ke,setupState:ke,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=Cf.bind(null,o),e.ce&&e.ce(o),o}let je=null,nr,uo;{const e=fl(),t=(n,s)=>{let r;return(r=e[n])||(r=e[n]=[]),r.push(s),o=>{r.length>1?r.forEach(i=>i(o)):r[0](o)}};nr=t("__VUE_INSTANCE_SETTERS__",n=>je=n),uo=t("__VUE_SSR_SETTERS__",n=>gr=n)}const vs=e=>{const t=je;return nr(e),e.scope.on(),()=>{e.scope.off(),nr(t)}},Ji=()=>{je&&je.scope.off(),nr(null)};function ic(e){return e.vnode.shapeFlag&4}let gr=!1;function yd(e,t=!1){t&&uo(t);const{props:n,children:s}=e.vnode,r=ic(e);ed(e,n,r,t),sd(e,s);const o=r?gd(e,t):void 0;return t&&uo(!1),o}function gd(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=ur(new Proxy(e.ctx,Wf));const{setup:s}=n;if(s){const r=e.setupContext=s.length>1?vd(e):null,o=vs(e);bn();const i=tn(s,e,0,[e.props,r]);if(wn(),o(),ll(i)){if(i.then(Ji,Ji),t)return i.then(a=>{Xi(e,a,t)}).catch(a=>{fr(a,e,0)});e.asyncDep=i}else Xi(e,i,t)}else ac(e,t)}function Xi(e,t,n){te(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:$e(t)&&(e.setupState=Nl(t)),ac(e,n)}let Zi;function ac(e,t,n){const s=e.type;if(!e.render){if(!t&&Zi&&!s.render){const r=s.template||ii(e).template;if(r){const{isCustomElement:o,compilerOptions:i}=e.appContext.config,{delimiters:a,compilerOptions:c}=s,f=Ve(Ve({isCustomElement:o,delimiters:a},i),c);s.render=Zi(r,f)}}e.render=s.render||ht}{const r=vs(e);bn();try{Kf(e)}finally{wn(),r()}}}function _d(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return rt(e,"get","$attrs"),t[n]}}))}function vd(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return _d(e)},slots:e.slots,emit:e.emit,expose:t}}function _r(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Nl(ur(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in rs)return rs[n](e)},has(t,n){return n in t||n in rs}}))}function bd(e,t=!0){return te(e)?e.displayName||e.name:e.name||t&&e.__name}function wd(e){return te(e)&&"__vccOpts"in e}const Z=(e,t)=>df(e,t,gr);function lc(e,t,n){const s=arguments.length;return s===2?$e(t)&&!Y(t)?tr(t)?P(e,null,[t]):P(e,t):P(e,null,t):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&tr(n)&&(n=[n]),P(e,t,n))}const Ed="3.4.21";/**
* @vue/runtime-dom v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Cd="http://www.w3.org/2000/svg",kd="http://www.w3.org/1998/Math/MathML",Jt=typeof document<"u"?document:null,ea=Jt&&Jt.createElement("template"),Sd={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{const r=t==="svg"?Jt.createElementNS(Cd,e):t==="mathml"?Jt.createElementNS(kd,e):Jt.createElement(e,n?{is:n}:void 0);return e==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:e=>Jt.createTextNode(e),createComment:e=>Jt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Jt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,s,r,o){const i=n?n.previousSibling:t.lastChild;if(r&&(r===o||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),n),!(r===o||!(r=r.nextSibling)););else{ea.innerHTML=s==="svg"?`<svg>${e}</svg>`:s==="mathml"?`<math>${e}</math>`:e;const a=ea.content;if(s==="svg"||s==="mathml"){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}t.insertBefore(a,n)}return[i?i.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},xd=Symbol("_vtc");function Ad(e,t,n){const s=e[xd];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const ta=Symbol("_vod"),Td=Symbol("_vsh"),$d=Symbol(""),Od=/(^|;)\s*display\s*:/;function Rd(e,t,n){const s=e.style,r=Le(n);let o=!1;if(n&&!r){if(t)if(Le(t))for(const i of t.split(";")){const a=i.slice(0,i.indexOf(":")).trim();n[a]==null&&Hs(s,a,"")}else for(const i in t)n[i]==null&&Hs(s,i,"");for(const i in n)i==="display"&&(o=!0),Hs(s,i,n[i])}else if(r){if(t!==n){const i=s[$d];i&&(n+=";"+i),s.cssText=n,o=Od.test(n)}}else t&&e.removeAttribute("style");ta in e&&(e[ta]=o?s.display:"",e[Td]&&(s.display="none"))}const na=/\s*!important$/;function Hs(e,t,n){if(Y(n))n.forEach(s=>Hs(e,t,s));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const s=Pd(e,t);na.test(n)?e.setProperty(vn(s),n.replace(na,""),"important"):e[s]=n}}const sa=["Webkit","Moz","ms"],Ur={};function Pd(e,t){const n=Ur[t];if(n)return n;let s=Ot(t);if(s!=="filter"&&s in e)return Ur[t]=s;s=lr(s);for(let r=0;r<sa.length;r++){const o=sa[r]+s;if(o in e)return Ur[t]=o}return t}const ra="http://www.w3.org/1999/xlink";function Id(e,t,n,s,r){if(s&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(ra,t.slice(6,t.length)):e.setAttributeNS(ra,t,n);else{const o=ju(t);n==null||o&&!dl(n)?e.removeAttribute(t):e.setAttribute(t,o?"":n)}}function Nd(e,t,n,s,r,o,i){if(t==="innerHTML"||t==="textContent"){s&&i(s,r,o),e[t]=n??"";return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){const f=a==="OPTION"?e.getAttribute("value")||"":e.value,u=n??"";(f!==u||!("_value"in e))&&(e.value=u),n==null&&e.removeAttribute(t),e._value=n;return}let c=!1;if(n===""||n==null){const f=typeof e[t];f==="boolean"?n=dl(n):n==null&&f==="string"?(n="",c=!0):f==="number"&&(n=0,c=!0)}try{e[t]=n}catch{}c&&e.removeAttribute(t)}function An(e,t,n,s){e.addEventListener(t,n,s)}function Ld(e,t,n,s){e.removeEventListener(t,n,s)}const oa=Symbol("_vei");function Bd(e,t,n,s,r=null){const o=e[oa]||(e[oa]={}),i=o[t];if(s&&i)i.value=s;else{const[a,c]=Dd(t);if(s){const f=o[t]=Fd(s,r);An(e,a,f,c)}else i&&(Ld(e,a,i,c),o[t]=void 0)}}const ia=/(?:Once|Passive|Capture)$/;function Dd(e){let t;if(ia.test(e)){t={};let s;for(;s=e.match(ia);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):vn(e.slice(2)),t]}let Mr=0;const Ud=Promise.resolve(),Md=()=>Mr||(Ud.then(()=>Mr=0),Mr=Date.now());function Fd(e,t){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;bt(qd(s,n.value),t,5,[s])};return n.value=e,n.attached=Md(),n}function qd(e,t){if(Y(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(s=>r=>!r._stopped&&s&&s(r))}else return t}const aa=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,jd=(e,t,n,s,r,o,i,a,c)=>{const f=r==="svg";t==="class"?Ad(e,s,f):t==="style"?Rd(e,n,s):or(t)?Wo(t)||Bd(e,t,n,s,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Hd(e,t,s,f))?Nd(e,t,s,o,i,a,c):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),Id(e,t,s,f))};function Hd(e,t,n,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in e&&aa(t)&&te(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return aa(t)&&Le(n)?!1:t in e}const la=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Y(t)?n=>Ms(t,n):t};function Vd(e){e.target.composing=!0}function ca(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Fr=Symbol("_assign"),ze={created(e,{modifiers:{lazy:t,trim:n,number:s}},r){e[Fr]=la(r);const o=s||r.props&&r.props.type==="number";An(e,t?"change":"input",i=>{if(i.target.composing)return;let a=e.value;n&&(a=a.trim()),o&&(a=Zr(a)),e[Fr](a)}),n&&An(e,"change",()=>{e.value=e.value.trim()}),t||(An(e,"compositionstart",Vd),An(e,"compositionend",ca),An(e,"change",ca))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:s,number:r}},o){if(e[Fr]=la(o),e.composing)return;const i=r||e.type==="number"?Zr(e.value):e.value,a=t??"";i!==a&&(document.activeElement===e&&e.type!=="range"&&(n||s&&e.value.trim()===a)||(e.value=a))}},Wd={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},bs=(e,t)=>{const n=e._withKeys||(e._withKeys={}),s=t.join(".");return n[s]||(n[s]=r=>{if(!("key"in r))return;const o=vn(r.key);if(t.some(i=>i===o||Wd[i]===o))return e(r)})},Kd=Ve({patchProp:jd},Sd);let ua;function Qd(){return ua||(ua=od(Kd))}const Gd=(...e)=>{const t=Qd().createApp(...e),{mount:n}=t;return t.mount=s=>{const r=Yd(s);if(!r)return;const o=t._component;!te(o)&&!o.render&&!o.template&&(o.template=r.innerHTML),r.innerHTML="";const i=n(r,!1,zd(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),i},t};function zd(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Yd(e){return Le(e)?document.querySelector(e):e}var Jd=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let cc;const vr=e=>cc=e,uc=Symbol();function fo(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var is;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(is||(is={}));function Xd(){const e=ml(!0),t=e.run(()=>q({}));let n=[],s=[];const r=ur({install(o){vr(r),r._a=o,o.provide(uc,r),o.config.globalProperties.$pinia=r,s.forEach(i=>n.push(i)),s=[]},use(o){return!this._a&&!Jd?s.push(o):n.push(o),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return r}const fc=()=>{};function fa(e,t,n,s=fc){e.push(t);const r=()=>{const o=e.indexOf(t);o>-1&&(e.splice(o,1),s())};return!n&&yl()&&Vu(r),r}function xn(e,...t){e.slice().forEach(n=>{n(...t)})}const Zd=e=>e();function ho(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,s)=>e.set(s,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const s=t[n],r=e[n];fo(r)&&fo(s)&&e.hasOwnProperty(n)&&!De(s)&&!en(s)?e[n]=ho(r,s):e[n]=s}return e}const eh=Symbol();function th(e){return!fo(e)||!e.hasOwnProperty(eh)}const{assign:Gt}=Object;function nh(e){return!!(De(e)&&e.effect)}function sh(e,t,n,s){const{state:r,actions:o,getters:i}=t,a=n.state.value[e];let c;function f(){a||(n.state.value[e]=r?r():{});const u=mf(n.state.value[e]);return Gt(u,o,Object.keys(i||{}).reduce((d,h)=>(d[h]=ur(Z(()=>{vr(n);const y=n._s.get(e);return i[h].call(y,y)})),d),{}))}return c=dc(e,f,t,n,s,!0),c}function dc(e,t,n={},s,r,o){let i;const a=Gt({actions:{}},n),c={deep:!0};let f,u,d=[],h=[],y;const g=s.state.value[e];!o&&!g&&(s.state.value[e]={}),q({});let _;function $(N){let b;f=u=!1,typeof N=="function"?(N(s.state.value[e]),b={type:is.patchFunction,storeId:e,events:y}):(ho(s.state.value[e],N),b={type:is.patchObject,payload:N,storeId:e,events:y});const x=_=Symbol();ni().then(()=>{_===x&&(f=!0)}),u=!0,xn(d,b,s.state.value[e])}const L=o?function(){const{state:b}=n,x=b?b():{};this.$patch(B=>{Gt(B,x)})}:fc;function H(){i.stop(),d=[],h=[],s._s.delete(e)}function K(N,b){return function(){vr(s);const x=Array.from(arguments),B=[],Fe=[];function et(ye){B.push(ye)}function cn(ye){Fe.push(ye)}xn(h,{args:x,name:N,store:fe,after:et,onError:cn});let ft;try{ft=b.apply(this&&this.$id===e?this:fe,x)}catch(ye){throw xn(Fe,ye),ye}return ft instanceof Promise?ft.then(ye=>(xn(B,ye),ye)).catch(ye=>(xn(Fe,ye),Promise.reject(ye))):(xn(B,ft),ft)}}const oe={_p:s,$id:e,$onAction:fa.bind(null,h),$patch:$,$reset:L,$subscribe(N,b={}){const x=fa(d,N,b.detached,()=>B()),B=i.run(()=>ns(()=>s.state.value[e],Fe=>{(b.flush==="sync"?u:f)&&N({storeId:e,type:is.direct,events:y},Fe)},Gt({},c,b)));return x},$dispose:H},fe=_s(oe);s._s.set(e,fe);const Ae=(s._a&&s._a.runWithContext||Zd)(()=>s._e.run(()=>(i=ml()).run(t)));for(const N in Ae){const b=Ae[N];if(De(b)&&!nh(b)||en(b))o||(g&&th(b)&&(De(b)?b.value=g[N]:ho(b,g[N])),s.state.value[e][N]=b);else if(typeof b=="function"){const x=K(N,b);Ae[N]=x,a.actions[N]=b}}return Gt(fe,Ae),Gt(he(fe),Ae),Object.defineProperty(fe,"$state",{get:()=>s.state.value[e],set:N=>{$(b=>{Gt(b,N)})}}),s._p.forEach(N=>{Gt(fe,i.run(()=>N({store:fe,app:s._a,pinia:s,options:a})))}),g&&o&&n.hydrate&&n.hydrate(fe.$state,g),f=!0,u=!0,fe}function ci(e,t,n){let s,r;const o=typeof t=="function";typeof e=="string"?(s=e,r=o?n:t):(r=e,s=e.id);function i(a,c){const f=Zf();return a=a||(f?wt(uc,null):null),a&&vr(a),a=cc,a._s.has(s)||(o?dc(s,t,r,a):sh(s,r,a)),a._s.get(s)}return i.$id=s,i}const rh="bitd-vtt-client",oh="1.0.37",ih="module",ah={dev:"vite",colors:"node ./scripts/common-colors.mjs",build:"npm run colors && vue-tsc && vite build && node scripts/copy-index-as-404.mjs",preview:"vite preview",deploy:"node ./scripts/increment-version.mjs && npm run build && gh-pages -d dist"},lh={"@types/fast-json-patch":"^1.1.5","@types/socket.io-client":"^3.0.0","@types/uuid":"^9.0.8","@types/ws":"^8.5.10",axios:"^1.6.8",chalk:"^5.3.0","fast-json-patch":"^3.1.1","gh-pages":"^6.1.1","node-vibrant":"^3.2.1-alpha.1",pinia:"^2.1.7",rxjs:"^7.8.1","socket.io-client":"^4.7.5",uuid:"^9.0.1",vue:"^3.4.19","vue-router":"^4.3.2",ws:"^8.17.0"},ch={"@types/node":"^20.12.8","@vitejs/plugin-vue":"^5.0.4",sass:"^1.74.1",typescript:"^5.2.2",vite:"^5.1.4","vue-tsc":"^1.8.27"},uh={name:rh,private:!0,version:oh,type:ih,scripts:ah,dependencies:lh,devDependencies:ch},hc=e=>(Se("data-v-e5afb3c7"),e=e(),xe(),e),fh=hc(()=>l("span",{class:"online"},"online",-1)),dh=hc(()=>l("span",{class:"in-the-dark"},"in the Dark",-1)),hh=[fh,dh],ph=re({__name:"Logo",props:{big:{type:Boolean}},setup(e){const t=e;return(n,s)=>(w(),A("div",{class:me(["logo",{big:t.big}])},hh,2))}}),le=(e,t)=>{const n=e.__vccOpts||e;for(const[s,r]of t)n[s]=r;return n},pc=le(ph,[["__scopeId","data-v-e5afb3c7"]]),mh=e=>(Se("data-v-63440d07"),e=e(),xe(),e),yh={class:"loading"},gh=mh(()=>l("i",{class:"fas fa-circle-notch fa-spin"},null,-1)),_h=re({__name:"LoadingModal",setup(e){return(t,n)=>(w(),A("div",yh,[P(pc,{big:""}),gh]))}}),ws=le(_h,[["__scopeId","data-v-63440d07"]]);var po=function(e,t){return po=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(n[r]=s[r])},po(e,t)};function br(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");po(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function mo(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],s=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&s>=e.length&&(e=void 0),{value:e&&e[s++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function yo(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var s=n.call(e),r,o=[],i;try{for(;(t===void 0||t-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function go(e,t,n){if(n||arguments.length===2)for(var s=0,r=t.length,o;s<r;s++)(o||!(s in t))&&(o||(o=Array.prototype.slice.call(t,0,s)),o[s]=t[s]);return e.concat(o||Array.prototype.slice.call(t))}function Ut(e){return typeof e=="function"}function mc(e){var t=function(s){Error.call(s),s.stack=new Error().stack},n=e(t);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var qr=mc(function(e){return function(n){e(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(s,r){return r+1+") "+s.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function _o(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var wr=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,n,s,r,o;if(!this.closed){this.closed=!0;var i=this._parentage;if(i)if(this._parentage=null,Array.isArray(i))try{for(var a=mo(i),c=a.next();!c.done;c=a.next()){var f=c.value;f.remove(this)}}catch(_){t={error:_}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}else i.remove(this);var u=this.initialTeardown;if(Ut(u))try{u()}catch(_){o=_ instanceof qr?_.errors:[_]}var d=this._finalizers;if(d){this._finalizers=null;try{for(var h=mo(d),y=h.next();!y.done;y=h.next()){var g=y.value;try{da(g)}catch(_){o=o??[],_ instanceof qr?o=go(go([],yo(o)),yo(_.errors)):o.push(_)}}}catch(_){s={error:_}}finally{try{y&&!y.done&&(r=h.return)&&r.call(h)}finally{if(s)throw s.error}}}if(o)throw new qr(o)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)da(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}},e.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},e.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},e.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&_o(n,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&_o(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),yc=wr.EMPTY;function gc(e){return e instanceof wr||e&&"closed"in e&&Ut(e.remove)&&Ut(e.add)&&Ut(e.unsubscribe)}function da(e){Ut(e)?e():e.unsubscribe()}var _c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},vc={setTimeout:function(e,t){for(var n=[],s=2;s<arguments.length;s++)n[s-2]=arguments[s];return setTimeout.apply(void 0,go([e,t],yo(n)))},clearTimeout:function(e){var t=vc.delegate;return((t==null?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function vh(e){vc.setTimeout(function(){throw e})}function ha(){}function Vs(e){e()}var bc=function(e){br(t,e);function t(n){var s=e.call(this)||this;return s.isStopped=!1,n?(s.destination=n,gc(n)&&n.add(s)):s.destination=Ch,s}return t.create=function(n,s,r){return new vo(n,s,r)},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(wr),bh=Function.prototype.bind;function jr(e,t){return bh.call(e,t)}var wh=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(s){Is(s)}},e.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(s){Is(s)}else Is(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(n){Is(n)}},e}(),vo=function(e){br(t,e);function t(n,s,r){var o=e.call(this)||this,i;if(Ut(n)||!n)i={next:n??void 0,error:s??void 0,complete:r??void 0};else{var a;o&&_c.useDeprecatedNextContext?(a=Object.create(n),a.unsubscribe=function(){return o.unsubscribe()},i={next:n.next&&jr(n.next,a),error:n.error&&jr(n.error,a),complete:n.complete&&jr(n.complete,a)}):i=n}return o.destination=new wh(i),o}return t}(bc);function Is(e){vh(e)}function Eh(e){throw e}var Ch={closed:!0,next:ha,error:Eh,complete:ha},kh=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Sh(e){return e}function xh(e){return e.length===0?Sh:e.length===1?e[0]:function(n){return e.reduce(function(s,r){return r(s)},n)}}var pa=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,s){var r=this,o=Th(t)?t:new vo(t,n,s);return Vs(function(){var i=r,a=i.operator,c=i.source;o.add(a?a.call(o,c):c?r._subscribe(o):r._trySubscribe(o))}),o},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},e.prototype.forEach=function(t,n){var s=this;return n=ma(n),new n(function(r,o){var i=new vo({next:function(a){try{t(a)}catch(c){o(c),i.unsubscribe()}},error:o,complete:r});s.subscribe(i)})},e.prototype._subscribe=function(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)},e.prototype[kh]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return xh(t)(this)},e.prototype.toPromise=function(t){var n=this;return t=ma(t),new t(function(s,r){var o;n.subscribe(function(i){return o=i},function(i){return r(i)},function(){return s(o)})})},e.create=function(t){return new e(t)},e}();function ma(e){var t;return(t=e??_c.Promise)!==null&&t!==void 0?t:Promise}function Ah(e){return e&&Ut(e.next)&&Ut(e.error)&&Ut(e.complete)}function Th(e){return e&&e instanceof bc||Ah(e)&&gc(e)}var $h=mc(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),wc=function(e){br(t,e);function t(){var n=e.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return t.prototype.lift=function(n){var s=new ya(this,this);return s.operator=n,s},t.prototype._throwIfClosed=function(){if(this.closed)throw new $h},t.prototype.next=function(n){var s=this;Vs(function(){var r,o;if(s._throwIfClosed(),!s.isStopped){s.currentObservers||(s.currentObservers=Array.from(s.observers));try{for(var i=mo(s.currentObservers),a=i.next();!a.done;a=i.next()){var c=a.value;c.next(n)}}catch(f){r={error:f}}finally{try{a&&!a.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}}})},t.prototype.error=function(n){var s=this;Vs(function(){if(s._throwIfClosed(),!s.isStopped){s.hasError=s.isStopped=!0,s.thrownError=n;for(var r=s.observers;r.length;)r.shift().error(n)}})},t.prototype.complete=function(){var n=this;Vs(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var s=n.observers;s.length;)s.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(n){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,n)},t.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},t.prototype._innerSubscribe=function(n){var s=this,r=this,o=r.hasError,i=r.isStopped,a=r.observers;return o||i?yc:(this.currentObservers=null,a.push(n),new wr(function(){s.currentObservers=null,_o(a,n)}))},t.prototype._checkFinalizedStatuses=function(n){var s=this,r=s.hasError,o=s.thrownError,i=s.isStopped;r?n.error(o):i&&n.complete()},t.prototype.asObservable=function(){var n=new pa;return n.source=this,n},t.create=function(n,s){return new ya(n,s)},t}(pa),ya=function(e){br(t,e);function t(n,s){var r=e.call(this)||this;return r.destination=n,r.source=s,r}return t.prototype.next=function(n){var s,r;(r=(s=this.destination)===null||s===void 0?void 0:s.next)===null||r===void 0||r.call(s,n)},t.prototype.error=function(n){var s,r;(r=(s=this.destination)===null||s===void 0?void 0:s.error)===null||r===void 0||r.call(s,n)},t.prototype.complete=function(){var n,s;(s=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||s===void 0||s.call(n)},t.prototype._subscribe=function(n){var s,r;return(r=(s=this.source)===null||s===void 0?void 0:s.subscribe(n))!==null&&r!==void 0?r:yc},t}(wc);class G{constructor(){pe(this,"subject",new wc)}static getInstance(){return this.instance||(this.instance=new this)}dispatch(t){this.subject.next(t)}static open(t,n){this.getInstance().dispatch({modal:t,modalConfig:n})}static close(t){this.getInstance().dispatch({modal:null}),t&&t()}addEventListener(t){this.subject.subscribe(t)}removeEventListener(){this.subject.unsubscribe()}}pe(G,"instance",null);function Ec(e,t){return function(){return e.apply(t,arguments)}}const{toString:Oh}=Object.prototype,{getPrototypeOf:ui}=Object,Er=(e=>t=>{const n=Oh.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),It=e=>(e=e.toLowerCase(),t=>Er(t)===e),Cr=e=>t=>typeof t===e,{isArray:jn}=Array,ps=Cr("undefined");function Rh(e){return e!==null&&!ps(e)&&e.constructor!==null&&!ps(e.constructor)&&pt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Cc=It("ArrayBuffer");function Ph(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Cc(e.buffer),t}const Ih=Cr("string"),pt=Cr("function"),kc=Cr("number"),kr=e=>e!==null&&typeof e=="object",Nh=e=>e===!0||e===!1,Ws=e=>{if(Er(e)!=="object")return!1;const t=ui(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Lh=It("Date"),Bh=It("File"),Dh=It("Blob"),Uh=It("FileList"),Mh=e=>kr(e)&&pt(e.pipe),Fh=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||pt(e.append)&&((t=Er(e))==="formdata"||t==="object"&&pt(e.toString)&&e.toString()==="[object FormData]"))},qh=It("URLSearchParams"),jh=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Es(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let s,r;if(typeof e!="object"&&(e=[e]),jn(e))for(s=0,r=e.length;s<r;s++)t.call(null,e[s],s,e);else{const o=n?Object.getOwnPropertyNames(e):Object.keys(e),i=o.length;let a;for(s=0;s<i;s++)a=o[s],t.call(null,e[a],a,e)}}function Sc(e,t){t=t.toLowerCase();const n=Object.keys(e);let s=n.length,r;for(;s-- >0;)if(r=n[s],t===r.toLowerCase())return r;return null}const xc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Ac=e=>!ps(e)&&e!==xc;function bo(){const{caseless:e}=Ac(this)&&this||{},t={},n=(s,r)=>{const o=e&&Sc(t,r)||r;Ws(t[o])&&Ws(s)?t[o]=bo(t[o],s):Ws(s)?t[o]=bo({},s):jn(s)?t[o]=s.slice():t[o]=s};for(let s=0,r=arguments.length;s<r;s++)arguments[s]&&Es(arguments[s],n);return t}const Hh=(e,t,n,{allOwnKeys:s}={})=>(Es(t,(r,o)=>{n&&pt(r)?e[o]=Ec(r,n):e[o]=r},{allOwnKeys:s}),e),Vh=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Wh=(e,t,n,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},Kh=(e,t,n,s)=>{let r,o,i;const a={};if(t=t||{},e==null)return t;do{for(r=Object.getOwnPropertyNames(e),o=r.length;o-- >0;)i=r[o],(!s||s(i,e,t))&&!a[i]&&(t[i]=e[i],a[i]=!0);e=n!==!1&&ui(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},Qh=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const s=e.indexOf(t,n);return s!==-1&&s===n},Gh=e=>{if(!e)return null;if(jn(e))return e;let t=e.length;if(!kc(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},zh=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&ui(Uint8Array)),Yh=(e,t)=>{const s=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=s.next())&&!r.done;){const o=r.value;t.call(e,o[0],o[1])}},Jh=(e,t)=>{let n;const s=[];for(;(n=e.exec(t))!==null;)s.push(n);return s},Xh=It("HTMLFormElement"),Zh=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,r){return s.toUpperCase()+r}),ga=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),ep=It("RegExp"),Tc=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),s={};Es(n,(r,o)=>{let i;(i=t(r,o,e))!==!1&&(s[o]=i||r)}),Object.defineProperties(e,s)},tp=e=>{Tc(e,(t,n)=>{if(pt(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=e[n];if(pt(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},np=(e,t)=>{const n={},s=r=>{r.forEach(o=>{n[o]=!0})};return jn(e)?s(e):s(String(e).split(t)),n},sp=()=>{},rp=(e,t)=>(e=+e,Number.isFinite(e)?e:t),Hr="abcdefghijklmnopqrstuvwxyz",_a="0123456789",$c={DIGIT:_a,ALPHA:Hr,ALPHA_DIGIT:Hr+Hr.toUpperCase()+_a},op=(e=16,t=$c.ALPHA_DIGIT)=>{let n="";const{length:s}=t;for(;e--;)n+=t[Math.random()*s|0];return n};function ip(e){return!!(e&&pt(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const ap=e=>{const t=new Array(10),n=(s,r)=>{if(kr(s)){if(t.indexOf(s)>=0)return;if(!("toJSON"in s)){t[r]=s;const o=jn(s)?[]:{};return Es(s,(i,a)=>{const c=n(i,r+1);!ps(c)&&(o[a]=c)}),t[r]=void 0,o}}return s};return n(e,0)},lp=It("AsyncFunction"),cp=e=>e&&(kr(e)||pt(e))&&pt(e.then)&&pt(e.catch),C={isArray:jn,isArrayBuffer:Cc,isBuffer:Rh,isFormData:Fh,isArrayBufferView:Ph,isString:Ih,isNumber:kc,isBoolean:Nh,isObject:kr,isPlainObject:Ws,isUndefined:ps,isDate:Lh,isFile:Bh,isBlob:Dh,isRegExp:ep,isFunction:pt,isStream:Mh,isURLSearchParams:qh,isTypedArray:zh,isFileList:Uh,forEach:Es,merge:bo,extend:Hh,trim:jh,stripBOM:Vh,inherits:Wh,toFlatObject:Kh,kindOf:Er,kindOfTest:It,endsWith:Qh,toArray:Gh,forEachEntry:Yh,matchAll:Jh,isHTMLForm:Xh,hasOwnProperty:ga,hasOwnProp:ga,reduceDescriptors:Tc,freezeMethods:tp,toObjectSet:np,toCamelCase:Zh,noop:sp,toFiniteNumber:rp,findKey:Sc,global:xc,isContextDefined:Ac,ALPHABET:$c,generateString:op,isSpecCompliantForm:ip,toJSONObject:ap,isAsyncFn:lp,isThenable:cp};function ce(e,t,n,s,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),s&&(this.request=s),r&&(this.response=r)}C.inherits(ce,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:C.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Oc=ce.prototype,Rc={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Rc[e]={value:e}});Object.defineProperties(ce,Rc);Object.defineProperty(Oc,"isAxiosError",{value:!0});ce.from=(e,t,n,s,r,o)=>{const i=Object.create(Oc);return C.toFlatObject(e,i,function(c){return c!==Error.prototype},a=>a!=="isAxiosError"),ce.call(i,e.message,t,n,s,r),i.cause=e,i.name=e.name,o&&Object.assign(i,o),i};const up=null;function wo(e){return C.isPlainObject(e)||C.isArray(e)}function Pc(e){return C.endsWith(e,"[]")?e.slice(0,-2):e}function va(e,t,n){return e?e.concat(t).map(function(r,o){return r=Pc(r),!n&&o?"["+r+"]":r}).join(n?".":""):t}function fp(e){return C.isArray(e)&&!e.some(wo)}const dp=C.toFlatObject(C,{},null,function(t){return/^is[A-Z]/.test(t)});function Sr(e,t,n){if(!C.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=C.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,$){return!C.isUndefined($[_])});const s=n.metaTokens,r=n.visitor||u,o=n.dots,i=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&C.isSpecCompliantForm(t);if(!C.isFunction(r))throw new TypeError("visitor must be a function");function f(g){if(g===null)return"";if(C.isDate(g))return g.toISOString();if(!c&&C.isBlob(g))throw new ce("Blob is not supported. Use a Buffer instead.");return C.isArrayBuffer(g)||C.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function u(g,_,$){let L=g;if(g&&!$&&typeof g=="object"){if(C.endsWith(_,"{}"))_=s?_:_.slice(0,-2),g=JSON.stringify(g);else if(C.isArray(g)&&fp(g)||(C.isFileList(g)||C.endsWith(_,"[]"))&&(L=C.toArray(g)))return _=Pc(_),L.forEach(function(K,oe){!(C.isUndefined(K)||K===null)&&t.append(i===!0?va([_],oe,o):i===null?_:_+"[]",f(K))}),!1}return wo(g)?!0:(t.append(va($,_,o),f(g)),!1)}const d=[],h=Object.assign(dp,{defaultVisitor:u,convertValue:f,isVisitable:wo});function y(g,_){if(!C.isUndefined(g)){if(d.indexOf(g)!==-1)throw Error("Circular reference detected in "+_.join("."));d.push(g),C.forEach(g,function(L,H){(!(C.isUndefined(L)||L===null)&&r.call(t,L,C.isString(H)?H.trim():H,_,h))===!0&&y(L,_?_.concat(H):[H])}),d.pop()}}if(!C.isObject(e))throw new TypeError("data must be an object");return y(e),t}function ba(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function fi(e,t){this._pairs=[],e&&Sr(e,this,t)}const Ic=fi.prototype;Ic.append=function(t,n){this._pairs.push([t,n])};Ic.toString=function(t){const n=t?function(s){return t.call(this,s,ba)}:ba;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function hp(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Nc(e,t,n){if(!t)return e;const s=n&&n.encode||hp,r=n&&n.serialize;let o;if(r?o=r(t,n):o=C.isURLSearchParams(t)?t.toString():new fi(t,n).toString(s),o){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class wa{constructor(){this.handlers=[]}use(t,n,s){return this.handlers.push({fulfilled:t,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){C.forEach(this.handlers,function(s){s!==null&&t(s)})}}const Lc={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},pp=typeof URLSearchParams<"u"?URLSearchParams:fi,mp=typeof FormData<"u"?FormData:null,yp=typeof Blob<"u"?Blob:null,gp={isBrowser:!0,classes:{URLSearchParams:pp,FormData:mp,Blob:yp},protocols:["http","https","file","blob","url","data"]},Bc=typeof window<"u"&&typeof document<"u",_p=(e=>Bc&&["ReactNative","NativeScript","NS"].indexOf(e)<0)(typeof navigator<"u"&&navigator.product),vp=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",bp=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Bc,hasStandardBrowserEnv:_p,hasStandardBrowserWebWorkerEnv:vp},Symbol.toStringTag,{value:"Module"})),Tt={...bp,...gp};function wp(e,t){return Sr(e,new Tt.classes.URLSearchParams,Object.assign({visitor:function(n,s,r,o){return Tt.isNode&&C.isBuffer(n)?(this.append(s,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},t))}function Ep(e){return C.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Cp(e){const t={},n=Object.keys(e);let s;const r=n.length;let o;for(s=0;s<r;s++)o=n[s],t[o]=e[o];return t}function Dc(e){function t(n,s,r,o){let i=n[o++];if(i==="__proto__")return!0;const a=Number.isFinite(+i),c=o>=n.length;return i=!i&&C.isArray(r)?r.length:i,c?(C.hasOwnProp(r,i)?r[i]=[r[i],s]:r[i]=s,!a):((!r[i]||!C.isObject(r[i]))&&(r[i]=[]),t(n,s,r[i],o)&&C.isArray(r[i])&&(r[i]=Cp(r[i])),!a)}if(C.isFormData(e)&&C.isFunction(e.entries)){const n={};return C.forEachEntry(e,(s,r)=>{t(Ep(s),r,n,0)}),n}return null}function kp(e,t,n){if(C.isString(e))try{return(t||JSON.parse)(e),C.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(e)}const Cs={transitional:Lc,adapter:["xhr","http"],transformRequest:[function(t,n){const s=n.getContentType()||"",r=s.indexOf("application/json")>-1,o=C.isObject(t);if(o&&C.isHTMLForm(t)&&(t=new FormData(t)),C.isFormData(t))return r?JSON.stringify(Dc(t)):t;if(C.isArrayBuffer(t)||C.isBuffer(t)||C.isStream(t)||C.isFile(t)||C.isBlob(t))return t;if(C.isArrayBufferView(t))return t.buffer;if(C.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(o){if(s.indexOf("application/x-www-form-urlencoded")>-1)return wp(t,this.formSerializer).toString();if((a=C.isFileList(t))||s.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Sr(a?{"files[]":t}:t,c&&new c,this.formSerializer)}}return o||r?(n.setContentType("application/json",!1),kp(t)):t}],transformResponse:[function(t){const n=this.transitional||Cs.transitional,s=n&&n.forcedJSONParsing,r=this.responseType==="json";if(t&&C.isString(t)&&(s&&!this.responseType||r)){const i=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(t)}catch(a){if(i)throw a.name==="SyntaxError"?ce.from(a,ce.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Tt.classes.FormData,Blob:Tt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};C.forEach(["delete","get","head","post","put","patch"],e=>{Cs.headers[e]={}});const Sp=C.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),xp=e=>{const t={};let n,s,r;return e&&e.split(`
`).forEach(function(i){r=i.indexOf(":"),n=i.substring(0,r).trim().toLowerCase(),s=i.substring(r+1).trim(),!(!n||t[n]&&Sp[n])&&(n==="set-cookie"?t[n]?t[n].push(s):t[n]=[s]:t[n]=t[n]?t[n]+", "+s:s)}),t},Ea=Symbol("internals");function Yn(e){return e&&String(e).trim().toLowerCase()}function Ks(e){return e===!1||e==null?e:C.isArray(e)?e.map(Ks):String(e)}function Ap(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(e);)t[s[1]]=s[2];return t}const Tp=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Vr(e,t,n,s,r){if(C.isFunction(s))return s.call(this,t,n);if(r&&(t=n),!!C.isString(t)){if(C.isString(s))return t.indexOf(s)!==-1;if(C.isRegExp(s))return s.test(t)}}function $p(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,s)=>n.toUpperCase()+s)}function Op(e,t){const n=C.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+n,{value:function(r,o,i){return this[s].call(this,t,r,o,i)},configurable:!0})})}let mt=class{constructor(t){t&&this.set(t)}set(t,n,s){const r=this;function o(a,c,f){const u=Yn(c);if(!u)throw new Error("header name must be a non-empty string");const d=C.findKey(r,u);(!d||r[d]===void 0||f===!0||f===void 0&&r[d]!==!1)&&(r[d||c]=Ks(a))}const i=(a,c)=>C.forEach(a,(f,u)=>o(f,u,c));return C.isPlainObject(t)||t instanceof this.constructor?i(t,n):C.isString(t)&&(t=t.trim())&&!Tp(t)?i(xp(t),n):t!=null&&o(n,t,s),this}get(t,n){if(t=Yn(t),t){const s=C.findKey(this,t);if(s){const r=this[s];if(!n)return r;if(n===!0)return Ap(r);if(C.isFunction(n))return n.call(this,r,s);if(C.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Yn(t),t){const s=C.findKey(this,t);return!!(s&&this[s]!==void 0&&(!n||Vr(this,this[s],s,n)))}return!1}delete(t,n){const s=this;let r=!1;function o(i){if(i=Yn(i),i){const a=C.findKey(s,i);a&&(!n||Vr(s,s[a],a,n))&&(delete s[a],r=!0)}}return C.isArray(t)?t.forEach(o):o(t),r}clear(t){const n=Object.keys(this);let s=n.length,r=!1;for(;s--;){const o=n[s];(!t||Vr(this,this[o],o,t,!0))&&(delete this[o],r=!0)}return r}normalize(t){const n=this,s={};return C.forEach(this,(r,o)=>{const i=C.findKey(s,o);if(i){n[i]=Ks(r),delete n[o];return}const a=t?$p(o):String(o).trim();a!==o&&delete n[o],n[a]=Ks(r),s[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return C.forEach(this,(s,r)=>{s!=null&&s!==!1&&(n[r]=t&&C.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const s=new this(t);return n.forEach(r=>s.set(r)),s}static accessor(t){const s=(this[Ea]=this[Ea]={accessors:{}}).accessors,r=this.prototype;function o(i){const a=Yn(i);s[a]||(Op(r,i),s[a]=!0)}return C.isArray(t)?t.forEach(o):o(t),this}};mt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);C.reduceDescriptors(mt.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[n]=s}}});C.freezeMethods(mt);function Wr(e,t){const n=this||Cs,s=t||n,r=mt.from(s.headers);let o=s.data;return C.forEach(e,function(a){o=a.call(n,o,r.normalize(),t?t.status:void 0)}),r.normalize(),o}function Uc(e){return!!(e&&e.__CANCEL__)}function ks(e,t,n){ce.call(this,e??"canceled",ce.ERR_CANCELED,t,n),this.name="CanceledError"}C.inherits(ks,ce,{__CANCEL__:!0});function Rp(e,t,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?e(n):t(new ce("Request failed with status code "+n.status,[ce.ERR_BAD_REQUEST,ce.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const Pp=Tt.hasStandardBrowserEnv?{write(e,t,n,s,r,o){const i=[e+"="+encodeURIComponent(t)];C.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),C.isString(s)&&i.push("path="+s),C.isString(r)&&i.push("domain="+r),o===!0&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Ip(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Np(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Mc(e,t){return e&&!Ip(t)?Np(e,t):t}const Lp=Tt.hasStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let s;function r(o){let i=o;return t&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return s=r(window.location.href),function(i){const a=C.isString(i)?r(i):i;return a.protocol===s.protocol&&a.host===s.host}}():function(){return function(){return!0}}();function Bp(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Dp(e,t){e=e||10;const n=new Array(e),s=new Array(e);let r=0,o=0,i;return t=t!==void 0?t:1e3,function(c){const f=Date.now(),u=s[o];i||(i=f),n[r]=c,s[r]=f;let d=o,h=0;for(;d!==r;)h+=n[d++],d=d%e;if(r=(r+1)%e,r===o&&(o=(o+1)%e),f-i<t)return;const y=u&&f-u;return y?Math.round(h*1e3/y):void 0}}function Ca(e,t){let n=0;const s=Dp(50,250);return r=>{const o=r.loaded,i=r.lengthComputable?r.total:void 0,a=o-n,c=s(a),f=o<=i;n=o;const u={loaded:o,total:i,progress:i?o/i:void 0,bytes:a,rate:c||void 0,estimated:c&&i&&f?(i-o)/c:void 0,event:r};u[t?"download":"upload"]=!0,e(u)}}const Up=typeof XMLHttpRequest<"u",Mp=Up&&function(e){return new Promise(function(n,s){let r=e.data;const o=mt.from(e.headers).normalize();let{responseType:i,withXSRFToken:a}=e,c;function f(){e.cancelToken&&e.cancelToken.unsubscribe(c),e.signal&&e.signal.removeEventListener("abort",c)}let u;if(C.isFormData(r)){if(Tt.hasStandardBrowserEnv||Tt.hasStandardBrowserWebWorkerEnv)o.setContentType(!1);else if((u=o.getContentType())!==!1){const[_,...$]=u?u.split(";").map(L=>L.trim()).filter(Boolean):[];o.setContentType([_||"multipart/form-data",...$].join("; "))}}let d=new XMLHttpRequest;if(e.auth){const _=e.auth.username||"",$=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";o.set("Authorization","Basic "+btoa(_+":"+$))}const h=Mc(e.baseURL,e.url);d.open(e.method.toUpperCase(),Nc(h,e.params,e.paramsSerializer),!0),d.timeout=e.timeout;function y(){if(!d)return;const _=mt.from("getAllResponseHeaders"in d&&d.getAllResponseHeaders()),L={data:!i||i==="text"||i==="json"?d.responseText:d.response,status:d.status,statusText:d.statusText,headers:_,config:e,request:d};Rp(function(K){n(K),f()},function(K){s(K),f()},L),d=null}if("onloadend"in d?d.onloadend=y:d.onreadystatechange=function(){!d||d.readyState!==4||d.status===0&&!(d.responseURL&&d.responseURL.indexOf("file:")===0)||setTimeout(y)},d.onabort=function(){d&&(s(new ce("Request aborted",ce.ECONNABORTED,e,d)),d=null)},d.onerror=function(){s(new ce("Network Error",ce.ERR_NETWORK,e,d)),d=null},d.ontimeout=function(){let $=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const L=e.transitional||Lc;e.timeoutErrorMessage&&($=e.timeoutErrorMessage),s(new ce($,L.clarifyTimeoutError?ce.ETIMEDOUT:ce.ECONNABORTED,e,d)),d=null},Tt.hasStandardBrowserEnv&&(a&&C.isFunction(a)&&(a=a(e)),a||a!==!1&&Lp(h))){const _=e.xsrfHeaderName&&e.xsrfCookieName&&Pp.read(e.xsrfCookieName);_&&o.set(e.xsrfHeaderName,_)}r===void 0&&o.setContentType(null),"setRequestHeader"in d&&C.forEach(o.toJSON(),function($,L){d.setRequestHeader(L,$)}),C.isUndefined(e.withCredentials)||(d.withCredentials=!!e.withCredentials),i&&i!=="json"&&(d.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&d.addEventListener("progress",Ca(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&d.upload&&d.upload.addEventListener("progress",Ca(e.onUploadProgress)),(e.cancelToken||e.signal)&&(c=_=>{d&&(s(!_||_.type?new ks(null,e,d):_),d.abort(),d=null)},e.cancelToken&&e.cancelToken.subscribe(c),e.signal&&(e.signal.aborted?c():e.signal.addEventListener("abort",c)));const g=Bp(h);if(g&&Tt.protocols.indexOf(g)===-1){s(new ce("Unsupported protocol "+g+":",ce.ERR_BAD_REQUEST,e));return}d.send(r||null)})},Eo={http:up,xhr:Mp};C.forEach(Eo,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const ka=e=>`- ${e}`,Fp=e=>C.isFunction(e)||e===null||e===!1,Fc={getAdapter:e=>{e=C.isArray(e)?e:[e];const{length:t}=e;let n,s;const r={};for(let o=0;o<t;o++){n=e[o];let i;if(s=n,!Fp(n)&&(s=Eo[(i=String(n)).toLowerCase()],s===void 0))throw new ce(`Unknown adapter '${i}'`);if(s)break;r[i||"#"+o]=s}if(!s){const o=Object.entries(r).map(([a,c])=>`adapter ${a} `+(c===!1?"is not supported by the environment":"is not available in the build"));let i=t?o.length>1?`since :
`+o.map(ka).join(`
`):" "+ka(o[0]):"as no adapter specified";throw new ce("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return s},adapters:Eo};function Kr(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ks(null,e)}function Sa(e){return Kr(e),e.headers=mt.from(e.headers),e.data=Wr.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Fc.getAdapter(e.adapter||Cs.adapter)(e).then(function(s){return Kr(e),s.data=Wr.call(e,e.transformResponse,s),s.headers=mt.from(s.headers),s},function(s){return Uc(s)||(Kr(e),s&&s.response&&(s.response.data=Wr.call(e,e.transformResponse,s.response),s.response.headers=mt.from(s.response.headers))),Promise.reject(s)})}const xa=e=>e instanceof mt?{...e}:e;function Dn(e,t){t=t||{};const n={};function s(f,u,d){return C.isPlainObject(f)&&C.isPlainObject(u)?C.merge.call({caseless:d},f,u):C.isPlainObject(u)?C.merge({},u):C.isArray(u)?u.slice():u}function r(f,u,d){if(C.isUndefined(u)){if(!C.isUndefined(f))return s(void 0,f,d)}else return s(f,u,d)}function o(f,u){if(!C.isUndefined(u))return s(void 0,u)}function i(f,u){if(C.isUndefined(u)){if(!C.isUndefined(f))return s(void 0,f)}else return s(void 0,u)}function a(f,u,d){if(d in t)return s(f,u);if(d in e)return s(void 0,f)}const c={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:a,headers:(f,u)=>r(xa(f),xa(u),!0)};return C.forEach(Object.keys(Object.assign({},e,t)),function(u){const d=c[u]||r,h=d(e[u],t[u],u);C.isUndefined(h)&&d!==a||(n[u]=h)}),n}const qc="1.6.8",di={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{di[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const Aa={};di.transitional=function(t,n,s){function r(o,i){return"[Axios v"+qc+"] Transitional option '"+o+"'"+i+(s?". "+s:"")}return(o,i,a)=>{if(t===!1)throw new ce(r(i," has been removed"+(n?" in "+n:"")),ce.ERR_DEPRECATED);return n&&!Aa[i]&&(Aa[i]=!0,console.warn(r(i," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(o,i,a):!0}};function qp(e,t,n){if(typeof e!="object")throw new ce("options must be an object",ce.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let r=s.length;for(;r-- >0;){const o=s[r],i=t[o];if(i){const a=e[o],c=a===void 0||i(a,o,e);if(c!==!0)throw new ce("option "+o+" must be "+c,ce.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ce("Unknown option "+o,ce.ERR_BAD_OPTION)}}const Co={assertOptions:qp,validators:di},Kt=Co.validators;let gn=class{constructor(t){this.defaults=t,this.interceptors={request:new wa,response:new wa}}async request(t,n){try{return await this._request(t,n)}catch(s){if(s instanceof Error){let r;Error.captureStackTrace?Error.captureStackTrace(r={}):r=new Error;const o=r.stack?r.stack.replace(/^.+\n/,""):"";s.stack?o&&!String(s.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+o):s.stack=o}throw s}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Dn(this.defaults,n);const{transitional:s,paramsSerializer:r,headers:o}=n;s!==void 0&&Co.assertOptions(s,{silentJSONParsing:Kt.transitional(Kt.boolean),forcedJSONParsing:Kt.transitional(Kt.boolean),clarifyTimeoutError:Kt.transitional(Kt.boolean)},!1),r!=null&&(C.isFunction(r)?n.paramsSerializer={serialize:r}:Co.assertOptions(r,{encode:Kt.function,serialize:Kt.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let i=o&&C.merge(o.common,o[n.method]);o&&C.forEach(["delete","get","head","post","put","patch","common"],g=>{delete o[g]}),n.headers=mt.concat(i,o);const a=[];let c=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(n)===!1||(c=c&&_.synchronous,a.unshift(_.fulfilled,_.rejected))});const f=[];this.interceptors.response.forEach(function(_){f.push(_.fulfilled,_.rejected)});let u,d=0,h;if(!c){const g=[Sa.bind(this),void 0];for(g.unshift.apply(g,a),g.push.apply(g,f),h=g.length,u=Promise.resolve(n);d<h;)u=u.then(g[d++],g[d++]);return u}h=a.length;let y=n;for(d=0;d<h;){const g=a[d++],_=a[d++];try{y=g(y)}catch($){_.call(this,$);break}}try{u=Sa.call(this,y)}catch(g){return Promise.reject(g)}for(d=0,h=f.length;d<h;)u=u.then(f[d++],f[d++]);return u}getUri(t){t=Dn(this.defaults,t);const n=Mc(t.baseURL,t.url);return Nc(n,t.params,t.paramsSerializer)}};C.forEach(["delete","get","head","options"],function(t){gn.prototype[t]=function(n,s){return this.request(Dn(s||{},{method:t,url:n,data:(s||{}).data}))}});C.forEach(["post","put","patch"],function(t){function n(s){return function(o,i,a){return this.request(Dn(a||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:o,data:i}))}}gn.prototype[t]=n(),gn.prototype[t+"Form"]=n(!0)});let jp=class jc{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const s=this;this.promise.then(r=>{if(!s._listeners)return;let o=s._listeners.length;for(;o-- >0;)s._listeners[o](r);s._listeners=null}),this.promise.then=r=>{let o;const i=new Promise(a=>{s.subscribe(a),o=a}).then(r);return i.cancel=function(){s.unsubscribe(o)},i},t(function(o,i,a){s.reason||(s.reason=new ks(o,i,a),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}static source(){let t;return{token:new jc(function(r){t=r}),cancel:t}}};function Hp(e){return function(n){return e.apply(null,n)}}function Vp(e){return C.isObject(e)&&e.isAxiosError===!0}const ko={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ko).forEach(([e,t])=>{ko[t]=e});function Hc(e){const t=new gn(e),n=Ec(gn.prototype.request,t);return C.extend(n,gn.prototype,t,{allOwnKeys:!0}),C.extend(n,t,null,{allOwnKeys:!0}),n.create=function(r){return Hc(Dn(e,r))},n}const Ie=Hc(Cs);Ie.Axios=gn;Ie.CanceledError=ks;Ie.CancelToken=jp;Ie.isCancel=Uc;Ie.VERSION=qc;Ie.toFormData=Sr;Ie.AxiosError=ce;Ie.Cancel=Ie.CanceledError;Ie.all=function(t){return Promise.all(t)};Ie.spread=Hp;Ie.isAxiosError=Vp;Ie.mergeConfig=Dn;Ie.AxiosHeaders=mt;Ie.formToJSON=e=>Dc(C.isHTMLForm(e)?new FormData(e):e);Ie.getAdapter=Fc.getAdapter;Ie.HttpStatusCode=ko;Ie.default=Ie;const{Axios:lk,AxiosError:ck,CanceledError:uk,isCancel:fk,CancelToken:dk,VERSION:hk,all:pk,Cancel:mk,isAxiosError:yk,spread:gk,toFormData:_k,AxiosHeaders:vk,HttpStatusCode:Ft,formToJSON:bk,getAdapter:wk,mergeConfig:Ek}=Ie,Ye=ci("auth",()=>{const e=q(),t=q(),n=localStorage.getItem("refreshToken");n&&(e.value=n);const s=o=>{e.value=o,o?localStorage.setItem("refreshToken",o):localStorage.removeItem("refreshToken")};return{accessToken:t,refreshToken:e,storeRefreshToken:s,clear:()=>{s(null),t.value=null}}}),hi=location.hostname==="localhost"?"http://localhost:3005":"https://bitd-vtt-server-production.up.railway.app";console.log("BASE_URL:",hi);const He=Ie.create({baseURL:hi,timeout:1e4,withCredentials:!0,headers:{"Content-Type":"application/json"}});function Wp(){Kp()}function Kp(){He.interceptors.request.use(async e=>(e||(e={}),e.headers.Authorization=`Bearer ${Ye().accessToken}`,e)),He.interceptors.response.use(e=>e,async e=>{var n,s,r,o;const t=["/auth/token","/account/login","/account/register"];if(((n=e.response)==null?void 0:n.status)===Ft.Unauthorized&&!t.includes(e.config.url)){if((s=e.config.url)!=null&&s.includes("/auth/token"))return Ye().clear(),Pt.push("/login"),Promise.reject("Invalid refresh token");if(!Ye().refreshToken)return Promise.reject(((o=(r=e.response)==null?void 0:r.data)==null?void 0:o.message)||"No refresh token found");await Vc();const i=e.config;return i.headers.Authorization=`Bearer ${Ye().accessToken}`,He(i)}return Promise.reject(e)})}async function Vc(){let e;try{console.log("@fetchAccessToken: refreshToken:",Ye().refreshToken),e=await He.put("/auth/token",{refreshToken:Ye().refreshToken})}catch{console.error("Invalid refresh token"),Ai();return}Ye().accessToken=e.data.accessToken}const So=[{id:"791e4a6b-8f2e-41b2-8410-09fdb69d22e2",name:"Crystal",author:"Icons8",source:"https://icons8.com",url:"/images/portrait-images/icons8-crystal-100.png",commonColor:"#8E3E63"},{id:"762c4875-c258-443a-8d88-adeaab82b31c",name:"Joker",author:"Icons8",source:"https://icons8.com",url:"/images/portrait-images/icons8-joker-100.png",commonColor:"#D2649A"},{id:"a1bee44a-c856-4f54-b665-4de8c278d117",name:"Battle",author:"Icons8",source:"https://icons8.com",url:"/images/portrait-images/icons8-battle-100.png",commonColor:"#577B8D"},{id:"7d5f18bc-a32d-4aca-a51d-507b827c8683",name:"Pawn",author:"Icons8",source:"https://icons8.com",url:"/images/portrait-images/icons8-pawn-100.png",commonColor:"#40A578"},{id:"5895f6e3-05b7-42e4-9b5f-19bb3d4ca33e",name:"Rook",author:"Icons8",source:"https://icons8.com",url:"/images/portrait-images/icons8-rook-100.png",commonColor:"#A91D3A"}],ge=ci("user",()=>{const e=q(),t=q(),n=q(!0),s=q(),r=q([]),o=q([...So]);return{id:e,username:t,portrait:s,isGuest:n,games:r,clear:()=>{e.value=null,t.value=null,s.value=null,n.value=!0,r.value=[]},portraits:o}}),Me=ci("game",()=>{const e=q(null),t=()=>{e.value=null},n=Z(()=>{var s;return(s=e.value)==null?void 0:s.players[ge().id]});return{game:e,userPlayer:n,clear:t}});/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */var Qp=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,r){s.__proto__=r}||function(s,r){for(var o in r)r.hasOwnProperty(o)&&(s[o]=r[o])},e(t,n)};return function(t,n){e(t,n);function s(){this.constructor=t}t.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}}(),Gp=Object.prototype.hasOwnProperty;function xo(e,t){return Gp.call(e,t)}function Ao(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var s=[];for(var r in e)xo(e,r)&&s.push(r);return s}function ut(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function To(e){for(var t=0,n=e.length,s;t<n;){if(s=e.charCodeAt(t),s>=48&&s<=57){t++;continue}return!1}return!0}function dn(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function Wc(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function $o(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if($o(e[t]))return!0}else if(typeof e=="object"){for(var s=Ao(e),r=s.length,o=0;o<r;o++)if($o(e[s[o]]))return!0}}return!1}function Ta(e,t){var n=[e];for(var s in t){var r=typeof t[s]=="object"?JSON.stringify(t[s],null,2):t[s];typeof r<"u"&&n.push(s+": "+r)}return n.join(`
`)}var Kc=function(e){Qp(t,e);function t(n,s,r,o,i){var a=this.constructor,c=e.call(this,Ta(n,{name:s,index:r,operation:o,tree:i}))||this;return c.name=s,c.index=r,c.operation=o,c.tree=i,Object.setPrototypeOf(c,a.prototype),c.message=Ta(n,{name:s,index:r,operation:o,tree:i}),c}return t}(Error),Re=Kc,zp=ut,On={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var s=e[t];return delete e[t],{newDocument:n,removed:s}},replace:function(e,t,n){var s=e[t];return e[t]=this.value,{newDocument:n,removed:s}},move:function(e,t,n){var s=sr(n,this.path);s&&(s=ut(s));var r=_n(n,{op:"remove",path:this.from}).removed;return _n(n,{op:"add",path:this.path,value:r}),{newDocument:n,removed:s}},copy:function(e,t,n){var s=sr(n,this.from);return _n(n,{op:"add",path:this.path,value:ut(s)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:ms(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},Yp={add:function(e,t,n){return To(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){var s=e.splice(t,1);return{newDocument:n,removed:s[0]}},replace:function(e,t,n){var s=e[t];return e[t]=this.value,{newDocument:n,removed:s}},move:On.move,copy:On.copy,test:On.test,_get:On._get};function sr(e,t){if(t=="")return e;var n={op:"_get",path:t};return _n(e,n),n.value}function _n(e,t,n,s,r,o){if(n===void 0&&(n=!1),s===void 0&&(s=!0),r===void 0&&(r=!0),o===void 0&&(o=0),n&&(typeof n=="function"?n(t,0,e,t.path):rr(t,0)),t.path===""){var i={newDocument:e};if(t.op==="add")return i.newDocument=t.value,i;if(t.op==="replace")return i.newDocument=t.value,i.removed=e,i;if(t.op==="move"||t.op==="copy")return i.newDocument=sr(e,t.from),t.op==="move"&&(i.removed=e),i;if(t.op==="test"){if(i.test=ms(e,t.value),i.test===!1)throw new Re("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return i.newDocument=e,i}else{if(t.op==="remove")return i.removed=e,i.newDocument=null,i;if(t.op==="_get")return t.value=e,i;if(n)throw new Re("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",o,t,e);return i}}else{s||(e=ut(e));var a=t.path||"",c=a.split("/"),f=e,u=1,d=c.length,h=void 0,y=void 0,g=void 0;for(typeof n=="function"?g=n:g=rr;;){if(y=c[u],y&&y.indexOf("~")!=-1&&(y=Wc(y)),r&&(y=="__proto__"||y=="prototype"&&u>0&&c[u-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&h===void 0&&(f[y]===void 0?h=c.slice(0,u).join("/"):u==d-1&&(h=t.path),h!==void 0&&g(t,0,e,h)),u++,Array.isArray(f)){if(y==="-")y=f.length;else{if(n&&!To(y))throw new Re("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",o,t,e);To(y)&&(y=~~y)}if(u>=d){if(n&&t.op==="add"&&y>f.length)throw new Re("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",o,t,e);var i=Yp[t.op].call(t,f,y,e);if(i.test===!1)throw new Re("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return i}}else if(u>=d){var i=On[t.op].call(t,f,y,e);if(i.test===!1)throw new Re("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return i}if(f=f[y],n&&u<d&&(!f||typeof f!="object"))throw new Re("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",o,t,e)}}}function xr(e,t,n,s,r){if(s===void 0&&(s=!0),r===void 0&&(r=!0),n&&!Array.isArray(t))throw new Re("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");s||(e=ut(e));for(var o=new Array(t.length),i=0,a=t.length;i<a;i++)o[i]=_n(e,t[i],n,!0,r,i),e=o[i].newDocument;return o.newDocument=e,o}function Jp(e,t,n){var s=_n(e,t);if(s.test===!1)throw new Re("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return s.newDocument}function rr(e,t,n,s){if(typeof e!="object"||e===null||Array.isArray(e))throw new Re("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(On[e.op]){if(typeof e.path!="string")throw new Re("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new Re('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new Re("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new Re("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&$o(e.value))throw new Re("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n){if(e.op=="add"){var r=e.path.split("/").length,o=s.split("/").length;if(r!==o+1&&r!==o)throw new Re("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==s)throw new Re("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if(e.op==="move"||e.op==="copy"){var i={op:"_get",path:e.from,value:void 0},a=Qc([i],n);if(a&&a.name==="OPERATION_PATH_UNRESOLVABLE")throw new Re("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}}else throw new Re("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n)}function Qc(e,t,n){try{if(!Array.isArray(e))throw new Re("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)xr(ut(t),ut(e),n||!0);else{n=n||rr;for(var s=0;s<e.length;s++)n(e[s],s,t,void 0)}}catch(r){if(r instanceof Re)return r;throw r}}function ms(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=Array.isArray(e),s=Array.isArray(t),r,o,i;if(n&&s){if(o=e.length,o!=t.length)return!1;for(r=o;r--!==0;)if(!ms(e[r],t[r]))return!1;return!0}if(n!=s)return!1;var a=Object.keys(e);if(o=a.length,o!==Object.keys(t).length)return!1;for(r=o;r--!==0;)if(!t.hasOwnProperty(a[r]))return!1;for(r=o;r--!==0;)if(i=a[r],!ms(e[i],t[i]))return!1;return!0}return e!==e&&t!==t}const Xp=Object.freeze(Object.defineProperty({__proto__:null,JsonPatchError:Re,_areEquals:ms,applyOperation:_n,applyPatch:xr,applyReducer:Jp,deepClone:zp,getValueByPointer:sr,validate:Qc,validator:rr},Symbol.toStringTag,{value:"Module"}));/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2021 Joachim Wester
 * MIT license
 */var pi=new WeakMap,Zp=function(){function e(t){this.observers=new Map,this.obj=t}return e}(),em=function(){function e(t,n){this.callback=t,this.observer=n}return e}();function tm(e){return pi.get(e)}function nm(e,t){return e.observers.get(t)}function sm(e,t){e.observers.delete(t.callback)}function rm(e,t){t.unobserve()}function om(e,t){var n=[],s,r=tm(e);if(!r)r=new Zp(e),pi.set(e,r);else{var o=nm(r,t);s=o&&o.observer}if(s)return s;if(s={},r.value=ut(e),t){s.callback=t,s.next=null;var i=function(){Oo(s)},a=function(){clearTimeout(s.next),s.next=setTimeout(i)};typeof window<"u"&&(window.addEventListener("mouseup",a),window.addEventListener("keyup",a),window.addEventListener("mousedown",a),window.addEventListener("keydown",a),window.addEventListener("change",a))}return s.patches=n,s.object=e,s.unobserve=function(){Oo(s),clearTimeout(s.next),sm(r,s),typeof window<"u"&&(window.removeEventListener("mouseup",a),window.removeEventListener("keyup",a),window.removeEventListener("mousedown",a),window.removeEventListener("keydown",a),window.removeEventListener("change",a))},r.observers.set(t,new em(t,s)),s}function Oo(e,t){t===void 0&&(t=!1);var n=pi.get(e.object);mi(n.value,e.object,e.patches,"",t),e.patches.length&&xr(n.value,e.patches);var s=e.patches;return s.length>0&&(e.patches=[],e.callback&&e.callback(s)),s}function mi(e,t,n,s,r){if(t!==e){typeof t.toJSON=="function"&&(t=t.toJSON());for(var o=Ao(t),i=Ao(e),a=!1,c=i.length-1;c>=0;c--){var f=i[c],u=e[f];if(xo(t,f)&&!(t[f]===void 0&&u!==void 0&&Array.isArray(t)===!1)){var d=t[f];typeof u=="object"&&u!=null&&typeof d=="object"&&d!=null&&Array.isArray(u)===Array.isArray(d)?mi(u,d,n,s+"/"+dn(f),r):u!==d&&(r&&n.push({op:"test",path:s+"/"+dn(f),value:ut(u)}),n.push({op:"replace",path:s+"/"+dn(f),value:ut(d)}))}else Array.isArray(e)===Array.isArray(t)?(r&&n.push({op:"test",path:s+"/"+dn(f),value:ut(u)}),n.push({op:"remove",path:s+"/"+dn(f)}),a=!0):(r&&n.push({op:"test",path:s,value:e}),n.push({op:"replace",path:s,value:t}))}if(!(!a&&o.length==i.length))for(var c=0;c<o.length;c++){var f=o[c];!xo(e,f)&&t[f]!==void 0&&n.push({op:"add",path:s+"/"+dn(f),value:ut(t[f])})}}}function im(e,t,n){n===void 0&&(n=!1);var s=[];return mi(e,t,s,"",n),s}const am=Object.freeze(Object.defineProperty({__proto__:null,compare:im,generate:Oo,observe:om,unobserve:rm},Symbol.toStringTag,{value:"Module"}));Object.assign({},Xp,am,{JsonPatchError:Kc,deepClone:ut,escapePathComponent:dn,unescapePathComponent:Wc});const Rt=Object.create(null);Rt.open="0";Rt.close="1";Rt.ping="2";Rt.pong="3";Rt.message="4";Rt.upgrade="5";Rt.noop="6";const Qs=Object.create(null);Object.keys(Rt).forEach(e=>{Qs[Rt[e]]=e});const Ro={type:"error",data:"parser error"},Gc=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",zc=typeof ArrayBuffer=="function",Yc=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,yi=({type:e,data:t},n,s)=>Gc&&t instanceof Blob?n?s(t):$a(t,s):zc&&(t instanceof ArrayBuffer||Yc(t))?n?s(t):$a(new Blob([t]),s):s(Rt[e]+(t||"")),$a=(e,t)=>{const n=new FileReader;return n.onload=function(){const s=n.result.split(",")[1];t("b"+(s||""))},n.readAsDataURL(e)};function Oa(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Qr;function lm(e,t){if(Gc&&e.data instanceof Blob)return e.data.arrayBuffer().then(Oa).then(t);if(zc&&(e.data instanceof ArrayBuffer||Yc(e.data)))return t(Oa(e.data));yi(e,!1,n=>{Qr||(Qr=new TextEncoder),t(Qr.encode(n))})}const Ra="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",es=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<Ra.length;e++)es[Ra.charCodeAt(e)]=e;const cm=e=>{let t=e.length*.75,n=e.length,s,r=0,o,i,a,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const f=new ArrayBuffer(t),u=new Uint8Array(f);for(s=0;s<n;s+=4)o=es[e.charCodeAt(s)],i=es[e.charCodeAt(s+1)],a=es[e.charCodeAt(s+2)],c=es[e.charCodeAt(s+3)],u[r++]=o<<2|i>>4,u[r++]=(i&15)<<4|a>>2,u[r++]=(a&3)<<6|c&63;return f},um=typeof ArrayBuffer=="function",gi=(e,t)=>{if(typeof e!="string")return{type:"message",data:Jc(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:fm(e.substring(1),t)}:Qs[n]?e.length>1?{type:Qs[n],data:e.substring(1)}:{type:Qs[n]}:Ro},fm=(e,t)=>{if(um){const n=cm(e);return Jc(n,t)}else return{base64:!0,data:e}},Jc=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},Xc="",dm=(e,t)=>{const n=e.length,s=new Array(n);let r=0;e.forEach((o,i)=>{yi(o,!1,a=>{s[i]=a,++r===n&&t(s.join(Xc))})})},hm=(e,t)=>{const n=e.split(Xc),s=[];for(let r=0;r<n.length;r++){const o=gi(n[r],t);if(s.push(o),o.type==="error")break}return s};function pm(){return new TransformStream({transform(e,t){lm(e,n=>{const s=n.length;let r;if(s<126)r=new Uint8Array(1),new DataView(r.buffer).setUint8(0,s);else if(s<65536){r=new Uint8Array(3);const o=new DataView(r.buffer);o.setUint8(0,126),o.setUint16(1,s)}else{r=new Uint8Array(9);const o=new DataView(r.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(s))}e.data&&typeof e.data!="string"&&(r[0]|=128),t.enqueue(r),t.enqueue(n)})}})}let Gr;function Ns(e){return e.reduce((t,n)=>t+n.length,0)}function Ls(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let s=0;for(let r=0;r<t;r++)n[r]=e[0][s++],s===e[0].length&&(e.shift(),s=0);return e.length&&s<e[0].length&&(e[0]=e[0].slice(s)),n}function mm(e,t){Gr||(Gr=new TextDecoder);const n=[];let s=0,r=-1,o=!1;return new TransformStream({transform(i,a){for(n.push(i);;){if(s===0){if(Ns(n)<1)break;const c=Ls(n,1);o=(c[0]&128)===128,r=c[0]&127,r<126?s=3:r===126?s=1:s=2}else if(s===1){if(Ns(n)<2)break;const c=Ls(n,2);r=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),s=3}else if(s===2){if(Ns(n)<8)break;const c=Ls(n,8),f=new DataView(c.buffer,c.byteOffset,c.length),u=f.getUint32(0);if(u>Math.pow(2,21)-1){a.enqueue(Ro);break}r=u*Math.pow(2,32)+f.getUint32(4),s=3}else{if(Ns(n)<r)break;const c=Ls(n,r);a.enqueue(gi(o?c:Gr.decode(c),t)),s=0}if(r===0||r>e){a.enqueue(Ro);break}}}})}const Zc=4;function Ne(e){if(e)return ym(e)}function ym(e){for(var t in Ne.prototype)e[t]=Ne.prototype[t];return e}Ne.prototype.on=Ne.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Ne.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};Ne.prototype.off=Ne.prototype.removeListener=Ne.prototype.removeAllListeners=Ne.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var s,r=0;r<n.length;r++)if(s=n[r],s===t||s.fn===t){n.splice(r,1);break}return n.length===0&&delete this._callbacks["$"+e],this};Ne.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],s=1;s<arguments.length;s++)t[s-1]=arguments[s];if(n){n=n.slice(0);for(var s=0,r=n.length;s<r;++s)n[s].apply(this,t)}return this};Ne.prototype.emitReserved=Ne.prototype.emit;Ne.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Ne.prototype.hasListeners=function(e){return!!this.listeners(e).length};const dt=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function eu(e,...t){return t.reduce((n,s)=>(e.hasOwnProperty(s)&&(n[s]=e[s]),n),{})}const gm=dt.setTimeout,_m=dt.clearTimeout;function Ar(e,t){t.useNativeTimers?(e.setTimeoutFn=gm.bind(dt),e.clearTimeoutFn=_m.bind(dt)):(e.setTimeoutFn=dt.setTimeout.bind(dt),e.clearTimeoutFn=dt.clearTimeout.bind(dt))}const vm=1.33;function bm(e){return typeof e=="string"?wm(e):Math.ceil((e.byteLength||e.size)*vm)}function wm(e){let t=0,n=0;for(let s=0,r=e.length;s<r;s++)t=e.charCodeAt(s),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(s++,n+=4);return n}function Em(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function Cm(e){let t={},n=e.split("&");for(let s=0,r=n.length;s<r;s++){let o=n[s].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}class km extends Error{constructor(t,n,s){super(t),this.description=n,this.context=s,this.type="TransportError"}}class _i extends Ne{constructor(t){super(),this.writable=!1,Ar(this,t),this.opts=t,this.query=t.query,this.socket=t.socket}onError(t,n,s){return super.emitReserved("error",new km(t,n,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=gi(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=Em(t);return n.length?"?"+n:""}}const tu="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Po=64,Sm={};let Pa=0,Bs=0,Ia;function Na(e){let t="";do t=tu[e%Po]+t,e=Math.floor(e/Po);while(e>0);return t}function nu(){const e=Na(+new Date);return e!==Ia?(Pa=0,Ia=e):e+"."+Na(Pa++)}for(;Bs<Po;Bs++)Sm[tu[Bs]]=Bs;let su=!1;try{su=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const xm=su;function ru(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||xm))return new XMLHttpRequest}catch{}if(!t)try{return new dt[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function Am(){}const Tm=function(){return new ru({xdomain:!1}).responseType!=null}();class $m extends _i{constructor(t){if(super(t),this.polling=!1,typeof location<"u"){const s=location.protocol==="https:";let r=location.port;r||(r=s?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||r!==t.port}const n=t&&t.forceBase64;this.supportsBinary=Tm&&!n,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let s=0;this.polling&&(s++,this.once("pollComplete",function(){--s||n()})),this.writable||(s++,this.once("drain",function(){--s||n()}))}else n()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=s=>{if(this.readyState==="opening"&&s.type==="open"&&this.onOpen(),s.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(s)};hm(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,dm(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=nu()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}request(t={}){return Object.assign(t,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new $t(this.uri(),t)}doWrite(t,n){const s=this.request({method:"POST",data:t});s.on("success",n),s.on("error",(r,o)=>{this.onError("xhr post error",r,o)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,s)=>{this.onError("xhr poll error",n,s)}),this.pollXhr=t}}class $t extends Ne{constructor(t,n){super(),Ar(this,n),this.opts=n,this.method=n.method||"GET",this.uri=t,this.data=n.data!==void 0?n.data:null,this.create()}create(){var t;const n=eu(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this.opts.xd;const s=this.xhr=new ru(n);try{s.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let r in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(r)&&s.setRequestHeader(r,this.opts.extraHeaders[r])}}catch{}if(this.method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{s.setRequestHeader("Accept","*/*")}catch{}(t=this.opts.cookieJar)===null||t===void 0||t.addCookies(s),"withCredentials"in s&&(s.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(s.timeout=this.opts.requestTimeout),s.onreadystatechange=()=>{var r;s.readyState===3&&((r=this.opts.cookieJar)===null||r===void 0||r.parseCookies(s)),s.readyState===4&&(s.status===200||s.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof s.status=="number"?s.status:0)},0))},s.send(this.data)}catch(r){this.setTimeoutFn(()=>{this.onError(r)},0);return}typeof document<"u"&&(this.index=$t.requestsCount++,$t.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=Am,t)try{this.xhr.abort()}catch{}typeof document<"u"&&delete $t.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}$t.requestsCount=0;$t.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",La);else if(typeof addEventListener=="function"){const e="onpagehide"in dt?"pagehide":"unload";addEventListener(e,La,!1)}}function La(){for(let e in $t.requests)$t.requests.hasOwnProperty(e)&&$t.requests[e].abort()}const vi=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0),Ds=dt.WebSocket||dt.MozWebSocket,Ba=!0,Om="arraybuffer",Da=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Rm extends _i{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),n=this.opts.protocols,s=Da?{}:eu(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=Ba&&!Da?n?new Ds(t,n):new Ds(t):new Ds(t,n,s)}catch(r){return this.emitReserved("error",r)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const s=t[n],r=n===t.length-1;yi(s,this.supportsBinary,o=>{const i={};try{Ba&&this.ws.send(o)}catch{}r&&vi(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=nu()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}check(){return!!Ds}}class Pm extends _i{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(t=>{const n=mm(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=t.readable.pipeThrough(n).getReader(),r=pm();r.readable.pipeTo(t.writable),this.writer=r.writable.getWriter();const o=()=>{s.read().then(({done:a,value:c})=>{a||(this.onPacket(c),o())}).catch(a=>{})};o();const i={type:"open"};this.query.sid&&(i.data=`{"sid":"${this.query.sid}"}`),this.writer.write(i).then(()=>this.onOpen())})}))}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const s=t[n],r=n===t.length-1;this.writer.write(s).then(()=>{r&&vi(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this.transport)===null||t===void 0||t.close()}}const Im={websocket:Rm,webtransport:Pm,polling:$m},Nm=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Lm=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Io(e){if(e.length>2e3)throw"URI too long";const t=e,n=e.indexOf("["),s=e.indexOf("]");n!=-1&&s!=-1&&(e=e.substring(0,n)+e.substring(n,s).replace(/:/g,";")+e.substring(s,e.length));let r=Nm.exec(e||""),o={},i=14;for(;i--;)o[Lm[i]]=r[i]||"";return n!=-1&&s!=-1&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=Bm(o,o.path),o.queryKey=Dm(o,o.query),o}function Bm(e,t){const n=/\/{2,9}/g,s=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&s.splice(0,1),t.slice(-1)=="/"&&s.splice(s.length-1,1),s}function Dm(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,r,o){r&&(n[r]=o)}),n}let ou=class Tn extends Ne{constructor(t,n={}){super(),this.binaryType=Om,this.writeBuffer=[],t&&typeof t=="object"&&(n=t,t=null),t?(t=Io(t),n.hostname=t.host,n.secure=t.protocol==="https"||t.protocol==="wss",n.port=t.port,t.query&&(n.query=t.query)):n.host&&(n.hostname=Io(n.host).host),Ar(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=n.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Cm(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=Zc,n.transport=t,this.id&&(n.sid=this.id);const s=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new Im[t](s)}open(){let t;if(this.opts.rememberUpgrade&&Tn.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch{this.transports.shift(),this.open();return}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",n=>this.onClose("transport close",n))}probe(t){let n=this.createTransport(t),s=!1;Tn.priorWebsocketSuccess=!1;const r=()=>{s||(n.send([{type:"ping",data:"probe"}]),n.once("packet",d=>{if(!s)if(d.type==="pong"&&d.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Tn.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(u(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const h=new Error("probe error");h.transport=n.name,this.emitReserved("upgradeError",h)}}))};function o(){s||(s=!0,u(),n.close(),n=null)}const i=d=>{const h=new Error("probe error: "+d);h.transport=n.name,o(),this.emitReserved("upgradeError",h)};function a(){i("transport closed")}function c(){i("socket closed")}function f(d){n&&d.name!==n.name&&o()}const u=()=>{n.removeListener("open",r),n.removeListener("error",i),n.removeListener("close",a),this.off("close",c),this.off("upgrading",f)};n.once("open",r),n.once("error",i),n.once("close",a),this.once("close",c),this.once("upgrading",f),this.upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{s||n.open()},200):n.open()}onOpen(){if(this.readyState="open",Tn.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let t=0;const n=this.upgrades.length;for(;t<n;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),this.resetPingTimeout(),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const n=new Error("server error");n.code=t.data,this.onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let s=0;s<this.writeBuffer.length;s++){const r=this.writeBuffer[s].data;if(r&&(n+=bm(r)),s>0&&n>this.maxPayload)return this.writeBuffer.slice(0,s);n+=2}return this.writeBuffer}write(t,n,s){return this.sendPacket("message",t,n,s),this}send(t,n,s){return this.sendPacket("message",t,n,s),this}sendPacket(t,n,s,r){if(typeof n=="function"&&(r=n,n=void 0),typeof s=="function"&&(r=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;const o={type:t,data:n,options:s};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),r&&this.once("flush",r),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},s=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():t()}):this.upgrading?s():t()),this}onError(t){Tn.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,n){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const n=[];let s=0;const r=t.length;for(;s<r;s++)~this.transports.indexOf(t[s])&&n.push(t[s]);return n}};ou.protocol=Zc;function Um(e,t="",n){let s=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),s=Io(e)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const o=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+o+":"+s.port+t,s.href=s.protocol+"://"+o+(n&&n.port===s.port?"":":"+s.port),s}const Mm=typeof ArrayBuffer=="function",Fm=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,iu=Object.prototype.toString,qm=typeof Blob=="function"||typeof Blob<"u"&&iu.call(Blob)==="[object BlobConstructor]",jm=typeof File=="function"||typeof File<"u"&&iu.call(File)==="[object FileConstructor]";function bi(e){return Mm&&(e instanceof ArrayBuffer||Fm(e))||qm&&e instanceof Blob||jm&&e instanceof File}function Gs(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,s=e.length;n<s;n++)if(Gs(e[n]))return!0;return!1}if(bi(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Gs(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&Gs(e[n]))return!0;return!1}function Hm(e){const t=[],n=e.data,s=e;return s.data=No(n,t),s.attachments=t.length,{packet:s,buffers:t}}function No(e,t){if(!e)return e;if(bi(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let s=0;s<e.length;s++)n[s]=No(e[s],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=No(e[s],t));return n}return e}function Vm(e,t){return e.data=Lo(e.data,t),delete e.attachments,e}function Lo(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=Lo(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=Lo(e[n],t));return e}const Wm=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Km=5;var ae;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(ae||(ae={}));class Qm{constructor(t){this.replacer=t}encode(t){return(t.type===ae.EVENT||t.type===ae.ACK)&&Gs(t)?this.encodeAsBinary({type:t.type===ae.EVENT?ae.BINARY_EVENT:ae.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===ae.BINARY_EVENT||t.type===ae.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=Hm(t),s=this.encodeAsString(n.packet),r=n.buffers;return r.unshift(s),r}}function Ua(e){return Object.prototype.toString.call(e)==="[object Object]"}class wi extends Ne{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const s=n.type===ae.BINARY_EVENT;s||n.type===ae.BINARY_ACK?(n.type=s?ae.EVENT:ae.ACK,this.reconstructor=new Gm(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(bi(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const s={type:Number(t.charAt(0))};if(ae[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===ae.BINARY_EVENT||s.type===ae.BINARY_ACK){const o=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const i=t.substring(o,n);if(i!=Number(i)||t.charAt(n)!=="-")throw new Error("Illegal attachments");s.attachments=Number(i)}if(t.charAt(n+1)==="/"){const o=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););s.nsp=t.substring(o,n)}else s.nsp="/";const r=t.charAt(n+1);if(r!==""&&Number(r)==r){const o=n+1;for(;++n;){const i=t.charAt(n);if(i==null||Number(i)!=i){--n;break}if(n===t.length)break}s.id=Number(t.substring(o,n+1))}if(t.charAt(++n)){const o=this.tryParse(t.substr(n));if(wi.isPayloadValid(s.type,o))s.data=o;else throw new Error("invalid payload")}return s}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case ae.CONNECT:return Ua(n);case ae.DISCONNECT:return n===void 0;case ae.CONNECT_ERROR:return typeof n=="string"||Ua(n);case ae.EVENT:case ae.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&Wm.indexOf(n[0])===-1);case ae.ACK:case ae.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Gm{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=Vm(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const zm=Object.freeze(Object.defineProperty({__proto__:null,Decoder:wi,Encoder:Qm,get PacketType(){return ae},protocol:Km},Symbol.toStringTag,{value:"Module"}));function _t(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const Ym=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class au extends Ne{constructor(t,n,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[_t(t,"open",this.onopen.bind(this)),_t(t,"packet",this.onpacket.bind(this)),_t(t,"error",this.onerror.bind(this)),_t(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){if(Ym.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const s={type:ae.EVENT,data:n};if(s.options={},s.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const i=this.ids++,a=n.pop();this._registerAckCallback(i,a),s.id=i}const r=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!r||!this.connected)||(this.connected?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(t,n){var s;const r=(s=this.flags.timeout)!==null&&s!==void 0?s:this._opts.ackTimeout;if(r===void 0){this.acks[t]=n;return}const o=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===t&&this.sendBuffer.splice(a,1);n.call(this,new Error("operation has timed out"))},r),i=(...a)=>{this.io.clearTimeoutFn(o),n.apply(this,a)};i.withError=!0,this.acks[t]=i}emitWithAck(t,...n){return new Promise((s,r)=>{const o=(i,a)=>i?r(i):s(a);o.withError=!0,n.push(o),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((r,...o)=>s!==this._queue[0]?void 0:(r!==null?s.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(r)):(this._queue.shift(),n&&n(null,...o)),s.pending=!1,this._drainQueue())),this._queue.push(s),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:ae.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(s=>String(s.id)===t)){const s=this.acks[t];delete this.acks[t],s.withError&&s.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case ae.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case ae.EVENT:case ae.BINARY_EVENT:this.onevent(t);break;case ae.ACK:case ae.BINARY_ACK:this.onack(t);break;case ae.DISCONNECT:this.ondisconnect();break;case ae.CONNECT_ERROR:this.destroy();const s=new Error(t.data.message);s.data=t.data.data,this.emitReserved("connect_error",s);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const s of n)s.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let s=!1;return function(...r){s||(s=!0,n.packet({type:ae.ACK,id:t,data:r}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(delete this.acks[t.id],n.withError&&t.data.unshift(null),n.apply(this,t.data))}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:ae.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let s=0;s<n.length;s++)if(t===n[s])return n.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let s=0;s<n.length;s++)if(t===n[s])return n.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const s of n)s.apply(this,t.data)}}}function Hn(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Hn.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};Hn.prototype.reset=function(){this.attempts=0};Hn.prototype.setMin=function(e){this.ms=e};Hn.prototype.setMax=function(e){this.max=e};Hn.prototype.setJitter=function(e){this.jitter=e};class Bo extends Ne{constructor(t,n){var s;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Ar(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((s=n.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new Hn({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const r=n.parser||zm;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new ou(this.uri,this.opts);const n=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const r=_t(n,"open",function(){s.onopen(),t&&t()}),o=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),t?t(a):this.maybeReconnectOnOpen()},i=_t(n,"error",o);if(this._timeout!==!1){const a=this._timeout,c=this.setTimeoutFn(()=>{r(),o(new Error("timeout")),n.close()},a);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(r),this.subs.push(i),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(_t(t,"ping",this.onping.bind(this)),_t(t,"data",this.ondata.bind(this)),_t(t,"error",this.onerror.bind(this)),_t(t,"close",this.onclose.bind(this)),_t(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){vi(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let s=this.nsps[t];return s?this._autoConnect&&!s.active&&s.connect():(s=new au(this,t,n),this.nsps[t]=s),s}_destroy(t){const n=Object.keys(this.nsps);for(const s of n)if(this.nsps[s].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let s=0;s<n.length;s++)this.engine.write(n[s],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,n){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(r=>{r?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",r)):t.onreconnect()}))},n);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Jn={};function zs(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=Um(e,t.path||"/socket.io"),s=n.source,r=n.id,o=n.path,i=Jn[r]&&o in Jn[r].nsps,a=t.forceNew||t["force new connection"]||t.multiplex===!1||i;let c;return a?c=new Bo(s,t):(Jn[r]||(Jn[r]=new Bo(s,t)),c=Jn[r]),n.query&&!t.query&&(t.query=n.queryKey),c.socket(n.path,t)}Object.assign(zs,{Manager:Bo,Socket:au,io:zs,connect:zs});let gt=null;function Jm(e){console.log("@game-controller: connectToGame"),G.open(ws),gt&&(gt.disconnect(),gt=null);const t={query:{gameId:e,token:Ye().refreshToken}};gt=zs(hi,t),gt.on("connect",ey),gt.on("disconnect",ty),gt.on("patch",Zm),gt.on("error",ny),G.close()}function Xm(){gt&&(gt.disconnect(),gt=null,Me().clear())}function Zm(e){try{const{patches:t}=e;console.log("@game-controller: onReceivePatch:",t),Me().game=xr(Me().game||{},t).newDocument}catch(t){console.error("Failed to patch:",t);return}}function ey(){console.log("@game-controller: onOpen")}function ty(){console.log("@game-controller: onClose")}function ny(e){console.log("@game-controller: onError:",e)}async function st(e){var t;await He.patch(`/game/${(t=Me().game)==null?void 0:t._id}`,e)}const Tr=[{id:"46c018c0-de33-4bd2-9024-71548b22db7e",name:"Forest",author:"Dan Meyers",source:"https://unsplash.com/photos/tall-trees-wB6B3AqXjy0",url:"/images/cover-images/forest.jpg",commonColor:"#8b7d73"},{id:"9131e281-184e-4e2d-8994-8536f9d3c0d0",name:"Forest 2",author:"Simon Berger",source:"https://unsplash.com/photos/grayscale-photo-of-trees-and-pathway-rydQVdwcgUQ",url:"/images/cover-images/forest-2.jpg",commonColor:"#7f7f7f"},{id:"2e2ec06d-97b4-4cce-b88d-a58c10b8bef8",name:"Castle",author:"Cederic Vandenberghe",source:"https://unsplash.com/photos/closeup-photo-of-castle-with-mist-21DP3hytVHw",url:"/images/cover-images/castle.jpg",commonColor:"#3f7690"},{id:"230ecd94-c69b-4444-a7e2-2585a2652051",name:"Broadsword",author:"Jonathan Kemper",source:"https://unsplash.com/photos/brown-wooden-handle-bar-on-brown-wooden-table-4_ZvmLAeIZk",url:"/images/cover-images/broadsword.jpg",commonColor:"#6c4c34"},{id:"16761f54-5c0c-4f56-8274-f04af8e7f33e",name:"Warband",author:"Hasan Almasi",source:"https://unsplash.com/photos/people-gathering-on-street-during-nighttime-OwqLxCvoVxI",url:"/images/cover-images/warband.jpg",commonColor:"#c34e33"}],sy=e=>(Se("data-v-bc5094d5"),e=e(),xe(),e),ry=["src"],oy={class:"game-card__content"},iy={class:"row info"},ay={class:"tag"},ly={class:"row users"},cy=sy(()=>l("i",{class:"fas fa-users"},null,-1)),uy={class:"date-created"},fy=re({__name:"GameCard",props:{game:{type:Object,required:!0}},setup(e){const t=e,n=Z(()=>Tr.find(o=>o.id===t.game.coverImage)),s=Z(()=>t.game.players[ge().id]),r=Z(()=>new Date(t.game.dateCreated).toLocaleDateString());return(o,i)=>{var a,c;return w(),A("div",{class:"game-card",style:rn({backgroundColor:(a=n.value)==null?void 0:a.commonColor})},[l("img",{src:(c=n.value)==null?void 0:c.url},null,8,ry),l("div",oy,[l("h2",null,j(t.game.name),1),l("div",iy,[l("span",ay,j(s.value.role),1),l("div",ly,[cy,l("span",null,j(Object.keys(t.game.players).length),1)]),l("p",uy,j(r.value),1)])])],4)}}}),dy=le(fy,[["__scopeId","data-v-bc5094d5"]]),hy=e=>(Se("data-v-3245c5b7"),e=e(),xe(),e),py={class:"ribbon__content"},my=["innerHTML"],yy=hy(()=>l("i",{class:"fas fa-times"},null,-1)),gy=[yy],_y=re({__name:"Ribbon",props:{id:{},message:{},onActivate:{type:Function}},setup(e){const t=e;function n(){localStorage.setItem("ribbon."+t.id,"true"),s.value=!1}const s=q(!localStorage.getItem("ribbon."+t.id));return(r,o)=>(w(),A("div",{class:me(["ribbon",{"ribbon--hidden":!s.value}])},[l("div",py,[l("p",{innerHTML:r.message,onClick:o[0]||(o[0]=(...i)=>r.onActivate&&r.onActivate(...i))},null,8,my),l("button",{class:"btn btn--icon",onClick:n},gy)])],2))}}),vy=le(_y,[["__scopeId","data-v-3245c5b7"]]),by="/images/fitd-logo.webp",wy={},Ei=e=>(Se("data-v-ba692196"),e=e(),xe(),e),Ey={class:"divider"},Cy=Ei(()=>l("div",{class:"line"},null,-1)),ky=Ei(()=>l("div",{class:"middle-symbol"},"❖",-1)),Sy=Ei(()=>l("div",{class:"line"},null,-1)),xy=[Cy,ky,Sy];function Ay(e,t){return w(),A("div",Ey,xy)}const Ke=le(wy,[["render",Ay],["__scopeId","data-v-ba692196"]]),Ty={},$y={class:"modal"},Oy={class:"modal__content"};function Ry(e,t){return w(),A("div",$y,[ds(e.$slots,"header",{},void 0),l("div",Oy,[ds(e.$slots,"content",{},void 0)])])}const ot=le(Ty,[["render",Ry],["__scopeId","data-v-000cd069"]]),Py=e=>(Se("data-v-b77cb2fd"),e=e(),xe(),e),Iy={class:"modal__header"},Ny=Py(()=>l("i",{class:"fas fa-times"},null,-1)),Ly=[Ny],By=re({__name:"ModalHeader",props:{closeButton:Boolean,closeButtonAction:Function},setup(e){const t=e;function n(){t.closeButtonAction?t.closeButtonAction():G.close()}return(s,r)=>(w(),A("div",Iy,[ds(s.$slots,"default",{},void 0),e.closeButton?(w(),A("button",{key:0,class:"btn--icon",onClick:n},Ly)):ne("",!0)]))}}),it=le(By,[["__scopeId","data-v-b77cb2fd"]]),Nt=e=>(Se("data-v-38e33c2b"),e=e(),xe(),e),Dy=Nt(()=>l("h2",null,"Attribution",-1)),Uy={class:"attribution"},My=Nt(()=>l("p",null,[ue(" This work is based on "),l("a",{class:"anchor-link",href:"http://www.bladesinthedark.com/",target:"_blank"}," Blades in the Dark "),ue(" , product of One Seven Design, developed and authored by John Harper, and licensed for our use under the "),l("a",{class:"anchor-link",href:"http://creativecommons.org/licenses/by/3.0/",target:"_blank"}," Creative Commons Attribution 3.0 Unported license ")],-1)),Fy=Nt(()=>l("a",{class:"anchor-link",href:"https://olinkirk.land",target:"_blank"},"Olin Kirkland",-1)),qy=Nt(()=>l("br",null,null,-1)),jy={class:"muted"},Hy=Nt(()=>l("img",{src:by},null,-1)),Vy=Nt(()=>l("p",null," Blades in the Dark™ is a trademark of One Seven Design. The Forged in the Dark Logo is © One Seven Design, and is used with permission ",-1)),Wy=Nt(()=>l("p",{class:"images-description"},[ue(" Illustrations are by "),l("a",{class:"anchor-link",href:"https://www.reddit.com/user/perryphery/submitted/",target:"_blank"},"u/perryphery on Reddit")],-1)),Ky=Nt(()=>l("p",{class:"images-description"},[ue(" Cover images are from "),l("a",{class:"anchor-link",href:"https://unsplash.com/",target:"_blank"},"Unsplash")],-1)),Qy={class:"images"},Gy=["href"],zy=["src"],Yy=Nt(()=>l("br",null,null,-1)),Jy={class:"muted"},Xy=Nt(()=>l("p",{class:"images-description"},[ue(" Icons are from "),l("a",{class:"anchor-link",href:"https://fontawesome.com/",target:"_blank"},"Font Awesome"),ue(" and "),l("a",{class:"anchor-link",href:"https://icons8.com/"},"Icons8")],-1)),Zy=re({__name:"AttributionModal",setup(e){const t=new Date().getFullYear(),n=s=>{const[r,o]=s.split(" ");return o?`${r} ${o[0]}.`:r};return(s,r)=>(w(),Pe(ot,null,{header:V(()=>[P(it,{closeButton:""},{default:V(()=>[Dy]),_:1})]),content:V(()=>[l("div",Uy,[My,P(Ke),l("p",null,[ue(" This website is made and maintained by "),Fy,qy,l("span",jy,"© "+j(ee(t))+" Olin Kirkland | All rights reserved",1)]),P(Ke),Hy,Vy,P(Ke),Wy,P(Ke),Ky,l("ul",Qy,[(w(!0),A(we,null,Ze(ee(Tr),o=>(w(),A("li",{key:o.id},[l("a",{href:o.source,target:"_blank"},[l("img",{src:o.url},null,8,zy),l("p",null,[ue(j(o.name),1),Yy,l("span",Jy,"by "+j(n(o.author)),1)])],8,Gy)]))),128))]),P(Ke),Xy,ue("   ")])]),_:1}))}}),lu=le(Zy,[["__scopeId","data-v-38e33c2b"]]),eg={crew:{reputations:["Ambitious","Brutal","Daring","Honorable","Professional","Savvy","Subtle","Strange"],lairs:[{name:"Abandoned Clock Tower",districts:["Six Towers","Crow's Foot","Coalridge"]},{name:"Sewers Beneath the City",districts:["Charterhall","Nightmarket","Barrowcleft"]},{name:"Old Lighthouse",districts:["The Docks","Nightmarket","Crow's Foot"]},{name:"Disused Theater",districts:["Silkshore","Brightstone","Six Towers"]},{name:"Forgotten Crypt",districts:["Dunslough","Charhollow","Coalridge"]},{name:"Luxury Bathhouse",districts:["Brightstone","Silkshore","Charterhall"]},{name:"Library Catacombs",districts:["Charterhall","Six Towers","Brightstone"]},{name:"Derelict Ship",districts:["The Docks","Nightmarket","Crow's Foot"]},{name:"Tunnels Beneath a Bridge",districts:["Crow's Foot","Charterhall","Barrowcleft"]},{name:"Camouflaged Forest Bunker",districts:["Dunslough","Barrowcleft","Charhollow"]}],"upgrade-descriptions":{categories:{lair:"Lair upgrades improve the crew's lair, making it more secure, more useful, or more comfortable.",training:"Training upgrades improve the crew's ability to earn xp during downtime.",quality:"improves the quality rating of all the PCs items of that type, beyond the quality established by the crew's Tier and fine items"},lair:{"boat-house":"You have a boat, a dock on a waterway, and a small shack to store boating supplies. A second upgrade improves the boat with armor and more cargo capacity.","carriage-house":"You have a carriage, two goats to pull it, and a stable. A second upgrade improves the carriage with armor and larger, swifter goats. Horses are very rare in Doskvol—most carriages in the city use the large Akorosian goat as their draft animal.",cohort:"A cohort is a gang or a single expert NPC who works for your crew. For all the details on cohorts, see the following pages.","hidden-lair":"Your lair has a secret location and is disguised to hide it from view. If your lair is discovered, use two downtime activities and pay coin equal to your Tier to relocate it and hide it once again.",quarters:"Your lair includes living quarters for the crew. Without this upgrade, each PC sleeps elsewhere, and is vulnerable when they do so.","secure-lair":"Your lair has locks, alarms, and traps to thwart intruders. A second upgrade improves the defenses to include arcane measures that work against spirits. You might roll your crew's Tier if these measures are ever put to the test, to see how well they thwart an intruder.",vault:"Your lair has a secure vault, increasing your storage capacity for coin to 8. A second upgrade increases your capacity to 16. A separate part of your vault can be used as a holding cell.",workshop:"Your lair has a workshop appointed with tools for tinkering and alchemy, as well as a small library of books, documents, and maps. You may accomplish long-term projects with these assets without leaving your lair.",quality:"Each upgrade improves the quality rating of all the PCs' items of that type, beyond the quality established by the crew's Tier and fine items. You can improve the quality of Documents, Gear (covers Burglary Gear and Climbing Gear), Arcane Implements, Subterfuge Supplies, Tools (covers Demolitions Tools and Tinkering Tools), and Weapons. So, if you are Tier 0, with fine lockpicks (+1) and the Quality upgrade for gear (+1), you could contend equally with a Tier II quality lock."},training:{insight:"Earn 2 xp (instead of 1) when you train your <em>Insight</em> during downtime.",prowess:"Earn 2 xp (instead of 1) when you train your <em>Prowess</em> during downtime.",resolve:"Earn 2 xp (instead of 1) when you train your <em>Resolve</em> during downtime.",personal:"Earn 2 xp (instead of 1) when you train your <em>Playbook</em> during downtime.",mastery:"Your crew has access to master level training. You may advance your action ratings to 4 (until you unlock this upgrade, PC action ratings are capped at 3). This costs four upgrade boxes to unlock."},quality:{documents:"Improves the quality rating of all the crew's documents.",gear:"Improves the quality rating of all the crew's Burglary Gear and Climbing Gear.","arcane-implements":"Improves the quality rating of all the crew's Arcane Implements.","subterfuge supplies":"Improves the quality rating of all the crew's Subterfuge Supplies.",tools:"Improves the quality rating of all the crew's Demolitions Tools and Tinkering Tools.",weapons:"Improves the quality rating of all the crew's weapons."}}}},tg={districts:[{name:"Brightstone",blurb:"The grand mansions and luxury shops of the wealthy elite."},{name:"Charterhall",blurb:"The city's civic offices and the hub for shops, artisans, and commerce."},{name:"Six Towers",blurb:"A formerly rich district, now worn down and dilapidated."},{name:"Silkshore",blurb:"The 'red lamp district' and artist community."},{name:"Nightmarket",blurb:"The trade center for exotic goods imported by rail. Many vendors also trade in illicit goods."},{name:"Crow's Foot",blurb:"A cramped neighborhood of multi-level streets, ruled by gangs."},{name:"The Docks",blurb:"Rough taverns, tattoo parlors, fighting pits, and warehouses."},{name:"Barrowcleft",blurb:"Residences and markets for the farmers who work the fields and eeleries."},{name:"Coalridge",blurb:"The remnants of Doskvol's original hilltop mining settlement, now home to laborers and industrial factories."},{name:"Charhollow",blurb:"A maze of tenements and squalid row houses."},{name:"Dunslough",blurb:"A labor camp served by convicts and a ghetto for the destitute poor."}]},ng={sheets:eg,lexicon:tg};async function sg(e,t){try{const n=await He.post("/game/new",{gameName:e,coverImage:t,codex:ng});if(n.status===Ft.Ok)return console.log(n.data),ge().games=n.data,null}catch(n){return n.response.data}}async function rg(){var e;try{if((await He.post(`/game/${(e=Me().game)==null?void 0:e._id}/leave`)).status===Ft.Ok)return Me().clear(),await Wn(),null}catch(t){return t.response.data}}function og(e){const t=So.find(s=>s.id==="791e4a6b-8f2e-41b2-8410-09fdb69d22e2");return e&&So.find(s=>e===s.id)||t}const ig=["src"],ag=re({__name:"Portrait",props:{portraitId:{}},setup(e){const t=e,n=Z(()=>og(t.portraitId));return(s,r)=>(w(),A("div",{class:"portrait",style:rn({backgroundColor:n.value.commonColor})},[l("img",{src:n.value.url,alt:"Portrait"},null,8,ig)],4))}}),$r=le(ag,[["__scopeId","data-v-ce4fddda"]]),Ss=e=>(Se("data-v-90e063bd"),e=e(),xe(),e),lg=Ss(()=>l("h2",null,"Game Preview",-1)),cg={class:"game-preview"},ug=["src"],fg={class:"overlay"},dg={class:"row center game-join-bar"},hg={class:"tag"},pg={class:"row users"},mg=Ss(()=>l("i",{class:"fas fa-users"},null,-1)),yg=Ss(()=>l("span",null,"Play",-1)),gg=[yg],_g=Ss(()=>l("h3",null,"Players",-1)),vg={class:"players-container"},bg=Ss(()=>l("i",{class:"fas fa-circle-notch fa-spin"},null,-1)),wg=[bg],Eg=re({__name:"GamePreviewModal",props:{game:{}},setup(e){const t=e,n=Z(()=>t.game.players[ge().id]),s=Z(()=>Tr.find(o=>o.id===t.game.coverImage));function r(){Pt.push({name:"game",params:{id:t.game._id}}),G.close()}return(o,i)=>(w(),Pe(ot,null,{header:V(()=>[P(it,{closeButton:""},{default:V(()=>[lg]),_:1})]),content:V(()=>{var a,c;return[l("div",cg,[l("div",{class:"title-block",style:rn({backgroundColor:(a=s.value)==null?void 0:a.commonColor})},[l("img",{class:"game-preview__cover",src:(c=s.value)==null?void 0:c.url},null,8,ug),l("div",fg,[l("h1",null,j(o.game.name),1)])],4),l("div",dg,[l("span",hg,j(n.value.role),1),l("div",pg,[mg,l("span",null,j(Object.keys(o.game.players).length),1)]),l("button",{class:"btn mobile-full-width",onClick:r},gg)]),P(Ke),_g,l("div",vg,[l("div",{class:me(["row center waiting-players",{collapsed:Object.keys(o.game.players).length>0}])},wg,2),l("ul",{class:me(["players",{collapsed:Object.keys(o.game.players).length===0}])},[(w(!0),A(we,null,Ze(o.game.players,(f,u)=>(w(),A("li",{class:"row",key:u},[P($r,{portraitId:f.portrait},null,8,["portraitId"]),l("span",null,j(f.username),1)]))),128))],2)])])]}),_:1}))}}),cu=le(Eg,[["__scopeId","data-v-90e063bd"]]),En=e=>(Se("data-v-e3ba015e"),e=e(),xe(),e),Cg=En(()=>l("h2",null,"New Game",-1)),kg={class:"game"},Sg=En(()=>l("p",null,[ue(" Create a new "),l("em",null,"Blades in the Dark"),ue(" game. "),l("br"),l("span",{class:"muted"}," You can invite players once the game has been created. ")],-1)),xg={class:"inputs"},Ag={class:"input-group"},Tg=En(()=>l("label",{for:"gameName"},"Game Name",-1)),$g={key:0,class:"reminder shake-once"},Og={class:"input-group"},Rg=En(()=>l("label",{for:"coverImage"},"Cover Image",-1)),Pg={class:"cover-image-list"},Ig=["onClick"],Ng=["src","onLoad","onError"],Lg={key:0,class:"overlay"},Bg={class:"caption"},Dg={key:1,class:"fas fa-check-circle"},Ug={key:0,class:"alert"},Mg=En(()=>l("i",{class:"fas fa-exclamation-circle"},null,-1)),Fg=En(()=>l("i",{class:"fas fa-times"},null,-1)),qg=[Fg],jg={class:"row center"},Hg={key:0,class:"fas fa-circle-notch fa-spin"},Vg=En(()=>l("span",null,"Create Game",-1)),Wg=re({__name:"CreateGameModal",setup(e){const t=q(Tr.map(u=>({...u,loaded:!1}))),n=q(""),s=q(!1),r=q(""),o=q(!1),i=Z(()=>o.value&&r.value.length===0?"Every game should have a name":null),a=q(t.value[0].id),c=Z(()=>r.value.length>0);async function f(){if(!c.value&&(!o.value||i.value)){o.value=!0,document.querySelectorAll(".reminder").forEach(h=>{h.classList.remove("shake-once"),h.offsetWidth,h.classList.add("shake-once")});return}s.value=!0,n.value="";const u=await sg(r.value,a.value);s.value=!1,u?n.value=u:G.open(cu,{game:ge().games.find(d=>d.name===r.value)})}return(u,d)=>(w(),Pe(ot,{class:me({disabled:s.value})},{header:V(()=>[P(it,{closeButton:""},{default:V(()=>[Cg]),_:1})]),content:V(()=>[l("div",kg,[Sg,l("div",xg,[l("div",Ag,[Tg,Ge(l("input",{type:"text",onInput:d[0]||(d[0]=h=>o.value=!0),onKeyup:bs(f,["enter"]),placeholder:"Enter a name","onUpdate:modelValue":d[1]||(d[1]=h=>r.value=h)},null,544),[[ze,r.value]]),i.value?(w(),A("span",$g,j(i.value),1)):ne("",!0)]),l("div",Og,[Rg,l("ul",Pg,[(w(!0),A(we,null,Ze(t.value,h=>(w(),A("li",{key:h.id},[l("button",{onClick:y=>a.value=h.id,style:rn({backgroundColor:h.commonColor})},[l("img",{src:h.url,onLoad:y=>h.loaded=!0,onError:y=>h.loaded=!0,class:me({loaded:h.loaded})},null,42,Ng),a.value===h.id?(w(),A("div",Lg)):ne("",!0),l("div",Bg,[l("span",null,j(h.name),1)]),a.value===h.id?(w(),A("i",Dg)):ne("",!0)],12,Ig)]))),128))])])]),n.value?(w(),A("div",Ug,[Mg,l("span",null,j(n.value),1),l("button",{class:"btn btn--icon close",onClick:d[2]||(d[2]=h=>n.value="")},qg)])):ne("",!0),l("div",jg,[l("button",{class:"btn mobile-full-width",onClick:f},[s.value?(w(),A("i",Hg)):ne("",!0),Vg])])])]),_:1},8,["class"]))}}),Kg=le(Wg,[["__scopeId","data-v-e3ba015e"]]),uu=e=>(Se("data-v-4ebc0b1b"),e=e(),xe(),e),Qg={class:"page"},Gg={class:"game-list"},zg=uu(()=>l("i",{class:"fas fa-folder-plus"},null,-1)),Yg=uu(()=>l("span",null,"New Game",-1)),Jg=[zg,Yg],Xg=re({__name:"TheHomePage",setup(e){async function t(){G.open(Kg)}const n=Z(()=>ge().games);function s(r){G.open(cu,{game:r})}return qn(()=>{Wn()}),(r,o)=>(w(),A("div",Qg,[P(vy,{id:"welcome-ribbon",message:"<em>Online in the Dark</em> is an unofficial tool designed for playing <em>Blades in the Dark</em> online. Click to view the full attribution.",onActivate:()=>{ee(G).open(lu)}},null,8,["onActivate"]),l("ul",Gg,[(w(!0),A(we,null,Ze(n.value,i=>(w(),A("li",{key:i._id},[P(dy,{game:i,onClick:a=>s(i)},null,8,["game","onClick"])]))),128)),l("li",null,[l("div",{class:"new-game-card",onClick:t},Jg)])])]))}}),Zg=le(Xg,[["__scopeId","data-v-4ebc0b1b"]]);async function e_(e){G.open(ws);try{const t=await He.post(`/invite/${e}`);if(t.status===Ft.Ok){const n=t.data.gameId;Pt.push({name:jo.GAME,params:{id:n}})}}catch(t){console.error(t),Pt.push({name:jo.HOME}),G.close();return}G.close()}const t_={},n_={class:"panel"};function s_(e,t){return w(),A("div",n_,[ds(e.$slots,"default",{},void 0)])}const fu=le(t_,[["render",s_],["__scopeId","data-v-c9a6184a"]]);/*!
  * vue-router v4.3.2
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const $n=typeof document<"u";function r_(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const be=Object.assign;function zr(e,t){const n={};for(const s in t){const r=t[s];n[s]=Et(r)?r.map(e):e(r)}return n}const as=()=>{},Et=Array.isArray,du=/#/g,o_=/&/g,i_=/\//g,a_=/=/g,l_=/\?/g,hu=/\+/g,c_=/%5B/g,u_=/%5D/g,pu=/%5E/g,f_=/%60/g,mu=/%7B/g,d_=/%7C/g,yu=/%7D/g,h_=/%20/g;function Ci(e){return encodeURI(""+e).replace(d_,"|").replace(c_,"[").replace(u_,"]")}function p_(e){return Ci(e).replace(mu,"{").replace(yu,"}").replace(pu,"^")}function Do(e){return Ci(e).replace(hu,"%2B").replace(h_,"+").replace(du,"%23").replace(o_,"%26").replace(f_,"`").replace(mu,"{").replace(yu,"}").replace(pu,"^")}function m_(e){return Do(e).replace(a_,"%3D")}function y_(e){return Ci(e).replace(du,"%23").replace(l_,"%3F")}function g_(e){return e==null?"":y_(e).replace(i_,"%2F")}function ys(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const __=/\/$/,v_=e=>e.replace(__,"");function Yr(e,t,n="/"){let s,r={},o="",i="";const a=t.indexOf("#");let c=t.indexOf("?");return a<c&&a>=0&&(c=-1),c>-1&&(s=t.slice(0,c),o=t.slice(c+1,a>-1?a:t.length),r=e(o)),a>-1&&(s=s||t.slice(0,a),i=t.slice(a,t.length)),s=C_(s??t,n),{fullPath:s+(o&&"?")+o+i,path:s,query:r,hash:ys(i)}}function b_(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Ma(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function w_(e,t,n){const s=t.matched.length-1,r=n.matched.length-1;return s>-1&&s===r&&Un(t.matched[s],n.matched[r])&&gu(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Un(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function gu(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!E_(e[n],t[n]))return!1;return!0}function E_(e,t){return Et(e)?Fa(e,t):Et(t)?Fa(t,e):e===t}function Fa(e,t){return Et(t)?e.length===t.length&&e.every((n,s)=>n===t[s]):e.length===1&&e[0]===t}function C_(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),s=e.split("/"),r=s[s.length-1];(r===".."||r===".")&&s.push("");let o=n.length-1,i,a;for(i=0;i<s.length;i++)if(a=s[i],a!==".")if(a==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+s.slice(i).join("/")}var gs;(function(e){e.pop="pop",e.push="push"})(gs||(gs={}));var ls;(function(e){e.back="back",e.forward="forward",e.unknown=""})(ls||(ls={}));function k_(e){if(!e)if($n){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),v_(e)}const S_=/^[^#]+#/;function x_(e,t){return e.replace(S_,"#")+t}function A_(e,t){const n=document.documentElement.getBoundingClientRect(),s=e.getBoundingClientRect();return{behavior:t.behavior,left:s.left-n.left-(t.left||0),top:s.top-n.top-(t.top||0)}}const Or=()=>({left:window.scrollX,top:window.scrollY});function T_(e){let t;if("el"in e){const n=e.el,s=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;t=A_(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function qa(e,t){return(history.state?history.state.position-t:-1)+e}const Uo=new Map;function $_(e,t){Uo.set(e,t)}function O_(e){const t=Uo.get(e);return Uo.delete(e),t}let R_=()=>location.protocol+"//"+location.host;function _u(e,t){const{pathname:n,search:s,hash:r}=t,o=e.indexOf("#");if(o>-1){let a=r.includes(e.slice(o))?e.slice(o).length:1,c=r.slice(a);return c[0]!=="/"&&(c="/"+c),Ma(c,"")}return Ma(n,e)+s+r}function P_(e,t,n,s){let r=[],o=[],i=null;const a=({state:h})=>{const y=_u(e,location),g=n.value,_=t.value;let $=0;if(h){if(n.value=y,t.value=h,i&&i===g){i=null;return}$=_?h.position-_.position:0}else s(y);r.forEach(L=>{L(n.value,g,{delta:$,type:gs.pop,direction:$?$>0?ls.forward:ls.back:ls.unknown})})};function c(){i=n.value}function f(h){r.push(h);const y=()=>{const g=r.indexOf(h);g>-1&&r.splice(g,1)};return o.push(y),y}function u(){const{history:h}=window;h.state&&h.replaceState(be({},h.state,{scroll:Or()}),"")}function d(){for(const h of o)h();o=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:c,listen:f,destroy:d}}function ja(e,t,n,s=!1,r=!1){return{back:e,current:t,forward:n,replaced:s,position:window.history.length,scroll:r?Or():null}}function I_(e){const{history:t,location:n}=window,s={value:_u(e,n)},r={value:t.state};r.value||o(s.value,{back:null,current:s.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function o(c,f,u){const d=e.indexOf("#"),h=d>-1?(n.host&&document.querySelector("base")?e:e.slice(d))+c:R_()+e+c;try{t[u?"replaceState":"pushState"](f,"",h),r.value=f}catch(y){console.error(y),n[u?"replace":"assign"](h)}}function i(c,f){const u=be({},t.state,ja(r.value.back,c,r.value.forward,!0),f,{position:r.value.position});o(c,u,!0),s.value=c}function a(c,f){const u=be({},r.value,t.state,{forward:c,scroll:Or()});o(u.current,u,!0);const d=be({},ja(s.value,c,null),{position:u.position+1},f);o(c,d,!1),s.value=c}return{location:s,state:r,push:a,replace:i}}function N_(e){e=k_(e);const t=I_(e),n=P_(e,t.state,t.location,t.replace);function s(o,i=!0){i||n.pauseListeners(),history.go(o)}const r=be({location:"",base:e,go:s,createHref:x_.bind(null,e)},t,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function L_(e){return typeof e=="string"||e&&typeof e=="object"}function vu(e){return typeof e=="string"||typeof e=="symbol"}const Qt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},bu=Symbol("");var Ha;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Ha||(Ha={}));function Mn(e,t){return be(new Error,{type:e,[bu]:!0},t)}function Bt(e,t){return e instanceof Error&&bu in e&&(t==null||!!(e.type&t))}const Va="[^/]+?",B_={sensitive:!1,strict:!1,start:!0,end:!0},D_=/[.+*?^${}()[\]/\\]/g;function U_(e,t){const n=be({},B_,t),s=[];let r=n.start?"^":"";const o=[];for(const f of e){const u=f.length?[]:[90];n.strict&&!f.length&&(r+="/");for(let d=0;d<f.length;d++){const h=f[d];let y=40+(n.sensitive?.25:0);if(h.type===0)d||(r+="/"),r+=h.value.replace(D_,"\\$&"),y+=40;else if(h.type===1){const{value:g,repeatable:_,optional:$,regexp:L}=h;o.push({name:g,repeatable:_,optional:$});const H=L||Va;if(H!==Va){y+=10;try{new RegExp(`(${H})`)}catch(oe){throw new Error(`Invalid custom RegExp for param "${g}" (${H}): `+oe.message)}}let K=_?`((?:${H})(?:/(?:${H}))*)`:`(${H})`;d||(K=$&&f.length<2?`(?:/${K})`:"/"+K),$&&(K+="?"),r+=K,y+=20,$&&(y+=-8),_&&(y+=-20),H===".*"&&(y+=-50)}u.push(y)}s.push(u)}if(n.strict&&n.end){const f=s.length-1;s[f][s[f].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const i=new RegExp(r,n.sensitive?"":"i");function a(f){const u=f.match(i),d={};if(!u)return null;for(let h=1;h<u.length;h++){const y=u[h]||"",g=o[h-1];d[g.name]=y&&g.repeatable?y.split("/"):y}return d}function c(f){let u="",d=!1;for(const h of e){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const y of h)if(y.type===0)u+=y.value;else if(y.type===1){const{value:g,repeatable:_,optional:$}=y,L=g in f?f[g]:"";if(Et(L)&&!_)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const H=Et(L)?L.join("/"):L;if(!H)if($)h.length<2&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${g}"`);u+=H}}return u||"/"}return{re:i,score:s,keys:o,parse:a,stringify:c}}function M_(e,t){let n=0;for(;n<e.length&&n<t.length;){const s=t[n]-e[n];if(s)return s;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function F_(e,t){let n=0;const s=e.score,r=t.score;for(;n<s.length&&n<r.length;){const o=M_(s[n],r[n]);if(o)return o;n++}if(Math.abs(r.length-s.length)===1){if(Wa(s))return 1;if(Wa(r))return-1}return r.length-s.length}function Wa(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const q_={type:0,value:""},j_=/[a-zA-Z0-9_]/;function H_(e){if(!e)return[[]];if(e==="/")return[[q_]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(y){throw new Error(`ERR (${n})/"${f}": ${y}`)}let n=0,s=n;const r=[];let o;function i(){o&&r.push(o),o=[]}let a=0,c,f="",u="";function d(){f&&(n===0?o.push({type:0,value:f}):n===1||n===2||n===3?(o.length>1&&(c==="*"||c==="+")&&t(`A repeatable param (${f}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:f,regexp:u,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):t("Invalid state to consume buffer"),f="")}function h(){f+=c}for(;a<e.length;){if(c=e[a++],c==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:c==="/"?(f&&d(),i()):c===":"?(d(),n=1):h();break;case 4:h(),n=s;break;case 1:c==="("?n=2:j_.test(c)?h():(d(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--);break;case 2:c===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+c:n=3:u+=c;break;case 3:d(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--,u="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${f}"`),d(),i(),r}function V_(e,t,n){const s=U_(H_(e.path),n),r=be(s,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function W_(e,t){const n=[],s=new Map;t=Ga({strict:!1,end:!0,sensitive:!1},t);function r(u){return s.get(u)}function o(u,d,h){const y=!h,g=K_(u);g.aliasOf=h&&h.record;const _=Ga(t,u),$=[g];if("alias"in u){const K=typeof u.alias=="string"?[u.alias]:u.alias;for(const oe of K)$.push(be({},g,{components:h?h.record.components:g.components,path:oe,aliasOf:h?h.record:g}))}let L,H;for(const K of $){const{path:oe}=K;if(d&&oe[0]!=="/"){const fe=d.record.path,J=fe[fe.length-1]==="/"?"":"/";K.path=d.record.path+(oe&&J+oe)}if(L=V_(K,d,_),h?h.alias.push(L):(H=H||L,H!==L&&H.alias.push(L),y&&u.name&&!Qa(L)&&i(u.name)),g.children){const fe=g.children;for(let J=0;J<fe.length;J++)o(fe[J],L,h&&h.children[J])}h=h||L,(L.record.components&&Object.keys(L.record.components).length||L.record.name||L.record.redirect)&&c(L)}return H?()=>{i(H)}:as}function i(u){if(vu(u)){const d=s.get(u);d&&(s.delete(u),n.splice(n.indexOf(d),1),d.children.forEach(i),d.alias.forEach(i))}else{const d=n.indexOf(u);d>-1&&(n.splice(d,1),u.record.name&&s.delete(u.record.name),u.children.forEach(i),u.alias.forEach(i))}}function a(){return n}function c(u){let d=0;for(;d<n.length&&F_(u,n[d])>=0&&(u.record.path!==n[d].record.path||!wu(u,n[d]));)d++;n.splice(d,0,u),u.record.name&&!Qa(u)&&s.set(u.record.name,u)}function f(u,d){let h,y={},g,_;if("name"in u&&u.name){if(h=s.get(u.name),!h)throw Mn(1,{location:u});_=h.record.name,y=be(Ka(d.params,h.keys.filter(H=>!H.optional).concat(h.parent?h.parent.keys.filter(H=>H.optional):[]).map(H=>H.name)),u.params&&Ka(u.params,h.keys.map(H=>H.name))),g=h.stringify(y)}else if(u.path!=null)g=u.path,h=n.find(H=>H.re.test(g)),h&&(y=h.parse(g),_=h.record.name);else{if(h=d.name?s.get(d.name):n.find(H=>H.re.test(d.path)),!h)throw Mn(1,{location:u,currentLocation:d});_=h.record.name,y=be({},d.params,u.params),g=h.stringify(y)}const $=[];let L=h;for(;L;)$.unshift(L.record),L=L.parent;return{name:_,path:g,params:y,matched:$,meta:G_($)}}return e.forEach(u=>o(u)),{addRoute:o,resolve:f,removeRoute:i,getRoutes:a,getRecordMatcher:r}}function Ka(e,t){const n={};for(const s of t)s in e&&(n[s]=e[s]);return n}function K_(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:Q_(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function Q_(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const s in e.components)t[s]=typeof n=="object"?n[s]:n;return t}function Qa(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function G_(e){return e.reduce((t,n)=>be(t,n.meta),{})}function Ga(e,t){const n={};for(const s in e)n[s]=s in t?t[s]:e[s];return n}function wu(e,t){return t.children.some(n=>n===e||wu(e,n))}function z_(e){const t={};if(e===""||e==="?")return t;const s=(e[0]==="?"?e.slice(1):e).split("&");for(let r=0;r<s.length;++r){const o=s[r].replace(hu," "),i=o.indexOf("="),a=ys(i<0?o:o.slice(0,i)),c=i<0?null:ys(o.slice(i+1));if(a in t){let f=t[a];Et(f)||(f=t[a]=[f]),f.push(c)}else t[a]=c}return t}function za(e){let t="";for(let n in e){const s=e[n];if(n=m_(n),s==null){s!==void 0&&(t+=(t.length?"&":"")+n);continue}(Et(s)?s.map(o=>o&&Do(o)):[s&&Do(s)]).forEach(o=>{o!==void 0&&(t+=(t.length?"&":"")+n,o!=null&&(t+="="+o))})}return t}function Y_(e){const t={};for(const n in e){const s=e[n];s!==void 0&&(t[n]=Et(s)?s.map(r=>r==null?null:""+r):s==null?s:""+s)}return t}const J_=Symbol(""),Ya=Symbol(""),ki=Symbol(""),Si=Symbol(""),Mo=Symbol("");function Xn(){let e=[];function t(s){return e.push(s),()=>{const r=e.indexOf(s);r>-1&&e.splice(r,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Xt(e,t,n,s,r,o=i=>i()){const i=s&&(s.enterCallbacks[r]=s.enterCallbacks[r]||[]);return()=>new Promise((a,c)=>{const f=h=>{h===!1?c(Mn(4,{from:n,to:t})):h instanceof Error?c(h):L_(h)?c(Mn(2,{from:t,to:h})):(i&&s.enterCallbacks[r]===i&&typeof h=="function"&&i.push(h),a())},u=o(()=>e.call(s&&s.instances[r],t,n,f));let d=Promise.resolve(u);e.length<3&&(d=d.then(f)),d.catch(h=>c(h))})}function Jr(e,t,n,s,r=o=>o()){const o=[];for(const i of e)for(const a in i.components){let c=i.components[a];if(!(t!=="beforeRouteEnter"&&!i.instances[a]))if(X_(c)){const u=(c.__vccOpts||c)[t];u&&o.push(Xt(u,n,s,i,a,r))}else{let f=c();o.push(()=>f.then(u=>{if(!u)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${i.path}"`));const d=r_(u)?u.default:u;i.components[a]=d;const y=(d.__vccOpts||d)[t];return y&&Xt(y,n,s,i,a,r)()}))}}return o}function X_(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Ja(e){const t=wt(ki),n=wt(Si),s=Z(()=>{const c=ee(e.to);return t.resolve(c)}),r=Z(()=>{const{matched:c}=s.value,{length:f}=c,u=c[f-1],d=n.matched;if(!u||!d.length)return-1;const h=d.findIndex(Un.bind(null,u));if(h>-1)return h;const y=Xa(c[f-2]);return f>1&&Xa(u)===y&&d[d.length-1].path!==y?d.findIndex(Un.bind(null,c[f-2])):h}),o=Z(()=>r.value>-1&&nv(n.params,s.value.params)),i=Z(()=>r.value>-1&&r.value===n.matched.length-1&&gu(n.params,s.value.params));function a(c={}){return tv(c)?t[ee(e.replace)?"replace":"push"](ee(e.to)).catch(as):Promise.resolve()}return{route:s,href:Z(()=>s.value.href),isActive:o,isExactActive:i,navigate:a}}const Z_=re({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Ja,setup(e,{slots:t}){const n=_s(Ja(e)),{options:s}=wt(ki),r=Z(()=>({[Za(e.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[Za(e.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=t.default&&t.default(n);return e.custom?o:lc("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},o)}}}),ev=Z_;function tv(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function nv(e,t){for(const n in t){const s=t[n],r=e[n];if(typeof s=="string"){if(s!==r)return!1}else if(!Et(r)||r.length!==s.length||s.some((o,i)=>o!==r[i]))return!1}return!0}function Xa(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Za=(e,t,n)=>e??t??n,sv=re({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const s=wt(Mo),r=Z(()=>e.route||s.value),o=wt(Ya,0),i=Z(()=>{let f=ee(o);const{matched:u}=r.value;let d;for(;(d=u[f])&&!d.components;)f++;return f}),a=Z(()=>r.value.matched[i.value]);qs(Ya,Z(()=>i.value+1)),qs(J_,a),qs(Mo,r);const c=q();return ns(()=>[c.value,a.value,e.name],([f,u,d],[h,y,g])=>{u&&(u.instances[d]=f,y&&y!==u&&f&&f===h&&(u.leaveGuards.size||(u.leaveGuards=y.leaveGuards),u.updateGuards.size||(u.updateGuards=y.updateGuards))),f&&u&&(!y||!Un(u,y)||!h)&&(u.enterCallbacks[d]||[]).forEach(_=>_(f))},{flush:"post"}),()=>{const f=r.value,u=e.name,d=a.value,h=d&&d.components[u];if(!h)return el(n.default,{Component:h,route:f});const y=d.props[u],g=y?y===!0?f.params:typeof y=="function"?y(f):y:null,$=lc(h,be({},g,t,{onVnodeUnmounted:L=>{L.component.isUnmounted&&(d.instances[u]=null)},ref:c}));return el(n.default,{Component:$,route:f})||$}}});function el(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const rv=sv;function ov(e){const t=W_(e.routes,e),n=e.parseQuery||z_,s=e.stringifyQuery||za,r=e.history,o=Xn(),i=Xn(),a=Xn(),c=so(Qt);let f=Qt;$n&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=zr.bind(null,k=>""+k),d=zr.bind(null,g_),h=zr.bind(null,ys);function y(k,M){let D,W;return vu(k)?(D=t.getRecordMatcher(k),W=M):W=k,t.addRoute(W,D)}function g(k){const M=t.getRecordMatcher(k);M&&t.removeRoute(M)}function _(){return t.getRoutes().map(k=>k.record)}function $(k){return!!t.getRecordMatcher(k)}function L(k,M){if(M=be({},M||c.value),typeof k=="string"){const m=Yr(n,k,M.path),v=t.resolve({path:m.path},M),S=r.createHref(m.fullPath);return be(m,v,{params:h(v.params),hash:ys(m.hash),redirectedFrom:void 0,href:S})}let D;if(k.path!=null)D=be({},k,{path:Yr(n,k.path,M.path).path});else{const m=be({},k.params);for(const v in m)m[v]==null&&delete m[v];D=be({},k,{params:d(m)}),M.params=d(M.params)}const W=t.resolve(D,M),ve=k.hash||"";W.params=u(h(W.params));const Oe=b_(s,be({},k,{hash:p_(ve),path:W.path})),p=r.createHref(Oe);return be({fullPath:Oe,hash:ve,query:s===za?Y_(k.query):k.query||{}},W,{redirectedFrom:void 0,href:p})}function H(k){return typeof k=="string"?Yr(n,k,c.value.path):be({},k)}function K(k,M){if(f!==k)return Mn(8,{from:M,to:k})}function oe(k){return Ae(k)}function fe(k){return oe(be(H(k),{replace:!0}))}function J(k){const M=k.matched[k.matched.length-1];if(M&&M.redirect){const{redirect:D}=M;let W=typeof D=="function"?D(k):D;return typeof W=="string"&&(W=W.includes("?")||W.includes("#")?W=H(W):{path:W},W.params={}),be({query:k.query,hash:k.hash,params:W.path!=null?{}:k.params},W)}}function Ae(k,M){const D=f=L(k),W=c.value,ve=k.state,Oe=k.force,p=k.replace===!0,m=J(D);if(m)return Ae(be(H(m),{state:typeof m=="object"?be({},ve,m.state):ve,force:Oe,replace:p}),M||D);const v=D;v.redirectedFrom=M;let S;return!Oe&&w_(s,W,D)&&(S=Mn(16,{to:v,from:W}),Ct(W,W,!0,!1)),(S?Promise.resolve(S):x(v,W)).catch(E=>Bt(E)?Bt(E,2)?E:Vt(E):_e(E,v,W)).then(E=>{if(E){if(Bt(E,2))return Ae(be({replace:p},H(E.to),{state:typeof E.to=="object"?be({},ve,E.to.state):ve,force:Oe}),M||v)}else E=Fe(v,W,!0,p,ve);return B(v,W,E),E})}function N(k,M){const D=K(k,M);return D?Promise.reject(D):Promise.resolve()}function b(k){const M=kn.values().next().value;return M&&typeof M.runWithContext=="function"?M.runWithContext(k):k()}function x(k,M){let D;const[W,ve,Oe]=iv(k,M);D=Jr(W.reverse(),"beforeRouteLeave",k,M);for(const m of W)m.leaveGuards.forEach(v=>{D.push(Xt(v,k,M))});const p=N.bind(null,k,M);return D.push(p),We(D).then(()=>{D=[];for(const m of o.list())D.push(Xt(m,k,M));return D.push(p),We(D)}).then(()=>{D=Jr(ve,"beforeRouteUpdate",k,M);for(const m of ve)m.updateGuards.forEach(v=>{D.push(Xt(v,k,M))});return D.push(p),We(D)}).then(()=>{D=[];for(const m of Oe)if(m.beforeEnter)if(Et(m.beforeEnter))for(const v of m.beforeEnter)D.push(Xt(v,k,M));else D.push(Xt(m.beforeEnter,k,M));return D.push(p),We(D)}).then(()=>(k.matched.forEach(m=>m.enterCallbacks={}),D=Jr(Oe,"beforeRouteEnter",k,M,b),D.push(p),We(D))).then(()=>{D=[];for(const m of i.list())D.push(Xt(m,k,M));return D.push(p),We(D)}).catch(m=>Bt(m,8)?m:Promise.reject(m))}function B(k,M,D){a.list().forEach(W=>b(()=>W(k,M,D)))}function Fe(k,M,D,W,ve){const Oe=K(k,M);if(Oe)return Oe;const p=M===Qt,m=$n?history.state:{};D&&(W||p?r.replace(k.fullPath,be({scroll:p&&m&&m.scroll},ve)):r.push(k.fullPath,ve)),c.value=k,Ct(k,M,D,p),Vt()}let et;function cn(){et||(et=r.listen((k,M,D)=>{if(!xs.listening)return;const W=L(k),ve=J(W);if(ve){Ae(be(ve,{replace:!0}),W).catch(as);return}f=W;const Oe=c.value;$n&&$_(qa(Oe.fullPath,D.delta),Or()),x(W,Oe).catch(p=>Bt(p,12)?p:Bt(p,2)?(Ae(p.to,W).then(m=>{Bt(m,20)&&!D.delta&&D.type===gs.pop&&r.go(-1,!1)}).catch(as),Promise.reject()):(D.delta&&r.go(-D.delta,!1),_e(p,W,Oe))).then(p=>{p=p||Fe(W,Oe,!1),p&&(D.delta&&!Bt(p,8)?r.go(-D.delta,!1):D.type===gs.pop&&Bt(p,20)&&r.go(-1,!1)),B(W,Oe,p)}).catch(as)}))}let ft=Xn(),ye=Xn(),Ee;function _e(k,M,D){Vt(k);const W=ye.list();return W.length?W.forEach(ve=>ve(k,M,D)):console.error(k),Promise.reject(k)}function Lt(){return Ee&&c.value!==Qt?Promise.resolve():new Promise((k,M)=>{ft.add([k,M])})}function Vt(k){return Ee||(Ee=!k,cn(),ft.list().forEach(([M,D])=>k?D(k):M()),ft.reset()),k}function Ct(k,M,D,W){const{scrollBehavior:ve}=e;if(!$n||!ve)return Promise.resolve();const Oe=!D&&O_(qa(k.fullPath,0))||(W||!D)&&history.state&&history.state.scroll||null;return ni().then(()=>ve(k,M,Oe)).then(p=>p&&T_(p)).catch(p=>_e(p,k,M))}const tt=k=>r.go(k);let Cn;const kn=new Set,xs={currentRoute:c,listening:!0,addRoute:y,removeRoute:g,hasRoute:$,getRoutes:_,resolve:L,options:e,push:oe,replace:fe,go:tt,back:()=>tt(-1),forward:()=>tt(1),beforeEach:o.add,beforeResolve:i.add,afterEach:a.add,onError:ye.add,isReady:Lt,install(k){const M=this;k.component("RouterLink",ev),k.component("RouterView",rv),k.config.globalProperties.$router=M,Object.defineProperty(k.config.globalProperties,"$route",{enumerable:!0,get:()=>ee(c)}),$n&&!Cn&&c.value===Qt&&(Cn=!0,oe(r.location).catch(ve=>{}));const D={};for(const ve in Qt)Object.defineProperty(D,ve,{get:()=>c.value[ve],enumerable:!0});k.provide(ki,M),k.provide(Si,Tl(D)),k.provide(Mo,c);const W=k.unmount;kn.add(k),k.unmount=function(){kn.delete(k),kn.size<1&&(f=Qt,et&&et(),et=null,c.value=Qt,Cn=!1,Ee=!1),W()}}};function We(k){return k.reduce((M,D)=>M.then(()=>b(D)),Promise.resolve())}return xs}function iv(e,t){const n=[],s=[],r=[],o=Math.max(t.matched.length,e.matched.length);for(let i=0;i<o;i++){const a=t.matched[i];a&&(e.matched.find(f=>Un(f,a))?s.push(a):n.push(a));const c=e.matched[i];c&&(t.matched.find(f=>Un(f,c))||r.push(c))}return[n,s,r]}function Eu(){return wt(Si)}const av={class:"page"},lv=l("h1",null,"INVITE PAGE",-1),cv=re({__name:"TheInvitePage",setup(e){const n=Eu().params.code;return qn(()=>{e_(n)}),(s,r)=>(w(),A("div",av,[lv,P(fu,null,{default:V(()=>[l("p",null,j(ee(n)),1)]),_:1})]))}}),Cu=e=>(Se("data-v-c2b83b82"),e=e(),xe(),e),uv={class:"page"},fv=Cu(()=>l("h1",null,"404",-1)),dv=Cu(()=>l("p",null,"This page does not exist.",-1)),hv=re({__name:"TheLostPage",setup(e){function t(){Pt.push("/")}return(n,s)=>(w(),A("div",uv,[P(fu,{id:"lost"},{default:V(()=>[fv,dv,l("button",{class:"btn",onClick:s[0]||(s[0]=r=>t())},"Return to Home Page")]),_:1})]))}}),pv=le(hv,[["__scopeId","data-v-c2b83b82"]]),ku=[{id:"e52f27b1-e5f6-42de-9889-c2d9aeeb3b0d",name:"Assassin Crew",author:"Perryphery",source:"",url:"/images/crews/assassins.jpg",commonColor:"#a27043"},{id:"ab9c33a6-2710-41ff-a814-edf6b648af54",name:"Bravos Crew",author:"Perryphery",source:"",url:"/images/crews/bravos.jpg",commonColor:"#e88b62"},{id:"7544b3a4-0e4d-4758-9870-cd5b8f7774cb",name:"Cult Crew",author:"Perryphery",source:"",url:"/images/crews/cult.jpg",commonColor:"#c94c34"},{id:"13867125-73d8-4399-a550-db499a4eedfe",name:"Hawkers Crew",author:"Perryphery",source:"",url:"/images/crews/hawkers.jpg",commonColor:"#bfa53f"},{id:"bbc1bf16-dc4d-4e97-a898-0bf9e688d327",name:"Shadows Crew",author:"Perryphery",source:"",url:"/images/crews/shadows.jpg",commonColor:"#a27043"},{id:"de509b5c-f37c-4975-9768-5e123d24e19b",name:"Smugglers Crew",author:"Perryphery",source:"",url:"/images/crews/smugglers.jpg",commonColor:"#dac684"}],mv=["src"],yv={class:"sheet-card__content"},gv={class:"row info"},_v={class:"tag"},vv=re({__name:"SheetCard",props:{sheet:{type:Object,required:!0}},setup(e){const t=e,n=Z(()=>{const r=t.sheet.sheetType;if(r==="crew")return t.sheet.crewType;if(r==="character")return t.sheet.characterType}),s=Z(()=>ku.find(r=>r.id===t.sheet.image));return(r,o)=>{var i,a;return w(),A("div",{class:"sheet-card",style:rn({backgroundColor:(i=s.value)==null?void 0:i.commonColor})},[l("img",{src:(a=s.value)==null?void 0:a.url},null,8,mv),l("div",yv,[l("h2",null,j(t.sheet.name),1),l("div",gv,[l("span",_v,j(n.value),1)])])],4)}}}),tl=le(vv,[["__scopeId","data-v-243a74b3"]]),bv=["innerHTML"],wv=re({__name:"Tooltip",props:{text:{},top:{type:Boolean}},setup(e){const t=q(null);return(n,s)=>(w(),A("div",{class:me(["tooltip",{"tooltip--top":n.top}]),ref_key:"tooltip",ref:t},[l("span",{innerHTML:n.text},null,8,bv)],2))}}),Ev=le(wv,[["__scopeId","data-v-5e947be2"]]),Cv={class:"player-bar"},kv=re({__name:"PlayerBar",setup(e){return(t,n)=>{var s;return w(),A("ul",Cv,[(w(!0),A(we,null,Ze((s=ee(Me)().game)==null?void 0:s.players,(r,o)=>(w(),A("li",{key:o,class:me({"inactive-player":!r.isOnline})},[P($r,{portraitId:r.portrait},null,8,["portraitId"]),P(Ev,{top:"",text:r.username},null,8,["text"]),l("div",{class:me(["online-indicator",{"online-indicator--online":r.isOnline}])},null,2)],2))),128))])}}}),Sv=le(kv,[["__scopeId","data-v-8422fb27"]]),xv={class:"confirm"},Av=["innerHTML"],Tv={class:"row wrap"},$v=re({__name:"ConfirmModal",props:{title:{},message:{},onConfirm:{type:Function},onCancel:{type:Function},confirmText:{},cancelText:{}},setup(e){const t=e;function n(){t.onCancel?t.onCancel():G.close()}return(s,r)=>(w(),Pe(ot,null,{header:V(()=>[P(it,{closeButton:"",closeButtonAction:n},{default:V(()=>[l("h2",null,j(t.title),1)]),_:1})]),content:V(()=>[l("div",xv,[l("p",{innerHTML:t.message},null,8,Av),l("div",Tv,[l("button",{class:"btn btn--alt mobile-full-width",onClick:r[0]||(r[0]=(...o)=>t.onConfirm&&t.onConfirm(...o))},[l("span",null,j(t.confirmText||"Yes"),1)]),l("button",{class:"btn mobile-full-width",onClick:n},[l("span",null,j(t.cancelText||"No, I changed my mind"),1)])])])]),_:1}))}}),xi=le($v,[["__scopeId","data-v-f18967fd"]]),Ov=e=>(Se("data-v-11950b8c"),e=e(),xe(),e),Rv={class:"template-picker"},Pv=Ov(()=>l("p",null," The crew type you choose determines the group's purpose, their special abilities, and how they advance. ",-1)),Iv=["onClick","background-color"],Nv=["src"],Lv=re({__name:"SheetTemplatePickerModal",props:{sheetType:String,templateTypeKey:String,templates:Object,onConfirm:{type:Function,required:!0}},setup(e){const t=e;function n(i){return ku.find(a=>a.id===i)}function s(i){t.onConfirm(t.sheetType,i),G.close()}const r=q(0);function o(i){const a=i.children[0].clientWidth,c=(i.scrollLeft+a/2)/a;r.value=Math.floor(c)}return(i,a)=>(w(),Pe(ot,null,{header:V(()=>[P(it,{closeButton:""},{default:V(()=>[l("h2",null,"Choose a "+j(e.sheetType)+" template",1)]),_:1})]),content:V(()=>[l("div",Rv,[Pv,l("ul",{class:"scroll-container",ref:"carouselRef",onScroll:a[0]||(a[0]=c=>o(c.target))},[(w(!0),A(we,null,Ze(e.templates,(c,f,u)=>{var d,h;return w(),A("li",null,[(w(),A("div",{class:me(["template-card",{active:r.value==u,"left-of-active":r.value>u,"right-of-active":r.value<u}]),key:c.id,onClick:y=>s(c),"background-color":(d=n(c.image))==null?void 0:d.commonColor},[l("img",{src:(h=n(c.image))==null?void 0:h.url,alt:"template image"},null,8,Nv),l("h3",null,j(c[e.templateTypeKey]),1),l("p",null,j(c[e.templateTypeKey+"Description"]),1)],10,Iv))])}),256))],544)])]),_:1}))}}),Bv=le(Lv,[["__scopeId","data-v-11950b8c"]]);let Us;const Dv=new Uint8Array(16);function Uv(){if(!Us&&(Us=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Us))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Us(Dv)}const qe=[];for(let e=0;e<256;++e)qe.push((e+256).toString(16).slice(1));function Mv(e,t=0){return qe[e[t+0]]+qe[e[t+1]]+qe[e[t+2]]+qe[e[t+3]]+"-"+qe[e[t+4]]+qe[e[t+5]]+"-"+qe[e[t+6]]+qe[e[t+7]]+"-"+qe[e[t+8]]+qe[e[t+9]]+"-"+qe[e[t+10]]+qe[e[t+11]]+qe[e[t+12]]+qe[e[t+13]]+qe[e[t+14]]+qe[e[t+15]]}const Fv=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),nl={randomUUID:Fv};function qv(e,t,n){if(nl.randomUUID&&!t&&!e)return nl.randomUUID();e=e||{};const s=e.random||(e.rng||Uv)();return s[6]=s[6]&15|64,s[8]=s[8]&63|128,Mv(s)}class jv{constructor(){pe(this,"id");pe(this,"sheetType");pe(this,"createdBy");pe(this,"createdAt");pe(this,"image");this.id=qv(),this.sheetType="sheet",this.createdBy=ge().id,this.createdAt=Date.now(),this.image=""}}function Hv(){return[]}class Vn extends jv{constructor(){super();pe(this,"name","Untitled Crew");pe(this,"reputationType","Ambitious");pe(this,"lair","An abandoned warehouse");pe(this,"lairDistrict","Crow's Foot");pe(this,"huntingGroundsDistrict","Crow's Foot");pe(this,"reputation",0);pe(this,"turf",0);pe(this,"hold","strong");pe(this,"tier",0);pe(this,"heat",0);pe(this,"wantedLevel",0);pe(this,"coin",0);pe(this,"vaults",0);pe(this,"crewExperience",0);pe(this,"crewType","");pe(this,"crewTypeDescription","");pe(this,"specialAbilities",[]);pe(this,"image","e52f27b1-e5f6-42de-9889-c2d9aeeb3b0d");pe(this,"contacts",[]);pe(this,"crewUpgrades",[]);pe(this,"lairUpgrades",[{id:"carriage-house",name:"Carriage",description:"",quantity:0,maxQuantity:2},{id:"boat-house",name:"Boat",description:"",quantity:0,maxQuantity:2},{id:"hidden-lair",name:"Hidden",description:"",quantity:0,maxQuantity:1},{id:"quarters",name:"Quarters",description:"",quantity:0,maxQuantity:1},{id:"secure-lair",name:"Secure",description:"",quantity:0,maxQuantity:2},{id:"vault",name:"Vault",description:"",quantity:0,maxQuantity:2},{id:"workshop",name:"Workshop",description:"",quantity:0,maxQuantity:1}]);pe(this,"trainingUpgrades",[{id:"insight",name:"Insight",description:"",quantity:0,maxQuantity:1},{id:"prowess",name:"Prowess",description:"",quantity:0,maxQuantity:1},{id:"resolve",name:"Resolve",description:"",quantity:0,maxQuantity:1},{id:"personal",name:"Personal",description:"",quantity:0,maxQuantity:1},{id:"mastery",name:"Mastery",description:"",quantity:0,maxQuantity:4}]);pe(this,"qualityUpgrades",[{id:"documents",name:"Documents",description:"",quantity:0,maxQuantity:1},{id:"gear",name:"Gear",description:"",quantity:0,maxQuantity:1},{id:"implements",name:"Implements",description:"",quantity:0,maxQuantity:1},{id:"supplies",name:"Supplies",description:"",quantity:0,maxQuantity:1},{id:"tools",name:"Tools",description:"",quantity:0,maxQuantity:1},{id:"weapons",name:"Weapons",description:"",quantity:0,maxQuantity:1}]);pe(this,"claims",[]);this.sheetType="crew"}applyUpgradesDescriptionsFromCodex(){var s;const n=(s=Me().game)==null?void 0:s.codex.sheets.crew["upgrade-descriptions"];this.crewUpgrades.forEach(r=>{var i;const o=(i=n==null?void 0:n.crew)==null?void 0:i[r.id];o?r.description=o:r.description||(r.description="no description found for "+r.id)}),this.lairUpgrades.forEach(r=>{const o=n.lair[r.id];o?r.description=o:r.description||(r.description="no description found for "+r.id)}),this.trainingUpgrades.forEach(r=>{const o=n.training[r.id];o?r.description=o:r.description||(r.description="no description found for "+r.id)}),this.qualityUpgrades.forEach(r=>{const o=n.quality[r.id];o?r.description=o:r.description||(r.description="no description found for "+r.id)})}}class Vv extends Vn{constructor(){super(),this.name="Untitled Assassins",this.crewType="Assassins",this.crewTypeDescription="Murderers for hire",this.image="e52f27b1-e5f6-42de-9889-c2d9aeeb3b0d",this.specialAbilities=[{id:"assassins-deadly",name:"Deadly",description:"Each PC may add +1 action rating to Hunt, Prowl, or Skirmish (up to a max rating of 3).",quantity:0,maxQuantity:1},{id:"assassins-crows-veil",name:"Crow's Veil",description:"Due to hard-won experience or occult ritual, your activities are hidden from the notice of the death-seeker crows. You don't take extra heat when killing is involved on a score.",quantity:0,maxQuantity:1},{id:"assassins-emberdeath",name:"Emberdeath",description:"Due to hard-won experience or occult ritual, you know the arcane method to destroy a living victim's spirit at the moment you kill them. Take 3 stress to channel electroplasmic energy from the ghost field to disintegrate the spirit and dead body in a shower of sparking embers.",quantity:0,maxQuantity:1},{id:"assassins-no-traces",name:"No Traces",description:"When you keep an operation quiet or make it look like an accident, you get half the rep value of the target (round up) instead of zero. When you end downtime with zero heat, take +1 rep.",quantity:0,maxQuantity:1},{id:"assassins-patron",name:"Patron",description:"When you advance your Tier, it costs half the coin it normally would. Who is your patron? Why do they help you?",quantity:0,maxQuantity:1},{id:"assassins-predators",name:"Predators",description:"When you use stealth or subterfuge to commit murder, take +1d to the engagement roll.",quantity:0,maxQuantity:1},{id:"assassins-vipers",name:"Vipers",description:"When you acquire or craft poisons, you get +1 result level to your roll. When you employ a poison, you are specially prepared to be immune to its effects.",quantity:0,maxQuantity:1},{id:"assassins-veteran",name:"Veteran",description:"Choose a special ability from another crew.",quantity:0,maxQuantity:3}],this.contacts=[],this.crewUpgrades=[{id:"assassin-rigging",name:"Assassin Rigging",description:"2 free load of weapons or gear.",quantity:0,maxQuantity:1},{id:"ironhook-contacts",name:"Ironhook Contacts",description:"+1 Tier in prison.",quantity:0,maxQuantity:1},{id:"elite-skulks",name:"Elite Skulks",description:"Your Skulks are elite.",quantity:0,maxQuantity:1},{id:"elite-thugs",name:"Elite Thugs",description:"Your Thugs are elite.",quantity:0,maxQuantity:1},{id:"hardened",name:"Hardened",description:"+1 trauma box.",quantity:0,maxQuantity:1}],this.applyUpgradesDescriptionsFromCodex(),this.claims=[]}}class Wv extends Vn{constructor(){super(),this.name="Untitled Bravos",this.crewType="Bravos",this.crewTypeDescription="Mercenaries, thugs, & killers",this.image="ab9c33a6-2710-41ff-a814-edf6b648af54",this.specialAbilities=[{id:"dangerous",name:"Dangerous",description:"Each PC may add +1 action rating to Hunt, Skirmish, or Wreck (up to a max rating of 3).",quantity:0,maxQuantity:1},{id:"blood-brothers",name:"Blood Brothers",description:"When you fight alongside your cohorts in combat, they get +1d for teamwork rolls (setup and group actions). All of your cohorts get the Thugs type for free (if they're already Thugs, add another type).",quantity:0,maxQuantity:1},{id:"door-kickers",name:"Door Kickers",description:"When you execute an assault plan, take +1d to the engagement roll.",quantity:0,maxQuantity:1},{id:"fiends",name:"Fiends",description:"Fear is as good as respect. You may count each wanted level as if it was turf.",quantity:0,maxQuantity:1},{id:"forged-in-the-fire",name:"Forged in the Fire",description:"Each PC has been toughened by cruel experience. You get +1d to resistance rolls.",quantity:0,maxQuantity:1},{id:"patron",name:"Patron",description:"When you advance your Tier, it costs half the coin it normally would. Who is your patron? Why do they help you?",quantity:0,maxQuantity:1},{id:"war-dogs",name:"War Dogs",description:"When you’re at war (-3 faction status), your crew does not suffer -1 hold and PCs still get two downtime activities, instead of just one.",quantity:0,maxQuantity:1},{id:"veteran",name:"Veteran",description:"Choose a special ability from another crew.",quantity:0,maxQuantity:3}],this.contacts=[],this.crewUpgrades=[],this.applyUpgradesDescriptionsFromCodex(),this.claims=[]}}class Kv extends Vn{constructor(){super(),this.name="Untitled Cult",this.crewType="Cult",this.crewTypeDescription="Acolytes of a deity",this.image="7544b3a4-0e4d-4758-9870-cd5b8f7774cb",this.specialAbilities=[{id:"chosen",name:"Chosen",description:"Each PC may add +1 action rating to Attune, Study, or Sway (up to a max rating of 3).",quantity:0,maxQuantity:1},{id:"anointed",name:"Anointed",description:"You get +1d to resistance rolls against supernatural threats. You get +1d to healing rolls when you have supernatural harm.",quantity:0,maxQuantity:1},{id:"bound-in-darkness",name:"Bound in Darkness",description:"You may use teamwork with any cult member, regardless of the distance separating you. By taking 1 stress, your whispered message is heard by every cultist.",quantity:0,maxQuantity:1},{id:"conviction",name:"Conviction",description:"Each PC gains an additional Vice: Worship. When you indulge this vice and bring a pleasing sacrifice, you don't overindulge if you clear excess stress. In addition, your deity will assist any one action roll you make—from now until you indulge this vice again.",quantity:0,maxQuantity:1},{id:"glory-incarnate",name:"Glory Incarnate",description:"Your deity sometimes manifests in the physical world. This can be a great boon, but the priorities and values of a god are not those of mortals. You have been warned.",quantity:0,maxQuantity:1},{id:"sealed-in-blood",name:"Sealed in Blood",description:"Each human sacrifice yields -3 stress cost for any ritual you perform.",quantity:0,maxQuantity:1},{id:"zealotry",name:"Zealotry",description:"Your cohorts have abandoned their reason to devote themselves to the cult. They will undertake any service, no matter how dangerous or strange. They gain +1d to rolls against enemies of the faith.",quantity:0,maxQuantity:1},{id:"veteran",name:"Veteran",description:"Choose a special ability from another crew.",quantity:0,maxQuantity:3}],this.contacts=[],this.crewUpgrades=[],this.applyUpgradesDescriptionsFromCodex(),this.claims=[]}}class Qv extends Vn{constructor(){super(),this.name="Untitled Hawkers",this.crewType="Hawkers",this.crewTypeDescription="Vice dealers",this.image="13867125-73d8-4399-a550-db499a4eedfe",this.specialAbilities=[{id:"silver-tongues",name:"Silver Tongues",description:"Each PC may add +1 action rating to Command, Consort, or Sway (up to a max rating of 3).",quantity:0,maxQuantity:1},{id:"accord",name:"Accord",description:"Sometimes friends are as good as territory. You may count up to three +3 faction statuses you hold as if they are turf.",quantity:0,maxQuantity:1},{id:"the-good-stuff",name:"The Good Stuff",description:"Your merchandise is exquisite. The product quality is equal to your Tier+2. When you deal with a crew or faction, the GM will tell you who among them is hooked on your product (one, a few, many, or all).",quantity:0,maxQuantity:1},{id:"ghost-market",name:"Ghost Market",description:"Through arcane ritual or hard-won experience, you have discovered how to prepare your product for sale to ghosts and/or demons. They do not pay in coin. What do they pay with?",quantity:0,maxQuantity:1},{id:"high-society",name:"High Society",description:"It's all about who you know. Take -1 heat during downtime and +1d to gather info about the city's elite.",quantity:0,maxQuantity:1},{id:"hooked",name:"Hooked",description:"Your gang members use your product. Add the savage, unreliable, or wild flaw to your gangs to give them +1 quality.",quantity:0,maxQuantity:1},{id:"patron",name:"Patron",description:"When you advance your Tier, it costs half the coin it normally would. Who is your patron? Why do they help you?",quantity:0,maxQuantity:1},{id:"veteran",name:"Veteran",description:"Choose a special ability from another crew.",quantity:0,maxQuantity:3}],this.contacts=[],this.crewUpgrades=[],this.applyUpgradesDescriptionsFromCodex(),this.claims=[]}}class Gv extends Vn{constructor(){super(),this.name="Untitled Shadows",this.crewType="Shadows",this.crewTypeDescription="Thieves, spies, and saboteurs",this.image="bbc1bf16-dc4d-4e97-a898-0bf9e688d327",this.specialAbilities=[{id:"everyone-steals",name:"Everyone Steals",description:"Each PC may add +1 action rating to Prowl, Finesse, or Tinker (up to a max rating of 3).",quantity:0,maxQuantity:1},{id:"ghost-echoes",name:"Ghost Echoes",description:"From weird experience or occult ritual, all crew members gain the ability to see and interact with the ghostly structures, streets, and objects within the echo of Doskvol that exists in the ghost field.",quantity:0,maxQuantity:1},{id:"pack-rats",name:"Pack Rats",description:"Your lair is a jumble of stolen items. When you roll to acquire an asset, take +1d.",quantity:0,maxQuantity:1},{id:"patron",name:"Patron",description:"When you advance your Tier, it costs half the coin it normally would. Who is your patron? Why do they help you?",quantity:0,maxQuantity:1},{id:"second-story",name:"Second Story",description:"When you execute a clandestine infiltration, you get +1d to the engagement roll.",quantity:0,maxQuantity:1},{id:"slippery",name:"Slippery",description:"When you roll entanglements, roll twice and keep the one you want. When you reduce heat on the crew, take +1d.",quantity:0,maxQuantity:1},{id:"synchronized",name:"Synchronized",description:"When you perform a group action, you may count multiple 6s from different rolls as a critical success.",quantity:0,maxQuantity:1},{id:"veteran",name:"Veteran",description:"Choose a special ability from another crew.",quantity:0,maxQuantity:3}],this.contacts=[],this.crewUpgrades=[],this.applyUpgradesDescriptionsFromCodex(),this.claims=[]}}class zv extends Vn{constructor(){super(),this.name="Untitled Smugglers",this.crewType="Smugglers",this.crewTypeDescription="Suppliers of illicit goods",this.image="de509b5c-f37c-4975-9768-5e123d24e19b",this.specialAbilities=[{id:"like-part-of-the-family",name:"Like Part of the Family",description:"Create one of your vehicles as a cohort (use the vehicle edges and flaws, below). Its quality is equal to your Tier +1.",quantity:0,maxQuantity:1},{id:"all-hands",name:"All Hands",description:"During downtime, one of your cohorts may perform a downtime activity for the crew to acquire an asset, reduce heat, or work on a long-term project.",quantity:0,maxQuantity:1},{id:"ghost-passage",name:"Ghost Passage",description:'From harsh experience or occult ritual, all crew members become immune to possession by spirits, but may choose to "carry" a second ghost as a passenger within their body.',quantity:0,maxQuantity:1},{id:"just-passing-through",name:"Just Passing Through",description:"During downtime, take -1 heat. When your heat is 4 or less, you get +1d to deceive people when you pass yourselves off as ordinary citizens.",quantity:0,maxQuantity:1},{id:"leverage",name:"Leverage",description:"Your crew supplies contraband for other factions. Your success is good for them. Whenever you gain rep, gain +1 rep.",quantity:0,maxQuantity:1},{id:"reavers",name:"Reavers",description:"When you go into conflict aboard a vehicle, you gain +1 effect for vehicle damage and speed. Your vehicle gains armor.",quantity:0,maxQuantity:1},{id:"renegades",name:"Renegades",description:"Each PC may add +1 action rating to Finesse, Prowl, or Skirmish (up to a max rating of 3).",quantity:0,maxQuantity:1},{id:"veteran",name:"Veteran",description:"Choose a special ability from another crew.",quantity:0,maxQuantity:3}],this.contacts=[],this.crewUpgrades=[],this.applyUpgradesDescriptionsFromCodex(),this.claims=[]}}function Yv(){return{assassins:new Vv,bravos:new Wv,cult:new Kv,hawkers:new Qv,shadows:new Gv,smugglers:new zv}}function Jv(e){return e==="crew"?Yv():e==="character"?Hv():[]}const Xv=l("h1",null,"CHARACTER SHEET",-1),Zv=re({__name:"TheCharacterSheet",props:{sheet:{}},setup(e){return(t,n)=>(w(),A(we,null,[Xv,l("pre",null,j(JSON.stringify(t.sheet,null,2)),1)],64))}}),eb=re({__name:"Checkbox",props:{modelValue:{type:[String,Boolean,Array],required:!0},label:{type:String,required:!1},value:{type:String,required:!1}},setup(e,{emit:t}){const n=e,s=t,r=Z(()=>n.value&&Array.isArray(n.modelValue)?n.modelValue.includes(n.value):n.modelValue);function o(i){if(i.preventDefault(),!(n.value&&Array.isArray(n.modelValue)))return s("update:modelValue",!n.modelValue);n.modelValue.includes(n.value)?n.modelValue.splice(n.modelValue.indexOf(n.value),1):n.modelValue.push(n.value),s("update:modelValue",n.modelValue)}return(i,a)=>{var c;return w(),A("div",{class:me(["checkbox-group",{compact:!((c=e.label)!=null&&c.length),checked:r.value}]),onClick:o},[l("i",{class:me(["fas",r.value?"fa-check-circle":"fa-circle"])},null,2),l("p",null,j(e.label),1)],2)}}}),Fo=le(eb,[["__scopeId","data-v-31c1de5c"]]),on=e=>(Se("data-v-7c0aec2a"),e=e(),xe(),e),tb={class:"edit"},nb={class:"input-group"},sb=on(()=>l("label",{for:"name"},"Name",-1)),rb=on(()=>l("label",{for:"id"},[ue("ID "),l("label",{class:"muted"},"(permanent)")],-1)),ob={class:"input-group stretch"},ib={for:"description"},ab={class:"muted"},lb={class:"input-group"},cb=on(()=>l("label",{for:"maxQuantity"},"Max Quantity",-1)),ub={key:0,class:"row"},fb=on(()=>l("span",null,"Cancel",-1)),db=[fb],hb=on(()=>l("span",null,"New",-1)),pb=[hb],mb={key:1,class:"row"},yb=on(()=>l("i",{class:"fas fa-trash"},null,-1)),gb=on(()=>l("span",null,"Delete",-1)),_b=[yb,gb],vb=on(()=>l("span",null,"Save",-1)),bb=[vb],wb=re({__name:"EditEffectableModal",props:{propertyName:{},effectable:{},onEdit:{type:Function},onDelete:{type:Function},idPrefix:{},onCreateNew:{type:Function}},setup(e){const t=e,n={id:"",name:"",description:"",quantity:0,maxQuantity:1},s=q({...t.effectable||n});function r(c){if(!t.onCreateNew)return;let f=(t.idPrefix||"")+"-"+c;f=f.toLowerCase().replace(/ /g,"-").replace(/[^a-z0-9-]/g,""),s.value.id=f}function o(){t.onCreateNew&&(t.onCreateNew(s.value),G.close())}function i(){t.onEdit(s.value),G.close()}function a(){t.onDelete(s.value.id),G.close()}return(c,f)=>(w(),Pe(ot,null,{header:V(()=>[P(it,{closeButton:""},{default:V(()=>[l("h2",null,j(t.onCreateNew?"Create":"Edit")+" "+j(c.propertyName),1)]),_:1})]),content:V(()=>[l("div",tb,[l("div",nb,[sb,Ge(l("input",{type:"text",id:"name","onUpdate:modelValue":f[0]||(f[0]=u=>s.value.name=u),placeholder:"Enter a memorable name",onInput:f[1]||(f[1]=u=>r(s.value.name))},null,544),[[ze,s.value.name]])]),l("div",{class:me(["input-group",{disabled:!t.onCreateNew}])},[rb,Ge(l("input",{type:"text",id:"id","onUpdate:modelValue":f[2]||(f[2]=u=>s.value.id=u),placeholder:"A hyphenated identifier"},null,512),[[ze,s.value.id]])],2),l("div",ob,[l("label",ib,[ue("Description "),l("label",ab,"("+j(s.value.description.length)+" / 400) ",1)]),Ge(l("textarea",{id:"description","onUpdate:modelValue":f[3]||(f[3]=u=>s.value.description=u),placeholder:"A brief description"},null,512),[[ze,s.value.description]])]),l("div",lb,[cb,Ge(l("input",{type:"number",id:"maxQuantity","onUpdate:modelValue":f[4]||(f[4]=u=>s.value.maxQuantity=u),placeholder:"1, 2, 3..."},null,512),[[ze,s.value.maxQuantity]])]),t.onCreateNew?(w(),A("div",ub,[l("button",{class:"btn btn--alt mobile-full-width",onClick:f[5]||(f[5]=(...u)=>ee(G).close&&ee(G).close(...u))},db),l("button",{class:"btn mobile-full-width",onClick:o},pb)])):(w(),A("div",mb,[l("button",{class:"btn btn--alt mobile-full-width",onClick:a},_b),l("button",{class:"btn mobile-full-width",onClick:i},bb)]))])]),_:1}))}}),qo=le(wb,[["__scopeId","data-v-7c0aec2a"]]),Eb=e=>(Se("data-v-df4f2c54"),e=e(),xe(),e),Cb={class:"header"},kb=Eb(()=>l("i",{class:"fas fa-edit"},null,-1)),Sb=[kb],xb={class:"row selection-bar"},Ab=re({__name:"AbilityTile",props:{ability:{},idPrefix:{},propertyName:{},change:{type:Function},onEdit:{type:Function},onDelete:{type:Function}},setup(e){const t=e,n=q(r(t.ability.quantity));function s(a){let c=n.value;c=c.filter(u=>parseInt(u)<=parseInt(a));const f=Math.max(...c.map(u=>parseInt(u)));c=c.map(u=>parseInt(u)<=f?u:a),n.value=Array.from({length:f},(u,d)=>(d+1).toString()),t.change(f)}function r(a){return Array.from({length:a},(c,f)=>(f+1).toString())}function o(a){t.onEdit(a)}function i(a){t.onDelete(a)}return(a,c)=>(w(),A("div",{class:me(["ability-tile",{active:t.ability.quantity>0}])},[l("div",Cb,[l("h2",null,j(t.ability.name),1),l("button",{class:"btn btn--icon",onClick:c[0]||(c[0]=f=>ee(G).open(qo,{propertyName:a.propertyName,effectable:t.ability,idPrefix:t.idPrefix,onDelete:i,onEdit:o}))},Sb)]),l("div",xb,[(w(!0),A(we,null,Ze(a.ability.maxQuantity,f=>(w(),Pe(Fo,{key:a.ability.id+f,modelValue:n.value,"onUpdate:modelValue":[c[1]||(c[1]=u=>n.value=u),u=>s(f.toString())],value:f.toString()},null,8,["modelValue","value","onUpdate:modelValue"]))),128))]),l("p",null,j(t.ability.description),1)],2))}}),sl=le(Ab,[["__scopeId","data-v-df4f2c54"]]),Tb=re({__name:"CollapsingShelf",props:{show:{type:Boolean}},setup(e){const t=e;return(n,s)=>(w(),A("div",{class:me(["shelf",{show:t.show}])},[ds(n.$slots,"default",{},void 0)],2))}}),lt=le(Tb,[["__scopeId","data-v-5c22fd0d"]]);function $b(e){return Ob(0,e)}function Ob(e,t){return Math.floor(Math.random()*(t-e)+e)}function rl(e){return e[$b(e.length)]}const se=e=>(Se("data-v-8e45505b"),e=e(),xe(),e),Rb={class:"sheet-layout__nested"},Pb={class:"main-and-claims"},Ib={class:"input-group"},Nb=se(()=>l("label",{for:"crew-name"},"Name",-1)),Lb=["value"],Bb=se(()=>l("p",null,"Choose a name for your crew.",-1)),Db={class:"input-group"},Ub=se(()=>l("label",{for:"reputation-type"},"Reputation",-1)),Mb=["value"],Fb=se(()=>l("p",null,"Choose how other underworld factions see you.",-1)),qb={class:"text-list"},jb=["onMousedown"],Hb={class:"input-group"},Vb=se(()=>l("label",{for:"crew-lair"},"Lair",-1)),Wb=["value"],Kb=se(()=>l("p",null,"What does your lair look like?",-1)),Qb=se(()=>l("i",{class:"fas fa-random"},null,-1)),Gb=se(()=>l("span",null,"Randomize",-1)),zb=[Qb,Gb],Yb={class:"input-group"},Jb=se(()=>l("label",{for:"crew-lair-district"},"District",-1)),Xb=["value"],Zb=se(()=>l("p",null,"Where is your lair located?",-1)),ew={class:"text-list"},tw=["onMousedown"],nw={class:"input-block"},sw={class:"input-group"},rw=se(()=>l("label",{for:"crew-rep"},"Rep",-1)),ow=["value"],iw=se(()=>l("p",null,"How much rep does your crew have?",-1)),aw={class:"input-group"},lw=se(()=>l("label",{for:"crew-turf"},"Turf",-1)),cw=["value"],uw=se(()=>l("p",null,"How much turf does your crew control?",-1)),fw={class:"input-block"},dw={class:"input-group"},hw=se(()=>l("label",{for:"crew-hold"},"Hold",-1)),pw={class:"row"},mw=se(()=>l("p",null,"How strong is your crew's hold on its turf?",-1)),yw={class:"input-group"},gw=se(()=>l("label",{for:"crew-tier"},"Tier",-1)),_w=["value"],vw=se(()=>l("p",null,"What tier is your crew?",-1)),bw=se(()=>l("section",null,[l("span",null,"CLAIMS (TODO)")],-1)),ww={class:"input-block"},Ew={class:"input-group"},Cw=se(()=>l("label",{for:"crew-heat"},"Heat",-1)),kw=["value"],Sw=se(()=>l("p",null,"How much heat is your crew generating?",-1)),xw={class:"input-group"},Aw=se(()=>l("label",{for:"crew-wanted-level"},"Wanted Level",-1)),Tw=["value"],$w=se(()=>l("p",null,"How much attention is the law giving your crew?",-1)),Ow={class:"input-block"},Rw={class:"input-group"},Pw=se(()=>l("label",{for:"crew-coin"},"Coin",-1)),Iw=["value"],Nw=se(()=>l("p",null,"How much coin does your crew have squirreled away?",-1)),Lw={class:"input-group"},Bw=se(()=>l("label",{for:"crew-vaults"},"Vaults",-1)),Dw=["value"],Uw=se(()=>l("p",null," Vaults represent the storage capacity for your crew's coin. ",-1)),Mw={class:"abilities-xp-and-contacts"},Fw=se(()=>l("label",{for:"crew-abilities"},"Special Abilities",-1)),qw={class:"row"},jw=se(()=>l("span",null,"New",-1)),Hw=[jw],Vw={key:0},Ww=se(()=>l("em",null," No special abilities selected.",-1)),Kw=[Ww],Qw={class:"input-group"},Gw=se(()=>l("label",{for:"crew-xp"},"Crew XP",-1)),zw=["value"],Yw=se(()=>l("p",null,"How much experience has your crew accumulated?",-1)),Jw=se(()=>l("section",null,[l("span",null,"CONTACTS (TODO)")],-1)),Xw={class:"upgrades-and-cohorts"},Zw=se(()=>l("label",{for:"crew-upgrades"},"Upgrades",-1)),e1={class:"row"},t1=se(()=>l("span",null,"New",-1)),n1=[t1],s1=se(()=>l("section",null,[l("span",null,"COHORTS (TODO)")],-1)),r1={class:"row center mobile-nav"},o1=se(()=>l("i",{class:"fas fa-file-alt"},null,-1)),i1=se(()=>l("i",{class:"fas fa-file-alt"},null,-1)),a1=se(()=>l("i",{class:"fas fa-file-alt"},null,-1)),l1=re({__name:"TheCrewSheet",props:{sheet:{}},setup(e){var Ae;const t=(Ae=Me().game)==null?void 0:Ae.codex;qn(()=>{document.addEventListener("blur",n,!0)}),oi(()=>{document.removeEventListener("blur",n,!0)});function n(N){i.value=null}const s=e,r=q(0),o=q(null),i=q();function a(N,b){console.log("onChangeValue",N,b);const x=`/data/sheets/${s.sheet.id}/${b}`;st([{op:"replace",path:x,value:N}])}function c(N){const b=Math.round(N.scrollLeft/N.clientWidth);r.value=b}function f(N){o.value&&o.value.scrollTo({left:o.value.clientWidth*N,top:0,behavior:"smooth"})}function u(){const N=t.sheets.crew.lairs,{name:b,districts:x}=rl(N),B=rl(x);a(b,"lair"),a(B,"lairDistrict")}function d(N,b){const x=s.sheet.specialAbilities.findIndex(Fe=>Fe.id===N.id),B=`/data/sheets/${s.sheet.id}/specialAbilities/${x}/quantity`;st([{op:"replace",path:B,value:b}])}const h=q(!1),y=Z(()=>h.value?s.sheet.crewUpgrades.filter(N=>N.quantity>0):s.sheet.crewUpgrades);Z(()=>h.value?s.sheet.lairUpgrades.filter(N=>N.quantity>0):s.sheet.lairUpgrades),Z(()=>h.value?s.sheet.trainingUpgrades.filter(N=>N.quantity>0):s.sheet.trainingUpgrades),Z(()=>h.value?s.sheet.qualityUpgrades.filter(N=>N.quantity>0):s.sheet.qualityUpgrades);function g(N,b){const x=s.sheet.crewUpgrades.findIndex(B=>B.id===N.id);st([{op:"replace",path:`/data/sheets/${s.sheet.id}/${b}Upgrades/${x}`,value:N}])}function _(N,b){const x=s.sheet.crewUpgrades.findIndex(B=>B.id===N);st([{op:"remove",path:`/data/sheets/${s.sheet.id}/${b}Upgrades/${x}`}])}function $(N,b,x){const B=s.sheet.crewUpgrades.findIndex(et=>et.id===N.id),Fe=`/data/sheets/${s.sheet.id}/${x}Upgrades/${B}/quantity`;st([{op:"replace",path:Fe,value:b}])}function L(N,b){st([{op:"add",path:`/data/sheets/${s.sheet.id}/${b}Upgrades/-`,value:N}])}const H=q(!1),K=Z(()=>H.value?s.sheet.specialAbilities.filter(N=>N.quantity>0):s.sheet.specialAbilities);function oe(N){const b=s.sheet.specialAbilities.findIndex(x=>x.id===N.id);st([{op:"replace",path:`/data/sheets/${s.sheet.id}/specialAbilities/${b}`,value:N}])}function fe(N){const b=s.sheet.specialAbilities.findIndex(x=>x.id===N);st([{op:"remove",path:`/data/sheets/${s.sheet.id}/specialAbilities/${b}`}])}function J(N){st([{op:"add",path:`/data/sheets/${s.sheet.id}/specialAbilities/-`,value:N}])}return(N,b)=>(w(),A("div",Rb,[l("div",{class:"crew-layout",ref_key:"carouselRef",ref:o,onScroll:b[30]||(b[30]=x=>c(x.target))},[l("div",Pb,[l("section",null,[l("div",Ib,[Nb,l("input",{id:"crew-name",type:"text",value:s.sheet.name,onFocus:b[0]||(b[0]=x=>i.value="name"),onChange:b[1]||(b[1]=x=>{var B;return a((B=x.target)==null?void 0:B.value,"name")})},null,40,Lb),P(lt,{show:i.value=="name"},{default:V(()=>[Bb]),_:1},8,["show"])]),l("div",Db,[Ub,l("input",{id:"reputation-type",type:"text",value:s.sheet.reputationType,onFocus:b[2]||(b[2]=x=>i.value="reputation-type"),onChange:b[3]||(b[3]=x=>{var B;return a((B=x.target)==null?void 0:B.value,"reputationType")})},null,40,Mb),P(lt,{show:i.value=="reputation-type"},{default:V(()=>[Fb,l("div",qb,[(w(!0),A(we,null,Ze(ee(t).sheets.crew.reputations,x=>(w(),A("button",{class:"btn btn--text",onMousedown:B=>a(x,"reputationType")},j(x),41,jb))),256))])]),_:1},8,["show"])]),P(Ke),l("div",Hb,[Vb,l("input",{id:"crew-lair",type:"text",value:s.sheet.lair,onFocus:b[4]||(b[4]=x=>i.value="lair"),onChange:b[5]||(b[5]=x=>{var B;return a((B=x.target)==null?void 0:B.value,"lair")})},null,40,Wb),P(lt,{show:i.value=="lair"},{default:V(()=>[Kb,l("button",{class:"btn btn--icon",onMousedown:u},zb,32)]),_:1},8,["show"]),l("div",Yb,[Jb,l("input",{id:"crew-lair-district",type:"text",value:s.sheet.lairDistrict,onFocus:b[6]||(b[6]=x=>i.value="lair-district"),onChange:b[7]||(b[7]=x=>{var B;return a((B=x.target)==null?void 0:B.value,"lair-district")})},null,40,Xb),P(lt,{show:i.value=="lair-district"},{default:V(()=>[Zb,l("div",ew,[(w(!0),A(we,null,Ze(ee(t).lexicon.districts.map(x=>x.name),x=>(w(),A("button",{class:"btn btn--text",key:x,onMousedown:B=>a(x,"lairDistrict")},j(x),41,tw))),128))])]),_:1},8,["show"])])])]),P(Ke),l("section",null,[l("div",nw,[l("div",sw,[rw,l("input",{id:"crew-rep",type:"number",pattern:"[0-9]*",value:s.sheet.reputation,onFocus:b[8]||(b[8]=x=>i.value="reputation"),onChange:b[9]||(b[9]=x=>{var B;return a((B=x.target)==null?void 0:B.value,"reputation")})},null,40,ow),P(lt,{show:i.value=="reputation"},{default:V(()=>[iw]),_:1},8,["show"])]),l("div",aw,[lw,l("input",{id:"crew-turf",type:"number",pattern:"[0-9]*",value:s.sheet.turf,onFocus:b[10]||(b[10]=x=>i.value="turf"),onChange:b[11]||(b[11]=x=>{var B;return a((B=x.target)==null?void 0:B.value,"turf")})},null,40,cw),P(lt,{show:i.value=="turf"},{default:V(()=>[uw]),_:1},8,["show"])])]),l("div",fw,[l("div",dw,[hw,l("div",pw,[l("button",{class:me(["btn btn--tab",{active:s.sheet.hold=="weak"}]),onClick:b[12]||(b[12]=x=>a("weak","hold"))}," Weak ",2),l("button",{class:me(["btn btn--tab",{active:s.sheet.hold=="strong"}]),onClick:b[13]||(b[13]=x=>a("strong","hold"))}," Strong ",2)]),P(lt,{show:i.value=="hold"},{default:V(()=>[mw]),_:1},8,["show"])]),l("div",yw,[gw,l("input",{id:"crew-tier",type:"number",pattern:"[0-9]*",value:s.sheet.tier,onFocus:b[14]||(b[14]=x=>i.value="tier"),onChange:b[15]||(b[15]=x=>{var B;return a((B=x.target)==null?void 0:B.value,"tier")})},null,40,_w),P(lt,{show:i.value=="tier"},{default:V(()=>[vw]),_:1},8,["show"])])])]),P(Ke),bw,P(Ke),l("section",null,[l("div",ww,[l("div",Ew,[Cw,l("input",{id:"crew-heat",type:"number",pattern:"[0-9]*",value:s.sheet.heat,onFocus:b[16]||(b[16]=x=>i.value="heat"),onChange:b[17]||(b[17]=x=>{var B;return a((B=x.target)==null?void 0:B.value,"heat")})},null,40,kw),P(lt,{show:i.value=="heat"},{default:V(()=>[Sw]),_:1},8,["show"])]),l("div",xw,[Aw,l("input",{id:"crew-wanted-level",type:"number",pattern:"[0-9]*",value:s.sheet.wantedLevel,onFocus:b[18]||(b[18]=x=>i.value="wanted-level"),onChange:b[19]||(b[19]=x=>{var B;return a((B=x.target)==null?void 0:B.value,"wantedLevel")})},null,40,Tw),P(lt,{show:i.value=="wanted-level"},{default:V(()=>[$w]),_:1},8,["show"])])]),l("div",Ow,[l("div",Rw,[Pw,l("input",{id:"crew-coin",type:"number",pattern:"[0-9]*",value:s.sheet.coin,onFocus:b[20]||(b[20]=x=>i.value="coin"),onChange:b[21]||(b[21]=x=>{var B;return a((B=x.target)==null?void 0:B.value,"coin")})},null,40,Iw),P(lt,{show:i.value=="coin"},{default:V(()=>[Nw]),_:1},8,["show"])]),l("div",Lw,[Bw,l("input",{id:"crew-vaults",type:"number",pattern:"[0-9]*",value:s.sheet.vaults,onFocus:b[22]||(b[22]=x=>i.value="vaults"),onChange:b[23]||(b[23]=x=>{var B;return a((B=x.target)==null?void 0:B.value,"vaults")})},null,40,Dw),P(lt,{show:i.value=="vaults"},{default:V(()=>[Uw]),_:1},8,["show"])])])])]),l("div",Mw,[l("section",null,[Fw,l("div",qw,[l("button",{class:"btn",onClick:b[24]||(b[24]=x=>ee(G).open(qo,{propertyName:"Special Ability",idPrefix:N.sheet.crewType,onCreateNew:J}))},Hw),P(Fo,{modelValue:H.value,"onUpdate:modelValue":b[25]||(b[25]=x=>H.value=x),label:"Show only selected"},null,8,["modelValue"])]),(w(!0),A(we,null,Ze(K.value,x=>(w(),Pe(sl,{key:x.id,ability:x,idPrefix:s.sheet.crewType,propertyName:"Special Ability",change:B=>d(x,B),onEdit:oe,onDelete:fe},null,8,["ability","idPrefix","change"]))),128)),K.value.length==0?(w(),A("p",Vw,Kw)):ne("",!0)]),P(Ke),l("section",null,[l("div",Qw,[Gw,l("input",{id:"crew-xp",type:"number",pattern:"[0-9]*",value:s.sheet.crewExperience,onFocus:b[26]||(b[26]=x=>i.value="xp"),onChange:b[27]||(b[27]=x=>{var B;return a((B=x.target)==null?void 0:B.value,"xp")})},null,40,zw),P(lt,{show:i.value=="xp"},{default:V(()=>[Yw]),_:1},8,["show"])])]),P(Ke),Jw]),l("div",Xw,[l("section",null,[Zw,l("div",e1,[l("button",{class:"btn",onClick:b[28]||(b[28]=x=>ee(G).open(qo,{propertyName:"Upgrade",idPrefix:N.sheet.crewType+"-upgrade",onCreateNew:B=>L(B,"crew")}))},n1),P(Fo,{modelValue:h.value,"onUpdate:modelValue":b[29]||(b[29]=x=>h.value=x),label:"Show only selected"},null,8,["modelValue"])]),(w(!0),A(we,null,Ze(y.value,x=>(w(),Pe(sl,{key:x.id,ability:x,idPrefix:s.sheet.crewType+"-upgrade",propertyName:"Upgrade",change:B=>{$(x,B,"crew")},onEdit:B=>{g(B,"crew")},onDelete:B=>_(B,"crew")},null,8,["ability","idPrefix","change","onEdit","onDelete"]))),128))]),P(Ke),s1])],544),l("div",r1,[l("button",{class:me(["btn btn--tab",{active:r.value==0}]),onClick:b[31]||(b[31]=x=>f(0))},[ue(" 1 "),o1],2),l("button",{class:me(["btn btn--tab",{active:r.value==1}]),onClick:b[32]||(b[32]=x=>f(1))},[ue(" 2 "),i1],2),l("button",{class:me(["btn btn--tab",{active:r.value==2}]),onClick:b[33]||(b[33]=x=>f(2))},[ue(" 3 "),a1],2)])]))}}),c1=le(l1,[["__scopeId","data-v-8e45505b"]]),qt=e=>(Se("data-v-64a4bb98"),e=e(),xe(),e),u1={class:"page"},f1={class:"controls"},d1={key:0,class:"row center"},h1=["onClick"],p1={key:1,class:"row sheet-controls"},m1=qt(()=>l("i",{class:"fas fa-arrow-left"},null,-1)),y1=qt(()=>l("span",{class:"mobile-hidden"},"Back",-1)),g1=[m1,y1],_1={class:"breadcrumbs"},v1=qt(()=>l("span",{class:"mobile-hidden"},"Sheets",-1)),b1=qt(()=>l("i",{class:"fas fa-angle-right"},null,-1)),w1=qt(()=>l("i",{class:"fas fa-trash"},null,-1)),E1=qt(()=>l("span",{class:"mobile-hidden"},"Delete",-1)),C1=[w1,E1],k1={key:0,class:"sheet-layout"},S1={key:1,class:"sheet-select-layout"},x1={key:0,class:"sheet-list"},A1=qt(()=>l("i",{class:"fas fa-folder-plus"},null,-1)),T1={key:1,class:"sheet-list"},$1=qt(()=>l("i",{class:"fas fa-folder-plus"},null,-1)),O1=qt(()=>l("i",{class:"fas fa-cogs"},null,-1)),R1=[O1],P1={key:1,class:"model-overlay"},I1=re({__name:"TheGamePage",setup(e){const t=Eu(),n=q("crew"),s=Z(()=>{var d,h;return Object.values(((h=(d=Me().game)==null?void 0:d.data)==null?void 0:h.sheets)||[])}),r=Z(()=>s.value.filter(d=>d.sheetType==="crew")),o=Z(()=>s.value.filter(d=>d.sheetType==="character")),i=q(null),a=q(!1);qn(()=>{const d=t.params.id;Jm(d)});function c(){G.open(Bv,{sheetType:n.value,templateTypeKey:"crewType",templates:Jv(n.value),onConfirm:f})}function f(d,h){var y,g;if(!h)return console.error("Sheet not found");(g=(y=Me().game)==null?void 0:y.data)!=null&&g.sheets?st([{op:"add",path:`/data/sheets/${h.id}`,value:h}]):st([{op:"replace",path:"/data",value:{sheets:{[h.id]:h}}}])}function u(){i.value&&G.open(xi,{title:"Delete Sheet",message:`Are you sure you want to delete <em>${i.value.name}</em> ${i.value.sheetType} sheet?`,confirmText:"Yes, delete it",onConfirm:()=>{var d;st([{op:"remove",path:`/data/sheets/${(d=i.value)==null?void 0:d.id}`}]),i.value=null,G.close()}})}return(d,h)=>{var y,g;return w(),A(we,null,[l("div",u1,[l("div",f1,[i.value?(w(),A("div",p1,[l("button",{class:"btn btn--icon",onClick:h[0]||(h[0]=_=>i.value=null)},g1),l("h2",_1,[l("span",null,[l("span",null,j(i.value.sheetType),1),v1]),b1,l("span",null,j(i.value.name),1)]),l("button",{class:"btn btn--icon delete",onClick:u},C1)])):(w(),A("div",d1,[(w(),A(we,null,Ze(["crew","character"],_=>l("button",{class:me(["btn btn--tab",{active:n.value===_}]),onClick:$=>n.value=_},[l("span",null,j(_)+" Sheets",1)],10,h1)),64))]))]),i.value?(w(),A("div",k1,[((y=i.value)==null?void 0:y.sheetType)==="crew"?(w(),Pe(c1,{key:0,sheet:i.value},null,8,["sheet"])):ne("",!0),((g=i.value)==null?void 0:g.sheetType)==="character"?(w(),Pe(Zv,{key:1,sheet:i.value},null,8,["sheet"])):ne("",!0)])):(w(),A("div",S1,[n.value==="crew"?(w(),A("ul",x1,[(w(!0),A(we,null,Ze(r.value,_=>(w(),A("li",{key:_.id},[P(tl,{sheet:_,onClick:$=>i.value=_},null,8,["sheet","onClick"])]))),128)),l("li",null,[l("div",{class:"new-sheet-card",onClick:c},[A1,l("span",null,"New "+j(n.value),1)])])])):n.value==="character"?(w(),A("ul",T1,[(w(!0),A(we,null,Ze(o.value,_=>(w(),A("li",{key:_.id},[P(tl,{sheet:_,onClick:$=>i.value=_},null,8,["sheet","onClick"])]))),128)),l("li",null,[l("div",{class:"new-sheet-card",onClick:c},[$1,l("span",null,"New "+j(n.value),1)])])])):ne("",!0),P(Sv,{class:"mobile-hidden"})]))]),a.value?ne("",!0):(w(),A("button",{key:0,class:"btn btn--icon debug",onClick:h[1]||(h[1]=_=>a.value=!0)},R1)),a.value?(w(),A("div",P1,[l("pre",null,j(JSON.stringify(ee(Me)().game,null,2)),1),l("button",{class:"btn debug btn",onClick:h[2]||(h[2]=_=>a.value=!1)}," Close ")])):ne("",!0)],64)}}}),N1=le(I1,[["__scopeId","data-v-64a4bb98"]]),L1=q();var jo=(e=>(e.HOME="home",e.GAMES="games",e.GAME="game",e.INVITE="invite",e.SETTINGS="settings",e.LOST="lost",e))(jo||{});const B1=[{path:"/",components:{page:Zg},name:"home"},{path:"/game/:id",components:{page:N1},name:"game"},{path:"/invite/:code",components:{page:cv},name:"invite"},{path:"/:pathMatch(.*)*",components:{page:pv},name:"lost"}],D1={history:N_(),routes:B1},Pt=ov(D1);Pt.afterEach(async(e,t)=>{});Pt.beforeEach(async(e,t,n)=>{Xm(),G.open(ws,{backgroundClass:"opaque"}),Ye().refreshToken&&!Ye().accessToken&&await Vc(),ge().id||(console.log("@index.ts: fetchMyAccount() because no user id"),await Wn()),(!Ye().refreshToken||!ge().id)&&await Su(),G.close(),L1.value=e.name,n()});async function Su(){try{const e=await He.post("/account/create-guest");return e.data.refreshToken&&(Ye().storeRefreshToken(e.data.refreshToken),Ye().accessToken=e.data.accessToken,console.log("@account.ts: fetchMyAccount() because of createGuest"),await Wn()),e.data}catch{return null}}async function U1(e,t){var n;try{const r=!e||!t?{}:{username:e,password:t};console.log("registerAccount payload:",r);const o=await He.post("/account/create",r);return console.log("response:",o),o.status!==Ft.Ok?o.data:(console.log("@account.ts: fetchMyAccount() because of registerAccount"),await Wn(),null)}catch(s){return(n=s==null?void 0:s.response)==null?void 0:n.data}}async function M1(e,t){var n;try{const s=await He.post("/account/login",{username:e,password:t});return s.data.refreshToken&&(Ye().storeRefreshToken(s.data.refreshToken),Ye().accessToken=s.data.accessToken,console.log("@account.ts: fetchMyAccount() because of login"),await Wn()),s.data}catch(s){return(n=s==null?void 0:s.response)==null?void 0:n.data}}async function Wn(){try{const e=await He.get("/account/me");return e.data?(ge().id=e.data.id,ge().username=e.data.username,ge().isGuest=e.data.isGuest,ge().portrait=e.data.portrait,ge().games=e.data.games,e.data):null}catch{return null}}async function Ai(){Ye().clear(),ge().clear(),Me().clear(),Pt.push("/"),G.open(ws),await Su(),G.close()}async function F1(e){var t;try{const n=await He.delete("/account/me",{data:{password:e}});return n.status!==Ft.Ok?n.data:null}catch(n){return(t=n==null?void 0:n.response)==null?void 0:t.data}}async function q1(e){var t;try{const n=await He.put("/account/username",{newUsername:e});return n.status!==Ft.Ok?n.data:(ge().username=e,null)}catch(n){return(t=n==null?void 0:n.response)==null?void 0:t.data}}async function j1(e,t){var n;try{const s=await He.put("/account/password",{password:e,newPassword:t});return s.status!==Ft.Ok?s.data:null}catch(s){return(n=s==null?void 0:s.response)==null?void 0:n.data}}async function H1(e){var t;try{const n=await He.put("/account/portrait",{portraitId:e});return n.status!==Ft.Ok?n.data:(ge().portrait=e,null)}catch(n){return(t=n==null?void 0:n.response)==null?void 0:t.data}}let Xr;async function V1(){return Xr||(Xr=(await He.get("/version")).data),Xr}const W1=e=>(Se("data-v-53a78928"),e=e(),xe(),e),K1={class:"info"},Q1=["innerHTML"],G1=W1(()=>l("span",null,"Okay",-1)),z1=[G1],Y1=re({__name:"InfoModal",props:{title:{},message:{}},setup(e){const t=e;return(n,s)=>(w(),Pe(ot,null,{header:V(()=>[P(it,null,{default:V(()=>[l("h2",null,j(t.title),1)]),_:1})]),content:V(()=>[l("div",K1,[l("p",{innerHTML:t.message},null,8,Q1),l("button",{class:"btn mobile-full-width",onClick:s[0]||(s[0]=(...r)=>ee(G).close&&ee(G).close(...r))},z1)])]),_:1}))}}),xu=le(Y1,[["__scopeId","data-v-53a78928"]]),jt=e=>(Se("data-v-fd8ada18"),e=e(),xe(),e),J1=jt(()=>l("h2",null,"Change Password",-1)),X1={class:"change-password"},Z1=jt(()=>l("p",null,[ue("Choose a new "),l("em",null,"password"),ue(" for your account.")],-1)),e0=jt(()=>l("p",{class:"muted"}," Your new password should be at least 8 characters long. ",-1)),t0={class:"inputs"},n0={class:"input-group"},s0=jt(()=>l("label",{for:"password"},"Current Password",-1)),r0={key:0,class:"reminder shake-once"},o0={class:"input-group"},i0=jt(()=>l("label",{for:"password"},"New Password",-1)),a0={key:0,class:"reminder shake-once"},l0={class:"input-group"},c0=jt(()=>l("label",{for:"confirm-password"},"Confirm New Password",-1)),u0={key:0,class:"reminder shake-once"},f0={key:0,class:"alert"},d0=jt(()=>l("i",{class:"fas fa-exclamation-circle"},null,-1)),h0=jt(()=>l("i",{class:"fas fa-times"},null,-1)),p0=[h0],m0={class:"row center"},y0={key:0,class:"fas fa-circle-notch fa-spin"},g0=jt(()=>l("span",null,"Change Password",-1)),_0=re({__name:"ChangePasswordModal",setup(e){const t=q(""),n=q(!1),s=q(""),r=q(!1),o=Z(()=>a.value&&i.value.length===0?"Enter your current password":null),i=q(""),a=q(!1),c=Z(()=>a.value?i.value.length===0?"Come up with something clever":i.value.length<8?"Must be at least 8 characters":i.value.length>64?"Can't be more than 64 characters":null:null),f=q(""),u=q(!1),d=Z(()=>u.value?f.value.length===0?"Your new password again":i.value!==f.value?"Passwords don't match":null:null);async function h(){if(!r.value||!a.value||!u.value||o.value||c.value||d.value){r.value=!0,a.value=!0,u.value=!0,document.querySelectorAll(".reminder").forEach(_=>{_.classList.remove("shake-once"),_.offsetWidth,_.classList.add("shake-once")});return}n.value=!0,t.value="";const y=await j1(s.value,i.value);n.value=!1,y?t.value=y:G.open(xu,{title:"Success",message:"Your password has been changed successfully."})}return(y,g)=>(w(),Pe(ot,{class:me({disabled:n.value})},{header:V(()=>[P(it,{closeButton:""},{default:V(()=>[J1]),_:1})]),content:V(()=>[l("div",X1,[Z1,e0,l("div",t0,[l("div",n0,[s0,Ge(l("input",{type:"password",onInput:g[0]||(g[0]=_=>r.value=!0),placeholder:"Your current password","onUpdate:modelValue":g[1]||(g[1]=_=>s.value=_)},null,544),[[ze,s.value]]),o.value?(w(),A("span",r0,j(o.value),1)):ne("",!0)]),l("div",o0,[i0,Ge(l("input",{type:"password",onInput:g[2]||(g[2]=_=>a.value=!0),placeholder:"Create a new password","onUpdate:modelValue":g[3]||(g[3]=_=>i.value=_)},null,544),[[ze,i.value]]),c.value?(w(),A("span",a0,j(c.value),1)):ne("",!0)]),l("div",l0,[c0,Ge(l("input",{type:"password",onInput:g[4]||(g[4]=_=>u.value=!0),onKeyup:bs(h,["enter"]),placeholder:"Confirm your new password","onUpdate:modelValue":g[5]||(g[5]=_=>f.value=_)},null,544),[[ze,f.value]]),d.value?(w(),A("span",u0,j(d.value),1)):ne("",!0)])]),t.value?(w(),A("div",f0,[d0,l("span",null,j(t.value),1),l("button",{class:"btn btn--icon close",onClick:g[6]||(g[6]=_=>t.value="")},p0)])):ne("",!0),l("div",m0,[l("button",{class:"btn mobile-full-width",onClick:h},[n.value?(w(),A("i",y0)):ne("",!0),g0])])])]),_:1},8,["class"]))}}),v0=le(_0,[["__scopeId","data-v-fd8ada18"]]),Kn=e=>(Se("data-v-af22bc65"),e=e(),xe(),e),b0=Kn(()=>l("h2",null,"Change Username",-1)),w0={class:"change-username"},E0=Kn(()=>l("p",null,[ue("Choose a new "),l("em",null,"username"),ue(" for your account.")],-1)),C0={class:"muted"},k0={class:"inputs"},S0={class:"input-group"},x0=Kn(()=>l("label",{for:"username"},"New Username",-1)),A0={key:0,class:"reminder shake-once"},T0={key:0,class:"alert"},$0=Kn(()=>l("i",{class:"fas fa-exclamation-circle"},null,-1)),O0=Kn(()=>l("i",{class:"fas fa-times"},null,-1)),R0=[O0],P0={class:"row center"},I0={key:0,class:"fas fa-circle-notch fa-spin"},N0=Kn(()=>l("span",null,"Change Username",-1)),L0=re({__name:"ChangeUsernameModal",setup(e){const t=q(""),n=q(!1),s=q(""),r=q(!1),o=Z(()=>r.value?s.value.length===0?"What should we call you?":s.value.length<3?"Must be at least 3 characters":s.value.length>24?"Must have no more than 16 characters":/^[a-zA-Z0-9]+$/.test(s.value)?null:"Letters and numbers only":null);async function i(){if(!r.value||o.value){r.value=!0,document.querySelectorAll(".reminder").forEach(f=>{f.classList.remove("shake-once"),f.offsetWidth,f.classList.add("shake-once")});return}n.value=!0,t.value="";const a=await q1(s.value);n.value=!1,a?t.value=a:G.open(xu,{title:"Success",message:`Username has been changed successfully. Your username is now <em>${s.value}</em>.`})}return(a,c)=>(w(),Pe(ot,{class:me({disabled:n.value})},{header:V(()=>[P(it,{closeButton:""},{default:V(()=>[b0]),_:1})]),content:V(()=>[l("div",w0,[E0,l("p",C0,[ue(" Your current username is "),l("em",null,j(ee(ge)().username),1),ue(". ")]),l("div",k0,[l("div",S0,[x0,Ge(l("input",{type:"text",onInput:c[0]||(c[0]=f=>r.value=!0),onKeydown:bs(i,["enter"]),placeholder:"Enter a new username","onUpdate:modelValue":c[1]||(c[1]=f=>s.value=f)},null,544),[[ze,s.value]]),o.value?(w(),A("span",A0,j(o.value),1)):ne("",!0)])]),t.value?(w(),A("div",T0,[$0,l("span",null,j(t.value),1),l("button",{class:"btn btn--icon close",onClick:c[2]||(c[2]=f=>t.value="")},R0)])):ne("",!0),l("div",P0,[l("button",{class:"btn mobile-full-width",onClick:i},[n.value?(w(),A("i",I0)):ne("",!0),N0])])])]),_:1},8,["class"]))}}),B0=le(L0,[["__scopeId","data-v-af22bc65"]]),an=e=>(Se("data-v-0286b377"),e=e(),xe(),e),D0=an(()=>l("h2",null,"Delete Account",-1)),U0={class:"confirm"},M0=an(()=>l("p",null,[ue(" This action is "),l("em",null,"irreversible"),ue(". All data related to your account will be "),l("em",null,"lost"),ue(". Are you sure you want to continue and delete your account? ")],-1)),F0={class:"input-group"},q0=an(()=>l("label",{for:"password"},"Password",-1)),j0={key:0,class:"alert"},H0=an(()=>l("i",{class:"fas fa-exclamation-circle"},null,-1)),V0=an(()=>l("i",{class:"fas fa-times"},null,-1)),W0=[V0],K0={class:"column center"},Q0=an(()=>l("span",null,"No, I want to keep my account",-1)),G0=[Q0],z0=an(()=>l("span",{class:"muted"},"or",-1)),Y0=an(()=>l("span",null,"Yes, I want to delete my account",-1)),J0=[Y0],X0=re({__name:"ConfirmDeleteAccountModal",setup(e){const t=q(""),n=q(""),s=q(!1);async function r(){s.value=!0,n.value="",n.value=await F1(t.value),n.value||(G.close(),Ai()),s.value=!1}return(o,i)=>(w(),Pe(ot,{disabled:s.value},{header:V(()=>[P(it,{closeButton:""},{default:V(()=>[D0]),_:1})]),content:V(()=>[l("div",U0,[M0,l("div",F0,[q0,Ge(l("input",{id:"password",type:"password",placeholder:"Enter your password","onUpdate:modelValue":i[0]||(i[0]=a=>t.value=a)},null,512),[[ze,t.value]])]),n.value?(w(),A("div",j0,[H0,l("span",null,j(n.value),1),l("button",{class:"btn btn--icon close",onClick:i[1]||(i[1]=a=>n.value="")},W0)])):ne("",!0),P(Ke),l("div",K0,[l("button",{class:"btn",onClick:i[2]||(i[2]=a=>ee(G).close())},G0),z0,l("button",{class:me(["btn btn--text",{disabled:!t.value}]),onClick:r},J0,2)])])]),_:1},8,["disabled"]))}}),Z0=le(X0,[["__scopeId","data-v-0286b377"]]),ln=e=>(Se("data-v-497ae5b4"),e=e(),xe(),e),eE=ln(()=>l("h2",null,"Login",-1)),tE={class:"login"},nE=ln(()=>l("p",null,[ue("Enter your "),l("em",null,"username"),ue(" and "),l("em",null,"password"),ue(".")],-1)),sE={class:"inputs"},rE={class:"input-group"},oE=ln(()=>l("label",{for:"username"},"Username",-1)),iE={key:0,class:"reminder shake-once"},aE={class:"input-group"},lE=ln(()=>l("label",{for:"password"},"Password",-1)),cE={key:0,class:"reminder shake-once"},uE={key:0,class:"alert"},fE=ln(()=>l("i",{class:"fas fa-exclamation-circle"},null,-1)),dE=ln(()=>l("i",{class:"fas fa-times"},null,-1)),hE=[dE],pE={class:"row center"},mE={key:0,class:"fas fa-circle-notch fa-spin"},yE=ln(()=>l("span",null,"Login",-1)),gE=ln(()=>l("p",null,"Don't have an account?",-1)),_E=re({__name:"LoginModal",setup(e){const t=q(""),n=q(!1),s=q(""),r=q(!1),o=Z(()=>r.value&&s.value.length===0?"Your username, please":null),i=q(""),a=q(!1),c=Z(()=>a.value&&i.value.length===0?"Did you forget something?":null),f=Z(()=>s.value.length>0&&i.value.length>0);async function u(){if(!f.value&&(!r.value||!a||o.value||c.value)){r.value=!0,a.value=!0,document.querySelectorAll(".reminder").forEach(g=>{g.classList.remove("shake-once"),g.offsetWidth,g.classList.add("shake-once")});return}n.value=!0,t.value="";const h=await M1(s.value,i.value);n.value=!1,h.refreshToken?G.close():t.value=h}function d(){G.open(Tu)}return(h,y)=>(w(),Pe(ot,{class:me({disabled:n.value})},{header:V(()=>[P(it,{closeButton:""},{default:V(()=>[eE]),_:1})]),content:V(()=>[l("div",tE,[nE,l("div",sE,[l("div",rE,[oE,Ge(l("input",{type:"text",onInput:y[0]||(y[0]=g=>r.value=!0),placeholder:"Enter a username","onUpdate:modelValue":y[1]||(y[1]=g=>s.value=g)},null,544),[[ze,s.value]]),o.value?(w(),A("span",iE,j(o.value),1)):ne("",!0)]),l("div",aE,[lE,Ge(l("input",{type:"password",onInput:y[2]||(y[2]=g=>a.value=!0),onKeyup:bs(u,["enter"]),placeholder:"Create a password","onUpdate:modelValue":y[3]||(y[3]=g=>i.value=g)},null,544),[[ze,i.value]]),c.value?(w(),A("span",cE,j(c.value),1)):ne("",!0)])]),t.value?(w(),A("div",uE,[fE,l("span",null,j(t.value),1),l("button",{class:"btn btn--icon close",onClick:y[4]||(y[4]=g=>t.value="")},hE)])):ne("",!0),l("div",pE,[l("button",{class:"btn mobile-full-width",onClick:u},[n.value?(w(),A("i",mE)):ne("",!0),yE])]),l("div",{class:"row center"},[gE,l("button",{class:"btn btn--text",onClick:d}," Register ")])])]),_:1},8,["class"]))}}),Au=le(_E,[["__scopeId","data-v-497ae5b4"]]),Ht=e=>(Se("data-v-bb068875"),e=e(),xe(),e),vE=Ht(()=>l("h2",null,"Register your Account",-1)),bE={class:"create-account"},wE=Ht(()=>l("p",null,[ue(" Choose a "),l("em",null,"username"),ue(" and "),l("em",null,"password"),ue(" to register your account. ")],-1)),EE={class:"inputs"},CE={class:"input-group"},kE=Ht(()=>l("label",{for:"username"},"Username",-1)),SE={key:0,class:"reminder shake-once"},xE={class:"input-group"},AE=Ht(()=>l("label",{for:"password"},"Password",-1)),TE={key:0,class:"reminder shake-once"},$E={class:"input-group"},OE=Ht(()=>l("label",{for:"confirm-password"},"Confirm Password",-1)),RE={key:0,class:"reminder shake-once"},PE={key:0,class:"alert"},IE=Ht(()=>l("i",{class:"fas fa-exclamation-circle"},null,-1)),NE=Ht(()=>l("i",{class:"fas fa-times"},null,-1)),LE=[NE],BE={class:"row center"},DE={key:0,class:"fas fa-circle-notch fa-spin"},UE=Ht(()=>l("span",null,"Register Account",-1)),ME=Ht(()=>l("p",null,"Already have an account?",-1)),FE=re({__name:"CreateAccountModal",setup(e){const t=q(""),n=q(!1),s=q(""),r=q(!1),o=Z(()=>r.value?s.value.length===0?"What should we call you?":s.value.length<3?"Must be at least 3 characters":s.value.length>24?"Must have no more than 16 characters":/^[a-zA-Z0-9]+$/.test(s.value)?null:"Letters and numbers only":null),i=q(""),a=q(!1),c=Z(()=>a.value?i.value.length===0?"Come up with something clever":i.value.length<8?"Must be at least 8 characters":i.value.length>64?"Can't be more than 64 characters":null:null),f=q(""),u=q(!1),d=Z(()=>u.value?f.value.length===0?"Your password again":i.value!==f.value?"Passwords don't match":null:null);async function h(){if(!r.value||!a.value||!u.value||o.value||c.value||d.value){r.value=!0,a.value=!0,u.value=!0,document.querySelectorAll(".reminder").forEach($=>{$.classList.remove("shake-once"),$.offsetWidth,$.classList.add("shake-once")});return}n.value=!0,t.value="";const g=await U1(s.value,i.value);n.value=!1,g?t.value=g:G.close()}function y(){G.open(Au)}return(g,_)=>(w(),Pe(ot,{class:me({disabled:n.value})},{header:V(()=>[P(it,{closeButton:""},{default:V(()=>[vE]),_:1})]),content:V(()=>[l("div",bE,[wE,l("div",EE,[l("div",CE,[kE,Ge(l("input",{type:"text",onInput:_[0]||(_[0]=$=>r.value=!0),placeholder:"Enter a username","onUpdate:modelValue":_[1]||(_[1]=$=>s.value=$)},null,544),[[ze,s.value]]),o.value?(w(),A("span",SE,j(o.value),1)):ne("",!0)]),l("div",xE,[AE,Ge(l("input",{type:"password",onInput:_[2]||(_[2]=$=>a.value=!0),placeholder:"Create a password","onUpdate:modelValue":_[3]||(_[3]=$=>i.value=$)},null,544),[[ze,i.value]]),c.value?(w(),A("span",TE,j(c.value),1)):ne("",!0)]),l("div",$E,[OE,Ge(l("input",{type:"password",onInput:_[4]||(_[4]=$=>u.value=!0),onKeyup:bs(h,["enter"]),placeholder:"Confirm your password","onUpdate:modelValue":_[5]||(_[5]=$=>f.value=$)},null,544),[[ze,f.value]]),d.value?(w(),A("span",RE,j(d.value),1)):ne("",!0)])]),t.value?(w(),A("div",PE,[IE,l("span",null,j(t.value),1),l("button",{class:"btn btn--icon close",onClick:_[6]||(_[6]=$=>t.value="")},LE)])):ne("",!0),l("div",BE,[l("button",{class:"btn mobile-full-width",onClick:h},[n.value?(w(),A("i",DE)):ne("",!0),UE])]),l("div",{class:"row center"},[ME,l("button",{class:"btn btn--text",onClick:y},"Log in")])])]),_:1},8,["class"]))}}),Tu=le(FE,[["__scopeId","data-v-bb068875"]]),Je=e=>(Se("data-v-265ed790"),e=e(),xe(),e),qE={class:"account"},jE=Je(()=>l("p",null,"Choose a portrait from the list below.",-1)),HE={class:"portrait-select"},VE=["onClick"],WE={key:0,class:"overlay"},KE={key:1,class:"fas fa-check-circle"},QE={key:0},GE=Je(()=>l("p",null,"You are currently logged in as a guest.",-1)),zE={key:0,class:"row"},YE=Je(()=>l("span",null,"Register Account",-1)),JE=[YE],XE=Je(()=>l("i",{class:"fas fa-sign-out-alt"},null,-1)),ZE=Je(()=>l("span",null,"Login",-1)),eC=[XE,ZE],tC={key:1,class:"account-management"},nC=Je(()=>l("p",null," Change your username. This will also change your display name in all games. ",-1)),sC=Je(()=>l("i",{class:"fas fa-user-edit"},null,-1)),rC=Je(()=>l("span",null,"Change Username",-1)),oC=[sC,rC],iC=Je(()=>l("p",null,"Change your password.",-1)),aC=Je(()=>l("i",{class:"fas fa-key"},null,-1)),lC=Je(()=>l("span",null,"Change Password",-1)),cC=[aC,lC],uC={class:"attribution"},fC={class:"muted"},dC=Je(()=>l("p",null,[ue(" This work is based on "),l("a",{class:"anchor-link",href:"http://www.bladesinthedark.com/",target:"_blank"}," Blades in the Dark "),ue(" , product of One Seven Design, developed and authored by John Harper, and licensed for our use under the "),l("a",{class:"anchor-link",href:"http://creativecommons.org/licenses/by/3.0/",target:"_blank"}," Creative Commons Attribution 3.0 Unported license ")],-1)),hC=Je(()=>l("span",null,"View Full Attribution",-1)),pC=[hC],mC={class:"center"},yC=Je(()=>l("span",null,"Sign Out",-1)),gC=[yC],_C=Je(()=>l("span",null,"Delete Account",-1)),vC=[_C],bC={class:"row center id-block"},wC={class:"muted text-center"},EC=Je(()=>l("i",{class:"fas fa-copy"},null,-1)),CC=[EC],kC={class:"muted text-center"},SC=re({__name:"AccountModal",setup(e){const t=q("");qn(()=>{V1().then(d=>t.value=`${uh.version} • ${d}`)});const n=new Date().getFullYear();function s(){G.open(xi,{title:"Sign Out",message:"Are you sure you want to sign out?",onConfirm:()=>Ai(),onCancel:()=>G.open($u),onConfirmText:"Yes, I want to sign out",onCancelText:"No, keep me signed in"})}function r(){G.open(Z0)}function o(){G.open(Au)}function i(){navigator.clipboard.writeText(ge().id)}function a(){G.open(Tu)}function c(d){H1(d)}function f(){G.open(B0)}function u(){G.open(v0)}return(d,h)=>{const y=ri("Divider");return w(),Pe(ot,null,{header:V(()=>[P(it,{closeButton:""},{default:V(()=>[l("h2",null,j(ee(ge)().username)+"'s Account",1)]),_:1})]),content:V(()=>[l("div",qE,[l("section",null,[jE,l("ul",HE,[(w(!0),A(we,null,Ze(ee(ge)().portraits,g=>(w(),A("li",{key:g.id,onClick:_=>c(g.id),class:me({selected:g.id===ee(ge)().portrait})},[P($r,{portraitId:g.id},null,8,["portraitId"]),g.id===ee(ge)().portrait?(w(),A("div",WE)):ne("",!0),g.id===ee(ge)().portrait?(w(),A("i",KE)):ne("",!0)],10,VE))),128))])]),P(y),ee(ge)().isGuest?(w(),A("section",QE,[GE,ee(ge)().isGuest?(w(),A("div",zE,[l("button",{class:"btn",onClick:a},JE),l("button",{class:"btn btn--alt",onClick:o},eC)])):ne("",!0)])):(w(),A("section",tC,[l("div",{class:"input-group"},[nC,l("button",{class:"btn mobile-full-width",onClick:f},oC)]),l("div",{class:"input-group"},[iC,l("button",{class:"btn mobile-full-width",onClick:u},cC)])])),P(y),l("section",uC,[l("p",null,[l("span",fC,"© "+j(ee(n))+" Olin Kirkland | All rights reserved",1)]),dC,l("button",{class:"btn btn--alt mobile-full-width",onClick:h[0]||(h[0]=()=>ee(G).open(lu))},pC)]),P(y),l("section",mC,[ee(ge)().isGuest?ne("",!0):(w(),A("button",{key:0,class:"btn btn--text",onClick:s},gC)),ee(ge)().isGuest?ne("",!0):(w(),A("button",{key:1,class:"btn btn--text",onClick:r},vC)),l("div",bC,[l("p",wC,"ID: "+j(ee(ge)().id),1),l("button",{class:"btn btn--icon muted",onClick:i},CC)]),l("p",kC,j(t.value),1)])])]),_:1})}}}),$u=le(SC,[["__scopeId","data-v-265ed790"]]);var Ho=(e=>(e.PLAYER="player",e.GM="gm",e.ADMIN="admin",e))(Ho||{});const ol=["tiny","big","happy","sad","smart","funny","serious","crazy","silly","brave","shy","loud","quiet","fast","slow","strong","weak","bright","dark","hot","cold","hard","soft","sharp","dull","clean","dirty","smooth","rough","old","new","sweet","sour","bitter","spicy","tasty","gross","fresh","stale","thick","thin","straight","curved","simple","complex","friendly","fierce","gentle","wild","calm"],il=["dog","cat","bird","fish","rabbit","lion","tiger","elephant","monkey","snake","turtle","spider","horse","cow","sheep","goat","pig","chicken","duck","mouse","bear","fox","wolf","deer","whale","shark","dolphin","octopus","frog","crocodile","dragon","unicorn","phoenix","eagle","hawk","owl","penguin","koala","panda","squirrel","bat","bee","ant","butterfly","mosquito","snail","slug","lizard","crab","lobster","starfish","tree","flower","mountain","river","ocean","lake","island","desert","forest","cave","rock","cloud","sun","moon","star","planet","galaxy","comet","asteroid","meteor","rain","snow","wind","storm","rainbow","thunder","lightning","fire","ice","earth","sky","sea","sand","dust","grass","leaf","root","branch","twig","stone","pebble","sand","soil","mud","clay","metal","gold","silver","copper","iron","bronze","steel","aluminum","platinum","diamond","ruby","sapphire","emerald","crystal","gem","pearl","amber","ivory","bone","horn","feather","fur","hair","wool","silk","cotton","leather","cloth","fabric","thread","needle","scissors","knife","sword","shield","bow","arrow","spear","axe","hammer","nail","screw","bolt","nut","washer","glue","tape","rope","chain","wire","cable","net","mesh","web","hook","latch","lock","key","door","window","wall","floor","ceiling","roof","stairs","bridge","path","road","street","alley","lane","highway","avenue","boulevard","square","park","garden","yard","field","meadow","pasture","orchard","vineyard","farm","barn","shed","house","home","cottage","cabin","villa","palace","castle","tower","fort","church","temple","mosque","synagogue","shrine","monastery","cathedral","chapel","grave","tomb","crypt","pyramid","sphinx","statue","monument","obelisk","arch","gate","fence","wall","hedge","barrier","barricade","fountain","pool","pond","lake","river","stream","waterfall","spring","well","oasis","beach","coast","cliff","canyon","valley","plateau","mountain","hill","peak","summit","volcano","crater","glacier","iceberg","cave","tunnel","mine","cemetery","graveyard","mausoleum","sanctuary","altar","shrine","mosque","temple","church","synagogue","cathedral","monastery","abbey","cloister","nunnery","chapel","crypt","tomb","grave","ossuary","sarcophagus","catacomb","columbarium","graveyard","cemetary","burialground","necropolis","pyramid","museum","gallery","exhibition","exhibit","art","sculpture","painting","portrait","landscape","stilllife","history","ancient","medieval","renaissance","modern","contemporary","abstract","realism","impressionism","expressionism","surrealism","cubism","dadaism","futurism","constructivism","minimalism","popart","opart","kineticart","environmentalart","performanceart","installationart","conceptualart","videoart","digitalart","netart","virtualart","interactivart","landart","streetart","graffiti","photography","photojournalism","documentary","landscape","portrait","wildlife","nature","macro","micro","aerial","underwater","night","longexposure","blackandwhite","color","fineart","commercial","editorial","fashion","beauty","portrait","product","food","interior","architecture","cityscape","event","wedding","sports","action","adventure","travel","street","documentary","candid","photojournalism","landscape","wildlife","nature","macro","aerial","underwater","night","longexposure","blackandwhite","color","fineart","commercial","editorial","fashion","beauty","portrait","product","food","interior","architecture","cityscape","event","wedding","sports","action","adventure","travel","street","documentary","candid"];function xC(){const e=ol[Math.floor(Math.random()*ol.length)],t=il[Math.floor(Math.random()*il.length)],n=Math.floor(Math.random()*900)+100;return`${e}-${t}-${n}`}const Qn=e=>(Se("data-v-45c71dea"),e=e(),xe(),e),AC=Qn(()=>l("h2",null,"Game Options",-1)),TC={class:"options"},$C={class:"game-name"},OC={class:"input-group"},RC=Qn(()=>l("label",{for:"name"},"Game Name",-1)),PC={key:0,class:"reminder shake-once"},IC={class:"invite"},NC=Qn(()=>l("label",null,"Invite Link",-1)),LC={class:"row invite-block"},BC={class:"row"},DC={class:"muted text-center"},UC=Qn(()=>l("i",{class:"fas fa-copy"},null,-1)),MC=[UC],FC=Qn(()=>l("i",{class:"fas fa-sync"},null,-1)),qC=[FC],jC=Qn(()=>l("span",null," Leave Game ",-1)),HC=[jC],VC=re({__name:"GameOptionsModal",setup(e){var c;const t=q(null),n=q((c=Me().game)==null?void 0:c.name),s=Z(()=>{var f;return`${window.location.origin}/invite/${(f=Me().game)==null?void 0:f.inviteCode}`});function r(){if(!n.value){t.value="Name cannot be empty";return}t.value=null,st([{op:"replace",path:"/name",value:n.value}])}function o(){navigator.clipboard.writeText(s.value)}function i(){st([{op:"replace",path:"/inviteCode",value:xC()}])}function a(){G.open(xi,{title:"Leave Game",message:"Are you sure you want to leave the game?",confirmText:"Leave Game",onConfirm:async()=>{G.open(ws),await rg(),Pt.push("/"),G.close()}})}return(f,u)=>(w(),Pe(ot,null,{header:V(()=>[P(it,{closeButton:""},{default:V(()=>[AC]),_:1})]),content:V(()=>{var d,h;return[l("div",TC,[l("section",$C,[l("div",OC,[RC,Ge(l("input",{type:"text",class:me({disabled:((d=ee(Me)().userPlayer)==null?void 0:d.role)!==ee(Ho).GM}),onChange:r,placeholder:"Enter a descriptive name","onUpdate:modelValue":u[0]||(u[0]=y=>n.value=y)},null,34),[[ze,n.value]]),t.value?(w(),A("span",PC,j(t.value),1)):ne("",!0)])]),l("section",IC,[NC,l("div",LC,[l("div",BC,[l("p",DC,j(s.value),1),l("button",{class:"btn btn--icon muted",onClick:o},MC)]),((h=ee(Me)().userPlayer)==null?void 0:h.role)===ee(Ho).GM?(w(),A("button",{key:0,class:"btn btn--icon muted",onClick:i},qC)):ne("",!0)])]),P(Ke),l("button",{class:"btn btn--alt",onClick:a},HC)])]}),_:1}))}}),WC=le(VC,[["__scopeId","data-v-45c71dea"]]),KC=e=>(Se("data-v-3bc7c2c2"),e=e(),xe(),e),QC={class:"logo"},GC={class:"account"},zC=KC(()=>l("i",{class:"fas fa-cog"},null,-1)),YC=[zC],JC=re({__name:"TheNavigation",setup(e){function t(){G.open($u)}function n(){G.open(WC)}return(s,r)=>{var i;const o=ri("router-link");return w(),A("nav",null,[l("div",QC,[P(o,{to:"/"},{default:V(()=>[P(pc)]),_:1})]),l("div",GC,[(i=ee(Me)().game)!=null&&i._id?(w(),A("button",{key:0,class:"btn btn--icon game-options",onClick:n},YC)):ne("",!0),l("button",{class:"btn btn--account",onClick:t},[P($r,{portraitId:ee(ge)().portrait},null,8,["portraitId"]),l("span",null,j(ee(ge)().username||"Account"),1)])])])}}}),XC=le(JC,[["__scopeId","data-v-3bc7c2c2"]]),ZC=re({__name:"TheModalContainer",setup(e){const t=q(),n=so(null),s=so(null),r=q();function o(){var i;(i=s.value)!=null&&i.closeOnClick&&G.close()}return G.getInstance().addEventListener(({modal:i,modalConfig:a})=>{var c;if((c=document.activeElement)==null||c.blur(),!i)return n.value=null;n.value={...i},s.value={...a},requestAnimationFrame(()=>{var g,_;r.value&&clearInterval(r.value);const f=(g=t.value)==null?void 0:g.$el;if(!f)return;const u=f.querySelector(".modal__header")?[f.querySelector(".modal__header")]:[],d=Array.from(((_=f.querySelector(".modal__content > div"))==null?void 0:_.children)||[]),h=[...u,...d];window.modalChildren=h;const y=f.querySelector("input:not(.disabled)");y&&y.focus(),h.forEach($=>$.classList.add("hidden")),r.value=setInterval(()=>{if(!h.length)console.log("clearing interval"),clearInterval(r.value);else{const $=h.shift();$==null||$.classList.remove("hidden")}},50)})}),(i,a)=>{var c;return n.value?(w(),A("div",{key:0,class:me(["modal-container",(c=s.value)==null?void 0:c.backgroundClass])},[l("div",{class:"modal-container__background",onClick:a[0]||(a[0]=f=>o())}),(w(),Pe(Tf(n.value),oc(s.value,{ref_key:"modalRef",ref:t}),null,16))],2)):ne("",!0)}}}),ek=le(ZC,[["__scopeId","data-v-ba331f79"]]),tk={class:"page-layout"},nk={class:"page-layout__content"},sk=re({__name:"App",setup(e){return(t,n)=>{const s=ri("router-view");return w(),A(we,null,[l("div",tk,[P(XC),l("div",nk,[P(s,{name:"page"})])]),P(ek)],64)}}});Wp();const Rr=Gd(sk);Rr.component("Divider",Ke);const rk=Xd();Rr.use(rk);Rr.use(Pt);Rr.mount("#app");
