var $u=Object.defineProperty;var xu=(e,t,n)=>t in e?$u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var be=(e,t,n)=>(xu(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();/**
* @vue/shared v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function jo(e,t){const n=new Set(e.split(","));return s=>n.has(s)}const Ee={},Rn=[],dt=()=>{},Ou=()=>!1,or=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Ho=e=>e.startsWith("onUpdate:"),Ve=Object.assign,qo=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Tu=Object.prototype.hasOwnProperty,ce=(e,t)=>Tu.call(e,t),G=Array.isArray,Pn=e=>ir(e)==="[object Map]",sl=e=>ir(e)==="[object Set]",X=e=>typeof e=="function",Ie=e=>typeof e=="string",Un=e=>typeof e=="symbol",Se=e=>e!==null&&typeof e=="object",rl=e=>(Se(e)||X(e))&&X(e.then)&&X(e.catch),ol=Object.prototype.toString,ir=e=>ol.call(e),Ru=e=>ir(e).slice(8,-1),il=e=>ir(e)==="[object Object]",Vo=e=>Ie(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,es=jo(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ar=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Pu=/-(\w)/g,Tt=ar(e=>e.replace(Pu,(t,n)=>n?n.toUpperCase():"")),Iu=/\B([A-Z])/g,vn=ar(e=>e.replace(Iu,"-$1").toLowerCase()),lr=ar(e=>e.charAt(0).toUpperCase()+e.slice(1)),Rr=ar(e=>e?`on${lr(e)}`:""),sn=(e,t)=>!Object.is(e,t),Fs=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Ys=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},Xr=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let xi;const al=()=>xi||(xi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function on(e){if(G(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],r=Ie(s)?Du(s):on(s);if(r)for(const o in r)t[o]=r[o]}return t}else if(Ie(e)||Se(e))return e}const Nu=/;(?![^(]*\))/g,Lu=/:([^]+)/,Bu=/\/\*[^]*?\*\//g;function Du(e){const t={};return e.replace(Bu,"").split(Nu).forEach(n=>{if(n){const s=n.split(Lu);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function me(e){let t="";if(Ie(e))t=e;else if(G(e))for(let n=0;n<e.length;n++){const s=me(e[n]);s&&(t+=s+" ")}else if(Se(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Mu="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Fu=jo(Mu);function ll(e){return!!e||e===""}const q=e=>Ie(e)?e:e==null?"":G(e)||Se(e)&&(e.toString===ol||!X(e.toString))?JSON.stringify(e,cl,2):String(e),cl=(e,t)=>t&&t.__v_isRef?cl(e,t.value):Pn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[s,r],o)=>(n[Pr(s,o)+" =>"]=r,n),{})}:sl(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Pr(n))}:Un(t)?Pr(t):Se(t)&&!G(t)&&!il(t)?String(t):t,Pr=(e,t="")=>{var n;return Un(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let rt;class ul{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=rt,!t&&rt&&(this.index=(rt.scopes||(rt.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=rt;try{return rt=this,t()}finally{rt=n}}}on(){rt=this}off(){rt=this.parent}stop(t){if(this._active){let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this._active=!1}}}function fl(e){return new ul(e)}function Uu(e,t=rt){t&&t.active&&t.effects.push(e)}function dl(){return rt}function ju(e){rt&&rt.cleanups.push(e)}let mn;class Wo{constructor(t,n,s,r){this.fn=t,this.trigger=n,this.scheduler=s,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,Uu(this,r)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,bn();for(let t=0;t<this._depsLength;t++){const n=this.deps[t];if(n.computed&&(Hu(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),wn()}return this._dirtyLevel>=4}set dirty(t){this._dirtyLevel=t?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=en,n=mn;try{return en=!0,mn=this,this._runnings++,Oi(this),this.fn()}finally{Ti(this),this._runnings--,mn=n,en=t}}stop(){var t;this.active&&(Oi(this),Ti(this),(t=this.onStop)==null||t.call(this),this.active=!1)}}function Hu(e){return e.value}function Oi(e){e._trackId++,e._depsLength=0}function Ti(e){if(e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)hl(e.deps[t],e);e.deps.length=e._depsLength}}function hl(e,t){const n=e.get(t);n!==void 0&&t._trackId!==n&&(e.delete(t),e.size===0&&e.cleanup())}let en=!0,Zr=0;const pl=[];function bn(){pl.push(en),en=!1}function wn(){const e=pl.pop();en=e===void 0?!0:e}function Ko(){Zr++}function zo(){for(Zr--;!Zr&&eo.length;)eo.shift()()}function ml(e,t,n){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const s=e.deps[e._depsLength];s!==t?(s&&hl(s,e),e.deps[e._depsLength++]=t):e._depsLength++}}const eo=[];function _l(e,t,n){Ko();for(const s of e.keys()){let r;s._dirtyLevel<t&&(r??(r=e.get(s)===s._trackId))&&(s._shouldSchedule||(s._shouldSchedule=s._dirtyLevel===0),s._dirtyLevel=t),s._shouldSchedule&&(r??(r=e.get(s)===s._trackId))&&(s.trigger(),(!s._runnings||s.allowRecurse)&&s._dirtyLevel!==2&&(s._shouldSchedule=!1,s.scheduler&&eo.push(s.scheduler)))}zo()}const gl=(e,t)=>{const n=new Map;return n.cleanup=e,n.computed=t,n},Qs=new WeakMap,_n=Symbol(""),to=Symbol("");function et(e,t,n){if(en&&mn){let s=Qs.get(e);s||Qs.set(e,s=new Map);let r=s.get(n);r||s.set(n,r=gl(()=>s.delete(n))),ml(mn,r)}}function Bt(e,t,n,s,r,o){const i=Qs.get(e);if(!i)return;let a=[];if(t==="clear")a=[...i.values()];else if(n==="length"&&G(e)){const c=Number(s);i.forEach((f,u)=>{(u==="length"||!Un(u)&&u>=c)&&a.push(f)})}else switch(n!==void 0&&a.push(i.get(n)),t){case"add":G(e)?Vo(n)&&a.push(i.get("length")):(a.push(i.get(_n)),Pn(e)&&a.push(i.get(to)));break;case"delete":G(e)||(a.push(i.get(_n)),Pn(e)&&a.push(i.get(to)));break;case"set":Pn(e)&&a.push(i.get(_n));break}Ko();for(const c of a)c&&_l(c,4);zo()}function qu(e,t){var n;return(n=Qs.get(e))==null?void 0:n.get(t)}const Vu=jo("__proto__,__v_isRef,__isVue"),yl=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Un)),Ri=Wu();function Wu(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const s=ue(this);for(let o=0,i=this.length;o<i;o++)et(s,"get",o+"");const r=s[t](...n);return r===-1||r===!1?s[t](...n.map(ue)):r}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){bn(),Ko();const s=ue(this)[t].apply(this,n);return zo(),wn(),s}}),e}function Ku(e){const t=ue(this);return et(t,"has",e),t.hasOwnProperty(e)}class vl{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,s){const r=this._isReadonly,o=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return o;if(n==="__v_raw")return s===(r?o?of:Cl:o?El:wl).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const i=G(t);if(!r){if(i&&ce(Ri,n))return Reflect.get(Ri,n,s);if(n==="hasOwnProperty")return Ku}const a=Reflect.get(t,n,s);return(Un(n)?yl.has(n):Vu(n))||(r||et(t,"get",n),o)?a:Be(a)?i&&Vo(n)?a:a.value:Se(a)?r?Al(a):gs(a):a}}class bl extends vl{constructor(t=!1){super(!1,t)}set(t,n,s,r){let o=t[n];if(!this._isShallow){const c=Ln(o);if(!Xs(s)&&!Ln(s)&&(o=ue(o),s=ue(s)),!G(t)&&Be(o)&&!Be(s))return c?!1:(o.value=s,!0)}const i=G(t)&&Vo(n)?Number(n)<t.length:ce(t,n),a=Reflect.set(t,n,s,r);return t===ue(r)&&(i?sn(s,o)&&Bt(t,"set",n,s):Bt(t,"add",n,s)),a}deleteProperty(t,n){const s=ce(t,n);t[n];const r=Reflect.deleteProperty(t,n);return r&&s&&Bt(t,"delete",n,void 0),r}has(t,n){const s=Reflect.has(t,n);return(!Un(n)||!yl.has(n))&&et(t,"has",n),s}ownKeys(t){return et(t,"iterate",G(t)?"length":_n),Reflect.ownKeys(t)}}class zu extends vl{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Gu=new bl,Ju=new zu,Yu=new bl(!0),Go=e=>e,cr=e=>Reflect.getPrototypeOf(e);function $s(e,t,n=!1,s=!1){e=e.__v_raw;const r=ue(e),o=ue(t);n||(sn(t,o)&&et(r,"get",t),et(r,"get",o));const{has:i}=cr(r),a=s?Go:n?Qo:ls;if(i.call(r,t))return a(e.get(t));if(i.call(r,o))return a(e.get(o));e!==r&&e.get(t)}function xs(e,t=!1){const n=this.__v_raw,s=ue(n),r=ue(e);return t||(sn(e,r)&&et(s,"has",e),et(s,"has",r)),e===r?n.has(e):n.has(e)||n.has(r)}function Os(e,t=!1){return e=e.__v_raw,!t&&et(ue(e),"iterate",_n),Reflect.get(e,"size",e)}function Pi(e){e=ue(e);const t=ue(this);return cr(t).has.call(t,e)||(t.add(e),Bt(t,"add",e,e)),this}function Ii(e,t){t=ue(t);const n=ue(this),{has:s,get:r}=cr(n);let o=s.call(n,e);o||(e=ue(e),o=s.call(n,e));const i=r.call(n,e);return n.set(e,t),o?sn(t,i)&&Bt(n,"set",e,t):Bt(n,"add",e,t),this}function Ni(e){const t=ue(this),{has:n,get:s}=cr(t);let r=n.call(t,e);r||(e=ue(e),r=n.call(t,e)),s&&s.call(t,e);const o=t.delete(e);return r&&Bt(t,"delete",e,void 0),o}function Li(){const e=ue(this),t=e.size!==0,n=e.clear();return t&&Bt(e,"clear",void 0,void 0),n}function Ts(e,t){return function(s,r){const o=this,i=o.__v_raw,a=ue(i),c=t?Go:e?Qo:ls;return!e&&et(a,"iterate",_n),i.forEach((f,u)=>s.call(r,c(f),c(u),o))}}function Rs(e,t,n){return function(...s){const r=this.__v_raw,o=ue(r),i=Pn(o),a=e==="entries"||e===Symbol.iterator&&i,c=e==="keys"&&i,f=r[e](...s),u=n?Go:t?Qo:ls;return!t&&et(o,"iterate",c?to:_n),{next(){const{value:d,done:p}=f.next();return p?{value:d,done:p}:{value:a?[u(d[0]),u(d[1])]:u(d),done:p}},[Symbol.iterator](){return this}}}}function Kt(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Qu(){const e={get(o){return $s(this,o)},get size(){return Os(this)},has:xs,add:Pi,set:Ii,delete:Ni,clear:Li,forEach:Ts(!1,!1)},t={get(o){return $s(this,o,!1,!0)},get size(){return Os(this)},has:xs,add:Pi,set:Ii,delete:Ni,clear:Li,forEach:Ts(!1,!0)},n={get(o){return $s(this,o,!0)},get size(){return Os(this,!0)},has(o){return xs.call(this,o,!0)},add:Kt("add"),set:Kt("set"),delete:Kt("delete"),clear:Kt("clear"),forEach:Ts(!0,!1)},s={get(o){return $s(this,o,!0,!0)},get size(){return Os(this,!0)},has(o){return xs.call(this,o,!0)},add:Kt("add"),set:Kt("set"),delete:Kt("delete"),clear:Kt("clear"),forEach:Ts(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{e[o]=Rs(o,!1,!1),n[o]=Rs(o,!0,!1),t[o]=Rs(o,!1,!0),s[o]=Rs(o,!0,!0)}),[e,n,t,s]}const[Xu,Zu,ef,tf]=Qu();function Jo(e,t){const n=t?e?tf:ef:e?Zu:Xu;return(s,r,o)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?s:Reflect.get(ce(n,r)&&r in s?n:s,r,o)}const nf={get:Jo(!1,!1)},sf={get:Jo(!1,!0)},rf={get:Jo(!0,!1)},wl=new WeakMap,El=new WeakMap,Cl=new WeakMap,of=new WeakMap;function af(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function lf(e){return e.__v_skip||!Object.isExtensible(e)?0:af(Ru(e))}function gs(e){return Ln(e)?e:Yo(e,!1,Gu,nf,wl)}function Sl(e){return Yo(e,!1,Yu,sf,El)}function Al(e){return Yo(e,!0,Ju,rf,Cl)}function Yo(e,t,n,s,r){if(!Se(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=r.get(e);if(o)return o;const i=lf(e);if(i===0)return e;const a=new Proxy(e,i===2?s:n);return r.set(e,a),a}function tn(e){return Ln(e)?tn(e.__v_raw):!!(e&&e.__v_isReactive)}function Ln(e){return!!(e&&e.__v_isReadonly)}function Xs(e){return!!(e&&e.__v_isShallow)}function kl(e){return tn(e)||Ln(e)}function ue(e){const t=e&&e.__v_raw;return t?ue(t):e}function ur(e){return Object.isExtensible(e)&&Ys(e,"__v_skip",!0),e}const ls=e=>Se(e)?gs(e):e,Qo=e=>Se(e)?Al(e):e;class $l{constructor(t,n,s,r){this.getter=t,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Wo(()=>t(this._value),()=>Us(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=s}get value(){const t=ue(this);return(!t._cacheable||t.effect.dirty)&&sn(t._value,t._value=t.effect.run())&&Us(t,4),xl(t),t.effect._dirtyLevel>=2&&Us(t,2),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function cf(e,t,n=!1){let s,r;const o=X(e);return o?(s=e,r=dt):(s=e.get,r=e.set),new $l(s,r,o||!r,n)}function xl(e){var t;en&&mn&&(e=ue(e),ml(mn,(t=e.dep)!=null?t:e.dep=gl(()=>e.dep=void 0,e instanceof $l?e:void 0)))}function Us(e,t=4,n){e=ue(e);const s=e.dep;s&&_l(s,t)}function Be(e){return!!(e&&e.__v_isRef===!0)}function j(e){return Ol(e,!1)}function no(e){return Ol(e,!0)}function Ol(e,t){return Be(e)?e:new uf(e,t)}class uf{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:ue(t),this._value=n?t:ls(t)}get value(){return xl(this),this._value}set value(t){const n=this.__v_isShallow||Xs(t)||Ln(t);t=n?t:ue(t),sn(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:ls(t),Us(this,4))}}function Q(e){return Be(e)?e.value:e}const ff={get:(e,t,n)=>Q(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const r=e[t];return Be(r)&&!Be(n)?(r.value=n,!0):Reflect.set(e,t,n,s)}};function Tl(e){return tn(e)?e:new Proxy(e,ff)}function df(e){const t=G(e)?new Array(e.length):{};for(const n in e)t[n]=pf(e,n);return t}class hf{constructor(t,n,s){this._object=t,this._key=n,this._defaultValue=s,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return qu(ue(this._object),this._key)}}function pf(e,t,n){const s=e[t];return Be(s)?s:new hf(e,t,n)}/**
* @vue/runtime-core v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function nn(e,t,n,s){try{return s?e(...s):e()}catch(r){fr(r,t,n)}}function vt(e,t,n,s){if(X(e)){const o=nn(e,t,n,s);return o&&rl(o)&&o.catch(i=>{fr(i,t,n)}),o}const r=[];for(let o=0;o<e.length;o++)r.push(vt(e[o],t,n,s));return r}function fr(e,t,n,s=!0){const r=t?t.vnode:null;if(t){let o=t.parent;const i=t.proxy,a=`https://vuejs.org/error-reference/#runtime-${n}`;for(;o;){const f=o.ec;if(f){for(let u=0;u<f.length;u++)if(f[u](e,i,a)===!1)return}o=o.parent}const c=t.appContext.config.errorHandler;if(c){nn(c,null,10,[e,i,a]);return}}mf(e,n,r,s)}function mf(e,t,n,s=!0){console.error(e)}let cs=!1,so=!1;const ze=[];let kt=0;const In=[];let Yt=null,hn=0;const Rl=Promise.resolve();let Xo=null;function Zo(e){const t=Xo||Rl;return e?t.then(this?e.bind(this):e):t}function _f(e){let t=kt+1,n=ze.length;for(;t<n;){const s=t+n>>>1,r=ze[s],o=us(r);o<e||o===e&&r.pre?t=s+1:n=s}return t}function ei(e){(!ze.length||!ze.includes(e,cs&&e.allowRecurse?kt+1:kt))&&(e.id==null?ze.push(e):ze.splice(_f(e.id),0,e),Pl())}function Pl(){!cs&&!so&&(so=!0,Xo=Rl.then(Nl))}function gf(e){const t=ze.indexOf(e);t>kt&&ze.splice(t,1)}function yf(e){G(e)?In.push(...e):(!Yt||!Yt.includes(e,e.allowRecurse?hn+1:hn))&&In.push(e),Pl()}function Bi(e,t,n=cs?kt+1:0){for(;n<ze.length;n++){const s=ze[n];if(s&&s.pre){if(e&&s.id!==e.uid)continue;ze.splice(n,1),n--,s()}}}function Il(e){if(In.length){const t=[...new Set(In)].sort((n,s)=>us(n)-us(s));if(In.length=0,Yt){Yt.push(...t);return}for(Yt=t,hn=0;hn<Yt.length;hn++)Yt[hn]();Yt=null,hn=0}}const us=e=>e.id==null?1/0:e.id,vf=(e,t)=>{const n=us(e)-us(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function Nl(e){so=!1,cs=!0,ze.sort(vf);try{for(kt=0;kt<ze.length;kt++){const t=ze[kt];t&&t.active!==!1&&nn(t,null,14)}}finally{kt=0,ze.length=0,Il(),cs=!1,Xo=null,(ze.length||In.length)&&Nl()}}function bf(e,t,...n){if(e.isUnmounted)return;const s=e.vnode.props||Ee;let r=n;const o=t.startsWith("update:"),i=o&&t.slice(7);if(i&&i in s){const u=`${i==="modelValue"?"model":i}Modifiers`,{number:d,trim:p}=s[u]||Ee;p&&(r=n.map(_=>Ie(_)?_.trim():_)),d&&(r=n.map(Xr))}let a,c=s[a=Rr(t)]||s[a=Rr(Tt(t))];!c&&o&&(c=s[a=Rr(vn(t))]),c&&vt(c,e,6,r);const f=s[a+"Once"];if(f){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,vt(f,e,6,r)}}function Ll(e,t,n=!1){const s=t.emitsCache,r=s.get(e);if(r!==void 0)return r;const o=e.emits;let i={},a=!1;if(!X(e)){const c=f=>{const u=Ll(f,t,!0);u&&(a=!0,Ve(i,u))};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!o&&!a?(Se(e)&&s.set(e,null),null):(G(o)?o.forEach(c=>i[c]=null):Ve(i,o),Se(e)&&s.set(e,i),i)}function dr(e,t){return!e||!or(t)?!1:(t=t.slice(2).replace(/Once$/,""),ce(e,t[0].toLowerCase()+t.slice(1))||ce(e,vn(t))||ce(e,t))}let Le=null,hr=null;function Zs(e){const t=Le;return Le=e,hr=e&&e.type.__scopeId||null,t}function Ae(e){hr=e}function ke(){hr=null}function V(e,t=Le,n){if(!t||e._n)return e;const s=(...r)=>{s._d&&zi(-1);const o=Zs(t);let i;try{i=e(...r)}finally{Zs(o),s._d&&zi(1)}return i};return s._n=!0,s._c=!0,s._d=!0,s}function Ir(e){const{type:t,vnode:n,proxy:s,withProxy:r,props:o,propsOptions:[i],slots:a,attrs:c,emit:f,render:u,renderCache:d,data:p,setupState:_,ctx:g,inheritAttrs:y}=e;let O,L;const P=Zs(e);try{if(n.shapeFlag&4){const k=r||s,B=k;O=At(u.call(B,k,d,o,_,p,g)),L=c}else{const k=t;O=At(k.length>1?k(o,{attrs:c,slots:a,emit:f}):k(o,null)),L=t.props?c:wf(c)}}catch(k){rs.length=0,fr(k,e,1),O=N(rn)}let b=O;if(L&&y!==!1){const k=Object.keys(L),{shapeFlag:B}=b;k.length&&B&7&&(i&&k.some(Ho)&&(L=Ef(L,i)),b=Bn(b,L))}return n.dirs&&(b=Bn(b),b.dirs=b.dirs?b.dirs.concat(n.dirs):n.dirs),n.transition&&(b.transition=n.transition),O=b,Zs(P),O}const wf=e=>{let t;for(const n in e)(n==="class"||n==="style"||or(n))&&((t||(t={}))[n]=e[n]);return t},Ef=(e,t)=>{const n={};for(const s in e)(!Ho(s)||!(s.slice(9)in t))&&(n[s]=e[s]);return n};function Cf(e,t,n){const{props:s,children:r,component:o}=e,{props:i,children:a,patchFlag:c}=t,f=o.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return s?Di(s,i,f):!!i;if(c&8){const u=t.dynamicProps;for(let d=0;d<u.length;d++){const p=u[d];if(i[p]!==s[p]&&!dr(f,p))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:s===i?!1:s?i?Di(s,i,f):!0:!!i;return!1}function Di(e,t,n){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let r=0;r<s.length;r++){const o=s[r];if(t[o]!==e[o]&&!dr(n,o))return!0}return!1}function Sf({vnode:e,parent:t},n){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s===e)(e=t.vnode).el=n,t=t.parent;else break}}const Bl="components";function ti(e,t){return Ml(Bl,e,!0,t)||e}const Dl=Symbol.for("v-ndc");function Af(e){return Ie(e)?Ml(Bl,e,!1)||e:e||Dl}function Ml(e,t,n=!0,s=!1){const r=Le||je;if(r){const o=r.type;{const a=gd(o,!1);if(a&&(a===t||a===Tt(t)||a===lr(Tt(t))))return o}const i=Mi(r[e]||o[e],t)||Mi(r.appContext[e],t);return!i&&s?o:i}}function Mi(e,t){return e&&(e[t]||e[Tt(t)]||e[lr(Tt(t))])}const kf=e=>e.__isSuspense;function $f(e,t){t&&t.pendingBranch?G(e)?t.effects.push(...e):t.effects.push(e):yf(e)}const xf=Symbol.for("v-scx"),Of=()=>bt(xf),Ps={};function ts(e,t,n){return Fl(e,t,n)}function Fl(e,t,{immediate:n,deep:s,flush:r,once:o,onTrack:i,onTrigger:a}=Ee){if(t&&o){const J=t;t=(...Oe)=>{J(...Oe),B()}}const c=je,f=J=>s===!0?J:pn(J,s===!1?1:void 0);let u,d=!1,p=!1;if(Be(e)?(u=()=>e.value,d=Xs(e)):tn(e)?(u=()=>f(e),d=!0):G(e)?(p=!0,d=e.some(J=>tn(J)||Xs(J)),u=()=>e.map(J=>{if(Be(J))return J.value;if(tn(J))return f(J);if(X(J))return nn(J,c,2)})):X(e)?t?u=()=>nn(e,c,2):u=()=>(_&&_(),vt(e,c,3,[g])):u=dt,t&&s){const J=u;u=()=>pn(J())}let _,g=J=>{_=b.onStop=()=>{nn(J,c,4),_=b.onStop=void 0}},y;if(gr)if(g=dt,t?n&&vt(t,c,3,[u(),p?[]:void 0,g]):u(),r==="sync"){const J=Of();y=J.__watcherHandles||(J.__watcherHandles=[])}else return dt;let O=p?new Array(e.length).fill(Ps):Ps;const L=()=>{if(!(!b.active||!b.dirty))if(t){const J=b.run();(s||d||(p?J.some((Oe,re)=>sn(Oe,O[re])):sn(J,O)))&&(_&&_(),vt(t,c,3,[J,O===Ps?void 0:p&&O[0]===Ps?[]:O,g]),O=J)}else b.run()};L.allowRecurse=!!t;let P;r==="sync"?P=L:r==="post"?P=()=>Ze(L,c&&c.suspense):(L.pre=!0,c&&(L.id=c.uid),P=()=>ei(L));const b=new Wo(u,dt,P),k=dl(),B=()=>{b.stop(),k&&qo(k.effects,b)};return t?n?L():O=b.run():r==="post"?Ze(b.run.bind(b),c&&c.suspense):b.run(),y&&y.push(B),B}function Tf(e,t,n){const s=this.proxy,r=Ie(e)?e.includes(".")?Ul(s,e):()=>s[e]:e.bind(s,s);let o;X(t)?o=t:(o=t.handler,n=t);const i=ys(this),a=Fl(r,o.bind(s),n);return i(),a}function Ul(e,t){const n=t.split(".");return()=>{let s=e;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}function pn(e,t,n=0,s){if(!Se(e)||e.__v_skip)return e;if(t&&t>0){if(n>=t)return e;n++}if(s=s||new Set,s.has(e))return e;if(s.add(e),Be(e))pn(e.value,t,n,s);else if(G(e))for(let r=0;r<e.length;r++)pn(e[r],t,n,s);else if(sl(e)||Pn(e))e.forEach(r=>{pn(r,t,n,s)});else if(il(e))for(const r in e)pn(e[r],t,n,s);return e}function Ue(e,t){if(Le===null)return e;const n=yr(Le)||Le.proxy,s=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[o,i,a,c=Ee]=t[r];o&&(X(o)&&(o={mounted:o,updated:o}),o.deep&&pn(i),s.push({dir:o,instance:n,value:i,oldValue:void 0,arg:a,modifiers:c}))}return e}function un(e,t,n,s){const r=e.dirs,o=t&&t.dirs;for(let i=0;i<r.length;i++){const a=r[i];o&&(a.oldValue=o[i].value);let c=a.dir[s];c&&(bn(),vt(c,n,8,[e.el,a,e,t]),wn())}}/*! #__NO_SIDE_EFFECTS__ */function se(e,t){return X(e)?Ve({name:e.name},t,{setup:e}):e}const ns=e=>!!e.type.__asyncLoader,jl=e=>e.type.__isKeepAlive;function Rf(e,t){Hl(e,"a",t)}function Pf(e,t){Hl(e,"da",t)}function Hl(e,t,n=je){const s=e.__wdc||(e.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(pr(t,s,n),n){let r=n.parent;for(;r&&r.parent;)jl(r.parent.vnode)&&If(s,t,n,r),r=r.parent}}function If(e,t,n,s){const r=pr(t,e,s,!0);ni(()=>{qo(s[t],r)},n)}function pr(e,t,n=je,s=!1){if(n){const r=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...i)=>{if(n.isUnmounted)return;bn();const a=ys(n),c=vt(t,n,e,i);return a(),wn(),c});return s?r.unshift(o):r.push(o),o}}const Mt=e=>(t,n=je)=>(!gr||e==="sp")&&pr(e,(...s)=>t(...s),n),Nf=Mt("bm"),jn=Mt("m"),Lf=Mt("bu"),Bf=Mt("u"),Df=Mt("bum"),ni=Mt("um"),Mf=Mt("sp"),Ff=Mt("rtg"),Uf=Mt("rtc");function jf(e,t=je){pr("ec",e,t)}function it(e,t,n,s){let r;const o=n;if(G(e)||Ie(e)){r=new Array(e.length);for(let i=0,a=e.length;i<a;i++)r[i]=t(e[i],i,void 0,o)}else if(typeof e=="number"){r=new Array(e);for(let i=0;i<e;i++)r[i]=t(i+1,i,void 0,o)}else if(Se(e))if(e[Symbol.iterator])r=Array.from(e,(i,a)=>t(i,a,void 0,o));else{const i=Object.keys(e);r=new Array(i.length);for(let a=0,c=i.length;a<c;a++){const f=i[a];r[a]=t(e[f],f,a,o)}}else r=[];return r}function fs(e,t,n={},s,r){if(Le.isCE||Le.parent&&ns(Le.parent)&&Le.parent.isCE)return t!=="default"&&(n.name=t),N("slot",n,s);let o=e[t];o&&o._c&&(o._d=!1),C();const i=o&&ql(o(n)),a=Ne(we,{key:n.key||i&&i.key||`_${t}`},i||[],i&&e._===1?64:-2);return o&&o._c&&(o._d=!0),a}function ql(e){return e.some(t=>tr(t)?!(t.type===rn||t.type===we&&!ql(t.children)):!0)?e:null}const ro=e=>e?nc(e)?yr(e)||e.proxy:ro(e.parent):null,ss=Ve(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>ro(e.parent),$root:e=>ro(e.root),$emit:e=>e.emit,$options:e=>si(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,ei(e.update)}),$nextTick:e=>e.n||(e.n=Zo.bind(e.proxy)),$watch:e=>Tf.bind(e)}),Nr=(e,t)=>e!==Ee&&!e.__isScriptSetup&&ce(e,t),Hf={get({_:e},t){const{ctx:n,setupState:s,data:r,props:o,accessCache:i,type:a,appContext:c}=e;let f;if(t[0]!=="$"){const _=i[t];if(_!==void 0)switch(_){case 1:return s[t];case 2:return r[t];case 4:return n[t];case 3:return o[t]}else{if(Nr(s,t))return i[t]=1,s[t];if(r!==Ee&&ce(r,t))return i[t]=2,r[t];if((f=e.propsOptions[0])&&ce(f,t))return i[t]=3,o[t];if(n!==Ee&&ce(n,t))return i[t]=4,n[t];oo&&(i[t]=0)}}const u=ss[t];let d,p;if(u)return t==="$attrs"&&et(e,"get",t),u(e);if((d=a.__cssModules)&&(d=d[t]))return d;if(n!==Ee&&ce(n,t))return i[t]=4,n[t];if(p=c.config.globalProperties,ce(p,t))return p[t]},set({_:e},t,n){const{data:s,setupState:r,ctx:o}=e;return Nr(r,t)?(r[t]=n,!0):s!==Ee&&ce(s,t)?(s[t]=n,!0):ce(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:r,propsOptions:o}},i){let a;return!!n[i]||e!==Ee&&ce(e,i)||Nr(t,i)||(a=o[0])&&ce(a,i)||ce(s,i)||ce(ss,i)||ce(r.config.globalProperties,i)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:ce(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Fi(e){return G(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let oo=!0;function qf(e){const t=si(e),n=e.proxy,s=e.ctx;oo=!1,t.beforeCreate&&Ui(t.beforeCreate,e,"bc");const{data:r,computed:o,methods:i,watch:a,provide:c,inject:f,created:u,beforeMount:d,mounted:p,beforeUpdate:_,updated:g,activated:y,deactivated:O,beforeDestroy:L,beforeUnmount:P,destroyed:b,unmounted:k,render:B,renderTracked:J,renderTriggered:Oe,errorCaptured:re,serverPrefetch:ie,expose:Te,inheritAttrs:We,components:tt,directives:ct,filters:cn}=t;if(f&&Vf(f,s,null),i)for(const ye in i){const pe=i[ye];X(pe)&&(s[ye]=pe.bind(n))}if(r){const ye=r.call(n,n);Se(ye)&&(e.data=gs(ye))}if(oo=!0,o)for(const ye in o){const pe=o[ye],Nt=X(pe)?pe.bind(n,n):X(pe.get)?pe.get.bind(n,n):dt,Wt=!X(pe)&&X(pe.set)?pe.set.bind(n):dt,Et=ee({get:Nt,set:Wt});Object.defineProperty(s,ye,{enumerable:!0,configurable:!0,get:()=>Et.value,set:Xe=>Et.value=Xe})}if(a)for(const ye in a)Vl(a[ye],s,n,ye);if(c){const ye=X(c)?c.call(n):c;Reflect.ownKeys(ye).forEach(pe=>{js(pe,ye[pe])})}u&&Ui(u,e,"c");function fe(ye,pe){G(pe)?pe.forEach(Nt=>ye(Nt.bind(n))):pe&&ye(pe.bind(n))}if(fe(Nf,d),fe(jn,p),fe(Lf,_),fe(Bf,g),fe(Rf,y),fe(Pf,O),fe(jf,re),fe(Uf,J),fe(Ff,Oe),fe(Df,P),fe(ni,k),fe(Mf,ie),G(Te))if(Te.length){const ye=e.exposed||(e.exposed={});Te.forEach(pe=>{Object.defineProperty(ye,pe,{get:()=>n[pe],set:Nt=>n[pe]=Nt})})}else e.exposed||(e.exposed={});B&&e.render===dt&&(e.render=B),We!=null&&(e.inheritAttrs=We),tt&&(e.components=tt),ct&&(e.directives=ct)}function Vf(e,t,n=dt){G(e)&&(e=io(e));for(const s in e){const r=e[s];let o;Se(r)?"default"in r?o=bt(r.from||s,r.default,!0):o=bt(r.from||s):o=bt(r),Be(o)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>o.value,set:i=>o.value=i}):t[s]=o}}function Ui(e,t,n){vt(G(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,n)}function Vl(e,t,n,s){const r=s.includes(".")?Ul(n,s):()=>n[s];if(Ie(e)){const o=t[e];X(o)&&ts(r,o)}else if(X(e))ts(r,e.bind(n));else if(Se(e))if(G(e))e.forEach(o=>Vl(o,t,n,s));else{const o=X(e.handler)?e.handler.bind(n):t[e.handler];X(o)&&ts(r,o,e)}}function si(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:r,optionsCache:o,config:{optionMergeStrategies:i}}=e.appContext,a=o.get(t);let c;return a?c=a:!r.length&&!n&&!s?c=t:(c={},r.length&&r.forEach(f=>er(c,f,i,!0)),er(c,t,i)),Se(t)&&o.set(t,c),c}function er(e,t,n,s=!1){const{mixins:r,extends:o}=t;o&&er(e,o,n,!0),r&&r.forEach(i=>er(e,i,n,!0));for(const i in t)if(!(s&&i==="expose")){const a=Wf[i]||n&&n[i];e[i]=a?a(e[i],t[i]):t[i]}return e}const Wf={data:ji,props:Hi,emits:Hi,methods:Xn,computed:Xn,beforeCreate:Ye,created:Ye,beforeMount:Ye,mounted:Ye,beforeUpdate:Ye,updated:Ye,beforeDestroy:Ye,beforeUnmount:Ye,destroyed:Ye,unmounted:Ye,activated:Ye,deactivated:Ye,errorCaptured:Ye,serverPrefetch:Ye,components:Xn,directives:Xn,watch:zf,provide:ji,inject:Kf};function ji(e,t){return t?e?function(){return Ve(X(e)?e.call(this,this):e,X(t)?t.call(this,this):t)}:t:e}function Kf(e,t){return Xn(io(e),io(t))}function io(e){if(G(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Ye(e,t){return e?[...new Set([].concat(e,t))]:t}function Xn(e,t){return e?Ve(Object.create(null),e,t):t}function Hi(e,t){return e?G(e)&&G(t)?[...new Set([...e,...t])]:Ve(Object.create(null),Fi(e),Fi(t??{})):t}function zf(e,t){if(!e)return t;if(!t)return e;const n=Ve(Object.create(null),e);for(const s in t)n[s]=Ye(e[s],t[s]);return n}function Wl(){return{app:null,config:{isNativeTag:Ou,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Gf=0;function Jf(e,t){return function(s,r=null){X(s)||(s=Ve({},s)),r!=null&&!Se(r)&&(r=null);const o=Wl(),i=new WeakSet;let a=!1;const c=o.app={_uid:Gf++,_component:s,_props:r,_container:null,_context:o,_instance:null,version:vd,get config(){return o.config},set config(f){},use(f,...u){return i.has(f)||(f&&X(f.install)?(i.add(f),f.install(c,...u)):X(f)&&(i.add(f),f(c,...u))),c},mixin(f){return o.mixins.includes(f)||o.mixins.push(f),c},component(f,u){return u?(o.components[f]=u,c):o.components[f]},directive(f,u){return u?(o.directives[f]=u,c):o.directives[f]},mount(f,u,d){if(!a){const p=N(s,r);return p.appContext=o,d===!0?d="svg":d===!1&&(d=void 0),u&&t?t(p,f):e(p,f,d),a=!0,c._container=f,f.__vue_app__=c,yr(p.component)||p.component.proxy}},unmount(){a&&(e(null,c._container),delete c._container.__vue_app__)},provide(f,u){return o.provides[f]=u,c},runWithContext(f){const u=Nn;Nn=c;try{return f()}finally{Nn=u}}};return c}}let Nn=null;function js(e,t){if(je){let n=je.provides;const s=je.parent&&je.parent.provides;s===n&&(n=je.provides=Object.create(s)),n[e]=t}}function bt(e,t,n=!1){const s=je||Le;if(s||Nn){const r=s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:Nn._context.provides;if(r&&e in r)return r[e];if(arguments.length>1)return n&&X(t)?t.call(s&&s.proxy):t}}function Yf(){return!!(je||Le||Nn)}function Qf(e,t,n,s=!1){const r={},o={};Ys(o,_r,1),e.propsDefaults=Object.create(null),Kl(e,t,r,o);for(const i in e.propsOptions[0])i in r||(r[i]=void 0);n?e.props=s?r:Sl(r):e.type.props?e.props=r:e.props=o,e.attrs=o}function Xf(e,t,n,s){const{props:r,attrs:o,vnode:{patchFlag:i}}=e,a=ue(r),[c]=e.propsOptions;let f=!1;if((s||i>0)&&!(i&16)){if(i&8){const u=e.vnode.dynamicProps;for(let d=0;d<u.length;d++){let p=u[d];if(dr(e.emitsOptions,p))continue;const _=t[p];if(c)if(ce(o,p))_!==o[p]&&(o[p]=_,f=!0);else{const g=Tt(p);r[g]=ao(c,a,g,_,e,!1)}else _!==o[p]&&(o[p]=_,f=!0)}}}else{Kl(e,t,r,o)&&(f=!0);let u;for(const d in a)(!t||!ce(t,d)&&((u=vn(d))===d||!ce(t,u)))&&(c?n&&(n[d]!==void 0||n[u]!==void 0)&&(r[d]=ao(c,a,d,void 0,e,!0)):delete r[d]);if(o!==a)for(const d in o)(!t||!ce(t,d))&&(delete o[d],f=!0)}f&&Bt(e,"set","$attrs")}function Kl(e,t,n,s){const[r,o]=e.propsOptions;let i=!1,a;if(t)for(let c in t){if(es(c))continue;const f=t[c];let u;r&&ce(r,u=Tt(c))?!o||!o.includes(u)?n[u]=f:(a||(a={}))[u]=f:dr(e.emitsOptions,c)||(!(c in s)||f!==s[c])&&(s[c]=f,i=!0)}if(o){const c=ue(n),f=a||Ee;for(let u=0;u<o.length;u++){const d=o[u];n[d]=ao(r,c,d,f[d],e,!ce(f,d))}}return i}function ao(e,t,n,s,r,o){const i=e[n];if(i!=null){const a=ce(i,"default");if(a&&s===void 0){const c=i.default;if(i.type!==Function&&!i.skipFactory&&X(c)){const{propsDefaults:f}=r;if(n in f)s=f[n];else{const u=ys(r);s=f[n]=c.call(null,t),u()}}else s=c}i[0]&&(o&&!a?s=!1:i[1]&&(s===""||s===vn(n))&&(s=!0))}return s}function zl(e,t,n=!1){const s=t.propsCache,r=s.get(e);if(r)return r;const o=e.props,i={},a=[];let c=!1;if(!X(e)){const u=d=>{c=!0;const[p,_]=zl(d,t,!0);Ve(i,p),_&&a.push(..._)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!o&&!c)return Se(e)&&s.set(e,Rn),Rn;if(G(o))for(let u=0;u<o.length;u++){const d=Tt(o[u]);qi(d)&&(i[d]=Ee)}else if(o)for(const u in o){const d=Tt(u);if(qi(d)){const p=o[u],_=i[d]=G(p)||X(p)?{type:p}:Ve({},p);if(_){const g=Ki(Boolean,_.type),y=Ki(String,_.type);_[0]=g>-1,_[1]=y<0||g<y,(g>-1||ce(_,"default"))&&a.push(d)}}}const f=[i,a];return Se(e)&&s.set(e,f),f}function qi(e){return e[0]!=="$"&&!es(e)}function Vi(e){return e===null?"null":typeof e=="function"?e.name||"":typeof e=="object"&&e.constructor&&e.constructor.name||""}function Wi(e,t){return Vi(e)===Vi(t)}function Ki(e,t){return G(t)?t.findIndex(n=>Wi(n,e)):X(t)&&Wi(t,e)?0:-1}const Gl=e=>e[0]==="_"||e==="$stable",ri=e=>G(e)?e.map(At):[At(e)],Zf=(e,t,n)=>{if(t._n)return t;const s=V((...r)=>ri(t(...r)),n);return s._c=!1,s},Jl=(e,t,n)=>{const s=e._ctx;for(const r in e){if(Gl(r))continue;const o=e[r];if(X(o))t[r]=Zf(r,o,s);else if(o!=null){const i=ri(o);t[r]=()=>i}}},Yl=(e,t)=>{const n=ri(t);e.slots.default=()=>n},ed=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=ue(t),Ys(t,"_",n)):Jl(t,e.slots={})}else e.slots={},t&&Yl(e,t);Ys(e.slots,_r,1)},td=(e,t,n)=>{const{vnode:s,slots:r}=e;let o=!0,i=Ee;if(s.shapeFlag&32){const a=t._;a?n&&a===1?o=!1:(Ve(r,t),!n&&a===1&&delete r._):(o=!t.$stable,Jl(t,r)),i=t}else t&&(Yl(e,t),i={default:1});if(o)for(const a in r)!Gl(a)&&i[a]==null&&delete r[a]};function lo(e,t,n,s,r=!1){if(G(e)){e.forEach((p,_)=>lo(p,t&&(G(t)?t[_]:t),n,s,r));return}if(ns(s)&&!r)return;const o=s.shapeFlag&4?yr(s.component)||s.component.proxy:s.el,i=r?null:o,{i:a,r:c}=e,f=t&&t.r,u=a.refs===Ee?a.refs={}:a.refs,d=a.setupState;if(f!=null&&f!==c&&(Ie(f)?(u[f]=null,ce(d,f)&&(d[f]=null)):Be(f)&&(f.value=null)),X(c))nn(c,a,12,[i,u]);else{const p=Ie(c),_=Be(c);if(p||_){const g=()=>{if(e.f){const y=p?ce(d,c)?d[c]:u[c]:c.value;r?G(y)&&qo(y,o):G(y)?y.includes(o)||y.push(o):p?(u[c]=[o],ce(d,c)&&(d[c]=u[c])):(c.value=[o],e.k&&(u[e.k]=c.value))}else p?(u[c]=i,ce(d,c)&&(d[c]=i)):_&&(c.value=i,e.k&&(u[e.k]=i))};i?(g.id=-1,Ze(g,n)):g()}}}const Ze=$f;function nd(e){return sd(e)}function sd(e,t){const n=al();n.__VUE__=!0;const{insert:s,remove:r,patchProp:o,createElement:i,createText:a,createComment:c,setText:f,setElementText:u,parentNode:d,nextSibling:p,setScopeId:_=dt,insertStaticContent:g}=e,y=(h,m,v,A=null,w=null,R=null,M=void 0,T=null,I=!!m.dynamicChildren)=>{if(h===m)return;h&&!Gn(h,m)&&(A=S(h),Xe(h,w,R,!0),h=null),m.patchFlag===-2&&(I=!1,m.dynamicChildren=null);const{type:$,ref:U,shapeFlag:K}=m;switch($){case mr:O(h,m,v,A);break;case rn:L(h,m,v,A);break;case Br:h==null&&P(m,v,A,M);break;case we:tt(h,m,v,A,w,R,M,T,I);break;default:K&1?B(h,m,v,A,w,R,M,T,I):K&6?ct(h,m,v,A,w,R,M,T,I):(K&64||K&128)&&$.process(h,m,v,A,w,R,M,T,I,H)}U!=null&&w&&lo(U,h&&h.ref,R,m||h,!m)},O=(h,m,v,A)=>{if(h==null)s(m.el=a(m.children),v,A);else{const w=m.el=h.el;m.children!==h.children&&f(w,m.children)}},L=(h,m,v,A)=>{h==null?s(m.el=c(m.children||""),v,A):m.el=h.el},P=(h,m,v,A)=>{[h.el,h.anchor]=g(h.children,m,v,A,h.el,h.anchor)},b=({el:h,anchor:m},v,A)=>{let w;for(;h&&h!==m;)w=p(h),s(h,v,A),h=w;s(m,v,A)},k=({el:h,anchor:m})=>{let v;for(;h&&h!==m;)v=p(h),r(h),h=v;r(m)},B=(h,m,v,A,w,R,M,T,I)=>{m.type==="svg"?M="svg":m.type==="math"&&(M="mathml"),h==null?J(m,v,A,w,R,M,T,I):ie(h,m,w,R,M,T,I)},J=(h,m,v,A,w,R,M,T)=>{let I,$;const{props:U,shapeFlag:K,transition:W,dirs:Y}=h;if(I=h.el=i(h.type,R,U&&U.is,U),K&8?u(I,h.children):K&16&&re(h.children,I,null,A,w,Lr(h,R),M,T),Y&&un(h,null,A,"created"),Oe(I,h,h.scopeId,M,A),U){for(const ve in U)ve!=="value"&&!es(ve)&&o(I,ve,null,U[ve],R,h.children,A,w,Ke);"value"in U&&o(I,"value",null,U.value,R),($=U.onVnodeBeforeMount)&&St($,A,h)}Y&&un(h,null,A,"beforeMount");const ne=rd(w,W);ne&&W.beforeEnter(I),s(I,m,v),(($=U&&U.onVnodeMounted)||ne||Y)&&Ze(()=>{$&&St($,A,h),ne&&W.enter(I),Y&&un(h,null,A,"mounted")},w)},Oe=(h,m,v,A,w)=>{if(v&&_(h,v),A)for(let R=0;R<A.length;R++)_(h,A[R]);if(w){let R=w.subTree;if(m===R){const M=w.vnode;Oe(h,M,M.scopeId,M.slotScopeIds,w.parent)}}},re=(h,m,v,A,w,R,M,T,I=0)=>{for(let $=I;$<h.length;$++){const U=h[$]=T?Qt(h[$]):At(h[$]);y(null,U,m,v,A,w,R,M,T)}},ie=(h,m,v,A,w,R,M)=>{const T=m.el=h.el;let{patchFlag:I,dynamicChildren:$,dirs:U}=m;I|=h.patchFlag&16;const K=h.props||Ee,W=m.props||Ee;let Y;if(v&&fn(v,!1),(Y=W.onVnodeBeforeUpdate)&&St(Y,v,m,h),U&&un(m,h,v,"beforeUpdate"),v&&fn(v,!0),$?Te(h.dynamicChildren,$,T,v,A,Lr(m,w),R):M||pe(h,m,T,null,v,A,Lr(m,w),R,!1),I>0){if(I&16)We(T,m,K,W,v,A,w);else if(I&2&&K.class!==W.class&&o(T,"class",null,W.class,w),I&4&&o(T,"style",K.style,W.style,w),I&8){const ne=m.dynamicProps;for(let ve=0;ve<ne.length;ve++){const Ce=ne[ve],De=K[Ce],mt=W[Ce];(mt!==De||Ce==="value")&&o(T,Ce,De,mt,w,h.children,v,A,Ke)}}I&1&&h.children!==m.children&&u(T,m.children)}else!M&&$==null&&We(T,m,K,W,v,A,w);((Y=W.onVnodeUpdated)||U)&&Ze(()=>{Y&&St(Y,v,m,h),U&&un(m,h,v,"updated")},A)},Te=(h,m,v,A,w,R,M)=>{for(let T=0;T<m.length;T++){const I=h[T],$=m[T],U=I.el&&(I.type===we||!Gn(I,$)||I.shapeFlag&70)?d(I.el):v;y(I,$,U,null,A,w,R,M,!0)}},We=(h,m,v,A,w,R,M)=>{if(v!==A){if(v!==Ee)for(const T in v)!es(T)&&!(T in A)&&o(h,T,v[T],null,M,m.children,w,R,Ke);for(const T in A){if(es(T))continue;const I=A[T],$=v[T];I!==$&&T!=="value"&&o(h,T,$,I,M,m.children,w,R,Ke)}"value"in A&&o(h,"value",v.value,A.value,M)}},tt=(h,m,v,A,w,R,M,T,I)=>{const $=m.el=h?h.el:a(""),U=m.anchor=h?h.anchor:a("");let{patchFlag:K,dynamicChildren:W,slotScopeIds:Y}=m;Y&&(T=T?T.concat(Y):Y),h==null?(s($,v,A),s(U,v,A),re(m.children||[],v,U,w,R,M,T,I)):K>0&&K&64&&W&&h.dynamicChildren?(Te(h.dynamicChildren,W,v,w,R,M,T),(m.key!=null||w&&m===w.subTree)&&Ql(h,m,!0)):pe(h,m,v,U,w,R,M,T,I)},ct=(h,m,v,A,w,R,M,T,I)=>{m.slotScopeIds=T,h==null?m.shapeFlag&512?w.ctx.activate(m,v,A,M,I):cn(m,v,A,w,R,M,I):ut(h,m,I)},cn=(h,m,v,A,w,R,M)=>{const T=h.component=dd(h,A,w);if(jl(h)&&(T.ctx.renderer=H),hd(T),T.asyncDep){if(w&&w.registerDep(T,fe),!h.el){const I=T.subTree=N(rn);L(null,I,m,v)}}else fe(T,h,m,v,w,R,M)},ut=(h,m,v)=>{const A=m.component=h.component;if(Cf(h,m,v))if(A.asyncDep&&!A.asyncResolved){ye(A,m,v);return}else A.next=m,gf(A.update),A.effect.dirty=!0,A.update();else m.el=h.el,A.vnode=m},fe=(h,m,v,A,w,R,M)=>{const T=()=>{if(h.isMounted){let{next:U,bu:K,u:W,parent:Y,vnode:ne}=h;{const An=Xl(h);if(An){U&&(U.el=ne.el,ye(h,U,M)),An.asyncDep.then(()=>{h.isUnmounted||T()});return}}let ve=U,Ce;fn(h,!1),U?(U.el=ne.el,ye(h,U,M)):U=ne,K&&Fs(K),(Ce=U.props&&U.props.onVnodeBeforeUpdate)&&St(Ce,Y,U,ne),fn(h,!0);const De=Ir(h),mt=h.subTree;h.subTree=De,y(mt,De,d(mt.el),S(mt),h,w,R),U.el=De.el,ve===null&&Sf(h,De.el),W&&Ze(W,w),(Ce=U.props&&U.props.onVnodeUpdated)&&Ze(()=>St(Ce,Y,U,ne),w)}else{let U;const{el:K,props:W}=m,{bm:Y,m:ne,parent:ve}=h,Ce=ns(m);if(fn(h,!1),Y&&Fs(Y),!Ce&&(U=W&&W.onVnodeBeforeMount)&&St(U,ve,m),fn(h,!0),K&&$e){const De=()=>{h.subTree=Ir(h),$e(K,h.subTree,h,w,null)};Ce?m.type.__asyncLoader().then(()=>!h.isUnmounted&&De()):De()}else{const De=h.subTree=Ir(h);y(null,De,v,A,h,w,R),m.el=De.el}if(ne&&Ze(ne,w),!Ce&&(U=W&&W.onVnodeMounted)){const De=m;Ze(()=>St(U,ve,De),w)}(m.shapeFlag&256||ve&&ns(ve.vnode)&&ve.vnode.shapeFlag&256)&&h.a&&Ze(h.a,w),h.isMounted=!0,m=v=A=null}},I=h.effect=new Wo(T,dt,()=>ei($),h.scope),$=h.update=()=>{I.dirty&&I.run()};$.id=h.uid,fn(h,!0),$()},ye=(h,m,v)=>{m.component=h;const A=h.vnode.props;h.vnode=m,h.next=null,Xf(h,m.props,A,v),td(h,m.children,v),bn(),Bi(h),wn()},pe=(h,m,v,A,w,R,M,T,I=!1)=>{const $=h&&h.children,U=h?h.shapeFlag:0,K=m.children,{patchFlag:W,shapeFlag:Y}=m;if(W>0){if(W&128){Wt($,K,v,A,w,R,M,T,I);return}else if(W&256){Nt($,K,v,A,w,R,M,T,I);return}}Y&8?(U&16&&Ke($,w,R),K!==$&&u(v,K)):U&16?Y&16?Wt($,K,v,A,w,R,M,T,I):Ke($,w,R,!0):(U&8&&u(v,""),Y&16&&re(K,v,A,w,R,M,T,I))},Nt=(h,m,v,A,w,R,M,T,I)=>{h=h||Rn,m=m||Rn;const $=h.length,U=m.length,K=Math.min($,U);let W;for(W=0;W<K;W++){const Y=m[W]=I?Qt(m[W]):At(m[W]);y(h[W],Y,v,null,w,R,M,T,I)}$>U?Ke(h,w,R,!0,!1,K):re(m,v,A,w,R,M,T,I,K)},Wt=(h,m,v,A,w,R,M,T,I)=>{let $=0;const U=m.length;let K=h.length-1,W=U-1;for(;$<=K&&$<=W;){const Y=h[$],ne=m[$]=I?Qt(m[$]):At(m[$]);if(Gn(Y,ne))y(Y,ne,v,null,w,R,M,T,I);else break;$++}for(;$<=K&&$<=W;){const Y=h[K],ne=m[W]=I?Qt(m[W]):At(m[W]);if(Gn(Y,ne))y(Y,ne,v,null,w,R,M,T,I);else break;K--,W--}if($>K){if($<=W){const Y=W+1,ne=Y<U?m[Y].el:A;for(;$<=W;)y(null,m[$]=I?Qt(m[$]):At(m[$]),v,ne,w,R,M,T,I),$++}}else if($>W)for(;$<=K;)Xe(h[$],w,R,!0),$++;else{const Y=$,ne=$,ve=new Map;for($=ne;$<=W;$++){const nt=m[$]=I?Qt(m[$]):At(m[$]);nt.key!=null&&ve.set(nt.key,$)}let Ce,De=0;const mt=W-ne+1;let An=!1,Ai=0;const zn=new Array(mt);for($=0;$<mt;$++)zn[$]=0;for($=Y;$<=K;$++){const nt=h[$];if(De>=mt){Xe(nt,w,R,!0);continue}let Ct;if(nt.key!=null)Ct=ve.get(nt.key);else for(Ce=ne;Ce<=W;Ce++)if(zn[Ce-ne]===0&&Gn(nt,m[Ce])){Ct=Ce;break}Ct===void 0?Xe(nt,w,R,!0):(zn[Ct-ne]=$+1,Ct>=Ai?Ai=Ct:An=!0,y(nt,m[Ct],v,null,w,R,M,T,I),De++)}const ki=An?od(zn):Rn;for(Ce=ki.length-1,$=mt-1;$>=0;$--){const nt=ne+$,Ct=m[nt],$i=nt+1<U?m[nt+1].el:A;zn[$]===0?y(null,Ct,v,$i,w,R,M,T,I):An&&(Ce<0||$!==ki[Ce]?Et(Ct,v,$i,2):Ce--)}}},Et=(h,m,v,A,w=null)=>{const{el:R,type:M,transition:T,children:I,shapeFlag:$}=h;if($&6){Et(h.component.subTree,m,v,A);return}if($&128){h.suspense.move(m,v,A);return}if($&64){M.move(h,m,v,H);return}if(M===we){s(R,m,v);for(let K=0;K<I.length;K++)Et(I[K],m,v,A);s(h.anchor,m,v);return}if(M===Br){b(h,m,v);return}if(A!==2&&$&1&&T)if(A===0)T.beforeEnter(R),s(R,m,v),Ze(()=>T.enter(R),w);else{const{leave:K,delayLeave:W,afterLeave:Y}=T,ne=()=>s(R,m,v),ve=()=>{K(R,()=>{ne(),Y&&Y()})};W?W(R,ne,ve):ve()}else s(R,m,v)},Xe=(h,m,v,A=!1,w=!1)=>{const{type:R,props:M,ref:T,children:I,dynamicChildren:$,shapeFlag:U,patchFlag:K,dirs:W}=h;if(T!=null&&lo(T,null,v,h,!0),U&256){m.ctx.deactivate(h);return}const Y=U&1&&W,ne=!ns(h);let ve;if(ne&&(ve=M&&M.onVnodeBeforeUnmount)&&St(ve,m,h),U&6)ks(h.component,v,A);else{if(U&128){h.suspense.unmount(v,A);return}Y&&un(h,null,m,"beforeUnmount"),U&64?h.type.remove(h,m,v,w,H,A):$&&(R!==we||K>0&&K&64)?Ke($,m,v,!1,!0):(R===we&&K&384||!w&&U&16)&&Ke(I,m,v),A&&Cn(h)}(ne&&(ve=M&&M.onVnodeUnmounted)||Y)&&Ze(()=>{ve&&St(ve,m,h),Y&&un(h,null,m,"unmounted")},v)},Cn=h=>{const{type:m,el:v,anchor:A,transition:w}=h;if(m===we){Sn(v,A);return}if(m===Br){k(h);return}const R=()=>{r(v),w&&!w.persisted&&w.afterLeave&&w.afterLeave()};if(h.shapeFlag&1&&w&&!w.persisted){const{leave:M,delayLeave:T}=w,I=()=>M(v,R);T?T(h.el,R,I):I()}else R()},Sn=(h,m)=>{let v;for(;h!==m;)v=p(h),r(h),h=v;r(m)},ks=(h,m,v)=>{const{bum:A,scope:w,update:R,subTree:M,um:T}=h;A&&Fs(A),w.stop(),R&&(R.active=!1,Xe(M,h,m,v)),T&&Ze(T,m),Ze(()=>{h.isUnmounted=!0},m),m&&m.pendingBranch&&!m.isUnmounted&&h.asyncDep&&!h.asyncResolved&&h.suspenseId===m.pendingId&&(m.deps--,m.deps===0&&m.resolve())},Ke=(h,m,v,A=!1,w=!1,R=0)=>{for(let M=R;M<h.length;M++)Xe(h[M],m,v,A,w)},S=h=>h.shapeFlag&6?S(h.component.subTree):h.shapeFlag&128?h.suspense.next():p(h.anchor||h.el);let F=!1;const D=(h,m,v)=>{h==null?m._vnode&&Xe(m._vnode,null,null,!0):y(m._vnode||null,h,m,null,null,null,v),F||(F=!0,Bi(),Il(),F=!1),m._vnode=h},H={p:y,um:Xe,m:Et,r:Cn,mt:cn,mc:re,pc:pe,pbc:Te,n:S,o:e};let _e,$e;return{render:D,hydrate:_e,createApp:Jf(D,_e)}}function Lr({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function fn({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function rd(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Ql(e,t,n=!1){const s=e.children,r=t.children;if(G(s)&&G(r))for(let o=0;o<s.length;o++){const i=s[o];let a=r[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[o]=Qt(r[o]),a.el=i.el),n||Ql(i,a)),a.type===mr&&(a.el=i.el)}}function od(e){const t=e.slice(),n=[0];let s,r,o,i,a;const c=e.length;for(s=0;s<c;s++){const f=e[s];if(f!==0){if(r=n[n.length-1],e[r]<f){t[s]=r,n.push(s);continue}for(o=0,i=n.length-1;o<i;)a=o+i>>1,e[n[a]]<f?o=a+1:i=a;f<e[n[o]]&&(o>0&&(t[s]=n[o-1]),n[o]=s)}}for(o=n.length,i=n[o-1];o-- >0;)n[o]=i,i=t[i];return n}function Xl(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Xl(t)}const id=e=>e.__isTeleport,we=Symbol.for("v-fgt"),mr=Symbol.for("v-txt"),rn=Symbol.for("v-cmt"),Br=Symbol.for("v-stc"),rs=[];let yt=null;function C(e=!1){rs.push(yt=e?null:[])}function ad(){rs.pop(),yt=rs[rs.length-1]||null}let ds=1;function zi(e){ds+=e}function Zl(e){return e.dynamicChildren=ds>0?yt||Rn:null,ad(),ds>0&&yt&&yt.push(e),e}function x(e,t,n,s,r,o){return Zl(l(e,t,n,s,r,o,!0))}function Ne(e,t,n,s,r){return Zl(N(e,t,n,s,r,!0))}function tr(e){return e?e.__v_isVNode===!0:!1}function Gn(e,t){return e.type===t.type&&e.key===t.key}const _r="__vInternal",ec=({key:e})=>e??null,Hs=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Ie(e)||Be(e)||X(e)?{i:Le,r:e,k:t,f:!!n}:e:null);function l(e,t=null,n=null,s=0,r=null,o=e===we?0:1,i=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&ec(t),ref:t&&Hs(t),scopeId:hr,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Le};return a?(oi(c,n),o&128&&e.normalize(c)):n&&(c.shapeFlag|=Ie(n)?8:16),ds>0&&!i&&yt&&(c.patchFlag>0||o&6)&&c.patchFlag!==32&&yt.push(c),c}const N=ld;function ld(e,t=null,n=null,s=0,r=null,o=!1){if((!e||e===Dl)&&(e=rn),tr(e)){const a=Bn(e,t,!0);return n&&oi(a,n),ds>0&&!o&&yt&&(a.shapeFlag&6?yt[yt.indexOf(e)]=a:yt.push(a)),a.patchFlag|=-2,a}if(yd(e)&&(e=e.__vccOpts),t){t=cd(t);let{class:a,style:c}=t;a&&!Ie(a)&&(t.class=me(a)),Se(c)&&(kl(c)&&!G(c)&&(c=Ve({},c)),t.style=on(c))}const i=Ie(e)?1:kf(e)?128:id(e)?64:Se(e)?4:X(e)?2:0;return l(e,t,n,s,r,i,o,!0)}function cd(e){return e?kl(e)||_r in e?Ve({},e):e:null}function Bn(e,t,n=!1){const{props:s,ref:r,patchFlag:o,children:i}=e,a=t?tc(s||{},t):s;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&ec(a),ref:t&&t.ref?n&&r?G(r)?r.concat(Hs(t)):[r,Hs(t)]:Hs(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:i,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==we?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Bn(e.ssContent),ssFallback:e.ssFallback&&Bn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function he(e=" ",t=0){return N(mr,null,e,t)}function Z(e="",t=!1){return t?(C(),Ne(rn,null,e)):N(rn,null,e)}function At(e){return e==null||typeof e=="boolean"?N(rn):G(e)?N(we,null,e.slice()):typeof e=="object"?Qt(e):N(mr,null,String(e))}function Qt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Bn(e)}function oi(e,t){let n=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(G(t))n=16;else if(typeof t=="object")if(s&65){const r=t.default;r&&(r._c&&(r._d=!1),oi(e,r()),r._c&&(r._d=!0));return}else{n=32;const r=t._;!r&&!(_r in t)?t._ctx=Le:r===3&&Le&&(Le.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else X(t)?(t={default:t,_ctx:Le},n=32):(t=String(t),s&64?(n=16,t=[he(t)]):n=8);e.children=t,e.shapeFlag|=n}function tc(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const r in s)if(r==="class")t.class!==s.class&&(t.class=me([t.class,s.class]));else if(r==="style")t.style=on([t.style,s.style]);else if(or(r)){const o=t[r],i=s[r];i&&o!==i&&!(G(o)&&o.includes(i))&&(t[r]=o?[].concat(o,i):i)}else r!==""&&(t[r]=s[r])}return t}function St(e,t,n,s=null){vt(e,t,7,[n,s])}const ud=Wl();let fd=0;function dd(e,t,n){const s=e.type,r=(t?t.appContext:e.appContext)||ud,o={uid:fd++,vnode:e,type:s,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new ul(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:zl(s,r),emitsOptions:Ll(s,r),emit:null,emitted:null,propsDefaults:Ee,inheritAttrs:s.inheritAttrs,ctx:Ee,data:Ee,props:Ee,attrs:Ee,slots:Ee,refs:Ee,setupState:Ee,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=bf.bind(null,o),e.ce&&e.ce(o),o}let je=null,nr,co;{const e=al(),t=(n,s)=>{let r;return(r=e[n])||(r=e[n]=[]),r.push(s),o=>{r.length>1?r.forEach(i=>i(o)):r[0](o)}};nr=t("__VUE_INSTANCE_SETTERS__",n=>je=n),co=t("__VUE_SSR_SETTERS__",n=>gr=n)}const ys=e=>{const t=je;return nr(e),e.scope.on(),()=>{e.scope.off(),nr(t)}},Gi=()=>{je&&je.scope.off(),nr(null)};function nc(e){return e.vnode.shapeFlag&4}let gr=!1;function hd(e,t=!1){t&&co(t);const{props:n,children:s}=e.vnode,r=nc(e);Qf(e,n,r,t),ed(e,s);const o=r?pd(e,t):void 0;return t&&co(!1),o}function pd(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=ur(new Proxy(e.ctx,Hf));const{setup:s}=n;if(s){const r=e.setupContext=s.length>1?_d(e):null,o=ys(e);bn();const i=nn(s,e,0,[e.props,r]);if(wn(),o(),rl(i)){if(i.then(Gi,Gi),t)return i.then(a=>{Ji(e,a,t)}).catch(a=>{fr(a,e,0)});e.asyncDep=i}else Ji(e,i,t)}else sc(e,t)}function Ji(e,t,n){X(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Se(t)&&(e.setupState=Tl(t)),sc(e,n)}let Yi;function sc(e,t,n){const s=e.type;if(!e.render){if(!t&&Yi&&!s.render){const r=s.template||si(e).template;if(r){const{isCustomElement:o,compilerOptions:i}=e.appContext.config,{delimiters:a,compilerOptions:c}=s,f=Ve(Ve({isCustomElement:o,delimiters:a},i),c);s.render=Yi(r,f)}}e.render=s.render||dt}{const r=ys(e);bn();try{qf(e)}finally{wn(),r()}}}function md(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return et(e,"get","$attrs"),t[n]}}))}function _d(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return md(e)},slots:e.slots,emit:e.emit,expose:t}}function yr(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Tl(ur(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in ss)return ss[n](e)},has(t,n){return n in t||n in ss}}))}function gd(e,t=!0){return X(e)?e.displayName||e.name:e.name||t&&e.__name}function yd(e){return X(e)&&"__vccOpts"in e}const ee=(e,t)=>cf(e,t,gr);function rc(e,t,n){const s=arguments.length;return s===2?Se(t)&&!G(t)?tr(t)?N(e,null,[t]):N(e,t):N(e,null,t):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&tr(n)&&(n=[n]),N(e,t,n))}const vd="3.4.21";/**
* @vue/runtime-dom v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const bd="http://www.w3.org/2000/svg",wd="http://www.w3.org/1998/Math/MathML",Xt=typeof document<"u"?document:null,Qi=Xt&&Xt.createElement("template"),Ed={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{const r=t==="svg"?Xt.createElementNS(bd,e):t==="mathml"?Xt.createElementNS(wd,e):Xt.createElement(e,n?{is:n}:void 0);return e==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:e=>Xt.createTextNode(e),createComment:e=>Xt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Xt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,s,r,o){const i=n?n.previousSibling:t.lastChild;if(r&&(r===o||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),n),!(r===o||!(r=r.nextSibling)););else{Qi.innerHTML=s==="svg"?`<svg>${e}</svg>`:s==="mathml"?`<math>${e}</math>`:e;const a=Qi.content;if(s==="svg"||s==="mathml"){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}t.insertBefore(a,n)}return[i?i.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Cd=Symbol("_vtc");function Sd(e,t,n){const s=e[Cd];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Xi=Symbol("_vod"),Ad=Symbol("_vsh"),kd=Symbol(""),$d=/(^|;)\s*display\s*:/;function xd(e,t,n){const s=e.style,r=Ie(n);let o=!1;if(n&&!r){if(t)if(Ie(t))for(const i of t.split(";")){const a=i.slice(0,i.indexOf(":")).trim();n[a]==null&&qs(s,a,"")}else for(const i in t)n[i]==null&&qs(s,i,"");for(const i in n)i==="display"&&(o=!0),qs(s,i,n[i])}else if(r){if(t!==n){const i=s[kd];i&&(n+=";"+i),s.cssText=n,o=$d.test(n)}}else t&&e.removeAttribute("style");Xi in e&&(e[Xi]=o?s.display:"",e[Ad]&&(s.display="none"))}const Zi=/\s*!important$/;function qs(e,t,n){if(G(n))n.forEach(s=>qs(e,t,s));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const s=Od(e,t);Zi.test(n)?e.setProperty(vn(s),n.replace(Zi,""),"important"):e[s]=n}}const ea=["Webkit","Moz","ms"],Dr={};function Od(e,t){const n=Dr[t];if(n)return n;let s=Tt(t);if(s!=="filter"&&s in e)return Dr[t]=s;s=lr(s);for(let r=0;r<ea.length;r++){const o=ea[r]+s;if(o in e)return Dr[t]=o}return t}const ta="http://www.w3.org/1999/xlink";function Td(e,t,n,s,r){if(s&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(ta,t.slice(6,t.length)):e.setAttributeNS(ta,t,n);else{const o=Fu(t);n==null||o&&!ll(n)?e.removeAttribute(t):e.setAttribute(t,o?"":n)}}function Rd(e,t,n,s,r,o,i){if(t==="innerHTML"||t==="textContent"){s&&i(s,r,o),e[t]=n??"";return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){const f=a==="OPTION"?e.getAttribute("value")||"":e.value,u=n??"";(f!==u||!("_value"in e))&&(e.value=u),n==null&&e.removeAttribute(t),e._value=n;return}let c=!1;if(n===""||n==null){const f=typeof e[t];f==="boolean"?n=ll(n):n==null&&f==="string"?(n="",c=!0):f==="number"&&(n=0,c=!0)}try{e[t]=n}catch{}c&&e.removeAttribute(t)}function $n(e,t,n,s){e.addEventListener(t,n,s)}function Pd(e,t,n,s){e.removeEventListener(t,n,s)}const na=Symbol("_vei");function Id(e,t,n,s,r=null){const o=e[na]||(e[na]={}),i=o[t];if(s&&i)i.value=s;else{const[a,c]=Nd(t);if(s){const f=o[t]=Dd(s,r);$n(e,a,f,c)}else i&&(Pd(e,a,i,c),o[t]=void 0)}}const sa=/(?:Once|Passive|Capture)$/;function Nd(e){let t;if(sa.test(e)){t={};let s;for(;s=e.match(sa);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):vn(e.slice(2)),t]}let Mr=0;const Ld=Promise.resolve(),Bd=()=>Mr||(Ld.then(()=>Mr=0),Mr=Date.now());function Dd(e,t){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;vt(Md(s,n.value),t,5,[s])};return n.value=e,n.attached=Bd(),n}function Md(e,t){if(G(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(s=>r=>!r._stopped&&s&&s(r))}else return t}const ra=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Fd=(e,t,n,s,r,o,i,a,c)=>{const f=r==="svg";t==="class"?Sd(e,s,f):t==="style"?xd(e,n,s):or(t)?Ho(t)||Id(e,t,n,s,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Ud(e,t,s,f))?Rd(e,t,s,o,i,a,c):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),Td(e,t,s,f))};function Ud(e,t,n,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in e&&ra(t)&&X(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return ra(t)&&Ie(n)?!1:t in e}const oa=e=>{const t=e.props["onUpdate:modelValue"]||!1;return G(t)?n=>Fs(t,n):t};function jd(e){e.target.composing=!0}function ia(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Fr=Symbol("_assign"),He={created(e,{modifiers:{lazy:t,trim:n,number:s}},r){e[Fr]=oa(r);const o=s||r.props&&r.props.type==="number";$n(e,t?"change":"input",i=>{if(i.target.composing)return;let a=e.value;n&&(a=a.trim()),o&&(a=Xr(a)),e[Fr](a)}),n&&$n(e,"change",()=>{e.value=e.value.trim()}),t||($n(e,"compositionstart",jd),$n(e,"compositionend",ia),$n(e,"change",ia))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:s,number:r}},o){if(e[Fr]=oa(o),e.composing)return;const i=r||e.type==="number"?Xr(e.value):e.value,a=t??"";i!==a&&(document.activeElement===e&&e.type!=="range"&&(n||s&&e.value.trim()===a)||(e.value=a))}},Hd={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},vs=(e,t)=>{const n=e._withKeys||(e._withKeys={}),s=t.join(".");return n[s]||(n[s]=r=>{if(!("key"in r))return;const o=vn(r.key);if(t.some(i=>i===o||Hd[i]===o))return e(r)})},qd=Ve({patchProp:Fd},Ed);let aa;function Vd(){return aa||(aa=nd(qd))}const Wd=(...e)=>{const t=Vd().createApp(...e),{mount:n}=t;return t.mount=s=>{const r=zd(s);if(!r)return;const o=t._component;!X(o)&&!o.render&&!o.template&&(o.template=r.innerHTML),r.innerHTML="";const i=n(r,!1,Kd(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),i},t};function Kd(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function zd(e){return Ie(e)?document.querySelector(e):e}var Gd=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let oc;const vr=e=>oc=e,ic=Symbol();function uo(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var os;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(os||(os={}));function Jd(){const e=fl(!0),t=e.run(()=>j({}));let n=[],s=[];const r=ur({install(o){vr(r),r._a=o,o.provide(ic,r),o.config.globalProperties.$pinia=r,s.forEach(i=>n.push(i)),s=[]},use(o){return!this._a&&!Gd?s.push(o):n.push(o),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return r}const ac=()=>{};function la(e,t,n,s=ac){e.push(t);const r=()=>{const o=e.indexOf(t);o>-1&&(e.splice(o,1),s())};return!n&&dl()&&ju(r),r}function kn(e,...t){e.slice().forEach(n=>{n(...t)})}const Yd=e=>e();function fo(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,s)=>e.set(s,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const s=t[n],r=e[n];uo(r)&&uo(s)&&e.hasOwnProperty(n)&&!Be(s)&&!tn(s)?e[n]=fo(r,s):e[n]=s}return e}const Qd=Symbol();function Xd(e){return!uo(e)||!e.hasOwnProperty(Qd)}const{assign:Jt}=Object;function Zd(e){return!!(Be(e)&&e.effect)}function eh(e,t,n,s){const{state:r,actions:o,getters:i}=t,a=n.state.value[e];let c;function f(){a||(n.state.value[e]=r?r():{});const u=df(n.state.value[e]);return Jt(u,o,Object.keys(i||{}).reduce((d,p)=>(d[p]=ur(ee(()=>{vr(n);const _=n._s.get(e);return i[p].call(_,_)})),d),{}))}return c=lc(e,f,t,n,s,!0),c}function lc(e,t,n={},s,r,o){let i;const a=Jt({actions:{}},n),c={deep:!0};let f,u,d=[],p=[],_;const g=s.state.value[e];!o&&!g&&(s.state.value[e]={}),j({});let y;function O(re){let ie;f=u=!1,typeof re=="function"?(re(s.state.value[e]),ie={type:os.patchFunction,storeId:e,events:_}):(fo(s.state.value[e],re),ie={type:os.patchObject,payload:re,storeId:e,events:_});const Te=y=Symbol();Zo().then(()=>{y===Te&&(f=!0)}),u=!0,kn(d,ie,s.state.value[e])}const L=o?function(){const{state:ie}=n,Te=ie?ie():{};this.$patch(We=>{Jt(We,Te)})}:ac;function P(){i.stop(),d=[],p=[],s._s.delete(e)}function b(re,ie){return function(){vr(s);const Te=Array.from(arguments),We=[],tt=[];function ct(fe){We.push(fe)}function cn(fe){tt.push(fe)}kn(p,{args:Te,name:re,store:B,after:ct,onError:cn});let ut;try{ut=ie.apply(this&&this.$id===e?this:B,Te)}catch(fe){throw kn(tt,fe),fe}return ut instanceof Promise?ut.then(fe=>(kn(We,fe),fe)).catch(fe=>(kn(tt,fe),Promise.reject(fe))):(kn(We,ut),ut)}}const k={_p:s,$id:e,$onAction:la.bind(null,p),$patch:O,$reset:L,$subscribe(re,ie={}){const Te=la(d,re,ie.detached,()=>We()),We=i.run(()=>ts(()=>s.state.value[e],tt=>{(ie.flush==="sync"?u:f)&&re({storeId:e,type:os.direct,events:_},tt)},Jt({},c,ie)));return Te},$dispose:P},B=gs(k);s._s.set(e,B);const Oe=(s._a&&s._a.runWithContext||Yd)(()=>s._e.run(()=>(i=fl()).run(t)));for(const re in Oe){const ie=Oe[re];if(Be(ie)&&!Zd(ie)||tn(ie))o||(g&&Xd(ie)&&(Be(ie)?ie.value=g[re]:fo(ie,g[re])),s.state.value[e][re]=ie);else if(typeof ie=="function"){const Te=b(re,ie);Oe[re]=Te,a.actions[re]=ie}}return Jt(B,Oe),Jt(ue(B),Oe),Object.defineProperty(B,"$state",{get:()=>s.state.value[e],set:re=>{O(ie=>{Jt(ie,re)})}}),s._p.forEach(re=>{Jt(B,i.run(()=>re({store:B,app:s._a,pinia:s,options:a})))}),g&&o&&n.hydrate&&n.hydrate(B.$state,g),f=!0,u=!0,B}function ii(e,t,n){let s,r;const o=typeof t=="function";typeof e=="string"?(s=e,r=o?n:t):(r=e,s=e.id);function i(a,c){const f=Yf();return a=a||(f?bt(ic,null):null),a&&vr(a),a=oc,a._s.has(s)||(o?lc(s,t,r,a):eh(s,r,a)),a._s.get(s)}return i.$id=s,i}const th="bitd-vtt-client",nh="1.0.30",sh="module",rh={dev:"vite",colors:"node ./scripts/common-colors.mjs",build:"npm run colors && vue-tsc && vite build && node scripts/copy-index-as-404.mjs",preview:"vite preview",deploy:"node ./scripts/increment-version.mjs && npm run build && gh-pages -d dist"},oh={"@types/fast-json-patch":"^1.1.5","@types/socket.io-client":"^3.0.0","@types/uuid":"^9.0.8","@types/ws":"^8.5.10",axios:"^1.6.8",chalk:"^5.3.0","fast-json-patch":"^3.1.1","gh-pages":"^6.1.1","node-vibrant":"^3.2.1-alpha.1",pinia:"^2.1.7",rxjs:"^7.8.1","socket.io-client":"^4.7.5",uuid:"^9.0.1",vue:"^3.4.19","vue-router":"^4.3.2",ws:"^8.17.0"},ih={"@types/node":"^20.12.8","@vitejs/plugin-vue":"^5.0.4",sass:"^1.74.1",typescript:"^5.2.2",vite:"^5.1.4","vue-tsc":"^1.8.27"},ah={name:th,private:!0,version:nh,type:sh,scripts:rh,dependencies:oh,devDependencies:ih},cc=e=>(Ae("data-v-e5afb3c7"),e=e(),ke(),e),lh=cc(()=>l("span",{class:"online"},"online",-1)),ch=cc(()=>l("span",{class:"in-the-dark"},"in the Dark",-1)),uh=[lh,ch],fh=se({__name:"Logo",props:{big:{type:Boolean}},setup(e){const t=e;return(n,s)=>(C(),x("div",{class:me(["logo",{big:t.big}])},uh,2))}}),le=(e,t)=>{const n=e.__vccOpts||e;for(const[s,r]of t)n[s]=r;return n},uc=le(fh,[["__scopeId","data-v-e5afb3c7"]]),dh=e=>(Ae("data-v-63440d07"),e=e(),ke(),e),hh={class:"loading"},ph=dh(()=>l("i",{class:"fas fa-circle-notch fa-spin"},null,-1)),mh=se({__name:"LoadingModal",setup(e){return(t,n)=>(C(),x("div",hh,[N(uc,{big:""}),ph]))}}),bs=le(mh,[["__scopeId","data-v-63440d07"]]);var ho=function(e,t){return ho=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(n[r]=s[r])},ho(e,t)};function br(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");ho(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function po(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],s=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&s>=e.length&&(e=void 0),{value:e&&e[s++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function mo(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var s=n.call(e),r,o=[],i;try{for(;(t===void 0||t-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function _o(e,t,n){if(n||arguments.length===2)for(var s=0,r=t.length,o;s<r;s++)(o||!(s in t))&&(o||(o=Array.prototype.slice.call(t,0,s)),o[s]=t[s]);return e.concat(o||Array.prototype.slice.call(t))}function Dt(e){return typeof e=="function"}function fc(e){var t=function(s){Error.call(s),s.stack=new Error().stack},n=e(t);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ur=fc(function(e){return function(n){e(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(s,r){return r+1+") "+s.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function go(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var wr=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,n,s,r,o;if(!this.closed){this.closed=!0;var i=this._parentage;if(i)if(this._parentage=null,Array.isArray(i))try{for(var a=po(i),c=a.next();!c.done;c=a.next()){var f=c.value;f.remove(this)}}catch(y){t={error:y}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}else i.remove(this);var u=this.initialTeardown;if(Dt(u))try{u()}catch(y){o=y instanceof Ur?y.errors:[y]}var d=this._finalizers;if(d){this._finalizers=null;try{for(var p=po(d),_=p.next();!_.done;_=p.next()){var g=_.value;try{ca(g)}catch(y){o=o??[],y instanceof Ur?o=_o(_o([],mo(o)),mo(y.errors)):o.push(y)}}}catch(y){s={error:y}}finally{try{_&&!_.done&&(r=p.return)&&r.call(p)}finally{if(s)throw s.error}}}if(o)throw new Ur(o)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)ca(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}},e.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},e.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},e.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&go(n,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&go(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),dc=wr.EMPTY;function hc(e){return e instanceof wr||e&&"closed"in e&&Dt(e.remove)&&Dt(e.add)&&Dt(e.unsubscribe)}function ca(e){Dt(e)?e():e.unsubscribe()}var pc={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},mc={setTimeout:function(e,t){for(var n=[],s=2;s<arguments.length;s++)n[s-2]=arguments[s];return setTimeout.apply(void 0,_o([e,t],mo(n)))},clearTimeout:function(e){var t=mc.delegate;return((t==null?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function _h(e){mc.setTimeout(function(){throw e})}function ua(){}function Vs(e){e()}var _c=function(e){br(t,e);function t(n){var s=e.call(this)||this;return s.isStopped=!1,n?(s.destination=n,hc(n)&&n.add(s)):s.destination=bh,s}return t.create=function(n,s,r){return new yo(n,s,r)},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(wr),gh=Function.prototype.bind;function jr(e,t){return gh.call(e,t)}var yh=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(s){Is(s)}},e.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(s){Is(s)}else Is(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(n){Is(n)}},e}(),yo=function(e){br(t,e);function t(n,s,r){var o=e.call(this)||this,i;if(Dt(n)||!n)i={next:n??void 0,error:s??void 0,complete:r??void 0};else{var a;o&&pc.useDeprecatedNextContext?(a=Object.create(n),a.unsubscribe=function(){return o.unsubscribe()},i={next:n.next&&jr(n.next,a),error:n.error&&jr(n.error,a),complete:n.complete&&jr(n.complete,a)}):i=n}return o.destination=new yh(i),o}return t}(_c);function Is(e){_h(e)}function vh(e){throw e}var bh={closed:!0,next:ua,error:vh,complete:ua},wh=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Eh(e){return e}function Ch(e){return e.length===0?Eh:e.length===1?e[0]:function(n){return e.reduce(function(s,r){return r(s)},n)}}var fa=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,s){var r=this,o=Ah(t)?t:new yo(t,n,s);return Vs(function(){var i=r,a=i.operator,c=i.source;o.add(a?a.call(o,c):c?r._subscribe(o):r._trySubscribe(o))}),o},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},e.prototype.forEach=function(t,n){var s=this;return n=da(n),new n(function(r,o){var i=new yo({next:function(a){try{t(a)}catch(c){o(c),i.unsubscribe()}},error:o,complete:r});s.subscribe(i)})},e.prototype._subscribe=function(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)},e.prototype[wh]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Ch(t)(this)},e.prototype.toPromise=function(t){var n=this;return t=da(t),new t(function(s,r){var o;n.subscribe(function(i){return o=i},function(i){return r(i)},function(){return s(o)})})},e.create=function(t){return new e(t)},e}();function da(e){var t;return(t=e??pc.Promise)!==null&&t!==void 0?t:Promise}function Sh(e){return e&&Dt(e.next)&&Dt(e.error)&&Dt(e.complete)}function Ah(e){return e&&e instanceof _c||Sh(e)&&hc(e)}var kh=fc(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),gc=function(e){br(t,e);function t(){var n=e.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return t.prototype.lift=function(n){var s=new ha(this,this);return s.operator=n,s},t.prototype._throwIfClosed=function(){if(this.closed)throw new kh},t.prototype.next=function(n){var s=this;Vs(function(){var r,o;if(s._throwIfClosed(),!s.isStopped){s.currentObservers||(s.currentObservers=Array.from(s.observers));try{for(var i=po(s.currentObservers),a=i.next();!a.done;a=i.next()){var c=a.value;c.next(n)}}catch(f){r={error:f}}finally{try{a&&!a.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}}})},t.prototype.error=function(n){var s=this;Vs(function(){if(s._throwIfClosed(),!s.isStopped){s.hasError=s.isStopped=!0,s.thrownError=n;for(var r=s.observers;r.length;)r.shift().error(n)}})},t.prototype.complete=function(){var n=this;Vs(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var s=n.observers;s.length;)s.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(n){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,n)},t.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},t.prototype._innerSubscribe=function(n){var s=this,r=this,o=r.hasError,i=r.isStopped,a=r.observers;return o||i?dc:(this.currentObservers=null,a.push(n),new wr(function(){s.currentObservers=null,go(a,n)}))},t.prototype._checkFinalizedStatuses=function(n){var s=this,r=s.hasError,o=s.thrownError,i=s.isStopped;r?n.error(o):i&&n.complete()},t.prototype.asObservable=function(){var n=new fa;return n.source=this,n},t.create=function(n,s){return new ha(n,s)},t}(fa),ha=function(e){br(t,e);function t(n,s){var r=e.call(this)||this;return r.destination=n,r.source=s,r}return t.prototype.next=function(n){var s,r;(r=(s=this.destination)===null||s===void 0?void 0:s.next)===null||r===void 0||r.call(s,n)},t.prototype.error=function(n){var s,r;(r=(s=this.destination)===null||s===void 0?void 0:s.error)===null||r===void 0||r.call(s,n)},t.prototype.complete=function(){var n,s;(s=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||s===void 0||s.call(n)},t.prototype._subscribe=function(n){var s,r;return(r=(s=this.source)===null||s===void 0?void 0:s.subscribe(n))!==null&&r!==void 0?r:dc},t}(gc);class z{constructor(){be(this,"subject",new gc)}static getInstance(){return this.instance||(this.instance=new this)}dispatch(t){this.subject.next(t)}static open(t,n){this.getInstance().dispatch({modal:t,modalConfig:n})}static close(t){this.getInstance().dispatch({modal:null}),t&&t()}addEventListener(t){this.subject.subscribe(t)}removeEventListener(){this.subject.unsubscribe()}}be(z,"instance",null);function yc(e,t){return function(){return e.apply(t,arguments)}}const{toString:$h}=Object.prototype,{getPrototypeOf:ai}=Object,Er=(e=>t=>{const n=$h.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),It=e=>(e=e.toLowerCase(),t=>Er(t)===e),Cr=e=>t=>typeof t===e,{isArray:Hn}=Array,hs=Cr("undefined");function xh(e){return e!==null&&!hs(e)&&e.constructor!==null&&!hs(e.constructor)&&ht(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const vc=It("ArrayBuffer");function Oh(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&vc(e.buffer),t}const Th=Cr("string"),ht=Cr("function"),bc=Cr("number"),Sr=e=>e!==null&&typeof e=="object",Rh=e=>e===!0||e===!1,Ws=e=>{if(Er(e)!=="object")return!1;const t=ai(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Ph=It("Date"),Ih=It("File"),Nh=It("Blob"),Lh=It("FileList"),Bh=e=>Sr(e)&&ht(e.pipe),Dh=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ht(e.append)&&((t=Er(e))==="formdata"||t==="object"&&ht(e.toString)&&e.toString()==="[object FormData]"))},Mh=It("URLSearchParams"),Fh=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ws(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let s,r;if(typeof e!="object"&&(e=[e]),Hn(e))for(s=0,r=e.length;s<r;s++)t.call(null,e[s],s,e);else{const o=n?Object.getOwnPropertyNames(e):Object.keys(e),i=o.length;let a;for(s=0;s<i;s++)a=o[s],t.call(null,e[a],a,e)}}function wc(e,t){t=t.toLowerCase();const n=Object.keys(e);let s=n.length,r;for(;s-- >0;)if(r=n[s],t===r.toLowerCase())return r;return null}const Ec=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Cc=e=>!hs(e)&&e!==Ec;function vo(){const{caseless:e}=Cc(this)&&this||{},t={},n=(s,r)=>{const o=e&&wc(t,r)||r;Ws(t[o])&&Ws(s)?t[o]=vo(t[o],s):Ws(s)?t[o]=vo({},s):Hn(s)?t[o]=s.slice():t[o]=s};for(let s=0,r=arguments.length;s<r;s++)arguments[s]&&ws(arguments[s],n);return t}const Uh=(e,t,n,{allOwnKeys:s}={})=>(ws(t,(r,o)=>{n&&ht(r)?e[o]=yc(r,n):e[o]=r},{allOwnKeys:s}),e),jh=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Hh=(e,t,n,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},qh=(e,t,n,s)=>{let r,o,i;const a={};if(t=t||{},e==null)return t;do{for(r=Object.getOwnPropertyNames(e),o=r.length;o-- >0;)i=r[o],(!s||s(i,e,t))&&!a[i]&&(t[i]=e[i],a[i]=!0);e=n!==!1&&ai(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},Vh=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const s=e.indexOf(t,n);return s!==-1&&s===n},Wh=e=>{if(!e)return null;if(Hn(e))return e;let t=e.length;if(!bc(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},Kh=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&ai(Uint8Array)),zh=(e,t)=>{const s=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=s.next())&&!r.done;){const o=r.value;t.call(e,o[0],o[1])}},Gh=(e,t)=>{let n;const s=[];for(;(n=e.exec(t))!==null;)s.push(n);return s},Jh=It("HTMLFormElement"),Yh=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,r){return s.toUpperCase()+r}),pa=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Qh=It("RegExp"),Sc=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),s={};ws(n,(r,o)=>{let i;(i=t(r,o,e))!==!1&&(s[o]=i||r)}),Object.defineProperties(e,s)},Xh=e=>{Sc(e,(t,n)=>{if(ht(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=e[n];if(ht(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Zh=(e,t)=>{const n={},s=r=>{r.forEach(o=>{n[o]=!0})};return Hn(e)?s(e):s(String(e).split(t)),n},ep=()=>{},tp=(e,t)=>(e=+e,Number.isFinite(e)?e:t),Hr="abcdefghijklmnopqrstuvwxyz",ma="0123456789",Ac={DIGIT:ma,ALPHA:Hr,ALPHA_DIGIT:Hr+Hr.toUpperCase()+ma},np=(e=16,t=Ac.ALPHA_DIGIT)=>{let n="";const{length:s}=t;for(;e--;)n+=t[Math.random()*s|0];return n};function sp(e){return!!(e&&ht(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const rp=e=>{const t=new Array(10),n=(s,r)=>{if(Sr(s)){if(t.indexOf(s)>=0)return;if(!("toJSON"in s)){t[r]=s;const o=Hn(s)?[]:{};return ws(s,(i,a)=>{const c=n(i,r+1);!hs(c)&&(o[a]=c)}),t[r]=void 0,o}}return s};return n(e,0)},op=It("AsyncFunction"),ip=e=>e&&(Sr(e)||ht(e))&&ht(e.then)&&ht(e.catch),E={isArray:Hn,isArrayBuffer:vc,isBuffer:xh,isFormData:Dh,isArrayBufferView:Oh,isString:Th,isNumber:bc,isBoolean:Rh,isObject:Sr,isPlainObject:Ws,isUndefined:hs,isDate:Ph,isFile:Ih,isBlob:Nh,isRegExp:Qh,isFunction:ht,isStream:Bh,isURLSearchParams:Mh,isTypedArray:Kh,isFileList:Lh,forEach:ws,merge:vo,extend:Uh,trim:Fh,stripBOM:jh,inherits:Hh,toFlatObject:qh,kindOf:Er,kindOfTest:It,endsWith:Vh,toArray:Wh,forEachEntry:zh,matchAll:Gh,isHTMLForm:Jh,hasOwnProperty:pa,hasOwnProp:pa,reduceDescriptors:Sc,freezeMethods:Xh,toObjectSet:Zh,toCamelCase:Yh,noop:ep,toFiniteNumber:tp,findKey:wc,global:Ec,isContextDefined:Cc,ALPHABET:Ac,generateString:np,isSpecCompliantForm:sp,toJSONObject:rp,isAsyncFn:op,isThenable:ip};function ae(e,t,n,s,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),s&&(this.request=s),r&&(this.response=r)}E.inherits(ae,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:E.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const kc=ae.prototype,$c={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{$c[e]={value:e}});Object.defineProperties(ae,$c);Object.defineProperty(kc,"isAxiosError",{value:!0});ae.from=(e,t,n,s,r,o)=>{const i=Object.create(kc);return E.toFlatObject(e,i,function(c){return c!==Error.prototype},a=>a!=="isAxiosError"),ae.call(i,e.message,t,n,s,r),i.cause=e,i.name=e.name,o&&Object.assign(i,o),i};const ap=null;function bo(e){return E.isPlainObject(e)||E.isArray(e)}function xc(e){return E.endsWith(e,"[]")?e.slice(0,-2):e}function _a(e,t,n){return e?e.concat(t).map(function(r,o){return r=xc(r),!n&&o?"["+r+"]":r}).join(n?".":""):t}function lp(e){return E.isArray(e)&&!e.some(bo)}const cp=E.toFlatObject(E,{},null,function(t){return/^is[A-Z]/.test(t)});function Ar(e,t,n){if(!E.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=E.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,O){return!E.isUndefined(O[y])});const s=n.metaTokens,r=n.visitor||u,o=n.dots,i=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&E.isSpecCompliantForm(t);if(!E.isFunction(r))throw new TypeError("visitor must be a function");function f(g){if(g===null)return"";if(E.isDate(g))return g.toISOString();if(!c&&E.isBlob(g))throw new ae("Blob is not supported. Use a Buffer instead.");return E.isArrayBuffer(g)||E.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function u(g,y,O){let L=g;if(g&&!O&&typeof g=="object"){if(E.endsWith(y,"{}"))y=s?y:y.slice(0,-2),g=JSON.stringify(g);else if(E.isArray(g)&&lp(g)||(E.isFileList(g)||E.endsWith(y,"[]"))&&(L=E.toArray(g)))return y=xc(y),L.forEach(function(b,k){!(E.isUndefined(b)||b===null)&&t.append(i===!0?_a([y],k,o):i===null?y:y+"[]",f(b))}),!1}return bo(g)?!0:(t.append(_a(O,y,o),f(g)),!1)}const d=[],p=Object.assign(cp,{defaultVisitor:u,convertValue:f,isVisitable:bo});function _(g,y){if(!E.isUndefined(g)){if(d.indexOf(g)!==-1)throw Error("Circular reference detected in "+y.join("."));d.push(g),E.forEach(g,function(L,P){(!(E.isUndefined(L)||L===null)&&r.call(t,L,E.isString(P)?P.trim():P,y,p))===!0&&_(L,y?y.concat(P):[P])}),d.pop()}}if(!E.isObject(e))throw new TypeError("data must be an object");return _(e),t}function ga(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function li(e,t){this._pairs=[],e&&Ar(e,this,t)}const Oc=li.prototype;Oc.append=function(t,n){this._pairs.push([t,n])};Oc.toString=function(t){const n=t?function(s){return t.call(this,s,ga)}:ga;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function up(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Tc(e,t,n){if(!t)return e;const s=n&&n.encode||up,r=n&&n.serialize;let o;if(r?o=r(t,n):o=E.isURLSearchParams(t)?t.toString():new li(t,n).toString(s),o){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class ya{constructor(){this.handlers=[]}use(t,n,s){return this.handlers.push({fulfilled:t,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){E.forEach(this.handlers,function(s){s!==null&&t(s)})}}const Rc={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},fp=typeof URLSearchParams<"u"?URLSearchParams:li,dp=typeof FormData<"u"?FormData:null,hp=typeof Blob<"u"?Blob:null,pp={isBrowser:!0,classes:{URLSearchParams:fp,FormData:dp,Blob:hp},protocols:["http","https","file","blob","url","data"]},Pc=typeof window<"u"&&typeof document<"u",mp=(e=>Pc&&["ReactNative","NativeScript","NS"].indexOf(e)<0)(typeof navigator<"u"&&navigator.product),_p=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",gp=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Pc,hasStandardBrowserEnv:mp,hasStandardBrowserWebWorkerEnv:_p},Symbol.toStringTag,{value:"Module"})),xt={...gp,...pp};function yp(e,t){return Ar(e,new xt.classes.URLSearchParams,Object.assign({visitor:function(n,s,r,o){return xt.isNode&&E.isBuffer(n)?(this.append(s,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},t))}function vp(e){return E.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function bp(e){const t={},n=Object.keys(e);let s;const r=n.length;let o;for(s=0;s<r;s++)o=n[s],t[o]=e[o];return t}function Ic(e){function t(n,s,r,o){let i=n[o++];if(i==="__proto__")return!0;const a=Number.isFinite(+i),c=o>=n.length;return i=!i&&E.isArray(r)?r.length:i,c?(E.hasOwnProp(r,i)?r[i]=[r[i],s]:r[i]=s,!a):((!r[i]||!E.isObject(r[i]))&&(r[i]=[]),t(n,s,r[i],o)&&E.isArray(r[i])&&(r[i]=bp(r[i])),!a)}if(E.isFormData(e)&&E.isFunction(e.entries)){const n={};return E.forEachEntry(e,(s,r)=>{t(vp(s),r,n,0)}),n}return null}function wp(e,t,n){if(E.isString(e))try{return(t||JSON.parse)(e),E.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(e)}const Es={transitional:Rc,adapter:["xhr","http"],transformRequest:[function(t,n){const s=n.getContentType()||"",r=s.indexOf("application/json")>-1,o=E.isObject(t);if(o&&E.isHTMLForm(t)&&(t=new FormData(t)),E.isFormData(t))return r?JSON.stringify(Ic(t)):t;if(E.isArrayBuffer(t)||E.isBuffer(t)||E.isStream(t)||E.isFile(t)||E.isBlob(t))return t;if(E.isArrayBufferView(t))return t.buffer;if(E.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(o){if(s.indexOf("application/x-www-form-urlencoded")>-1)return yp(t,this.formSerializer).toString();if((a=E.isFileList(t))||s.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Ar(a?{"files[]":t}:t,c&&new c,this.formSerializer)}}return o||r?(n.setContentType("application/json",!1),wp(t)):t}],transformResponse:[function(t){const n=this.transitional||Es.transitional,s=n&&n.forcedJSONParsing,r=this.responseType==="json";if(t&&E.isString(t)&&(s&&!this.responseType||r)){const i=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(t)}catch(a){if(i)throw a.name==="SyntaxError"?ae.from(a,ae.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:xt.classes.FormData,Blob:xt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};E.forEach(["delete","get","head","post","put","patch"],e=>{Es.headers[e]={}});const Ep=E.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Cp=e=>{const t={};let n,s,r;return e&&e.split(`
`).forEach(function(i){r=i.indexOf(":"),n=i.substring(0,r).trim().toLowerCase(),s=i.substring(r+1).trim(),!(!n||t[n]&&Ep[n])&&(n==="set-cookie"?t[n]?t[n].push(s):t[n]=[s]:t[n]=t[n]?t[n]+", "+s:s)}),t},va=Symbol("internals");function Jn(e){return e&&String(e).trim().toLowerCase()}function Ks(e){return e===!1||e==null?e:E.isArray(e)?e.map(Ks):String(e)}function Sp(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(e);)t[s[1]]=s[2];return t}const Ap=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function qr(e,t,n,s,r){if(E.isFunction(s))return s.call(this,t,n);if(r&&(t=n),!!E.isString(t)){if(E.isString(s))return t.indexOf(s)!==-1;if(E.isRegExp(s))return s.test(t)}}function kp(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,s)=>n.toUpperCase()+s)}function $p(e,t){const n=E.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+n,{value:function(r,o,i){return this[s].call(this,t,r,o,i)},configurable:!0})})}let pt=class{constructor(t){t&&this.set(t)}set(t,n,s){const r=this;function o(a,c,f){const u=Jn(c);if(!u)throw new Error("header name must be a non-empty string");const d=E.findKey(r,u);(!d||r[d]===void 0||f===!0||f===void 0&&r[d]!==!1)&&(r[d||c]=Ks(a))}const i=(a,c)=>E.forEach(a,(f,u)=>o(f,u,c));return E.isPlainObject(t)||t instanceof this.constructor?i(t,n):E.isString(t)&&(t=t.trim())&&!Ap(t)?i(Cp(t),n):t!=null&&o(n,t,s),this}get(t,n){if(t=Jn(t),t){const s=E.findKey(this,t);if(s){const r=this[s];if(!n)return r;if(n===!0)return Sp(r);if(E.isFunction(n))return n.call(this,r,s);if(E.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Jn(t),t){const s=E.findKey(this,t);return!!(s&&this[s]!==void 0&&(!n||qr(this,this[s],s,n)))}return!1}delete(t,n){const s=this;let r=!1;function o(i){if(i=Jn(i),i){const a=E.findKey(s,i);a&&(!n||qr(s,s[a],a,n))&&(delete s[a],r=!0)}}return E.isArray(t)?t.forEach(o):o(t),r}clear(t){const n=Object.keys(this);let s=n.length,r=!1;for(;s--;){const o=n[s];(!t||qr(this,this[o],o,t,!0))&&(delete this[o],r=!0)}return r}normalize(t){const n=this,s={};return E.forEach(this,(r,o)=>{const i=E.findKey(s,o);if(i){n[i]=Ks(r),delete n[o];return}const a=t?kp(o):String(o).trim();a!==o&&delete n[o],n[a]=Ks(r),s[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return E.forEach(this,(s,r)=>{s!=null&&s!==!1&&(n[r]=t&&E.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const s=new this(t);return n.forEach(r=>s.set(r)),s}static accessor(t){const s=(this[va]=this[va]={accessors:{}}).accessors,r=this.prototype;function o(i){const a=Jn(i);s[a]||($p(r,i),s[a]=!0)}return E.isArray(t)?t.forEach(o):o(t),this}};pt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);E.reduceDescriptors(pt.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[n]=s}}});E.freezeMethods(pt);function Vr(e,t){const n=this||Es,s=t||n,r=pt.from(s.headers);let o=s.data;return E.forEach(e,function(a){o=a.call(n,o,r.normalize(),t?t.status:void 0)}),r.normalize(),o}function Nc(e){return!!(e&&e.__CANCEL__)}function Cs(e,t,n){ae.call(this,e??"canceled",ae.ERR_CANCELED,t,n),this.name="CanceledError"}E.inherits(Cs,ae,{__CANCEL__:!0});function xp(e,t,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?e(n):t(new ae("Request failed with status code "+n.status,[ae.ERR_BAD_REQUEST,ae.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const Op=xt.hasStandardBrowserEnv?{write(e,t,n,s,r,o){const i=[e+"="+encodeURIComponent(t)];E.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),E.isString(s)&&i.push("path="+s),E.isString(r)&&i.push("domain="+r),o===!0&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Tp(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Rp(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Lc(e,t){return e&&!Tp(t)?Rp(e,t):t}const Pp=xt.hasStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let s;function r(o){let i=o;return t&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return s=r(window.location.href),function(i){const a=E.isString(i)?r(i):i;return a.protocol===s.protocol&&a.host===s.host}}():function(){return function(){return!0}}();function Ip(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Np(e,t){e=e||10;const n=new Array(e),s=new Array(e);let r=0,o=0,i;return t=t!==void 0?t:1e3,function(c){const f=Date.now(),u=s[o];i||(i=f),n[r]=c,s[r]=f;let d=o,p=0;for(;d!==r;)p+=n[d++],d=d%e;if(r=(r+1)%e,r===o&&(o=(o+1)%e),f-i<t)return;const _=u&&f-u;return _?Math.round(p*1e3/_):void 0}}function ba(e,t){let n=0;const s=Np(50,250);return r=>{const o=r.loaded,i=r.lengthComputable?r.total:void 0,a=o-n,c=s(a),f=o<=i;n=o;const u={loaded:o,total:i,progress:i?o/i:void 0,bytes:a,rate:c||void 0,estimated:c&&i&&f?(i-o)/c:void 0,event:r};u[t?"download":"upload"]=!0,e(u)}}const Lp=typeof XMLHttpRequest<"u",Bp=Lp&&function(e){return new Promise(function(n,s){let r=e.data;const o=pt.from(e.headers).normalize();let{responseType:i,withXSRFToken:a}=e,c;function f(){e.cancelToken&&e.cancelToken.unsubscribe(c),e.signal&&e.signal.removeEventListener("abort",c)}let u;if(E.isFormData(r)){if(xt.hasStandardBrowserEnv||xt.hasStandardBrowserWebWorkerEnv)o.setContentType(!1);else if((u=o.getContentType())!==!1){const[y,...O]=u?u.split(";").map(L=>L.trim()).filter(Boolean):[];o.setContentType([y||"multipart/form-data",...O].join("; "))}}let d=new XMLHttpRequest;if(e.auth){const y=e.auth.username||"",O=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";o.set("Authorization","Basic "+btoa(y+":"+O))}const p=Lc(e.baseURL,e.url);d.open(e.method.toUpperCase(),Tc(p,e.params,e.paramsSerializer),!0),d.timeout=e.timeout;function _(){if(!d)return;const y=pt.from("getAllResponseHeaders"in d&&d.getAllResponseHeaders()),L={data:!i||i==="text"||i==="json"?d.responseText:d.response,status:d.status,statusText:d.statusText,headers:y,config:e,request:d};xp(function(b){n(b),f()},function(b){s(b),f()},L),d=null}if("onloadend"in d?d.onloadend=_:d.onreadystatechange=function(){!d||d.readyState!==4||d.status===0&&!(d.responseURL&&d.responseURL.indexOf("file:")===0)||setTimeout(_)},d.onabort=function(){d&&(s(new ae("Request aborted",ae.ECONNABORTED,e,d)),d=null)},d.onerror=function(){s(new ae("Network Error",ae.ERR_NETWORK,e,d)),d=null},d.ontimeout=function(){let O=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const L=e.transitional||Rc;e.timeoutErrorMessage&&(O=e.timeoutErrorMessage),s(new ae(O,L.clarifyTimeoutError?ae.ETIMEDOUT:ae.ECONNABORTED,e,d)),d=null},xt.hasStandardBrowserEnv&&(a&&E.isFunction(a)&&(a=a(e)),a||a!==!1&&Pp(p))){const y=e.xsrfHeaderName&&e.xsrfCookieName&&Op.read(e.xsrfCookieName);y&&o.set(e.xsrfHeaderName,y)}r===void 0&&o.setContentType(null),"setRequestHeader"in d&&E.forEach(o.toJSON(),function(O,L){d.setRequestHeader(L,O)}),E.isUndefined(e.withCredentials)||(d.withCredentials=!!e.withCredentials),i&&i!=="json"&&(d.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&d.addEventListener("progress",ba(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&d.upload&&d.upload.addEventListener("progress",ba(e.onUploadProgress)),(e.cancelToken||e.signal)&&(c=y=>{d&&(s(!y||y.type?new Cs(null,e,d):y),d.abort(),d=null)},e.cancelToken&&e.cancelToken.subscribe(c),e.signal&&(e.signal.aborted?c():e.signal.addEventListener("abort",c)));const g=Ip(p);if(g&&xt.protocols.indexOf(g)===-1){s(new ae("Unsupported protocol "+g+":",ae.ERR_BAD_REQUEST,e));return}d.send(r||null)})},wo={http:ap,xhr:Bp};E.forEach(wo,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const wa=e=>`- ${e}`,Dp=e=>E.isFunction(e)||e===null||e===!1,Bc={getAdapter:e=>{e=E.isArray(e)?e:[e];const{length:t}=e;let n,s;const r={};for(let o=0;o<t;o++){n=e[o];let i;if(s=n,!Dp(n)&&(s=wo[(i=String(n)).toLowerCase()],s===void 0))throw new ae(`Unknown adapter '${i}'`);if(s)break;r[i||"#"+o]=s}if(!s){const o=Object.entries(r).map(([a,c])=>`adapter ${a} `+(c===!1?"is not supported by the environment":"is not available in the build"));let i=t?o.length>1?`since :
`+o.map(wa).join(`
`):" "+wa(o[0]):"as no adapter specified";throw new ae("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return s},adapters:wo};function Wr(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Cs(null,e)}function Ea(e){return Wr(e),e.headers=pt.from(e.headers),e.data=Vr.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Bc.getAdapter(e.adapter||Es.adapter)(e).then(function(s){return Wr(e),s.data=Vr.call(e,e.transformResponse,s),s.headers=pt.from(s.headers),s},function(s){return Nc(s)||(Wr(e),s&&s.response&&(s.response.data=Vr.call(e,e.transformResponse,s.response),s.response.headers=pt.from(s.response.headers))),Promise.reject(s)})}const Ca=e=>e instanceof pt?{...e}:e;function Dn(e,t){t=t||{};const n={};function s(f,u,d){return E.isPlainObject(f)&&E.isPlainObject(u)?E.merge.call({caseless:d},f,u):E.isPlainObject(u)?E.merge({},u):E.isArray(u)?u.slice():u}function r(f,u,d){if(E.isUndefined(u)){if(!E.isUndefined(f))return s(void 0,f,d)}else return s(f,u,d)}function o(f,u){if(!E.isUndefined(u))return s(void 0,u)}function i(f,u){if(E.isUndefined(u)){if(!E.isUndefined(f))return s(void 0,f)}else return s(void 0,u)}function a(f,u,d){if(d in t)return s(f,u);if(d in e)return s(void 0,f)}const c={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:a,headers:(f,u)=>r(Ca(f),Ca(u),!0)};return E.forEach(Object.keys(Object.assign({},e,t)),function(u){const d=c[u]||r,p=d(e[u],t[u],u);E.isUndefined(p)&&d!==a||(n[u]=p)}),n}const Dc="1.6.8",ci={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{ci[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const Sa={};ci.transitional=function(t,n,s){function r(o,i){return"[Axios v"+Dc+"] Transitional option '"+o+"'"+i+(s?". "+s:"")}return(o,i,a)=>{if(t===!1)throw new ae(r(i," has been removed"+(n?" in "+n:"")),ae.ERR_DEPRECATED);return n&&!Sa[i]&&(Sa[i]=!0,console.warn(r(i," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(o,i,a):!0}};function Mp(e,t,n){if(typeof e!="object")throw new ae("options must be an object",ae.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let r=s.length;for(;r-- >0;){const o=s[r],i=t[o];if(i){const a=e[o],c=a===void 0||i(a,o,e);if(c!==!0)throw new ae("option "+o+" must be "+c,ae.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ae("Unknown option "+o,ae.ERR_BAD_OPTION)}}const Eo={assertOptions:Mp,validators:ci},zt=Eo.validators;let gn=class{constructor(t){this.defaults=t,this.interceptors={request:new ya,response:new ya}}async request(t,n){try{return await this._request(t,n)}catch(s){if(s instanceof Error){let r;Error.captureStackTrace?Error.captureStackTrace(r={}):r=new Error;const o=r.stack?r.stack.replace(/^.+\n/,""):"";s.stack?o&&!String(s.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+o):s.stack=o}throw s}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Dn(this.defaults,n);const{transitional:s,paramsSerializer:r,headers:o}=n;s!==void 0&&Eo.assertOptions(s,{silentJSONParsing:zt.transitional(zt.boolean),forcedJSONParsing:zt.transitional(zt.boolean),clarifyTimeoutError:zt.transitional(zt.boolean)},!1),r!=null&&(E.isFunction(r)?n.paramsSerializer={serialize:r}:Eo.assertOptions(r,{encode:zt.function,serialize:zt.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let i=o&&E.merge(o.common,o[n.method]);o&&E.forEach(["delete","get","head","post","put","patch","common"],g=>{delete o[g]}),n.headers=pt.concat(i,o);const a=[];let c=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(n)===!1||(c=c&&y.synchronous,a.unshift(y.fulfilled,y.rejected))});const f=[];this.interceptors.response.forEach(function(y){f.push(y.fulfilled,y.rejected)});let u,d=0,p;if(!c){const g=[Ea.bind(this),void 0];for(g.unshift.apply(g,a),g.push.apply(g,f),p=g.length,u=Promise.resolve(n);d<p;)u=u.then(g[d++],g[d++]);return u}p=a.length;let _=n;for(d=0;d<p;){const g=a[d++],y=a[d++];try{_=g(_)}catch(O){y.call(this,O);break}}try{u=Ea.call(this,_)}catch(g){return Promise.reject(g)}for(d=0,p=f.length;d<p;)u=u.then(f[d++],f[d++]);return u}getUri(t){t=Dn(this.defaults,t);const n=Lc(t.baseURL,t.url);return Tc(n,t.params,t.paramsSerializer)}};E.forEach(["delete","get","head","options"],function(t){gn.prototype[t]=function(n,s){return this.request(Dn(s||{},{method:t,url:n,data:(s||{}).data}))}});E.forEach(["post","put","patch"],function(t){function n(s){return function(o,i,a){return this.request(Dn(a||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:o,data:i}))}}gn.prototype[t]=n(),gn.prototype[t+"Form"]=n(!0)});let Fp=class Mc{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const s=this;this.promise.then(r=>{if(!s._listeners)return;let o=s._listeners.length;for(;o-- >0;)s._listeners[o](r);s._listeners=null}),this.promise.then=r=>{let o;const i=new Promise(a=>{s.subscribe(a),o=a}).then(r);return i.cancel=function(){s.unsubscribe(o)},i},t(function(o,i,a){s.reason||(s.reason=new Cs(o,i,a),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}static source(){let t;return{token:new Mc(function(r){t=r}),cancel:t}}};function Up(e){return function(n){return e.apply(null,n)}}function jp(e){return E.isObject(e)&&e.isAxiosError===!0}const Co={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Co).forEach(([e,t])=>{Co[t]=e});function Fc(e){const t=new gn(e),n=yc(gn.prototype.request,t);return E.extend(n,gn.prototype,t,{allOwnKeys:!0}),E.extend(n,t,null,{allOwnKeys:!0}),n.create=function(r){return Fc(Dn(e,r))},n}const Re=Fc(Es);Re.Axios=gn;Re.CanceledError=Cs;Re.CancelToken=Fp;Re.isCancel=Nc;Re.VERSION=Dc;Re.toFormData=Ar;Re.AxiosError=ae;Re.Cancel=Re.CanceledError;Re.all=function(t){return Promise.all(t)};Re.spread=Up;Re.isAxiosError=jp;Re.mergeConfig=Dn;Re.AxiosHeaders=pt;Re.formToJSON=e=>Ic(E.isHTMLForm(e)?new FormData(e):e);Re.getAdapter=Bc.getAdapter;Re.HttpStatusCode=Co;Re.default=Re;const{Axios:zC,AxiosError:GC,CanceledError:JC,isCancel:YC,CancelToken:QC,VERSION:XC,all:ZC,Cancel:eS,isAxiosError:tS,spread:nS,toFormData:sS,AxiosHeaders:rS,HttpStatusCode:Ft,formToJSON:oS,getAdapter:iS,mergeConfig:aS}=Re,Ge=ii("auth",()=>{const e=j(),t=j(),n=localStorage.getItem("refreshToken");n&&(e.value=n);const s=o=>{e.value=o,o?localStorage.setItem("refreshToken",o):localStorage.removeItem("refreshToken")};return{accessToken:t,refreshToken:e,storeRefreshToken:s,clear:()=>{s(null),t.value=null}}}),ui=location.hostname==="localhost"?"http://localhost:3005":"https://bitd-vtt-server-production.up.railway.app";console.log("BASE_URL:",ui);const qe=Re.create({baseURL:ui,timeout:1e4,withCredentials:!0,headers:{"Content-Type":"application/json"}});function Hp(){qp()}function qp(){qe.interceptors.request.use(async e=>(e||(e={}),e.headers.Authorization=`Bearer ${Ge().accessToken}`,e)),qe.interceptors.response.use(e=>e,async e=>{var n,s,r,o;const t=["/auth/token","/account/login","/account/register"];if(((n=e.response)==null?void 0:n.status)===Ft.Unauthorized&&!t.includes(e.config.url)){if((s=e.config.url)!=null&&s.includes("/auth/token"))return Ge().clear(),Pt.push("/login"),Promise.reject("Invalid refresh token");if(!Ge().refreshToken)return Promise.reject(((o=(r=e.response)==null?void 0:r.data)==null?void 0:o.message)||"No refresh token found");await Uc();const i=e.config;return i.headers.Authorization=`Bearer ${Ge().accessToken}`,qe(i)}return Promise.reject(e)})}async function Uc(){let e;try{console.log("@fetchAccessToken: refreshToken:",Ge().refreshToken),e=await qe.put("/auth/token",{refreshToken:Ge().refreshToken})}catch{console.error("Invalid refresh token"),Si();return}Ge().accessToken=e.data.accessToken}const So=[{id:"791e4a6b-8f2e-41b2-8410-09fdb69d22e2",name:"Crystal",author:"Icons8",source:"https://icons8.com",url:"/images/portrait-images/icons8-crystal-100.png",commonColor:"#8E3E63"},{id:"762c4875-c258-443a-8d88-adeaab82b31c",name:"Joker",author:"Icons8",source:"https://icons8.com",url:"/images/portrait-images/icons8-joker-100.png",commonColor:"#D2649A"},{id:"a1bee44a-c856-4f54-b665-4de8c278d117",name:"Battle",author:"Icons8",source:"https://icons8.com",url:"/images/portrait-images/icons8-battle-100.png",commonColor:"#577B8D"},{id:"7d5f18bc-a32d-4aca-a51d-507b827c8683",name:"Pawn",author:"Icons8",source:"https://icons8.com",url:"/images/portrait-images/icons8-pawn-100.png",commonColor:"#40A578"},{id:"5895f6e3-05b7-42e4-9b5f-19bb3d4ca33e",name:"Rook",author:"Icons8",source:"https://icons8.com",url:"/images/portrait-images/icons8-rook-100.png",commonColor:"#A91D3A"}],de=ii("user",()=>{const e=j(),t=j(),n=j(!0),s=j(),r=j([]),o=j([...So]);return{id:e,username:t,portrait:s,isGuest:n,games:r,clear:()=>{e.value=null,t.value=null,s.value=null,n.value=!0,r.value=[]},portraits:o}}),Me=ii("game",()=>{const e=j(null),t=()=>{e.value=null},n=ee(()=>{var s;return(s=e.value)==null?void 0:s.players[de().id]});return{game:e,userPlayer:n,clear:t}});/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */var Vp=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,r){s.__proto__=r}||function(s,r){for(var o in r)r.hasOwnProperty(o)&&(s[o]=r[o])},e(t,n)};return function(t,n){e(t,n);function s(){this.constructor=t}t.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}}(),Wp=Object.prototype.hasOwnProperty;function Ao(e,t){return Wp.call(e,t)}function ko(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var s=[];for(var r in e)Ao(e,r)&&s.push(r);return s}function ot(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function $o(e){for(var t=0,n=e.length,s;t<n;){if(s=e.charCodeAt(t),s>=48&&s<=57){t++;continue}return!1}return!0}function dn(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function jc(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function xo(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(xo(e[t]))return!0}else if(typeof e=="object"){for(var s=ko(e),r=s.length,o=0;o<r;o++)if(xo(e[s[o]]))return!0}}return!1}function Aa(e,t){var n=[e];for(var s in t){var r=typeof t[s]=="object"?JSON.stringify(t[s],null,2):t[s];typeof r<"u"&&n.push(s+": "+r)}return n.join(`
`)}var Hc=function(e){Vp(t,e);function t(n,s,r,o,i){var a=this.constructor,c=e.call(this,Aa(n,{name:s,index:r,operation:o,tree:i}))||this;return c.name=s,c.index=r,c.operation=o,c.tree=i,Object.setPrototypeOf(c,a.prototype),c.message=Aa(n,{name:s,index:r,operation:o,tree:i}),c}return t}(Error),xe=Hc,Kp=ot,Tn={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var s=e[t];return delete e[t],{newDocument:n,removed:s}},replace:function(e,t,n){var s=e[t];return e[t]=this.value,{newDocument:n,removed:s}},move:function(e,t,n){var s=sr(n,this.path);s&&(s=ot(s));var r=yn(n,{op:"remove",path:this.from}).removed;return yn(n,{op:"add",path:this.path,value:r}),{newDocument:n,removed:s}},copy:function(e,t,n){var s=sr(n,this.from);return yn(n,{op:"add",path:this.path,value:ot(s)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:ps(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},zp={add:function(e,t,n){return $o(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){var s=e.splice(t,1);return{newDocument:n,removed:s[0]}},replace:function(e,t,n){var s=e[t];return e[t]=this.value,{newDocument:n,removed:s}},move:Tn.move,copy:Tn.copy,test:Tn.test,_get:Tn._get};function sr(e,t){if(t=="")return e;var n={op:"_get",path:t};return yn(e,n),n.value}function yn(e,t,n,s,r,o){if(n===void 0&&(n=!1),s===void 0&&(s=!0),r===void 0&&(r=!0),o===void 0&&(o=0),n&&(typeof n=="function"?n(t,0,e,t.path):rr(t,0)),t.path===""){var i={newDocument:e};if(t.op==="add")return i.newDocument=t.value,i;if(t.op==="replace")return i.newDocument=t.value,i.removed=e,i;if(t.op==="move"||t.op==="copy")return i.newDocument=sr(e,t.from),t.op==="move"&&(i.removed=e),i;if(t.op==="test"){if(i.test=ps(e,t.value),i.test===!1)throw new xe("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return i.newDocument=e,i}else{if(t.op==="remove")return i.removed=e,i.newDocument=null,i;if(t.op==="_get")return t.value=e,i;if(n)throw new xe("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",o,t,e);return i}}else{s||(e=ot(e));var a=t.path||"",c=a.split("/"),f=e,u=1,d=c.length,p=void 0,_=void 0,g=void 0;for(typeof n=="function"?g=n:g=rr;;){if(_=c[u],_&&_.indexOf("~")!=-1&&(_=jc(_)),r&&(_=="__proto__"||_=="prototype"&&u>0&&c[u-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&p===void 0&&(f[_]===void 0?p=c.slice(0,u).join("/"):u==d-1&&(p=t.path),p!==void 0&&g(t,0,e,p)),u++,Array.isArray(f)){if(_==="-")_=f.length;else{if(n&&!$o(_))throw new xe("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",o,t,e);$o(_)&&(_=~~_)}if(u>=d){if(n&&t.op==="add"&&_>f.length)throw new xe("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",o,t,e);var i=zp[t.op].call(t,f,_,e);if(i.test===!1)throw new xe("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return i}}else if(u>=d){var i=Tn[t.op].call(t,f,_,e);if(i.test===!1)throw new xe("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return i}if(f=f[_],n&&u<d&&(!f||typeof f!="object"))throw new xe("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",o,t,e)}}}function kr(e,t,n,s,r){if(s===void 0&&(s=!0),r===void 0&&(r=!0),n&&!Array.isArray(t))throw new xe("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");s||(e=ot(e));for(var o=new Array(t.length),i=0,a=t.length;i<a;i++)o[i]=yn(e,t[i],n,!0,r,i),e=o[i].newDocument;return o.newDocument=e,o}function Gp(e,t,n){var s=yn(e,t);if(s.test===!1)throw new xe("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return s.newDocument}function rr(e,t,n,s){if(typeof e!="object"||e===null||Array.isArray(e))throw new xe("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(Tn[e.op]){if(typeof e.path!="string")throw new xe("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new xe('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new xe("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new xe("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&xo(e.value))throw new xe("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n){if(e.op=="add"){var r=e.path.split("/").length,o=s.split("/").length;if(r!==o+1&&r!==o)throw new xe("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==s)throw new xe("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if(e.op==="move"||e.op==="copy"){var i={op:"_get",path:e.from,value:void 0},a=qc([i],n);if(a&&a.name==="OPERATION_PATH_UNRESOLVABLE")throw new xe("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}}else throw new xe("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n)}function qc(e,t,n){try{if(!Array.isArray(e))throw new xe("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)kr(ot(t),ot(e),n||!0);else{n=n||rr;for(var s=0;s<e.length;s++)n(e[s],s,t,void 0)}}catch(r){if(r instanceof xe)return r;throw r}}function ps(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=Array.isArray(e),s=Array.isArray(t),r,o,i;if(n&&s){if(o=e.length,o!=t.length)return!1;for(r=o;r--!==0;)if(!ps(e[r],t[r]))return!1;return!0}if(n!=s)return!1;var a=Object.keys(e);if(o=a.length,o!==Object.keys(t).length)return!1;for(r=o;r--!==0;)if(!t.hasOwnProperty(a[r]))return!1;for(r=o;r--!==0;)if(i=a[r],!ps(e[i],t[i]))return!1;return!0}return e!==e&&t!==t}const Jp=Object.freeze(Object.defineProperty({__proto__:null,JsonPatchError:xe,_areEquals:ps,applyOperation:yn,applyPatch:kr,applyReducer:Gp,deepClone:Kp,getValueByPointer:sr,validate:qc,validator:rr},Symbol.toStringTag,{value:"Module"}));/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2021 Joachim Wester
 * MIT license
 */var fi=new WeakMap,Yp=function(){function e(t){this.observers=new Map,this.obj=t}return e}(),Qp=function(){function e(t,n){this.callback=t,this.observer=n}return e}();function Xp(e){return fi.get(e)}function Zp(e,t){return e.observers.get(t)}function em(e,t){e.observers.delete(t.callback)}function tm(e,t){t.unobserve()}function nm(e,t){var n=[],s,r=Xp(e);if(!r)r=new Yp(e),fi.set(e,r);else{var o=Zp(r,t);s=o&&o.observer}if(s)return s;if(s={},r.value=ot(e),t){s.callback=t,s.next=null;var i=function(){Oo(s)},a=function(){clearTimeout(s.next),s.next=setTimeout(i)};typeof window<"u"&&(window.addEventListener("mouseup",a),window.addEventListener("keyup",a),window.addEventListener("mousedown",a),window.addEventListener("keydown",a),window.addEventListener("change",a))}return s.patches=n,s.object=e,s.unobserve=function(){Oo(s),clearTimeout(s.next),em(r,s),typeof window<"u"&&(window.removeEventListener("mouseup",a),window.removeEventListener("keyup",a),window.removeEventListener("mousedown",a),window.removeEventListener("keydown",a),window.removeEventListener("change",a))},r.observers.set(t,new Qp(t,s)),s}function Oo(e,t){t===void 0&&(t=!1);var n=fi.get(e.object);di(n.value,e.object,e.patches,"",t),e.patches.length&&kr(n.value,e.patches);var s=e.patches;return s.length>0&&(e.patches=[],e.callback&&e.callback(s)),s}function di(e,t,n,s,r){if(t!==e){typeof t.toJSON=="function"&&(t=t.toJSON());for(var o=ko(t),i=ko(e),a=!1,c=i.length-1;c>=0;c--){var f=i[c],u=e[f];if(Ao(t,f)&&!(t[f]===void 0&&u!==void 0&&Array.isArray(t)===!1)){var d=t[f];typeof u=="object"&&u!=null&&typeof d=="object"&&d!=null&&Array.isArray(u)===Array.isArray(d)?di(u,d,n,s+"/"+dn(f),r):u!==d&&(r&&n.push({op:"test",path:s+"/"+dn(f),value:ot(u)}),n.push({op:"replace",path:s+"/"+dn(f),value:ot(d)}))}else Array.isArray(e)===Array.isArray(t)?(r&&n.push({op:"test",path:s+"/"+dn(f),value:ot(u)}),n.push({op:"remove",path:s+"/"+dn(f)}),a=!0):(r&&n.push({op:"test",path:s,value:e}),n.push({op:"replace",path:s,value:t}))}if(!(!a&&o.length==i.length))for(var c=0;c<o.length;c++){var f=o[c];!Ao(e,f)&&t[f]!==void 0&&n.push({op:"add",path:s+"/"+dn(f),value:ot(t[f])})}}}function sm(e,t,n){n===void 0&&(n=!1);var s=[];return di(e,t,s,"",n),s}const rm=Object.freeze(Object.defineProperty({__proto__:null,compare:sm,generate:Oo,observe:nm,unobserve:tm},Symbol.toStringTag,{value:"Module"}));Object.assign({},Jp,rm,{JsonPatchError:Hc,deepClone:ot,escapePathComponent:dn,unescapePathComponent:jc});const Rt=Object.create(null);Rt.open="0";Rt.close="1";Rt.ping="2";Rt.pong="3";Rt.message="4";Rt.upgrade="5";Rt.noop="6";const zs=Object.create(null);Object.keys(Rt).forEach(e=>{zs[Rt[e]]=e});const To={type:"error",data:"parser error"},Vc=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Wc=typeof ArrayBuffer=="function",Kc=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,hi=({type:e,data:t},n,s)=>Vc&&t instanceof Blob?n?s(t):ka(t,s):Wc&&(t instanceof ArrayBuffer||Kc(t))?n?s(t):ka(new Blob([t]),s):s(Rt[e]+(t||"")),ka=(e,t)=>{const n=new FileReader;return n.onload=function(){const s=n.result.split(",")[1];t("b"+(s||""))},n.readAsDataURL(e)};function $a(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Kr;function om(e,t){if(Vc&&e.data instanceof Blob)return e.data.arrayBuffer().then($a).then(t);if(Wc&&(e.data instanceof ArrayBuffer||Kc(e.data)))return t($a(e.data));hi(e,!1,n=>{Kr||(Kr=new TextEncoder),t(Kr.encode(n))})}const xa="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Zn=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<xa.length;e++)Zn[xa.charCodeAt(e)]=e;const im=e=>{let t=e.length*.75,n=e.length,s,r=0,o,i,a,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const f=new ArrayBuffer(t),u=new Uint8Array(f);for(s=0;s<n;s+=4)o=Zn[e.charCodeAt(s)],i=Zn[e.charCodeAt(s+1)],a=Zn[e.charCodeAt(s+2)],c=Zn[e.charCodeAt(s+3)],u[r++]=o<<2|i>>4,u[r++]=(i&15)<<4|a>>2,u[r++]=(a&3)<<6|c&63;return f},am=typeof ArrayBuffer=="function",pi=(e,t)=>{if(typeof e!="string")return{type:"message",data:zc(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:lm(e.substring(1),t)}:zs[n]?e.length>1?{type:zs[n],data:e.substring(1)}:{type:zs[n]}:To},lm=(e,t)=>{if(am){const n=im(e);return zc(n,t)}else return{base64:!0,data:e}},zc=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},Gc="",cm=(e,t)=>{const n=e.length,s=new Array(n);let r=0;e.forEach((o,i)=>{hi(o,!1,a=>{s[i]=a,++r===n&&t(s.join(Gc))})})},um=(e,t)=>{const n=e.split(Gc),s=[];for(let r=0;r<n.length;r++){const o=pi(n[r],t);if(s.push(o),o.type==="error")break}return s};function fm(){return new TransformStream({transform(e,t){om(e,n=>{const s=n.length;let r;if(s<126)r=new Uint8Array(1),new DataView(r.buffer).setUint8(0,s);else if(s<65536){r=new Uint8Array(3);const o=new DataView(r.buffer);o.setUint8(0,126),o.setUint16(1,s)}else{r=new Uint8Array(9);const o=new DataView(r.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(s))}e.data&&typeof e.data!="string"&&(r[0]|=128),t.enqueue(r),t.enqueue(n)})}})}let zr;function Ns(e){return e.reduce((t,n)=>t+n.length,0)}function Ls(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let s=0;for(let r=0;r<t;r++)n[r]=e[0][s++],s===e[0].length&&(e.shift(),s=0);return e.length&&s<e[0].length&&(e[0]=e[0].slice(s)),n}function dm(e,t){zr||(zr=new TextDecoder);const n=[];let s=0,r=-1,o=!1;return new TransformStream({transform(i,a){for(n.push(i);;){if(s===0){if(Ns(n)<1)break;const c=Ls(n,1);o=(c[0]&128)===128,r=c[0]&127,r<126?s=3:r===126?s=1:s=2}else if(s===1){if(Ns(n)<2)break;const c=Ls(n,2);r=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),s=3}else if(s===2){if(Ns(n)<8)break;const c=Ls(n,8),f=new DataView(c.buffer,c.byteOffset,c.length),u=f.getUint32(0);if(u>Math.pow(2,21)-1){a.enqueue(To);break}r=u*Math.pow(2,32)+f.getUint32(4),s=3}else{if(Ns(n)<r)break;const c=Ls(n,r);a.enqueue(pi(o?c:zr.decode(c),t)),s=0}if(r===0||r>e){a.enqueue(To);break}}}})}const Jc=4;function Pe(e){if(e)return hm(e)}function hm(e){for(var t in Pe.prototype)e[t]=Pe.prototype[t];return e}Pe.prototype.on=Pe.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Pe.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};Pe.prototype.off=Pe.prototype.removeListener=Pe.prototype.removeAllListeners=Pe.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var s,r=0;r<n.length;r++)if(s=n[r],s===t||s.fn===t){n.splice(r,1);break}return n.length===0&&delete this._callbacks["$"+e],this};Pe.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],s=1;s<arguments.length;s++)t[s-1]=arguments[s];if(n){n=n.slice(0);for(var s=0,r=n.length;s<r;++s)n[s].apply(this,t)}return this};Pe.prototype.emitReserved=Pe.prototype.emit;Pe.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Pe.prototype.hasListeners=function(e){return!!this.listeners(e).length};const ft=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function Yc(e,...t){return t.reduce((n,s)=>(e.hasOwnProperty(s)&&(n[s]=e[s]),n),{})}const pm=ft.setTimeout,mm=ft.clearTimeout;function $r(e,t){t.useNativeTimers?(e.setTimeoutFn=pm.bind(ft),e.clearTimeoutFn=mm.bind(ft)):(e.setTimeoutFn=ft.setTimeout.bind(ft),e.clearTimeoutFn=ft.clearTimeout.bind(ft))}const _m=1.33;function gm(e){return typeof e=="string"?ym(e):Math.ceil((e.byteLength||e.size)*_m)}function ym(e){let t=0,n=0;for(let s=0,r=e.length;s<r;s++)t=e.charCodeAt(s),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(s++,n+=4);return n}function vm(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function bm(e){let t={},n=e.split("&");for(let s=0,r=n.length;s<r;s++){let o=n[s].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}class wm extends Error{constructor(t,n,s){super(t),this.description=n,this.context=s,this.type="TransportError"}}class mi extends Pe{constructor(t){super(),this.writable=!1,$r(this,t),this.opts=t,this.query=t.query,this.socket=t.socket}onError(t,n,s){return super.emitReserved("error",new wm(t,n,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=pi(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=vm(t);return n.length?"?"+n:""}}const Qc="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Ro=64,Em={};let Oa=0,Bs=0,Ta;function Ra(e){let t="";do t=Qc[e%Ro]+t,e=Math.floor(e/Ro);while(e>0);return t}function Xc(){const e=Ra(+new Date);return e!==Ta?(Oa=0,Ta=e):e+"."+Ra(Oa++)}for(;Bs<Ro;Bs++)Em[Qc[Bs]]=Bs;let Zc=!1;try{Zc=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Cm=Zc;function eu(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||Cm))return new XMLHttpRequest}catch{}if(!t)try{return new ft[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function Sm(){}const Am=function(){return new eu({xdomain:!1}).responseType!=null}();class km extends mi{constructor(t){if(super(t),this.polling=!1,typeof location<"u"){const s=location.protocol==="https:";let r=location.port;r||(r=s?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||r!==t.port}const n=t&&t.forceBase64;this.supportsBinary=Am&&!n,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let s=0;this.polling&&(s++,this.once("pollComplete",function(){--s||n()})),this.writable||(s++,this.once("drain",function(){--s||n()}))}else n()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=s=>{if(this.readyState==="opening"&&s.type==="open"&&this.onOpen(),s.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(s)};um(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,cm(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=Xc()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}request(t={}){return Object.assign(t,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new Ot(this.uri(),t)}doWrite(t,n){const s=this.request({method:"POST",data:t});s.on("success",n),s.on("error",(r,o)=>{this.onError("xhr post error",r,o)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,s)=>{this.onError("xhr poll error",n,s)}),this.pollXhr=t}}class Ot extends Pe{constructor(t,n){super(),$r(this,n),this.opts=n,this.method=n.method||"GET",this.uri=t,this.data=n.data!==void 0?n.data:null,this.create()}create(){var t;const n=Yc(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this.opts.xd;const s=this.xhr=new eu(n);try{s.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let r in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(r)&&s.setRequestHeader(r,this.opts.extraHeaders[r])}}catch{}if(this.method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{s.setRequestHeader("Accept","*/*")}catch{}(t=this.opts.cookieJar)===null||t===void 0||t.addCookies(s),"withCredentials"in s&&(s.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(s.timeout=this.opts.requestTimeout),s.onreadystatechange=()=>{var r;s.readyState===3&&((r=this.opts.cookieJar)===null||r===void 0||r.parseCookies(s)),s.readyState===4&&(s.status===200||s.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof s.status=="number"?s.status:0)},0))},s.send(this.data)}catch(r){this.setTimeoutFn(()=>{this.onError(r)},0);return}typeof document<"u"&&(this.index=Ot.requestsCount++,Ot.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=Sm,t)try{this.xhr.abort()}catch{}typeof document<"u"&&delete Ot.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}Ot.requestsCount=0;Ot.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Pa);else if(typeof addEventListener=="function"){const e="onpagehide"in ft?"pagehide":"unload";addEventListener(e,Pa,!1)}}function Pa(){for(let e in Ot.requests)Ot.requests.hasOwnProperty(e)&&Ot.requests[e].abort()}const _i=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0),Ds=ft.WebSocket||ft.MozWebSocket,Ia=!0,$m="arraybuffer",Na=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class xm extends mi{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),n=this.opts.protocols,s=Na?{}:Yc(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=Ia&&!Na?n?new Ds(t,n):new Ds(t):new Ds(t,n,s)}catch(r){return this.emitReserved("error",r)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const s=t[n],r=n===t.length-1;hi(s,this.supportsBinary,o=>{const i={};try{Ia&&this.ws.send(o)}catch{}r&&_i(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=Xc()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}check(){return!!Ds}}class Om extends mi{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(t=>{const n=dm(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=t.readable.pipeThrough(n).getReader(),r=fm();r.readable.pipeTo(t.writable),this.writer=r.writable.getWriter();const o=()=>{s.read().then(({done:a,value:c})=>{a||(this.onPacket(c),o())}).catch(a=>{})};o();const i={type:"open"};this.query.sid&&(i.data=`{"sid":"${this.query.sid}"}`),this.writer.write(i).then(()=>this.onOpen())})}))}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const s=t[n],r=n===t.length-1;this.writer.write(s).then(()=>{r&&_i(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this.transport)===null||t===void 0||t.close()}}const Tm={websocket:xm,webtransport:Om,polling:km},Rm=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Pm=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Po(e){if(e.length>2e3)throw"URI too long";const t=e,n=e.indexOf("["),s=e.indexOf("]");n!=-1&&s!=-1&&(e=e.substring(0,n)+e.substring(n,s).replace(/:/g,";")+e.substring(s,e.length));let r=Rm.exec(e||""),o={},i=14;for(;i--;)o[Pm[i]]=r[i]||"";return n!=-1&&s!=-1&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=Im(o,o.path),o.queryKey=Nm(o,o.query),o}function Im(e,t){const n=/\/{2,9}/g,s=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&s.splice(0,1),t.slice(-1)=="/"&&s.splice(s.length-1,1),s}function Nm(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,r,o){r&&(n[r]=o)}),n}let tu=class xn extends Pe{constructor(t,n={}){super(),this.binaryType=$m,this.writeBuffer=[],t&&typeof t=="object"&&(n=t,t=null),t?(t=Po(t),n.hostname=t.host,n.secure=t.protocol==="https"||t.protocol==="wss",n.port=t.port,t.query&&(n.query=t.query)):n.host&&(n.hostname=Po(n.host).host),$r(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=n.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=bm(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=Jc,n.transport=t,this.id&&(n.sid=this.id);const s=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new Tm[t](s)}open(){let t;if(this.opts.rememberUpgrade&&xn.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch{this.transports.shift(),this.open();return}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",n=>this.onClose("transport close",n))}probe(t){let n=this.createTransport(t),s=!1;xn.priorWebsocketSuccess=!1;const r=()=>{s||(n.send([{type:"ping",data:"probe"}]),n.once("packet",d=>{if(!s)if(d.type==="pong"&&d.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;xn.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(u(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const p=new Error("probe error");p.transport=n.name,this.emitReserved("upgradeError",p)}}))};function o(){s||(s=!0,u(),n.close(),n=null)}const i=d=>{const p=new Error("probe error: "+d);p.transport=n.name,o(),this.emitReserved("upgradeError",p)};function a(){i("transport closed")}function c(){i("socket closed")}function f(d){n&&d.name!==n.name&&o()}const u=()=>{n.removeListener("open",r),n.removeListener("error",i),n.removeListener("close",a),this.off("close",c),this.off("upgrading",f)};n.once("open",r),n.once("error",i),n.once("close",a),this.once("close",c),this.once("upgrading",f),this.upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{s||n.open()},200):n.open()}onOpen(){if(this.readyState="open",xn.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let t=0;const n=this.upgrades.length;for(;t<n;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),this.resetPingTimeout(),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const n=new Error("server error");n.code=t.data,this.onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let s=0;s<this.writeBuffer.length;s++){const r=this.writeBuffer[s].data;if(r&&(n+=gm(r)),s>0&&n>this.maxPayload)return this.writeBuffer.slice(0,s);n+=2}return this.writeBuffer}write(t,n,s){return this.sendPacket("message",t,n,s),this}send(t,n,s){return this.sendPacket("message",t,n,s),this}sendPacket(t,n,s,r){if(typeof n=="function"&&(r=n,n=void 0),typeof s=="function"&&(r=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;const o={type:t,data:n,options:s};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),r&&this.once("flush",r),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},s=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():t()}):this.upgrading?s():t()),this}onError(t){xn.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,n){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const n=[];let s=0;const r=t.length;for(;s<r;s++)~this.transports.indexOf(t[s])&&n.push(t[s]);return n}};tu.protocol=Jc;function Lm(e,t="",n){let s=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),s=Po(e)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const o=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+o+":"+s.port+t,s.href=s.protocol+"://"+o+(n&&n.port===s.port?"":":"+s.port),s}const Bm=typeof ArrayBuffer=="function",Dm=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,nu=Object.prototype.toString,Mm=typeof Blob=="function"||typeof Blob<"u"&&nu.call(Blob)==="[object BlobConstructor]",Fm=typeof File=="function"||typeof File<"u"&&nu.call(File)==="[object FileConstructor]";function gi(e){return Bm&&(e instanceof ArrayBuffer||Dm(e))||Mm&&e instanceof Blob||Fm&&e instanceof File}function Gs(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,s=e.length;n<s;n++)if(Gs(e[n]))return!0;return!1}if(gi(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Gs(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&Gs(e[n]))return!0;return!1}function Um(e){const t=[],n=e.data,s=e;return s.data=Io(n,t),s.attachments=t.length,{packet:s,buffers:t}}function Io(e,t){if(!e)return e;if(gi(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let s=0;s<e.length;s++)n[s]=Io(e[s],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=Io(e[s],t));return n}return e}function jm(e,t){return e.data=No(e.data,t),delete e.attachments,e}function No(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=No(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=No(e[n],t));return e}const Hm=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],qm=5;var oe;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(oe||(oe={}));class Vm{constructor(t){this.replacer=t}encode(t){return(t.type===oe.EVENT||t.type===oe.ACK)&&Gs(t)?this.encodeAsBinary({type:t.type===oe.EVENT?oe.BINARY_EVENT:oe.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===oe.BINARY_EVENT||t.type===oe.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=Um(t),s=this.encodeAsString(n.packet),r=n.buffers;return r.unshift(s),r}}function La(e){return Object.prototype.toString.call(e)==="[object Object]"}class yi extends Pe{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const s=n.type===oe.BINARY_EVENT;s||n.type===oe.BINARY_ACK?(n.type=s?oe.EVENT:oe.ACK,this.reconstructor=new Wm(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(gi(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const s={type:Number(t.charAt(0))};if(oe[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===oe.BINARY_EVENT||s.type===oe.BINARY_ACK){const o=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const i=t.substring(o,n);if(i!=Number(i)||t.charAt(n)!=="-")throw new Error("Illegal attachments");s.attachments=Number(i)}if(t.charAt(n+1)==="/"){const o=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););s.nsp=t.substring(o,n)}else s.nsp="/";const r=t.charAt(n+1);if(r!==""&&Number(r)==r){const o=n+1;for(;++n;){const i=t.charAt(n);if(i==null||Number(i)!=i){--n;break}if(n===t.length)break}s.id=Number(t.substring(o,n+1))}if(t.charAt(++n)){const o=this.tryParse(t.substr(n));if(yi.isPayloadValid(s.type,o))s.data=o;else throw new Error("invalid payload")}return s}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case oe.CONNECT:return La(n);case oe.DISCONNECT:return n===void 0;case oe.CONNECT_ERROR:return typeof n=="string"||La(n);case oe.EVENT:case oe.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&Hm.indexOf(n[0])===-1);case oe.ACK:case oe.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Wm{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=jm(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Km=Object.freeze(Object.defineProperty({__proto__:null,Decoder:yi,Encoder:Vm,get PacketType(){return oe},protocol:qm},Symbol.toStringTag,{value:"Module"}));function gt(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const zm=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class su extends Pe{constructor(t,n,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[gt(t,"open",this.onopen.bind(this)),gt(t,"packet",this.onpacket.bind(this)),gt(t,"error",this.onerror.bind(this)),gt(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){if(zm.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const s={type:oe.EVENT,data:n};if(s.options={},s.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const i=this.ids++,a=n.pop();this._registerAckCallback(i,a),s.id=i}const r=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!r||!this.connected)||(this.connected?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(t,n){var s;const r=(s=this.flags.timeout)!==null&&s!==void 0?s:this._opts.ackTimeout;if(r===void 0){this.acks[t]=n;return}const o=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===t&&this.sendBuffer.splice(a,1);n.call(this,new Error("operation has timed out"))},r),i=(...a)=>{this.io.clearTimeoutFn(o),n.apply(this,a)};i.withError=!0,this.acks[t]=i}emitWithAck(t,...n){return new Promise((s,r)=>{const o=(i,a)=>i?r(i):s(a);o.withError=!0,n.push(o),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((r,...o)=>s!==this._queue[0]?void 0:(r!==null?s.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(r)):(this._queue.shift(),n&&n(null,...o)),s.pending=!1,this._drainQueue())),this._queue.push(s),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:oe.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(s=>String(s.id)===t)){const s=this.acks[t];delete this.acks[t],s.withError&&s.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case oe.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case oe.EVENT:case oe.BINARY_EVENT:this.onevent(t);break;case oe.ACK:case oe.BINARY_ACK:this.onack(t);break;case oe.DISCONNECT:this.ondisconnect();break;case oe.CONNECT_ERROR:this.destroy();const s=new Error(t.data.message);s.data=t.data.data,this.emitReserved("connect_error",s);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const s of n)s.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let s=!1;return function(...r){s||(s=!0,n.packet({type:oe.ACK,id:t,data:r}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(delete this.acks[t.id],n.withError&&t.data.unshift(null),n.apply(this,t.data))}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:oe.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let s=0;s<n.length;s++)if(t===n[s])return n.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let s=0;s<n.length;s++)if(t===n[s])return n.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const s of n)s.apply(this,t.data)}}}function qn(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}qn.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};qn.prototype.reset=function(){this.attempts=0};qn.prototype.setMin=function(e){this.ms=e};qn.prototype.setMax=function(e){this.max=e};qn.prototype.setJitter=function(e){this.jitter=e};class Lo extends Pe{constructor(t,n){var s;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,$r(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((s=n.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new qn({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const r=n.parser||Km;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new tu(this.uri,this.opts);const n=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const r=gt(n,"open",function(){s.onopen(),t&&t()}),o=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),t?t(a):this.maybeReconnectOnOpen()},i=gt(n,"error",o);if(this._timeout!==!1){const a=this._timeout,c=this.setTimeoutFn(()=>{r(),o(new Error("timeout")),n.close()},a);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(r),this.subs.push(i),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(gt(t,"ping",this.onping.bind(this)),gt(t,"data",this.ondata.bind(this)),gt(t,"error",this.onerror.bind(this)),gt(t,"close",this.onclose.bind(this)),gt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){_i(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let s=this.nsps[t];return s?this._autoConnect&&!s.active&&s.connect():(s=new su(this,t,n),this.nsps[t]=s),s}_destroy(t){const n=Object.keys(this.nsps);for(const s of n)if(this.nsps[s].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let s=0;s<n.length;s++)this.engine.write(n[s],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,n){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(r=>{r?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",r)):t.onreconnect()}))},n);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Yn={};function Js(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=Lm(e,t.path||"/socket.io"),s=n.source,r=n.id,o=n.path,i=Yn[r]&&o in Yn[r].nsps,a=t.forceNew||t["force new connection"]||t.multiplex===!1||i;let c;return a?c=new Lo(s,t):(Yn[r]||(Yn[r]=new Lo(s,t)),c=Yn[r]),n.query&&!t.query&&(t.query=n.queryKey),c.socket(n.path,t)}Object.assign(Js,{Manager:Lo,Socket:su,io:Js,connect:Js});let _t=null;function Gm(e){console.log("@game-controller: connectToGame"),z.open(bs),_t&&(_t.disconnect(),_t=null);const t={query:{gameId:e,token:Ge().refreshToken}};_t=Js(ui,t),_t.on("connect",Qm),_t.on("disconnect",Xm),_t.on("patch",Ym),_t.on("error",Zm),z.close()}function Jm(){_t&&(_t.disconnect(),_t=null,Me().clear())}function Ym(e){try{const{patches:t}=e;console.log("@game-controller: onReceivePatch:",t),Me().game=kr(Me().game||{},t).newDocument}catch(t){console.error("Failed to patch:",t);return}}function Qm(){console.log("@game-controller: onOpen")}function Xm(){console.log("@game-controller: onClose")}function Zm(e){console.log("@game-controller: onError:",e)}async function $t(e){var t;await qe.patch(`/game/${(t=Me().game)==null?void 0:t._id}`,e)}const Ss=[{id:"46c018c0-de33-4bd2-9024-71548b22db7e",name:"Forest",author:"Dan Meyers",source:"https://unsplash.com/photos/tall-trees-wB6B3AqXjy0",url:"/images/cover-images/forest.jpg",commonColor:"#8b7d73"},{id:"9131e281-184e-4e2d-8994-8536f9d3c0d0",name:"Forest 2",author:"Simon Berger",source:"https://unsplash.com/photos/grayscale-photo-of-trees-and-pathway-rydQVdwcgUQ",url:"/images/cover-images/forest-2.jpg",commonColor:"#7f7f7f"},{id:"2e2ec06d-97b4-4cce-b88d-a58c10b8bef8",name:"Castle",author:"Cederic Vandenberghe",source:"https://unsplash.com/photos/closeup-photo-of-castle-with-mist-21DP3hytVHw",url:"/images/cover-images/castle.jpg",commonColor:"#3f7690"},{id:"230ecd94-c69b-4444-a7e2-2585a2652051",name:"Broadsword",author:"Jonathan Kemper",source:"https://unsplash.com/photos/brown-wooden-handle-bar-on-brown-wooden-table-4_ZvmLAeIZk",url:"/images/cover-images/broadsword.jpg",commonColor:"#6c4c34"},{id:"16761f54-5c0c-4f56-8274-f04af8e7f33e",name:"Warband",author:"Hasan Almasi",source:"https://unsplash.com/photos/people-gathering-on-street-during-nighttime-OwqLxCvoVxI",url:"/images/cover-images/warband.jpg",commonColor:"#c34e33"}],e_=e=>(Ae("data-v-3a7ef47d"),e=e(),ke(),e),t_=["src"],n_={class:"game-card__content"},s_={class:"row info"},r_={class:"tag"},o_={class:"row users"},i_=e_(()=>l("i",{class:"fas fa-users"},null,-1)),a_={class:"date-created"},l_=se({__name:"GameCard",props:{game:{type:Object,required:!0}},setup(e){const t=e,n=ee(()=>Ss.find(o=>o.id===t.game.coverImage)),s=ee(()=>t.game.players[de().id]),r=ee(()=>new Date(t.game.dateCreated).toLocaleDateString());return(o,i)=>{var a,c;return C(),x("div",{class:"game-card",style:on({backgroundColor:(a=n.value)==null?void 0:a.commonColor})},[l("img",{src:(c=n.value)==null?void 0:c.url},null,8,t_),l("div",n_,[l("h2",null,q(t.game.name),1),l("div",s_,[l("span",r_,q(s.value.role),1),l("div",o_,[i_,l("span",null,q(Object.keys(t.game.players).length),1)]),l("p",a_,q(r.value),1)])])],4)}}}),c_=le(l_,[["__scopeId","data-v-3a7ef47d"]]),u_=e=>(Ae("data-v-3245c5b7"),e=e(),ke(),e),f_={class:"ribbon__content"},d_=["innerHTML"],h_=u_(()=>l("i",{class:"fas fa-times"},null,-1)),p_=[h_],m_=se({__name:"Ribbon",props:{id:{},message:{},onActivate:{type:Function}},setup(e){const t=e;function n(){localStorage.setItem("ribbon."+t.id,"true"),s.value=!1}const s=j(!localStorage.getItem("ribbon."+t.id));return(r,o)=>(C(),x("div",{class:me(["ribbon",{"ribbon--hidden":!s.value}])},[l("div",f_,[l("p",{innerHTML:r.message,onClick:o[0]||(o[0]=(...i)=>r.onActivate&&r.onActivate(...i))},null,8,d_),l("button",{class:"btn btn--icon",onClick:n},p_)])],2))}}),__=le(m_,[["__scopeId","data-v-3245c5b7"]]),g_="/images/fitd-logo.webp",y_={},vi=e=>(Ae("data-v-ba692196"),e=e(),ke(),e),v_={class:"divider"},b_=vi(()=>l("div",{class:"line"},null,-1)),w_=vi(()=>l("div",{class:"middle-symbol"},"❖",-1)),E_=vi(()=>l("div",{class:"line"},null,-1)),C_=[b_,w_,E_];function S_(e,t){return C(),x("div",v_,C_)}const Qe=le(y_,[["render",S_],["__scopeId","data-v-ba692196"]]),A_={},k_={class:"modal"},$_={class:"modal__content"};function x_(e,t){return C(),x("div",k_,[fs(e.$slots,"header",{},void 0),l("div",$_,[fs(e.$slots,"content",{},void 0)])])}const at=le(A_,[["render",x_],["__scopeId","data-v-000cd069"]]),O_=e=>(Ae("data-v-b77cb2fd"),e=e(),ke(),e),T_={class:"modal__header"},R_=O_(()=>l("i",{class:"fas fa-times"},null,-1)),P_=[R_],I_=se({__name:"ModalHeader",props:{closeButton:Boolean,closeButtonAction:Function},setup(e){const t=e;function n(){t.closeButtonAction?t.closeButtonAction():z.close()}return(s,r)=>(C(),x("div",T_,[fs(s.$slots,"default",{},void 0),e.closeButton?(C(),x("button",{key:0,class:"btn--icon",onClick:n},P_)):Z("",!0)]))}}),lt=le(I_,[["__scopeId","data-v-b77cb2fd"]]),Ut=e=>(Ae("data-v-f36234dd"),e=e(),ke(),e),N_=Ut(()=>l("h2",null,"Attribution",-1)),L_={class:"attribution"},B_=Ut(()=>l("p",null,[he(" This work is based on "),l("a",{class:"anchor-link",href:"http://www.bladesinthedark.com/",target:"_blank"}," Blades in the Dark "),he(" , product of One Seven Design, developed and authored by John Harper, and licensed for our use under the "),l("a",{class:"anchor-link",href:"http://creativecommons.org/licenses/by/3.0/",target:"_blank"}," Creative Commons Attribution 3.0 Unported license ")],-1)),D_=Ut(()=>l("a",{class:"anchor-link",href:"https://olinkirk.land",target:"_blank"},"Olin Kirkland",-1)),M_=Ut(()=>l("br",null,null,-1)),F_={class:"muted"},U_=Ut(()=>l("img",{src:g_},null,-1)),j_=Ut(()=>l("p",null," Blades in the Dark™ is a trademark of One Seven Design. The Forged in the Dark Logo is © One Seven Design, and is used with permission ",-1)),H_=Ut(()=>l("p",{class:"images-description"},[he(" Icons are from "),l("a",{class:"anchor-link",href:"https://fontawesome.com/",target:"_blank"},"Font Awesome"),he(" and "),l("a",{class:"anchor-link",href:"https://icons8.com/"},"Icons8")],-1)),q_=Ut(()=>l("p",{class:"images-description"},[he(" Cover images are from "),l("a",{class:"anchor-link",href:"https://unsplash.com/",target:"_blank"},"Unsplash")],-1)),V_={class:"images"},W_=["href"],K_=["src"],z_=Ut(()=>l("br",null,null,-1)),G_={class:"muted"},J_=se({__name:"AttributionModal",setup(e){const t=new Date().getFullYear(),n=s=>{const[r,o]=s.split(" ");return o?`${r} ${o[0]}.`:r};return(s,r)=>(C(),Ne(at,null,{header:V(()=>[N(lt,{closeButton:""},{default:V(()=>[N_]),_:1})]),content:V(()=>[l("div",L_,[B_,N(Qe),l("p",null,[he(" This website is made and maintained by "),D_,M_,l("span",F_,"© "+q(Q(t))+" Olin Kirkland | All rights reserved",1)]),N(Qe),U_,j_,N(Qe),H_,N(Qe),q_,l("ul",V_,[(C(!0),x(we,null,it(Q(Ss),o=>(C(),x("li",{key:o.id},[l("a",{href:o.source,target:"_blank"},[l("img",{src:o.url},null,8,K_),l("p",null,[he(q(o.name),1),z_,l("span",G_,"by "+q(n(o.author)),1)])],8,W_)]))),128))])])]),_:1}))}}),ru=le(J_,[["__scopeId","data-v-f36234dd"]]),Y_={crew:{reputations:["Ambitious","Brutal","Daring","Honorable","Professional","Savvy","Subtle","Strange"],lairs:[{name:"Abandoned Clock Tower",districts:["Six Towers","Crow's Foot","Coalridge"]},{name:"Sewers Beneath the City",districts:["Charterhall","Nightmarket","Barrowcleft"]},{name:"Old Lighthouse",districts:["The Docks","Nightmarket","Crow's Foot"]},{name:"Disused Theater",districts:["Silkshore","Brightstone","Six Towers"]},{name:"Forgotten Crypt",districts:["Dunslough","Charhollow","Coalridge"]},{name:"Luxury Bathhouse",districts:["Brightstone","Silkshore","Charterhall"]},{name:"Library Catacombs",districts:["Charterhall","Six Towers","Brightstone"]},{name:"Derelict Ship",districts:["The Docks","Nightmarket","Crow's Foot"]},{name:"Tunnels Beneath a Bridge",districts:["Crow's Foot","Charterhall","Barrowcleft"]},{name:"Camouflaged Forest Bunker",districts:["Dunslough","Barrowcleft","Charhollow"]}]}},Q_={districts:[{name:"Brightstone",blurb:"The grand mansions and luxury shops of the wealthy elite."},{name:"Charterhall",blurb:"The city's civic offices and the hub for shops, artisans, and commerce."},{name:"Six Towers",blurb:"A formerly rich district, now worn down and dilapidated."},{name:"Silkshore",blurb:"The 'red lamp district' and artist community."},{name:"Nightmarket",blurb:"The trade center for exotic goods imported by rail. Many vendors also trade in illicit goods."},{name:"Crow's Foot",blurb:"A cramped neighborhood of multi-level streets, ruled by gangs."},{name:"The Docks",blurb:"Rough taverns, tattoo parlors, fighting pits, and warehouses."},{name:"Barrowcleft",blurb:"Residences and markets for the farmers who work the fields and eeleries."},{name:"Coalridge",blurb:"The remnants of Doskvol's original hilltop mining settlement, now home to laborers and industrial factories."},{name:"Charhollow",blurb:"A maze of tenements and squalid row houses."},{name:"Dunslough",blurb:"A labor camp served by convicts and a ghetto for the destitute poor."}]},X_={sheets:Y_,lexicon:Q_};async function Z_(e,t){try{const n=await qe.post("/game/new",{gameName:e,coverImage:t,codex:X_});if(n.status===Ft.Ok)return console.log(n.data),de().games=n.data,null}catch(n){return n.response.data}}async function eg(){var e;try{if((await qe.post(`/game/${(e=Me().game)==null?void 0:e._id}/leave`)).status===Ft.Ok)return Me().clear(),await Vn(),null}catch(t){return t.response.data}}function tg(e){const t=So.find(s=>s.id==="791e4a6b-8f2e-41b2-8410-09fdb69d22e2");return e&&So.find(s=>e===s.id)||t}const ng=["src"],sg=se({__name:"Portrait",props:{portraitId:{}},setup(e){const t=e,n=ee(()=>tg(t.portraitId));return(s,r)=>(C(),x("div",{class:"portrait",style:on({backgroundColor:n.value.commonColor})},[l("img",{src:n.value.url,alt:"Portrait"},null,8,ng)],4))}}),xr=le(sg,[["__scopeId","data-v-e68cd623"]]),As=e=>(Ae("data-v-90e063bd"),e=e(),ke(),e),rg=As(()=>l("h2",null,"Game Preview",-1)),og={class:"game-preview"},ig=["src"],ag={class:"overlay"},lg={class:"row center game-join-bar"},cg={class:"tag"},ug={class:"row users"},fg=As(()=>l("i",{class:"fas fa-users"},null,-1)),dg=As(()=>l("span",null,"Play",-1)),hg=[dg],pg=As(()=>l("h3",null,"Players",-1)),mg={class:"players-container"},_g=As(()=>l("i",{class:"fas fa-circle-notch fa-spin"},null,-1)),gg=[_g],yg=se({__name:"GamePreviewModal",props:{game:{}},setup(e){const t=e,n=ee(()=>t.game.players[de().id]),s=ee(()=>Ss.find(o=>o.id===t.game.coverImage));function r(){Pt.push({name:"game",params:{id:t.game._id}}),z.close()}return(o,i)=>(C(),Ne(at,null,{header:V(()=>[N(lt,{closeButton:""},{default:V(()=>[rg]),_:1})]),content:V(()=>{var a,c;return[l("div",og,[l("div",{class:"title-block",style:on({backgroundColor:(a=s.value)==null?void 0:a.commonColor})},[l("img",{class:"game-preview__cover",src:(c=s.value)==null?void 0:c.url},null,8,ig),l("div",ag,[l("h1",null,q(o.game.name),1)])],4),l("div",lg,[l("span",cg,q(n.value.role),1),l("div",ug,[fg,l("span",null,q(Object.keys(o.game.players).length),1)]),l("button",{class:"btn mobile-full-width",onClick:r},hg)]),N(Qe),pg,l("div",mg,[l("div",{class:me(["row center waiting-players",{collapsed:Object.keys(o.game.players).length>0}])},gg,2),l("ul",{class:me(["players",{collapsed:Object.keys(o.game.players).length===0}])},[(C(!0),x(we,null,it(o.game.players,(f,u)=>(C(),x("li",{class:"row",key:u},[N(xr,{portraitId:f.portrait},null,8,["portraitId"]),l("span",null,q(f.username),1)]))),128))],2)])])]}),_:1}))}}),ou=le(yg,[["__scopeId","data-v-90e063bd"]]),En=e=>(Ae("data-v-e3ba015e"),e=e(),ke(),e),vg=En(()=>l("h2",null,"New Game",-1)),bg={class:"game"},wg=En(()=>l("p",null,[he(" Create a new "),l("em",null,"Blades in the Dark"),he(" game. "),l("br"),l("span",{class:"muted"}," You can invite players once the game has been created. ")],-1)),Eg={class:"inputs"},Cg={class:"input-group"},Sg=En(()=>l("label",{for:"gameName"},"Game Name",-1)),Ag={key:0,class:"reminder shake-once"},kg={class:"input-group"},$g=En(()=>l("label",{for:"coverImage"},"Cover Image",-1)),xg={class:"cover-image-list"},Og=["onClick"],Tg=["src","onLoad","onError"],Rg={key:0,class:"overlay"},Pg={class:"caption"},Ig={key:1,class:"fas fa-check-circle"},Ng={key:0,class:"alert"},Lg=En(()=>l("i",{class:"fas fa-exclamation-circle"},null,-1)),Bg=En(()=>l("i",{class:"fas fa-times"},null,-1)),Dg=[Bg],Mg={class:"row center"},Fg={key:0,class:"fas fa-circle-notch fa-spin"},Ug=En(()=>l("span",null,"Create Game",-1)),jg=se({__name:"CreateGameModal",setup(e){const t=j(Ss.map(u=>({...u,loaded:!1}))),n=j(""),s=j(!1),r=j(""),o=j(!1),i=ee(()=>o.value&&r.value.length===0?"Every game should have a name":null),a=j(t.value[0].id),c=ee(()=>r.value.length>0);async function f(){if(!c.value&&(!o.value||i.value)){o.value=!0,document.querySelectorAll(".reminder").forEach(p=>{p.classList.remove("shake-once"),p.offsetWidth,p.classList.add("shake-once")});return}s.value=!0,n.value="";const u=await Z_(r.value,a.value);s.value=!1,u?n.value=u:z.open(ou,{game:de().games.find(d=>d.name===r.value)})}return(u,d)=>(C(),Ne(at,{class:me({disabled:s.value})},{header:V(()=>[N(lt,{closeButton:""},{default:V(()=>[vg]),_:1})]),content:V(()=>[l("div",bg,[wg,l("div",Eg,[l("div",Cg,[Sg,Ue(l("input",{type:"text",onInput:d[0]||(d[0]=p=>o.value=!0),onKeyup:vs(f,["enter"]),placeholder:"Enter a name","onUpdate:modelValue":d[1]||(d[1]=p=>r.value=p)},null,544),[[He,r.value]]),i.value?(C(),x("span",Ag,q(i.value),1)):Z("",!0)]),l("div",kg,[$g,l("ul",xg,[(C(!0),x(we,null,it(t.value,p=>(C(),x("li",{key:p.id},[l("button",{onClick:_=>a.value=p.id,style:on({backgroundColor:p.commonColor})},[l("img",{src:p.url,onLoad:_=>p.loaded=!0,onError:_=>p.loaded=!0,class:me({loaded:p.loaded})},null,42,Tg),a.value===p.id?(C(),x("div",Rg)):Z("",!0),l("div",Pg,[l("span",null,q(p.name),1)]),a.value===p.id?(C(),x("i",Ig)):Z("",!0)],12,Og)]))),128))])])]),n.value?(C(),x("div",Ng,[Lg,l("span",null,q(n.value),1),l("button",{class:"btn btn--icon close",onClick:d[2]||(d[2]=p=>n.value="")},Dg)])):Z("",!0),l("div",Mg,[l("button",{class:"btn mobile-full-width",onClick:f},[s.value?(C(),x("i",Fg)):Z("",!0),Ug])])])]),_:1},8,["class"]))}}),Hg=le(jg,[["__scopeId","data-v-e3ba015e"]]),iu=e=>(Ae("data-v-a2839e75"),e=e(),ke(),e),qg={class:"page"},Vg={class:"game-list"},Wg=iu(()=>l("i",{class:"fas fa-folder-plus"},null,-1)),Kg=iu(()=>l("span",null,"New Game",-1)),zg=[Wg,Kg],Gg=se({__name:"TheHomePage",setup(e){async function t(){z.open(Hg)}const n=ee(()=>de().games);function s(r){z.open(ou,{game:r})}return jn(()=>{Vn()}),(r,o)=>(C(),x("div",qg,[N(__,{id:"welcome-ribbon",message:"<em>Online in the Dark</em> is an unofficial tool designed for playing <em>Blades in the Dark</em> online. Click to view the full attribution.",onActivate:()=>{Q(z).open(ru)}},null,8,["onActivate"]),l("ul",Vg,[(C(!0),x(we,null,it(n.value,i=>(C(),x("li",{key:i._id},[N(c_,{game:i,onClick:a=>s(i)},null,8,["game","onClick"])]))),128)),l("li",null,[l("div",{class:"new-game-card",onClick:t},zg)])])]))}}),Jg=le(Gg,[["__scopeId","data-v-a2839e75"]]);async function Yg(e){z.open(bs);try{const t=await qe.post(`/invite/${e}`);if(t.status===Ft.Ok){const n=t.data.gameId;Pt.push({name:Fo.GAME,params:{id:n}})}}catch(t){console.error(t),Pt.push({name:Fo.HOME}),z.close();return}z.close()}const Qg={},Xg={class:"panel"};function Zg(e,t){return C(),x("div",Xg,[fs(e.$slots,"default",{},void 0)])}const au=le(Qg,[["render",Zg],["__scopeId","data-v-c9a6184a"]]);/*!
  * vue-router v4.3.2
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const On=typeof document<"u";function ey(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const ge=Object.assign;function Gr(e,t){const n={};for(const s in t){const r=t[s];n[s]=wt(r)?r.map(e):e(r)}return n}const is=()=>{},wt=Array.isArray,lu=/#/g,ty=/&/g,ny=/\//g,sy=/=/g,ry=/\?/g,cu=/\+/g,oy=/%5B/g,iy=/%5D/g,uu=/%5E/g,ay=/%60/g,fu=/%7B/g,ly=/%7C/g,du=/%7D/g,cy=/%20/g;function bi(e){return encodeURI(""+e).replace(ly,"|").replace(oy,"[").replace(iy,"]")}function uy(e){return bi(e).replace(fu,"{").replace(du,"}").replace(uu,"^")}function Bo(e){return bi(e).replace(cu,"%2B").replace(cy,"+").replace(lu,"%23").replace(ty,"%26").replace(ay,"`").replace(fu,"{").replace(du,"}").replace(uu,"^")}function fy(e){return Bo(e).replace(sy,"%3D")}function dy(e){return bi(e).replace(lu,"%23").replace(ry,"%3F")}function hy(e){return e==null?"":dy(e).replace(ny,"%2F")}function ms(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const py=/\/$/,my=e=>e.replace(py,"");function Jr(e,t,n="/"){let s,r={},o="",i="";const a=t.indexOf("#");let c=t.indexOf("?");return a<c&&a>=0&&(c=-1),c>-1&&(s=t.slice(0,c),o=t.slice(c+1,a>-1?a:t.length),r=e(o)),a>-1&&(s=s||t.slice(0,a),i=t.slice(a,t.length)),s=vy(s??t,n),{fullPath:s+(o&&"?")+o+i,path:s,query:r,hash:ms(i)}}function _y(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Ba(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function gy(e,t,n){const s=t.matched.length-1,r=n.matched.length-1;return s>-1&&s===r&&Mn(t.matched[s],n.matched[r])&&hu(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Mn(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function hu(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!yy(e[n],t[n]))return!1;return!0}function yy(e,t){return wt(e)?Da(e,t):wt(t)?Da(t,e):e===t}function Da(e,t){return wt(t)?e.length===t.length&&e.every((n,s)=>n===t[s]):e.length===1&&e[0]===t}function vy(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),s=e.split("/"),r=s[s.length-1];(r===".."||r===".")&&s.push("");let o=n.length-1,i,a;for(i=0;i<s.length;i++)if(a=s[i],a!==".")if(a==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+s.slice(i).join("/")}var _s;(function(e){e.pop="pop",e.push="push"})(_s||(_s={}));var as;(function(e){e.back="back",e.forward="forward",e.unknown=""})(as||(as={}));function by(e){if(!e)if(On){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),my(e)}const wy=/^[^#]+#/;function Ey(e,t){return e.replace(wy,"#")+t}function Cy(e,t){const n=document.documentElement.getBoundingClientRect(),s=e.getBoundingClientRect();return{behavior:t.behavior,left:s.left-n.left-(t.left||0),top:s.top-n.top-(t.top||0)}}const Or=()=>({left:window.scrollX,top:window.scrollY});function Sy(e){let t;if("el"in e){const n=e.el,s=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;t=Cy(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Ma(e,t){return(history.state?history.state.position-t:-1)+e}const Do=new Map;function Ay(e,t){Do.set(e,t)}function ky(e){const t=Do.get(e);return Do.delete(e),t}let $y=()=>location.protocol+"//"+location.host;function pu(e,t){const{pathname:n,search:s,hash:r}=t,o=e.indexOf("#");if(o>-1){let a=r.includes(e.slice(o))?e.slice(o).length:1,c=r.slice(a);return c[0]!=="/"&&(c="/"+c),Ba(c,"")}return Ba(n,e)+s+r}function xy(e,t,n,s){let r=[],o=[],i=null;const a=({state:p})=>{const _=pu(e,location),g=n.value,y=t.value;let O=0;if(p){if(n.value=_,t.value=p,i&&i===g){i=null;return}O=y?p.position-y.position:0}else s(_);r.forEach(L=>{L(n.value,g,{delta:O,type:_s.pop,direction:O?O>0?as.forward:as.back:as.unknown})})};function c(){i=n.value}function f(p){r.push(p);const _=()=>{const g=r.indexOf(p);g>-1&&r.splice(g,1)};return o.push(_),_}function u(){const{history:p}=window;p.state&&p.replaceState(ge({},p.state,{scroll:Or()}),"")}function d(){for(const p of o)p();o=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:c,listen:f,destroy:d}}function Fa(e,t,n,s=!1,r=!1){return{back:e,current:t,forward:n,replaced:s,position:window.history.length,scroll:r?Or():null}}function Oy(e){const{history:t,location:n}=window,s={value:pu(e,n)},r={value:t.state};r.value||o(s.value,{back:null,current:s.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function o(c,f,u){const d=e.indexOf("#"),p=d>-1?(n.host&&document.querySelector("base")?e:e.slice(d))+c:$y()+e+c;try{t[u?"replaceState":"pushState"](f,"",p),r.value=f}catch(_){console.error(_),n[u?"replace":"assign"](p)}}function i(c,f){const u=ge({},t.state,Fa(r.value.back,c,r.value.forward,!0),f,{position:r.value.position});o(c,u,!0),s.value=c}function a(c,f){const u=ge({},r.value,t.state,{forward:c,scroll:Or()});o(u.current,u,!0);const d=ge({},Fa(s.value,c,null),{position:u.position+1},f);o(c,d,!1),s.value=c}return{location:s,state:r,push:a,replace:i}}function Ty(e){e=by(e);const t=Oy(e),n=xy(e,t.state,t.location,t.replace);function s(o,i=!0){i||n.pauseListeners(),history.go(o)}const r=ge({location:"",base:e,go:s,createHref:Ey.bind(null,e)},t,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function Ry(e){return typeof e=="string"||e&&typeof e=="object"}function mu(e){return typeof e=="string"||typeof e=="symbol"}const Gt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},_u=Symbol("");var Ua;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Ua||(Ua={}));function Fn(e,t){return ge(new Error,{type:e,[_u]:!0},t)}function Lt(e,t){return e instanceof Error&&_u in e&&(t==null||!!(e.type&t))}const ja="[^/]+?",Py={sensitive:!1,strict:!1,start:!0,end:!0},Iy=/[.+*?^${}()[\]/\\]/g;function Ny(e,t){const n=ge({},Py,t),s=[];let r=n.start?"^":"";const o=[];for(const f of e){const u=f.length?[]:[90];n.strict&&!f.length&&(r+="/");for(let d=0;d<f.length;d++){const p=f[d];let _=40+(n.sensitive?.25:0);if(p.type===0)d||(r+="/"),r+=p.value.replace(Iy,"\\$&"),_+=40;else if(p.type===1){const{value:g,repeatable:y,optional:O,regexp:L}=p;o.push({name:g,repeatable:y,optional:O});const P=L||ja;if(P!==ja){_+=10;try{new RegExp(`(${P})`)}catch(k){throw new Error(`Invalid custom RegExp for param "${g}" (${P}): `+k.message)}}let b=y?`((?:${P})(?:/(?:${P}))*)`:`(${P})`;d||(b=O&&f.length<2?`(?:/${b})`:"/"+b),O&&(b+="?"),r+=b,_+=20,O&&(_+=-8),y&&(_+=-20),P===".*"&&(_+=-50)}u.push(_)}s.push(u)}if(n.strict&&n.end){const f=s.length-1;s[f][s[f].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const i=new RegExp(r,n.sensitive?"":"i");function a(f){const u=f.match(i),d={};if(!u)return null;for(let p=1;p<u.length;p++){const _=u[p]||"",g=o[p-1];d[g.name]=_&&g.repeatable?_.split("/"):_}return d}function c(f){let u="",d=!1;for(const p of e){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const _ of p)if(_.type===0)u+=_.value;else if(_.type===1){const{value:g,repeatable:y,optional:O}=_,L=g in f?f[g]:"";if(wt(L)&&!y)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const P=wt(L)?L.join("/"):L;if(!P)if(O)p.length<2&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${g}"`);u+=P}}return u||"/"}return{re:i,score:s,keys:o,parse:a,stringify:c}}function Ly(e,t){let n=0;for(;n<e.length&&n<t.length;){const s=t[n]-e[n];if(s)return s;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function By(e,t){let n=0;const s=e.score,r=t.score;for(;n<s.length&&n<r.length;){const o=Ly(s[n],r[n]);if(o)return o;n++}if(Math.abs(r.length-s.length)===1){if(Ha(s))return 1;if(Ha(r))return-1}return r.length-s.length}function Ha(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Dy={type:0,value:""},My=/[a-zA-Z0-9_]/;function Fy(e){if(!e)return[[]];if(e==="/")return[[Dy]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(_){throw new Error(`ERR (${n})/"${f}": ${_}`)}let n=0,s=n;const r=[];let o;function i(){o&&r.push(o),o=[]}let a=0,c,f="",u="";function d(){f&&(n===0?o.push({type:0,value:f}):n===1||n===2||n===3?(o.length>1&&(c==="*"||c==="+")&&t(`A repeatable param (${f}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:f,regexp:u,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):t("Invalid state to consume buffer"),f="")}function p(){f+=c}for(;a<e.length;){if(c=e[a++],c==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:c==="/"?(f&&d(),i()):c===":"?(d(),n=1):p();break;case 4:p(),n=s;break;case 1:c==="("?n=2:My.test(c)?p():(d(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--);break;case 2:c===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+c:n=3:u+=c;break;case 3:d(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--,u="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${f}"`),d(),i(),r}function Uy(e,t,n){const s=Ny(Fy(e.path),n),r=ge(s,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function jy(e,t){const n=[],s=new Map;t=Wa({strict:!1,end:!0,sensitive:!1},t);function r(u){return s.get(u)}function o(u,d,p){const _=!p,g=Hy(u);g.aliasOf=p&&p.record;const y=Wa(t,u),O=[g];if("alias"in u){const b=typeof u.alias=="string"?[u.alias]:u.alias;for(const k of b)O.push(ge({},g,{components:p?p.record.components:g.components,path:k,aliasOf:p?p.record:g}))}let L,P;for(const b of O){const{path:k}=b;if(d&&k[0]!=="/"){const B=d.record.path,J=B[B.length-1]==="/"?"":"/";b.path=d.record.path+(k&&J+k)}if(L=Uy(b,d,y),p?p.alias.push(L):(P=P||L,P!==L&&P.alias.push(L),_&&u.name&&!Va(L)&&i(u.name)),g.children){const B=g.children;for(let J=0;J<B.length;J++)o(B[J],L,p&&p.children[J])}p=p||L,(L.record.components&&Object.keys(L.record.components).length||L.record.name||L.record.redirect)&&c(L)}return P?()=>{i(P)}:is}function i(u){if(mu(u)){const d=s.get(u);d&&(s.delete(u),n.splice(n.indexOf(d),1),d.children.forEach(i),d.alias.forEach(i))}else{const d=n.indexOf(u);d>-1&&(n.splice(d,1),u.record.name&&s.delete(u.record.name),u.children.forEach(i),u.alias.forEach(i))}}function a(){return n}function c(u){let d=0;for(;d<n.length&&By(u,n[d])>=0&&(u.record.path!==n[d].record.path||!gu(u,n[d]));)d++;n.splice(d,0,u),u.record.name&&!Va(u)&&s.set(u.record.name,u)}function f(u,d){let p,_={},g,y;if("name"in u&&u.name){if(p=s.get(u.name),!p)throw Fn(1,{location:u});y=p.record.name,_=ge(qa(d.params,p.keys.filter(P=>!P.optional).concat(p.parent?p.parent.keys.filter(P=>P.optional):[]).map(P=>P.name)),u.params&&qa(u.params,p.keys.map(P=>P.name))),g=p.stringify(_)}else if(u.path!=null)g=u.path,p=n.find(P=>P.re.test(g)),p&&(_=p.parse(g),y=p.record.name);else{if(p=d.name?s.get(d.name):n.find(P=>P.re.test(d.path)),!p)throw Fn(1,{location:u,currentLocation:d});y=p.record.name,_=ge({},d.params,u.params),g=p.stringify(_)}const O=[];let L=p;for(;L;)O.unshift(L.record),L=L.parent;return{name:y,path:g,params:_,matched:O,meta:Vy(O)}}return e.forEach(u=>o(u)),{addRoute:o,resolve:f,removeRoute:i,getRoutes:a,getRecordMatcher:r}}function qa(e,t){const n={};for(const s of t)s in e&&(n[s]=e[s]);return n}function Hy(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:qy(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function qy(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const s in e.components)t[s]=typeof n=="object"?n[s]:n;return t}function Va(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Vy(e){return e.reduce((t,n)=>ge(t,n.meta),{})}function Wa(e,t){const n={};for(const s in e)n[s]=s in t?t[s]:e[s];return n}function gu(e,t){return t.children.some(n=>n===e||gu(e,n))}function Wy(e){const t={};if(e===""||e==="?")return t;const s=(e[0]==="?"?e.slice(1):e).split("&");for(let r=0;r<s.length;++r){const o=s[r].replace(cu," "),i=o.indexOf("="),a=ms(i<0?o:o.slice(0,i)),c=i<0?null:ms(o.slice(i+1));if(a in t){let f=t[a];wt(f)||(f=t[a]=[f]),f.push(c)}else t[a]=c}return t}function Ka(e){let t="";for(let n in e){const s=e[n];if(n=fy(n),s==null){s!==void 0&&(t+=(t.length?"&":"")+n);continue}(wt(s)?s.map(o=>o&&Bo(o)):[s&&Bo(s)]).forEach(o=>{o!==void 0&&(t+=(t.length?"&":"")+n,o!=null&&(t+="="+o))})}return t}function Ky(e){const t={};for(const n in e){const s=e[n];s!==void 0&&(t[n]=wt(s)?s.map(r=>r==null?null:""+r):s==null?s:""+s)}return t}const zy=Symbol(""),za=Symbol(""),wi=Symbol(""),Ei=Symbol(""),Mo=Symbol("");function Qn(){let e=[];function t(s){return e.push(s),()=>{const r=e.indexOf(s);r>-1&&e.splice(r,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Zt(e,t,n,s,r,o=i=>i()){const i=s&&(s.enterCallbacks[r]=s.enterCallbacks[r]||[]);return()=>new Promise((a,c)=>{const f=p=>{p===!1?c(Fn(4,{from:n,to:t})):p instanceof Error?c(p):Ry(p)?c(Fn(2,{from:t,to:p})):(i&&s.enterCallbacks[r]===i&&typeof p=="function"&&i.push(p),a())},u=o(()=>e.call(s&&s.instances[r],t,n,f));let d=Promise.resolve(u);e.length<3&&(d=d.then(f)),d.catch(p=>c(p))})}function Yr(e,t,n,s,r=o=>o()){const o=[];for(const i of e)for(const a in i.components){let c=i.components[a];if(!(t!=="beforeRouteEnter"&&!i.instances[a]))if(Gy(c)){const u=(c.__vccOpts||c)[t];u&&o.push(Zt(u,n,s,i,a,r))}else{let f=c();o.push(()=>f.then(u=>{if(!u)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${i.path}"`));const d=ey(u)?u.default:u;i.components[a]=d;const _=(d.__vccOpts||d)[t];return _&&Zt(_,n,s,i,a,r)()}))}}return o}function Gy(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Ga(e){const t=bt(wi),n=bt(Ei),s=ee(()=>{const c=Q(e.to);return t.resolve(c)}),r=ee(()=>{const{matched:c}=s.value,{length:f}=c,u=c[f-1],d=n.matched;if(!u||!d.length)return-1;const p=d.findIndex(Mn.bind(null,u));if(p>-1)return p;const _=Ja(c[f-2]);return f>1&&Ja(u)===_&&d[d.length-1].path!==_?d.findIndex(Mn.bind(null,c[f-2])):p}),o=ee(()=>r.value>-1&&Xy(n.params,s.value.params)),i=ee(()=>r.value>-1&&r.value===n.matched.length-1&&hu(n.params,s.value.params));function a(c={}){return Qy(c)?t[Q(e.replace)?"replace":"push"](Q(e.to)).catch(is):Promise.resolve()}return{route:s,href:ee(()=>s.value.href),isActive:o,isExactActive:i,navigate:a}}const Jy=se({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Ga,setup(e,{slots:t}){const n=gs(Ga(e)),{options:s}=bt(wi),r=ee(()=>({[Ya(e.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[Ya(e.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=t.default&&t.default(n);return e.custom?o:rc("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},o)}}}),Yy=Jy;function Qy(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Xy(e,t){for(const n in t){const s=t[n],r=e[n];if(typeof s=="string"){if(s!==r)return!1}else if(!wt(r)||r.length!==s.length||s.some((o,i)=>o!==r[i]))return!1}return!0}function Ja(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Ya=(e,t,n)=>e??t??n,Zy=se({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const s=bt(Mo),r=ee(()=>e.route||s.value),o=bt(za,0),i=ee(()=>{let f=Q(o);const{matched:u}=r.value;let d;for(;(d=u[f])&&!d.components;)f++;return f}),a=ee(()=>r.value.matched[i.value]);js(za,ee(()=>i.value+1)),js(zy,a),js(Mo,r);const c=j();return ts(()=>[c.value,a.value,e.name],([f,u,d],[p,_,g])=>{u&&(u.instances[d]=f,_&&_!==u&&f&&f===p&&(u.leaveGuards.size||(u.leaveGuards=_.leaveGuards),u.updateGuards.size||(u.updateGuards=_.updateGuards))),f&&u&&(!_||!Mn(u,_)||!p)&&(u.enterCallbacks[d]||[]).forEach(y=>y(f))},{flush:"post"}),()=>{const f=r.value,u=e.name,d=a.value,p=d&&d.components[u];if(!p)return Qa(n.default,{Component:p,route:f});const _=d.props[u],g=_?_===!0?f.params:typeof _=="function"?_(f):_:null,O=rc(p,ge({},g,t,{onVnodeUnmounted:L=>{L.component.isUnmounted&&(d.instances[u]=null)},ref:c}));return Qa(n.default,{Component:O,route:f})||O}}});function Qa(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const ev=Zy;function tv(e){const t=jy(e.routes,e),n=e.parseQuery||Wy,s=e.stringifyQuery||Ka,r=e.history,o=Qn(),i=Qn(),a=Qn(),c=no(Gt);let f=Gt;On&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Gr.bind(null,S=>""+S),d=Gr.bind(null,hy),p=Gr.bind(null,ms);function _(S,F){let D,H;return mu(S)?(D=t.getRecordMatcher(S),H=F):H=S,t.addRoute(H,D)}function g(S){const F=t.getRecordMatcher(S);F&&t.removeRoute(F)}function y(){return t.getRoutes().map(S=>S.record)}function O(S){return!!t.getRecordMatcher(S)}function L(S,F){if(F=ge({},F||c.value),typeof S=="string"){const m=Jr(n,S,F.path),v=t.resolve({path:m.path},F),A=r.createHref(m.fullPath);return ge(m,v,{params:p(v.params),hash:ms(m.hash),redirectedFrom:void 0,href:A})}let D;if(S.path!=null)D=ge({},S,{path:Jr(n,S.path,F.path).path});else{const m=ge({},S.params);for(const v in m)m[v]==null&&delete m[v];D=ge({},S,{params:d(m)}),F.params=d(F.params)}const H=t.resolve(D,F),_e=S.hash||"";H.params=u(p(H.params));const $e=_y(s,ge({},S,{hash:uy(_e),path:H.path})),h=r.createHref($e);return ge({fullPath:$e,hash:_e,query:s===Ka?Ky(S.query):S.query||{}},H,{redirectedFrom:void 0,href:h})}function P(S){return typeof S=="string"?Jr(n,S,c.value.path):ge({},S)}function b(S,F){if(f!==S)return Fn(8,{from:F,to:S})}function k(S){return Oe(S)}function B(S){return k(ge(P(S),{replace:!0}))}function J(S){const F=S.matched[S.matched.length-1];if(F&&F.redirect){const{redirect:D}=F;let H=typeof D=="function"?D(S):D;return typeof H=="string"&&(H=H.includes("?")||H.includes("#")?H=P(H):{path:H},H.params={}),ge({query:S.query,hash:S.hash,params:H.path!=null?{}:S.params},H)}}function Oe(S,F){const D=f=L(S),H=c.value,_e=S.state,$e=S.force,h=S.replace===!0,m=J(D);if(m)return Oe(ge(P(m),{state:typeof m=="object"?ge({},_e,m.state):_e,force:$e,replace:h}),F||D);const v=D;v.redirectedFrom=F;let A;return!$e&&gy(s,H,D)&&(A=Fn(16,{to:v,from:H}),Et(H,H,!0,!1)),(A?Promise.resolve(A):Te(v,H)).catch(w=>Lt(w)?Lt(w,2)?w:Wt(w):pe(w,v,H)).then(w=>{if(w){if(Lt(w,2))return Oe(ge({replace:h},P(w.to),{state:typeof w.to=="object"?ge({},_e,w.to.state):_e,force:$e}),F||v)}else w=tt(v,H,!0,h,_e);return We(v,H,w),w})}function re(S,F){const D=b(S,F);return D?Promise.reject(D):Promise.resolve()}function ie(S){const F=Sn.values().next().value;return F&&typeof F.runWithContext=="function"?F.runWithContext(S):S()}function Te(S,F){let D;const[H,_e,$e]=nv(S,F);D=Yr(H.reverse(),"beforeRouteLeave",S,F);for(const m of H)m.leaveGuards.forEach(v=>{D.push(Zt(v,S,F))});const h=re.bind(null,S,F);return D.push(h),Ke(D).then(()=>{D=[];for(const m of o.list())D.push(Zt(m,S,F));return D.push(h),Ke(D)}).then(()=>{D=Yr(_e,"beforeRouteUpdate",S,F);for(const m of _e)m.updateGuards.forEach(v=>{D.push(Zt(v,S,F))});return D.push(h),Ke(D)}).then(()=>{D=[];for(const m of $e)if(m.beforeEnter)if(wt(m.beforeEnter))for(const v of m.beforeEnter)D.push(Zt(v,S,F));else D.push(Zt(m.beforeEnter,S,F));return D.push(h),Ke(D)}).then(()=>(S.matched.forEach(m=>m.enterCallbacks={}),D=Yr($e,"beforeRouteEnter",S,F,ie),D.push(h),Ke(D))).then(()=>{D=[];for(const m of i.list())D.push(Zt(m,S,F));return D.push(h),Ke(D)}).catch(m=>Lt(m,8)?m:Promise.reject(m))}function We(S,F,D){a.list().forEach(H=>ie(()=>H(S,F,D)))}function tt(S,F,D,H,_e){const $e=b(S,F);if($e)return $e;const h=F===Gt,m=On?history.state:{};D&&(H||h?r.replace(S.fullPath,ge({scroll:h&&m&&m.scroll},_e)):r.push(S.fullPath,_e)),c.value=S,Et(S,F,D,h),Wt()}let ct;function cn(){ct||(ct=r.listen((S,F,D)=>{if(!ks.listening)return;const H=L(S),_e=J(H);if(_e){Oe(ge(_e,{replace:!0}),H).catch(is);return}f=H;const $e=c.value;On&&Ay(Ma($e.fullPath,D.delta),Or()),Te(H,$e).catch(h=>Lt(h,12)?h:Lt(h,2)?(Oe(h.to,H).then(m=>{Lt(m,20)&&!D.delta&&D.type===_s.pop&&r.go(-1,!1)}).catch(is),Promise.reject()):(D.delta&&r.go(-D.delta,!1),pe(h,H,$e))).then(h=>{h=h||tt(H,$e,!1),h&&(D.delta&&!Lt(h,8)?r.go(-D.delta,!1):D.type===_s.pop&&Lt(h,20)&&r.go(-1,!1)),We(H,$e,h)}).catch(is)}))}let ut=Qn(),fe=Qn(),ye;function pe(S,F,D){Wt(S);const H=fe.list();return H.length?H.forEach(_e=>_e(S,F,D)):console.error(S),Promise.reject(S)}function Nt(){return ye&&c.value!==Gt?Promise.resolve():new Promise((S,F)=>{ut.add([S,F])})}function Wt(S){return ye||(ye=!S,cn(),ut.list().forEach(([F,D])=>S?D(S):F()),ut.reset()),S}function Et(S,F,D,H){const{scrollBehavior:_e}=e;if(!On||!_e)return Promise.resolve();const $e=!D&&ky(Ma(S.fullPath,0))||(H||!D)&&history.state&&history.state.scroll||null;return Zo().then(()=>_e(S,F,$e)).then(h=>h&&Sy(h)).catch(h=>pe(h,S,F))}const Xe=S=>r.go(S);let Cn;const Sn=new Set,ks={currentRoute:c,listening:!0,addRoute:_,removeRoute:g,hasRoute:O,getRoutes:y,resolve:L,options:e,push:k,replace:B,go:Xe,back:()=>Xe(-1),forward:()=>Xe(1),beforeEach:o.add,beforeResolve:i.add,afterEach:a.add,onError:fe.add,isReady:Nt,install(S){const F=this;S.component("RouterLink",Yy),S.component("RouterView",ev),S.config.globalProperties.$router=F,Object.defineProperty(S.config.globalProperties,"$route",{enumerable:!0,get:()=>Q(c)}),On&&!Cn&&c.value===Gt&&(Cn=!0,k(r.location).catch(_e=>{}));const D={};for(const _e in Gt)Object.defineProperty(D,_e,{get:()=>c.value[_e],enumerable:!0});S.provide(wi,F),S.provide(Ei,Sl(D)),S.provide(Mo,c);const H=S.unmount;Sn.add(S),S.unmount=function(){Sn.delete(S),Sn.size<1&&(f=Gt,ct&&ct(),ct=null,c.value=Gt,Cn=!1,ye=!1),H()}}};function Ke(S){return S.reduce((F,D)=>F.then(()=>ie(D)),Promise.resolve())}return ks}function nv(e,t){const n=[],s=[],r=[],o=Math.max(t.matched.length,e.matched.length);for(let i=0;i<o;i++){const a=t.matched[i];a&&(e.matched.find(f=>Mn(f,a))?s.push(a):n.push(a));const c=e.matched[i];c&&(t.matched.find(f=>Mn(f,c))||r.push(c))}return[n,s,r]}function yu(){return bt(Ei)}const sv={class:"page"},rv=l("h1",null,"INVITE PAGE",-1),ov=se({__name:"TheInvitePage",setup(e){const n=yu().params.code;return jn(()=>{Yg(n)}),(s,r)=>(C(),x("div",sv,[rv,N(au,null,{default:V(()=>[l("p",null,q(Q(n)),1)]),_:1})]))}}),vu=e=>(Ae("data-v-c2b83b82"),e=e(),ke(),e),iv={class:"page"},av=vu(()=>l("h1",null,"404",-1)),lv=vu(()=>l("p",null,"This page does not exist.",-1)),cv=se({__name:"TheLostPage",setup(e){function t(){Pt.push("/")}return(n,s)=>(C(),x("div",iv,[N(au,{id:"lost"},{default:V(()=>[av,lv,l("button",{class:"btn",onClick:s[0]||(s[0]=r=>t())},"Return to Home Page")]),_:1})]))}}),uv=le(cv,[["__scopeId","data-v-c2b83b82"]]),fv=["src"],dv={class:"sheet-card__content"},hv={class:"row info"},pv={class:"tag"},mv=se({__name:"SheetCard",props:{sheet:{type:Object,required:!0}},setup(e){const t=e,n=ee(()=>Ss[0]);return(s,r)=>{var o,i,a,c;return C(),x("div",{class:"sheet-card",style:on({backgroundColor:(o=n.value)==null?void 0:o.commonColor})},[l("img",{src:(i=n.value)==null?void 0:i.url},null,8,fv),l("div",dv,[l("h2",null,q(t.sheet.name),1),l("div",hv,[l("span",pv,q((c=(a=Q(Me)().game)==null?void 0:a.players[t.sheet.createdBy])==null?void 0:c.username),1)])])],4)}}}),Xa=le(mv,[["__scopeId","data-v-f9c6fab4"]]),_v=["innerHTML"],gv=se({__name:"Tooltip",props:{text:{},top:{type:Boolean}},setup(e){const t=j(null);return(n,s)=>(C(),x("div",{class:me(["tooltip",{"tooltip--top":n.top}]),ref_key:"tooltip",ref:t},[l("span",{innerHTML:n.text},null,8,_v)],2))}}),yv=le(gv,[["__scopeId","data-v-5e947be2"]]),vv={class:"player-bar"},bv=se({__name:"PlayerBar",setup(e){return(t,n)=>{var s;return C(),x("ul",vv,[(C(!0),x(we,null,it((s=Q(Me)().game)==null?void 0:s.players,(r,o)=>(C(),x("li",{key:o,class:me({"inactive-player":!r.isOnline})},[N(xr,{portraitId:r.portrait},null,8,["portraitId"]),N(yv,{top:"",text:r.username},null,8,["text"]),l("div",{class:me(["online-indicator",{"online-indicator--online":r.isOnline}])},null,2)],2))),128))])}}}),wv=le(bv,[["__scopeId","data-v-8422fb27"]]),Ev={class:"confirm"},Cv=["innerHTML"],Sv={class:"row wrap"},Av=se({__name:"ConfirmModal",props:{title:{},message:{},onConfirm:{type:Function},onCancel:{type:Function},confirmText:{},cancelText:{}},setup(e){const t=e;function n(){t.onCancel?t.onCancel():z.close()}return(s,r)=>(C(),Ne(at,null,{header:V(()=>[N(lt,{closeButton:"",closeButtonAction:n},{default:V(()=>[l("h2",null,q(t.title),1)]),_:1})]),content:V(()=>[l("div",Ev,[l("p",{innerHTML:t.message},null,8,Cv),l("div",Sv,[l("button",{class:"btn btn--alt mobile-full-width",onClick:r[0]||(r[0]=(...o)=>t.onConfirm&&t.onConfirm(...o))},[l("span",null,q(t.confirmText||"Yes"),1)]),l("button",{class:"btn mobile-full-width",onClick:n},[l("span",null,q(t.cancelText||"No, I changed my mind"),1)])])])]),_:1}))}}),Ci=le(Av,[["__scopeId","data-v-3ac3443c"]]);let Ms;const kv=new Uint8Array(16);function $v(){if(!Ms&&(Ms=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Ms))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ms(kv)}const Fe=[];for(let e=0;e<256;++e)Fe.push((e+256).toString(16).slice(1));function xv(e,t=0){return Fe[e[t+0]]+Fe[e[t+1]]+Fe[e[t+2]]+Fe[e[t+3]]+"-"+Fe[e[t+4]]+Fe[e[t+5]]+"-"+Fe[e[t+6]]+Fe[e[t+7]]+"-"+Fe[e[t+8]]+Fe[e[t+9]]+"-"+Fe[e[t+10]]+Fe[e[t+11]]+Fe[e[t+12]]+Fe[e[t+13]]+Fe[e[t+14]]+Fe[e[t+15]]}const Ov=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Za={randomUUID:Ov};function Tv(e,t,n){if(Za.randomUUID&&!t&&!e)return Za.randomUUID();e=e||{};const s=e.random||(e.rng||$v)();return s[6]=s[6]&15|64,s[8]=s[8]&63|128,xv(s)}class Rv{constructor(){be(this,"id");be(this,"sheetType");be(this,"createdBy");be(this,"createdAt");this.id=Tv(),this.sheetType="sheet",this.createdBy=de().id,this.createdAt=Date.now()}}class Pv extends Rv{constructor(){super();be(this,"name","Untitled Crew");be(this,"reputationType","Ambitious");be(this,"lair","An abandoned warehouse");be(this,"lairDistrict","Crow's Foot");be(this,"huntingGroundsDistrict","Crow's Foot");be(this,"reputation",0);be(this,"turf",0);be(this,"hold","strong");be(this,"tier",0);be(this,"heat",0);be(this,"wantedLevel",0);be(this,"coin",0);be(this,"vaults",0);be(this,"crewExperience",0);be(this,"crewType","");be(this,"crewTypeDescription","");be(this,"specialAbilities",[]);be(this,"contacts",[]);be(this,"upgrades",[]);be(this,"claims",[]);this.sheetType="crew"}}class Iv extends Pv{constructor(){super(),this.crewType="Assassins",this.crewTypeDescription="Murderers for hire",this.specialAbilities=[{id:"assassins-deadly",name:"Deadly",description:"Each PC may add +1 action rating to Hunt, Prowl, or Skirmish (up to a max rating of 3).",quantity:0,maxQuantity:1},{id:"assassins-crows-veil",name:"Crow's Veil",description:"Due to hard-won experience or occult ritual, your activities are hidden from the notice of the death-seeker crows. You don't take extra heat when killing is involved on a score.",quantity:0,maxQuantity:1},{id:"assassins-emberdeath",name:"Emberdeath",description:"Due to hard-won experience or occult ritual, you know the arcane method to destroy a living victim's spirit at the moment you kill them. Take 3 stress to channel electroplasmic energy from the ghost field to disintegrate the spirit and dead body in a shower of sparking embers.",quantity:0,maxQuantity:1},{id:"assassins-no-traces",name:"No Traces",description:"When you keep an operation quiet or make it look like an accident, you get half the rep value of the target (round up) instead of zero. When you end downtime with zero heat, take +1 rep.",quantity:0,maxQuantity:1},{id:"assassins-patron",name:"Patron",description:"When you advance your Tier, it costs half the coin it normally would. Who is your patron? Why do they help you?",quantity:0,maxQuantity:1},{id:"assassins-predators",name:"Predators",description:"When you use stealth or subterfuge to commit murder, take +1d to the engagement roll.",quantity:0,maxQuantity:1},{id:"assassins-vipers",name:"Vipers",description:"When you acquire or craft poisons, you get +1 result level to your roll. When you employ a poison, you are specially prepared to be immune to its effects.",quantity:0,maxQuantity:1},{id:"assassins-veteran",name:"Veteran",description:"Choose a special ability from another crew.",quantity:0,maxQuantity:3}],this.contacts=[],this.upgrades=[],this.claims=[]}}const Nv=l("h1",null,"CHARACTER SHEET",-1),Lv=se({__name:"TheCharacterSheet",props:{sheet:{}},setup(e){return(t,n)=>(C(),x(we,null,[Nv,l("pre",null,q(JSON.stringify(t.sheet,null,2)),1)],64))}}),Bv=se({__name:"Checkbox",props:{modelValue:{type:[String,Boolean,Array],required:!0},label:{type:String,required:!1},value:{type:String,required:!1}},setup(e,{emit:t}){const n=e,s=t,r=ee(()=>n.value&&Array.isArray(n.modelValue)?n.modelValue.includes(n.value):n.modelValue);function o(i){if(i.preventDefault(),!(n.value&&Array.isArray(n.modelValue)))return s("update:modelValue",!n.modelValue);n.modelValue.includes(n.value)?n.modelValue.splice(n.modelValue.indexOf(n.value),1):n.modelValue.push(n.value),s("update:modelValue",n.modelValue)}return(i,a)=>{var c;return C(),x("div",{class:me(["checkbox-group",{compact:!((c=e.label)!=null&&c.length),checked:r.value}]),onClick:o},[l("i",{class:me(["fas",r.value?"fa-check-square":"fa-square"])},null,2),l("p",null,q(e.label),1)],2)}}}),bu=le(Bv,[["__scopeId","data-v-045dcd35"]]),jt=e=>(Ae("data-v-bb765542"),e=e(),ke(),e),Dv={class:"edit"},Mv={class:"input-group"},Fv=jt(()=>l("label",{for:"id"},"ID",-1)),Uv={class:"input-group"},jv=jt(()=>l("label",{for:"name"},"Name",-1)),Hv={class:"input-group stretch"},qv={for:"description"},Vv={class:"muted"},Wv={class:"input-block"},Kv={class:"input-group"},zv=jt(()=>l("label",{for:"quantity"},"Quantity",-1)),Gv={class:"input-group"},Jv=jt(()=>l("label",{for:"maxQuantity"},"Max Quantity",-1)),Yv={key:0,class:"row"},Qv=jt(()=>l("span",null,"Cancel",-1)),Xv=[Qv],Zv=jt(()=>l("span",null,"Create",-1)),eb=[Zv],tb={key:1,class:"row"},nb=jt(()=>l("i",{class:"fas fa-trash"},null,-1)),sb=jt(()=>l("span",null,"Delete",-1)),rb=[nb,sb],ob=jt(()=>l("span",null,"Save",-1)),ib=[ob],ab=se({__name:"EditAbilityModal",props:{ability:{},onEdit:{type:Function},onDelete:{type:Function},idPrefix:{},onCreateNew:{type:Function}},setup(e){const t=e,n={id:"",name:"",description:"",quantity:0,maxQuantity:1},s=j({...t.ability||n});function r(c){let f=(t.idPrefix||"")+"-"+c;f=f.toLowerCase().replace(/ /g,"-").replace(/[^a-z0-9-]/g,""),s.value.id=f}function o(){t.onCreateNew&&(t.onCreateNew(s.value),z.close())}function i(){t.onEdit(s.value),z.close()}function a(){t.onDelete(s.value.id),z.close()}return(c,f)=>(C(),Ne(at,null,{header:V(()=>[N(lt,{closeButton:""},{default:V(()=>[l("h2",null,q(t.onCreateNew?"Create New":"Edit")+" Special Ability",1)]),_:1})]),content:V(()=>[l("div",Dv,[l("div",Mv,[Fv,Ue(l("input",{type:"text",id:"id","onUpdate:modelValue":f[0]||(f[0]=u=>s.value.id=u),placeholder:"A hyphenated identifier"},null,512),[[He,s.value.id]])]),l("div",Uv,[jv,Ue(l("input",{type:"text",id:"name","onUpdate:modelValue":f[1]||(f[1]=u=>s.value.name=u),placeholder:"The name of the special ability",onInput:f[2]||(f[2]=u=>r(s.value.name))},null,544),[[He,s.value.name]])]),l("div",Hv,[l("label",qv,[he("Description "),l("label",Vv,"("+q(s.value.description.length)+" / 400) ",1)]),Ue(l("textarea",{id:"description","onUpdate:modelValue":f[3]||(f[3]=u=>s.value.description=u),placeholder:"A brief description of the special ability"},null,512),[[He,s.value.description]])]),l("div",Wv,[l("div",Kv,[zv,Ue(l("input",{type:"number",pattern:"[0-9]*",inputmode:"numeric",id:"quantity","onUpdate:modelValue":f[4]||(f[4]=u=>s.value.quantity=u),placeholder:"0, 1, 2..."},null,512),[[He,s.value.quantity]])]),l("div",Gv,[Jv,Ue(l("input",{type:"number",id:"maxQuantity","onUpdate:modelValue":f[5]||(f[5]=u=>s.value.maxQuantity=u),placeholder:"1, 2, 3..."},null,512),[[He,s.value.maxQuantity]])])]),t.onCreateNew?(C(),x("div",Yv,[l("button",{class:"btn btn--alt mobile-full-width",onClick:f[6]||(f[6]=(...u)=>Q(z).close&&Q(z).close(...u))},Xv),l("button",{class:"btn mobile-full-width",onClick:o},eb)])):(C(),x("div",tb,[l("button",{class:"btn btn--alt mobile-full-width",onClick:a},rb),l("button",{class:"btn mobile-full-width",onClick:i},ib)]))])]),_:1}))}}),wu=le(ab,[["__scopeId","data-v-bb765542"]]),lb=e=>(Ae("data-v-674a62cd"),e=e(),ke(),e),cb={class:"header"},ub={class:"row"},fb=lb(()=>l("i",{class:"fas fa-edit"},null,-1)),db=[fb],hb={class:"row"},pb=se({__name:"AbilityTile",props:{ability:{},idPrefix:{},change:{type:Function},onEdit:{type:Function},onDelete:{type:Function}},setup(e){const t=e,n=j(r(t.ability.quantity));function s(a){let c=n.value;c=c.filter(u=>parseInt(u)<=parseInt(a));const f=Math.max(...c.map(u=>parseInt(u)));c=c.map(u=>parseInt(u)<=f?u:a),n.value=Array.from({length:f},(u,d)=>(d+1).toString()),t.change(f)}function r(a){return Array.from({length:a},(c,f)=>(f+1).toString())}function o(a){t.onEdit(a)}function i(a){t.onDelete(a)}return(a,c)=>(C(),x("div",{class:me(["ability-tile",{active:t.ability.quantity>0}])},[l("div",cb,[l("div",ub,[l("button",{class:"btn btn--icon",onClick:c[0]||(c[0]=f=>Q(z).open(wu,{ability:t.ability,idPrefix:t.idPrefix,onDelete:i,onEdit:o}))},db),l("h2",null,q(t.ability.name),1)]),l("div",hb,[(C(!0),x(we,null,it(a.ability.maxQuantity,f=>(C(),Ne(bu,{key:a.ability.id+f,modelValue:n.value,"onUpdate:modelValue":[c[1]||(c[1]=u=>n.value=u),u=>s(f.toString())],value:f.toString()},null,8,["modelValue","value","onUpdate:modelValue"]))),128))])]),l("p",null,q(t.ability.description),1)],2))}}),mb=le(pb,[["__scopeId","data-v-674a62cd"]]),_b=se({__name:"CollapsingShelf",props:{show:{type:Boolean}},setup(e){const t=e;return(n,s)=>(C(),x("div",{class:me(["shelf",{show:t.show}])},[fs(n.$slots,"default",{},void 0)],2))}}),st=le(_b,[["__scopeId","data-v-5c22fd0d"]]);function gb(e){return yb(0,e)}function yb(e,t){return Math.floor(Math.random()*(t-e)+e)}function el(e){return e[gb(e.length)]}const te=e=>(Ae("data-v-4bd4b6a0"),e=e(),ke(),e),vb={class:"sheet-layout__nested"},bb={class:"main-and-claims"},wb={class:"input-group"},Eb=te(()=>l("label",{for:"crew-name"},"Name",-1)),Cb=["value"],Sb=te(()=>l("p",null,"Choose a name for your crew.",-1)),Ab={class:"input-group"},kb=te(()=>l("label",{for:"reputation-type"},"Reputation",-1)),$b=["value"],xb=te(()=>l("p",null,"Choose how other underworld factions see you.",-1)),Ob={class:"text-list"},Tb=["onClick"],Rb={class:"input-group"},Pb=te(()=>l("label",{for:"crew-lair"},"Lair",-1)),Ib=["value"],Nb=te(()=>l("p",null,"What does your lair look like?",-1)),Lb=te(()=>l("i",{class:"fas fa-random"},null,-1)),Bb=te(()=>l("span",null,"Randomize",-1)),Db=[Lb,Bb],Mb={class:"input-group"},Fb=te(()=>l("label",{for:"crew-lair-district"},"District",-1)),Ub=["value"],jb=te(()=>l("p",null,"Where is your lair located?",-1)),Hb={class:"text-list"},qb=["onClick"],Vb={class:"input-block"},Wb={class:"input-group"},Kb=te(()=>l("label",{for:"crew-rep"},"Rep",-1)),zb=["value"],Gb=te(()=>l("p",null,"How much rep does your crew have?",-1)),Jb={class:"input-group"},Yb=te(()=>l("label",{for:"crew-turf"},"Turf",-1)),Qb=["value"],Xb=te(()=>l("p",null,"How much turf does your crew control?",-1)),Zb={class:"input-block"},ew={class:"input-group"},tw=te(()=>l("label",{for:"crew-hold"},"Hold",-1)),nw={class:"row"},sw=te(()=>l("p",null,"How strong is your crew's hold on its turf?",-1)),rw={class:"input-group"},ow=te(()=>l("label",{for:"crew-tier"},"Tier",-1)),iw=["value"],aw=te(()=>l("p",null,"What tier is your crew?",-1)),lw=te(()=>l("section",null,[l("span",null,"CLAIMS (TODO)")],-1)),cw={class:"input-block"},uw={class:"input-group"},fw=te(()=>l("label",{for:"crew-heat"},"Heat",-1)),dw=["value"],hw=te(()=>l("p",null,"How much heat is your crew generating?",-1)),pw={class:"input-group"},mw=te(()=>l("label",{for:"crew-wanted-level"},"Wanted Level",-1)),_w=["value"],gw=te(()=>l("p",null,"How much attention is the law giving your crew?",-1)),yw={class:"input-block"},vw={class:"input-group"},bw=te(()=>l("label",{for:"crew-coin"},"Coin",-1)),ww=["value"],Ew=te(()=>l("p",null,"How much coin does your crew have squirreled away?",-1)),Cw={class:"input-group"},Sw=te(()=>l("label",{for:"crew-vaults"},"Vaults",-1)),Aw=["value"],kw=te(()=>l("p",null," Vaults represent the storage capacity for your crew's coin. ",-1)),$w={class:"abilities-xp-and-contacts"},xw=te(()=>l("label",{for:"crew-abilities"},"Special Abilities",-1)),Ow={class:"row"},Tw=te(()=>l("span",null,"New",-1)),Rw=[Tw],Pw={key:0},Iw=te(()=>l("em",null," No special abilities selected.",-1)),Nw=[Iw],Lw={class:"input-group"},Bw=te(()=>l("label",{for:"crew-xp"},"Crew XP",-1)),Dw=["value"],Mw=te(()=>l("p",null,"How much experience has your crew accumulated?",-1)),Fw=te(()=>l("section",null,[l("span",null,"CONTACTS (TODO)")],-1)),Uw={class:"upgrades-and-cohorts"},jw=te(()=>l("section",null,[l("span",null,"UPGRADES (TODO)")],-1)),Hw=te(()=>l("section",null,[l("span",null,"COHORTS (TODO)")],-1)),qw={class:"row center mobile-nav"},Vw=te(()=>l("i",{class:"fas fa-file-alt"},null,-1)),Ww=te(()=>l("i",{class:"fas fa-file-alt"},null,-1)),Kw=te(()=>l("i",{class:"fas fa-file-alt"},null,-1)),zw=se({__name:"TheCrewSheet",props:{sheet:{}},setup(e){var L;const t=(L=Me().game)==null?void 0:L.codex;jn(()=>{document.addEventListener("blur",n,!0)}),ni(()=>{document.removeEventListener("blur",n,!0)});function n(P){i.value=null}const s=e,r=j(0),o=j(null),i=j();function a(P,b){console.log("onChangeValue",P,b);const k=`/data/sheets/${s.sheet.id}/${b}`;$t([{op:"replace",path:k,value:P}])}function c(P){const b=Math.round(P.scrollLeft/P.clientWidth);r.value=b}function f(P){o.value&&o.value.scrollTo({left:o.value.clientWidth*P,top:0,behavior:"smooth"})}function u(){const P=t.sheets.crew.lairs,{name:b,districts:k}=el(P),B=el(k);a(b,"lair"),a(B,"lairDistrict")}function d(P,b){const k=s.sheet.specialAbilities.findIndex(J=>J.id===P.id),B=`/data/sheets/${s.sheet.id}/specialAbilities/${k}/quantity`;$t([{op:"replace",path:B,value:b}])}const p=j(!1),_=ee(()=>p.value?s.sheet.specialAbilities.filter(P=>P.quantity>0):s.sheet.specialAbilities);function g(P){const b=s.sheet.specialAbilities.findIndex(k=>k.id===P.id);$t([{op:"replace",path:`/data/sheets/${s.sheet.id}/specialAbilities/${b}`,value:P}])}function y(P){const b=s.sheet.specialAbilities.findIndex(k=>k.id===P);$t([{op:"remove",path:`/data/sheets/${s.sheet.id}/specialAbilities/${b}`}])}function O(P){$t([{op:"add",path:`/data/sheets/${s.sheet.id}/specialAbilities/-`,value:P}])}return(P,b)=>(C(),x("div",vb,[l("div",{class:"crew-layout",ref_key:"carouselRef",ref:o,onScroll:b[28]||(b[28]=k=>c(k.target))},[l("div",bb,[l("section",null,[l("div",wb,[Eb,l("input",{id:"crew-name",type:"text",value:s.sheet.name,onFocus:b[0]||(b[0]=k=>i.value="name"),onChange:b[1]||(b[1]=k=>{var B;return a((B=k.target)==null?void 0:B.value,"name")})},null,40,Cb),N(st,{show:i.value=="name"},{default:V(()=>[Sb]),_:1},8,["show"])]),l("div",Ab,[kb,l("input",{id:"reputation-type",type:"text",value:s.sheet.reputationType,onFocus:b[2]||(b[2]=k=>i.value="reputation-type"),onChange:b[3]||(b[3]=k=>{var B;return a((B=k.target)==null?void 0:B.value,"reputationType")})},null,40,$b),N(st,{show:i.value=="reputation-type"},{default:V(()=>[xb,l("div",Ob,[(C(!0),x(we,null,it(Q(t).sheets.crew.reputations,k=>(C(),x("button",{class:"btn btn--text",onClick:B=>a(k,"reputationType")},q(k),9,Tb))),256))])]),_:1},8,["show"])]),N(Qe),l("div",Rb,[Pb,l("input",{id:"crew-lair",type:"text",value:s.sheet.lair,onFocus:b[4]||(b[4]=k=>i.value="lair"),onChange:b[5]||(b[5]=k=>{var B;return a((B=k.target)==null?void 0:B.value,"lair")})},null,40,Ib),N(st,{show:i.value=="lair"},{default:V(()=>[Nb,l("button",{class:"btn btn--icon",onClick:u},Db)]),_:1},8,["show"]),l("div",Mb,[Fb,l("input",{id:"crew-lair-district",type:"text",value:s.sheet.lairDistrict,onFocus:b[6]||(b[6]=k=>i.value="lair-district"),onChange:b[7]||(b[7]=k=>{var B;return a((B=k.target)==null?void 0:B.value,"lair-district")})},null,40,Ub),N(st,{show:i.value=="lair-district"},{default:V(()=>[jb,l("div",Hb,[(C(!0),x(we,null,it(Q(t).lexicon.districts.map(k=>k.name),k=>(C(),x("button",{class:"btn btn--text",key:k,onClick:B=>a(k,"lairDistrict")},q(k),9,qb))),128))])]),_:1},8,["show"])])])]),N(Qe),l("section",null,[l("div",Vb,[l("div",Wb,[Kb,l("input",{id:"crew-rep",type:"number",pattern:"[0-9]*",value:s.sheet.reputation,onFocus:b[8]||(b[8]=k=>i.value="reputation"),onChange:b[9]||(b[9]=k=>{var B;return a((B=k.target)==null?void 0:B.value,"reputation")})},null,40,zb),N(st,{show:i.value=="reputation"},{default:V(()=>[Gb]),_:1},8,["show"])]),l("div",Jb,[Yb,l("input",{id:"crew-turf",type:"number",pattern:"[0-9]*",value:s.sheet.turf,onFocus:b[10]||(b[10]=k=>i.value="turf"),onChange:b[11]||(b[11]=k=>{var B;return a((B=k.target)==null?void 0:B.value,"turf")})},null,40,Qb),N(st,{show:i.value=="turf"},{default:V(()=>[Xb]),_:1},8,["show"])])]),l("div",Zb,[l("div",ew,[tw,l("div",nw,[l("button",{class:me(["btn btn--tab",{active:s.sheet.hold=="weak"}]),onClick:b[12]||(b[12]=k=>a("weak","hold"))}," Weak ",2),l("button",{class:me(["btn btn--tab",{active:s.sheet.hold=="strong"}]),onClick:b[13]||(b[13]=k=>a("strong","hold"))}," Strong ",2)]),N(st,{show:i.value=="hold"},{default:V(()=>[sw]),_:1},8,["show"])]),l("div",rw,[ow,l("input",{id:"crew-tier",type:"number",pattern:"[0-9]*",value:s.sheet.tier,onFocus:b[14]||(b[14]=k=>i.value="tier"),onChange:b[15]||(b[15]=k=>{var B;return a((B=k.target)==null?void 0:B.value,"tier")})},null,40,iw),N(st,{show:i.value=="tier"},{default:V(()=>[aw]),_:1},8,["show"])])])]),N(Qe),lw,N(Qe),l("section",null,[l("div",cw,[l("div",uw,[fw,l("input",{id:"crew-heat",type:"number",pattern:"[0-9]*",value:s.sheet.heat,onFocus:b[16]||(b[16]=k=>i.value="heat"),onChange:b[17]||(b[17]=k=>{var B;return a((B=k.target)==null?void 0:B.value,"heat")})},null,40,dw),N(st,{show:i.value=="heat"},{default:V(()=>[hw]),_:1},8,["show"])]),l("div",pw,[mw,l("input",{id:"crew-wanted-level",type:"number",pattern:"[0-9]*",value:s.sheet.wantedLevel,onFocus:b[18]||(b[18]=k=>i.value="wanted-level"),onChange:b[19]||(b[19]=k=>{var B;return a((B=k.target)==null?void 0:B.value,"wantedLevel")})},null,40,_w),N(st,{show:i.value=="wanted-level"},{default:V(()=>[gw]),_:1},8,["show"])])]),l("div",yw,[l("div",vw,[bw,l("input",{id:"crew-coin",type:"number",pattern:"[0-9]*",value:s.sheet.coin,onFocus:b[20]||(b[20]=k=>i.value="coin"),onChange:b[21]||(b[21]=k=>{var B;return a((B=k.target)==null?void 0:B.value,"coin")})},null,40,ww),N(st,{show:i.value=="coin"},{default:V(()=>[Ew]),_:1},8,["show"])]),l("div",Cw,[Sw,l("input",{id:"crew-vaults",type:"number",pattern:"[0-9]*",value:s.sheet.vaults,onFocus:b[22]||(b[22]=k=>i.value="vaults"),onChange:b[23]||(b[23]=k=>{var B;return a((B=k.target)==null?void 0:B.value,"vaults")})},null,40,Aw),N(st,{show:i.value=="vaults"},{default:V(()=>[kw]),_:1},8,["show"])])])])]),l("div",$w,[l("section",null,[xw,l("div",Ow,[l("button",{class:"btn",onClick:b[24]||(b[24]=k=>Q(z).open(wu,{idPrefix:P.sheet.crewType,onCreateNew:O}))},Rw),N(bu,{modelValue:p.value,"onUpdate:modelValue":b[25]||(b[25]=k=>p.value=k),label:"Show only selected"},null,8,["modelValue"])]),(C(!0),x(we,null,it(_.value,k=>(C(),Ne(mb,{key:k.id,ability:k,idPrefix:s.sheet.crewType,change:B=>d(k,B),onEdit:g,onDelete:y},null,8,["ability","idPrefix","change"]))),128)),_.value.length==0?(C(),x("p",Pw,Nw)):Z("",!0)]),N(Qe),l("section",null,[l("div",Lw,[Bw,l("input",{id:"crew-xp",type:"number",pattern:"[0-9]*",value:s.sheet.crewExperience,onFocus:b[26]||(b[26]=k=>i.value="xp"),onChange:b[27]||(b[27]=k=>{var B;return a((B=k.target)==null?void 0:B.value,"xp")})},null,40,Dw),N(st,{show:i.value=="xp"},{default:V(()=>[Mw]),_:1},8,["show"])])]),N(Qe),Fw]),l("div",Uw,[jw,N(Qe),Hw])],544),l("div",qw,[l("button",{class:me(["btn btn--tab",{active:r.value==0}]),onClick:b[29]||(b[29]=k=>f(0))},[he(" 1 "),Vw],2),l("button",{class:me(["btn btn--tab",{active:r.value==1}]),onClick:b[30]||(b[30]=k=>f(1))},[he(" 2 "),Ww],2),l("button",{class:me(["btn btn--tab",{active:r.value==2}]),onClick:b[31]||(b[31]=k=>f(2))},[he(" 3 "),Kw],2)])]))}}),Gw=le(zw,[["__scopeId","data-v-4bd4b6a0"]]),Ht=e=>(Ae("data-v-e5fb8c06"),e=e(),ke(),e),Jw={class:"page"},Yw={class:"controls"},Qw={key:0,class:"row center"},Xw=["onClick"],Zw={key:1,class:"row sheet-controls"},e1=Ht(()=>l("i",{class:"fas fa-arrow-left"},null,-1)),t1=Ht(()=>l("span",{class:"mobile-hidden"},"Back",-1)),n1=[e1,t1],s1={class:"breadcrumbs"},r1=Ht(()=>l("span",{class:"mobile-hidden"},"Sheets",-1)),o1=Ht(()=>l("i",{class:"fas fa-angle-right"},null,-1)),i1=Ht(()=>l("i",{class:"fas fa-trash"},null,-1)),a1=Ht(()=>l("span",{class:"mobile-hidden"},"Delete",-1)),l1=[i1,a1],c1={key:0,class:"sheet-layout"},u1={key:1,class:"sheet-select-layout"},f1={key:0,class:"sheet-list"},d1=Ht(()=>l("i",{class:"fas fa-folder-plus"},null,-1)),h1={key:1,class:"sheet-list"},p1=Ht(()=>l("i",{class:"fas fa-folder-plus"},null,-1)),m1=Ht(()=>l("i",{class:"fas fa-cogs"},null,-1)),_1=[m1],g1={key:1,class:"model-overlay"},y1=se({__name:"TheGamePage",setup(e){const t=yu(),n=j("crew"),s=ee(()=>{var u,d;return Object.values(((d=(u=Me().game)==null?void 0:u.data)==null?void 0:d.sheets)||[])}),r=ee(()=>s.value.filter(u=>u.sheetType==="crew")),o=ee(()=>s.value.filter(u=>u.sheetType==="character")),i=j(null),a=j(!1);jn(()=>{const u=t.params.id;Gm(u)});function c(){var d,p;let u=null;switch(n.value){case"crew":u=new Iv;break}if(!u)return console.error("Sheet not found");(p=(d=Me().game)==null?void 0:d.data)!=null&&p.sheets?$t([{op:"add",path:`/data/sheets/${u.id}`,value:u}]):$t([{op:"replace",path:"/data",value:{sheets:{[u.id]:u}}}])}function f(){i.value&&z.open(Ci,{title:"Delete Sheet",message:`Are you sure you want to delete <em>${i.value.name}</em> ${i.value.sheetType} sheet?`,confirmText:"Yes, delete it",onConfirm:()=>{var u;$t([{op:"remove",path:`/data/sheets/${(u=i.value)==null?void 0:u.id}`}]),i.value=null,z.close()}})}return(u,d)=>{var p,_;return C(),x(we,null,[l("div",Jw,[l("div",Yw,[i.value?(C(),x("div",Zw,[l("button",{class:"btn btn--icon",onClick:d[0]||(d[0]=g=>i.value=null)},n1),l("h2",s1,[l("span",null,[l("span",null,q(i.value.sheetType),1),r1]),o1,l("span",null,q(i.value.name),1)]),l("button",{class:"btn btn--icon delete",onClick:f},l1)])):(C(),x("div",Qw,[(C(),x(we,null,it(["crew","character"],g=>l("button",{class:me(["btn btn--tab",{active:n.value===g}]),onClick:y=>n.value=g},[l("span",null,q(g)+" Sheets",1)],10,Xw)),64))]))]),i.value?(C(),x("div",c1,[((p=i.value)==null?void 0:p.sheetType)==="crew"?(C(),Ne(Gw,{key:0,sheet:i.value},null,8,["sheet"])):Z("",!0),((_=i.value)==null?void 0:_.sheetType)==="character"?(C(),Ne(Lv,{key:1,sheet:i.value},null,8,["sheet"])):Z("",!0)])):(C(),x("div",u1,[n.value==="crew"?(C(),x("ul",f1,[(C(!0),x(we,null,it(r.value,g=>(C(),x("li",{key:g.id},[N(Xa,{sheet:g,onClick:y=>i.value=g},null,8,["sheet","onClick"])]))),128)),l("li",null,[l("div",{class:"new-sheet-card",onClick:c},[d1,l("span",null,"New "+q(n.value),1)])])])):n.value==="character"?(C(),x("ul",h1,[(C(!0),x(we,null,it(o.value,g=>(C(),x("li",{key:g.id},[N(Xa,{sheet:g,onClick:y=>i.value=g},null,8,["sheet","onClick"])]))),128)),l("li",null,[l("div",{class:"new-sheet-card",onClick:c},[p1,l("span",null,"New "+q(n.value),1)])])])):Z("",!0),N(wv,{class:"mobile-hidden"})]))]),a.value?Z("",!0):(C(),x("button",{key:0,class:"btn btn--icon debug",onClick:d[1]||(d[1]=g=>a.value=!0)},_1)),a.value?(C(),x("div",g1,[l("pre",null,q(JSON.stringify(Q(Me)().game,null,2)),1),l("button",{class:"btn debug btn",onClick:d[2]||(d[2]=g=>a.value=!1)}," Close ")])):Z("",!0)],64)}}}),v1=le(y1,[["__scopeId","data-v-e5fb8c06"]]),b1=j();var Fo=(e=>(e.HOME="home",e.GAMES="games",e.GAME="game",e.INVITE="invite",e.SETTINGS="settings",e.LOST="lost",e))(Fo||{});const w1=[{path:"/",components:{page:Jg},name:"home"},{path:"/game/:id",components:{page:v1},name:"game"},{path:"/invite/:code",components:{page:ov},name:"invite"},{path:"/:pathMatch(.*)*",components:{page:uv},name:"lost"}],E1={history:Ty(),routes:w1},Pt=tv(E1);Pt.afterEach(async(e,t)=>{});Pt.beforeEach(async(e,t,n)=>{Jm(),z.open(bs,{backgroundClass:"opaque"}),Ge().refreshToken&&!Ge().accessToken&&await Uc(),de().id||(console.log("@index.ts: fetchMyAccount() because no user id"),await Vn()),(!Ge().refreshToken||!de().id)&&await Eu(),z.close(),b1.value=e.name,n()});async function Eu(){try{const e=await qe.post("/account/create-guest");return e.data.refreshToken&&(Ge().storeRefreshToken(e.data.refreshToken),Ge().accessToken=e.data.accessToken,console.log("@account.ts: fetchMyAccount() because of createGuest"),await Vn()),e.data}catch{return null}}async function C1(e,t){var n;try{const r=!e||!t?{}:{username:e,password:t};console.log("registerAccount payload:",r);const o=await qe.post("/account/create",r);return console.log("response:",o),o.status!==Ft.Ok?o.data:(console.log("@account.ts: fetchMyAccount() because of registerAccount"),await Vn(),null)}catch(s){return(n=s==null?void 0:s.response)==null?void 0:n.data}}async function S1(e,t){var n;try{const s=await qe.post("/account/login",{username:e,password:t});return s.data.refreshToken&&(Ge().storeRefreshToken(s.data.refreshToken),Ge().accessToken=s.data.accessToken,console.log("@account.ts: fetchMyAccount() because of login"),await Vn()),s.data}catch(s){return(n=s==null?void 0:s.response)==null?void 0:n.data}}async function Vn(){try{const e=await qe.get("/account/me");return e.data?(de().id=e.data.id,de().username=e.data.username,de().isGuest=e.data.isGuest,de().portrait=e.data.portrait,de().games=e.data.games,e.data):null}catch{return null}}async function Si(){Ge().clear(),de().clear(),Me().clear(),Pt.push("/"),z.open(bs),await Eu(),z.close()}async function A1(e){var t;try{const n=await qe.delete("/account/me",{data:{password:e}});return n.status!==Ft.Ok?n.data:null}catch(n){return(t=n==null?void 0:n.response)==null?void 0:t.data}}async function k1(e){var t;try{const n=await qe.put("/account/username",{newUsername:e});return n.status!==Ft.Ok?n.data:(de().username=e,null)}catch(n){return(t=n==null?void 0:n.response)==null?void 0:t.data}}async function $1(e,t){var n;try{const s=await qe.put("/account/password",{password:e,newPassword:t});return s.status!==Ft.Ok?s.data:null}catch(s){return(n=s==null?void 0:s.response)==null?void 0:n.data}}async function x1(e){var t;try{const n=await qe.put("/account/portrait",{portraitId:e});return n.status!==Ft.Ok?n.data:(de().portrait=e,null)}catch(n){return(t=n==null?void 0:n.response)==null?void 0:t.data}}let Qr;async function O1(){return Qr||(Qr=(await qe.get("/version")).data),Qr}const T1=e=>(Ae("data-v-53a78928"),e=e(),ke(),e),R1={class:"info"},P1=["innerHTML"],I1=T1(()=>l("span",null,"Okay",-1)),N1=[I1],L1=se({__name:"InfoModal",props:{title:{},message:{}},setup(e){const t=e;return(n,s)=>(C(),Ne(at,null,{header:V(()=>[N(lt,null,{default:V(()=>[l("h2",null,q(t.title),1)]),_:1})]),content:V(()=>[l("div",R1,[l("p",{innerHTML:t.message},null,8,P1),l("button",{class:"btn mobile-full-width",onClick:s[0]||(s[0]=(...r)=>Q(z).close&&Q(z).close(...r))},N1)])]),_:1}))}}),Cu=le(L1,[["__scopeId","data-v-53a78928"]]),qt=e=>(Ae("data-v-fd8ada18"),e=e(),ke(),e),B1=qt(()=>l("h2",null,"Change Password",-1)),D1={class:"change-password"},M1=qt(()=>l("p",null,[he("Choose a new "),l("em",null,"password"),he(" for your account.")],-1)),F1=qt(()=>l("p",{class:"muted"}," Your new password should be at least 8 characters long. ",-1)),U1={class:"inputs"},j1={class:"input-group"},H1=qt(()=>l("label",{for:"password"},"Current Password",-1)),q1={key:0,class:"reminder shake-once"},V1={class:"input-group"},W1=qt(()=>l("label",{for:"password"},"New Password",-1)),K1={key:0,class:"reminder shake-once"},z1={class:"input-group"},G1=qt(()=>l("label",{for:"confirm-password"},"Confirm New Password",-1)),J1={key:0,class:"reminder shake-once"},Y1={key:0,class:"alert"},Q1=qt(()=>l("i",{class:"fas fa-exclamation-circle"},null,-1)),X1=qt(()=>l("i",{class:"fas fa-times"},null,-1)),Z1=[X1],e0={class:"row center"},t0={key:0,class:"fas fa-circle-notch fa-spin"},n0=qt(()=>l("span",null,"Change Password",-1)),s0=se({__name:"ChangePasswordModal",setup(e){const t=j(""),n=j(!1),s=j(""),r=j(!1),o=ee(()=>a.value&&i.value.length===0?"Enter your current password":null),i=j(""),a=j(!1),c=ee(()=>a.value?i.value.length===0?"Come up with something clever":i.value.length<8?"Must be at least 8 characters":i.value.length>64?"Can't be more than 64 characters":null:null),f=j(""),u=j(!1),d=ee(()=>u.value?f.value.length===0?"Your new password again":i.value!==f.value?"Passwords don't match":null:null);async function p(){if(!r.value||!a.value||!u.value||o.value||c.value||d.value){r.value=!0,a.value=!0,u.value=!0,document.querySelectorAll(".reminder").forEach(y=>{y.classList.remove("shake-once"),y.offsetWidth,y.classList.add("shake-once")});return}n.value=!0,t.value="";const _=await $1(s.value,i.value);n.value=!1,_?t.value=_:z.open(Cu,{title:"Success",message:"Your password has been changed successfully."})}return(_,g)=>(C(),Ne(at,{class:me({disabled:n.value})},{header:V(()=>[N(lt,{closeButton:""},{default:V(()=>[B1]),_:1})]),content:V(()=>[l("div",D1,[M1,F1,l("div",U1,[l("div",j1,[H1,Ue(l("input",{type:"password",onInput:g[0]||(g[0]=y=>r.value=!0),placeholder:"Your current password","onUpdate:modelValue":g[1]||(g[1]=y=>s.value=y)},null,544),[[He,s.value]]),o.value?(C(),x("span",q1,q(o.value),1)):Z("",!0)]),l("div",V1,[W1,Ue(l("input",{type:"password",onInput:g[2]||(g[2]=y=>a.value=!0),placeholder:"Create a new password","onUpdate:modelValue":g[3]||(g[3]=y=>i.value=y)},null,544),[[He,i.value]]),c.value?(C(),x("span",K1,q(c.value),1)):Z("",!0)]),l("div",z1,[G1,Ue(l("input",{type:"password",onInput:g[4]||(g[4]=y=>u.value=!0),onKeyup:vs(p,["enter"]),placeholder:"Confirm your new password","onUpdate:modelValue":g[5]||(g[5]=y=>f.value=y)},null,544),[[He,f.value]]),d.value?(C(),x("span",J1,q(d.value),1)):Z("",!0)])]),t.value?(C(),x("div",Y1,[Q1,l("span",null,q(t.value),1),l("button",{class:"btn btn--icon close",onClick:g[6]||(g[6]=y=>t.value="")},Z1)])):Z("",!0),l("div",e0,[l("button",{class:"btn mobile-full-width",onClick:p},[n.value?(C(),x("i",t0)):Z("",!0),n0])])])]),_:1},8,["class"]))}}),r0=le(s0,[["__scopeId","data-v-fd8ada18"]]),Wn=e=>(Ae("data-v-af22bc65"),e=e(),ke(),e),o0=Wn(()=>l("h2",null,"Change Username",-1)),i0={class:"change-username"},a0=Wn(()=>l("p",null,[he("Choose a new "),l("em",null,"username"),he(" for your account.")],-1)),l0={class:"muted"},c0={class:"inputs"},u0={class:"input-group"},f0=Wn(()=>l("label",{for:"username"},"New Username",-1)),d0={key:0,class:"reminder shake-once"},h0={key:0,class:"alert"},p0=Wn(()=>l("i",{class:"fas fa-exclamation-circle"},null,-1)),m0=Wn(()=>l("i",{class:"fas fa-times"},null,-1)),_0=[m0],g0={class:"row center"},y0={key:0,class:"fas fa-circle-notch fa-spin"},v0=Wn(()=>l("span",null,"Change Username",-1)),b0=se({__name:"ChangeUsernameModal",setup(e){const t=j(""),n=j(!1),s=j(""),r=j(!1),o=ee(()=>r.value?s.value.length===0?"What should we call you?":s.value.length<3?"Must be at least 3 characters":s.value.length>24?"Must have no more than 16 characters":/^[a-zA-Z0-9]+$/.test(s.value)?null:"Letters and numbers only":null);async function i(){if(!r.value||o.value){r.value=!0,document.querySelectorAll(".reminder").forEach(f=>{f.classList.remove("shake-once"),f.offsetWidth,f.classList.add("shake-once")});return}n.value=!0,t.value="";const a=await k1(s.value);n.value=!1,a?t.value=a:z.open(Cu,{title:"Success",message:`Username has been changed successfully. Your username is now <em>${s.value}</em>.`})}return(a,c)=>(C(),Ne(at,{class:me({disabled:n.value})},{header:V(()=>[N(lt,{closeButton:""},{default:V(()=>[o0]),_:1})]),content:V(()=>[l("div",i0,[a0,l("p",l0,[he(" Your current username is "),l("em",null,q(Q(de)().username),1),he(". ")]),l("div",c0,[l("div",u0,[f0,Ue(l("input",{type:"text",onInput:c[0]||(c[0]=f=>r.value=!0),onKeydown:vs(i,["enter"]),placeholder:"Enter a new username","onUpdate:modelValue":c[1]||(c[1]=f=>s.value=f)},null,544),[[He,s.value]]),o.value?(C(),x("span",d0,q(o.value),1)):Z("",!0)])]),t.value?(C(),x("div",h0,[p0,l("span",null,q(t.value),1),l("button",{class:"btn btn--icon close",onClick:c[2]||(c[2]=f=>t.value="")},_0)])):Z("",!0),l("div",g0,[l("button",{class:"btn mobile-full-width",onClick:i},[n.value?(C(),x("i",y0)):Z("",!0),v0])])])]),_:1},8,["class"]))}}),w0=le(b0,[["__scopeId","data-v-af22bc65"]]),an=e=>(Ae("data-v-0286b377"),e=e(),ke(),e),E0=an(()=>l("h2",null,"Delete Account",-1)),C0={class:"confirm"},S0=an(()=>l("p",null,[he(" This action is "),l("em",null,"irreversible"),he(". All data related to your account will be "),l("em",null,"lost"),he(". Are you sure you want to continue and delete your account? ")],-1)),A0={class:"input-group"},k0=an(()=>l("label",{for:"password"},"Password",-1)),$0={key:0,class:"alert"},x0=an(()=>l("i",{class:"fas fa-exclamation-circle"},null,-1)),O0=an(()=>l("i",{class:"fas fa-times"},null,-1)),T0=[O0],R0={class:"column center"},P0=an(()=>l("span",null,"No, I want to keep my account",-1)),I0=[P0],N0=an(()=>l("span",{class:"muted"},"or",-1)),L0=an(()=>l("span",null,"Yes, I want to delete my account",-1)),B0=[L0],D0=se({__name:"ConfirmDeleteAccountModal",setup(e){const t=j(""),n=j(""),s=j(!1);async function r(){s.value=!0,n.value="",n.value=await A1(t.value),n.value||(z.close(),Si()),s.value=!1}return(o,i)=>(C(),Ne(at,{disabled:s.value},{header:V(()=>[N(lt,{closeButton:""},{default:V(()=>[E0]),_:1})]),content:V(()=>[l("div",C0,[S0,l("div",A0,[k0,Ue(l("input",{id:"password",type:"password",placeholder:"Enter your password","onUpdate:modelValue":i[0]||(i[0]=a=>t.value=a)},null,512),[[He,t.value]])]),n.value?(C(),x("div",$0,[x0,l("span",null,q(n.value),1),l("button",{class:"btn btn--icon close",onClick:i[1]||(i[1]=a=>n.value="")},T0)])):Z("",!0),N(Qe),l("div",R0,[l("button",{class:"btn",onClick:i[2]||(i[2]=a=>Q(z).close())},I0),N0,l("button",{class:me(["btn btn--text",{disabled:!t.value}]),onClick:r},B0,2)])])]),_:1},8,["disabled"]))}}),M0=le(D0,[["__scopeId","data-v-0286b377"]]),ln=e=>(Ae("data-v-497ae5b4"),e=e(),ke(),e),F0=ln(()=>l("h2",null,"Login",-1)),U0={class:"login"},j0=ln(()=>l("p",null,[he("Enter your "),l("em",null,"username"),he(" and "),l("em",null,"password"),he(".")],-1)),H0={class:"inputs"},q0={class:"input-group"},V0=ln(()=>l("label",{for:"username"},"Username",-1)),W0={key:0,class:"reminder shake-once"},K0={class:"input-group"},z0=ln(()=>l("label",{for:"password"},"Password",-1)),G0={key:0,class:"reminder shake-once"},J0={key:0,class:"alert"},Y0=ln(()=>l("i",{class:"fas fa-exclamation-circle"},null,-1)),Q0=ln(()=>l("i",{class:"fas fa-times"},null,-1)),X0=[Q0],Z0={class:"row center"},eE={key:0,class:"fas fa-circle-notch fa-spin"},tE=ln(()=>l("span",null,"Login",-1)),nE=ln(()=>l("p",null,"Don't have an account?",-1)),sE=se({__name:"LoginModal",setup(e){const t=j(""),n=j(!1),s=j(""),r=j(!1),o=ee(()=>r.value&&s.value.length===0?"Your username, please":null),i=j(""),a=j(!1),c=ee(()=>a.value&&i.value.length===0?"Did you forget something?":null),f=ee(()=>s.value.length>0&&i.value.length>0);async function u(){if(!f.value&&(!r.value||!a||o.value||c.value)){r.value=!0,a.value=!0,document.querySelectorAll(".reminder").forEach(g=>{g.classList.remove("shake-once"),g.offsetWidth,g.classList.add("shake-once")});return}n.value=!0,t.value="";const p=await S1(s.value,i.value);n.value=!1,p.refreshToken?z.close():t.value=p}function d(){z.open(Au)}return(p,_)=>(C(),Ne(at,{class:me({disabled:n.value})},{header:V(()=>[N(lt,{closeButton:""},{default:V(()=>[F0]),_:1})]),content:V(()=>[l("div",U0,[j0,l("div",H0,[l("div",q0,[V0,Ue(l("input",{type:"text",onInput:_[0]||(_[0]=g=>r.value=!0),placeholder:"Enter a username","onUpdate:modelValue":_[1]||(_[1]=g=>s.value=g)},null,544),[[He,s.value]]),o.value?(C(),x("span",W0,q(o.value),1)):Z("",!0)]),l("div",K0,[z0,Ue(l("input",{type:"password",onInput:_[2]||(_[2]=g=>a.value=!0),onKeyup:vs(u,["enter"]),placeholder:"Create a password","onUpdate:modelValue":_[3]||(_[3]=g=>i.value=g)},null,544),[[He,i.value]]),c.value?(C(),x("span",G0,q(c.value),1)):Z("",!0)])]),t.value?(C(),x("div",J0,[Y0,l("span",null,q(t.value),1),l("button",{class:"btn btn--icon close",onClick:_[4]||(_[4]=g=>t.value="")},X0)])):Z("",!0),l("div",Z0,[l("button",{class:"btn mobile-full-width",onClick:u},[n.value?(C(),x("i",eE)):Z("",!0),tE])]),l("div",{class:"row center"},[nE,l("button",{class:"btn btn--text",onClick:d}," Register ")])])]),_:1},8,["class"]))}}),Su=le(sE,[["__scopeId","data-v-497ae5b4"]]),Vt=e=>(Ae("data-v-bb068875"),e=e(),ke(),e),rE=Vt(()=>l("h2",null,"Register your Account",-1)),oE={class:"create-account"},iE=Vt(()=>l("p",null,[he(" Choose a "),l("em",null,"username"),he(" and "),l("em",null,"password"),he(" to register your account. ")],-1)),aE={class:"inputs"},lE={class:"input-group"},cE=Vt(()=>l("label",{for:"username"},"Username",-1)),uE={key:0,class:"reminder shake-once"},fE={class:"input-group"},dE=Vt(()=>l("label",{for:"password"},"Password",-1)),hE={key:0,class:"reminder shake-once"},pE={class:"input-group"},mE=Vt(()=>l("label",{for:"confirm-password"},"Confirm Password",-1)),_E={key:0,class:"reminder shake-once"},gE={key:0,class:"alert"},yE=Vt(()=>l("i",{class:"fas fa-exclamation-circle"},null,-1)),vE=Vt(()=>l("i",{class:"fas fa-times"},null,-1)),bE=[vE],wE={class:"row center"},EE={key:0,class:"fas fa-circle-notch fa-spin"},CE=Vt(()=>l("span",null,"Register Account",-1)),SE=Vt(()=>l("p",null,"Already have an account?",-1)),AE=se({__name:"CreateAccountModal",setup(e){const t=j(""),n=j(!1),s=j(""),r=j(!1),o=ee(()=>r.value?s.value.length===0?"What should we call you?":s.value.length<3?"Must be at least 3 characters":s.value.length>24?"Must have no more than 16 characters":/^[a-zA-Z0-9]+$/.test(s.value)?null:"Letters and numbers only":null),i=j(""),a=j(!1),c=ee(()=>a.value?i.value.length===0?"Come up with something clever":i.value.length<8?"Must be at least 8 characters":i.value.length>64?"Can't be more than 64 characters":null:null),f=j(""),u=j(!1),d=ee(()=>u.value?f.value.length===0?"Your password again":i.value!==f.value?"Passwords don't match":null:null);async function p(){if(!r.value||!a.value||!u.value||o.value||c.value||d.value){r.value=!0,a.value=!0,u.value=!0,document.querySelectorAll(".reminder").forEach(O=>{O.classList.remove("shake-once"),O.offsetWidth,O.classList.add("shake-once")});return}n.value=!0,t.value="";const g=await C1(s.value,i.value);n.value=!1,g?t.value=g:z.close()}function _(){z.open(Su)}return(g,y)=>(C(),Ne(at,{class:me({disabled:n.value})},{header:V(()=>[N(lt,{closeButton:""},{default:V(()=>[rE]),_:1})]),content:V(()=>[l("div",oE,[iE,l("div",aE,[l("div",lE,[cE,Ue(l("input",{type:"text",onInput:y[0]||(y[0]=O=>r.value=!0),placeholder:"Enter a username","onUpdate:modelValue":y[1]||(y[1]=O=>s.value=O)},null,544),[[He,s.value]]),o.value?(C(),x("span",uE,q(o.value),1)):Z("",!0)]),l("div",fE,[dE,Ue(l("input",{type:"password",onInput:y[2]||(y[2]=O=>a.value=!0),placeholder:"Create a password","onUpdate:modelValue":y[3]||(y[3]=O=>i.value=O)},null,544),[[He,i.value]]),c.value?(C(),x("span",hE,q(c.value),1)):Z("",!0)]),l("div",pE,[mE,Ue(l("input",{type:"password",onInput:y[4]||(y[4]=O=>u.value=!0),onKeyup:vs(p,["enter"]),placeholder:"Confirm your password","onUpdate:modelValue":y[5]||(y[5]=O=>f.value=O)},null,544),[[He,f.value]]),d.value?(C(),x("span",_E,q(d.value),1)):Z("",!0)])]),t.value?(C(),x("div",gE,[yE,l("span",null,q(t.value),1),l("button",{class:"btn btn--icon close",onClick:y[6]||(y[6]=O=>t.value="")},bE)])):Z("",!0),l("div",wE,[l("button",{class:"btn mobile-full-width",onClick:p},[n.value?(C(),x("i",EE)):Z("",!0),CE])]),l("div",{class:"row center"},[SE,l("button",{class:"btn btn--text",onClick:_},"Log in")])])]),_:1},8,["class"]))}}),Au=le(AE,[["__scopeId","data-v-bb068875"]]),Je=e=>(Ae("data-v-265ed790"),e=e(),ke(),e),kE={class:"account"},$E=Je(()=>l("p",null,"Choose a portrait from the list below.",-1)),xE={class:"portrait-select"},OE=["onClick"],TE={key:0,class:"overlay"},RE={key:1,class:"fas fa-check-circle"},PE={key:0},IE=Je(()=>l("p",null,"You are currently logged in as a guest.",-1)),NE={key:0,class:"row"},LE=Je(()=>l("span",null,"Register Account",-1)),BE=[LE],DE=Je(()=>l("i",{class:"fas fa-sign-out-alt"},null,-1)),ME=Je(()=>l("span",null,"Login",-1)),FE=[DE,ME],UE={key:1,class:"account-management"},jE=Je(()=>l("p",null," Change your username. This will also change your display name in all games. ",-1)),HE=Je(()=>l("i",{class:"fas fa-user-edit"},null,-1)),qE=Je(()=>l("span",null,"Change Username",-1)),VE=[HE,qE],WE=Je(()=>l("p",null,"Change your password.",-1)),KE=Je(()=>l("i",{class:"fas fa-key"},null,-1)),zE=Je(()=>l("span",null,"Change Password",-1)),GE=[KE,zE],JE={class:"attribution"},YE={class:"muted"},QE=Je(()=>l("p",null,[he(" This work is based on "),l("a",{class:"anchor-link",href:"http://www.bladesinthedark.com/",target:"_blank"}," Blades in the Dark "),he(" , product of One Seven Design, developed and authored by John Harper, and licensed for our use under the "),l("a",{class:"anchor-link",href:"http://creativecommons.org/licenses/by/3.0/",target:"_blank"}," Creative Commons Attribution 3.0 Unported license ")],-1)),XE=Je(()=>l("span",null,"View Full Attribution",-1)),ZE=[XE],eC={class:"center"},tC=Je(()=>l("span",null,"Sign Out",-1)),nC=[tC],sC=Je(()=>l("span",null,"Delete Account",-1)),rC=[sC],oC={class:"row center id-block"},iC={class:"muted text-center"},aC=Je(()=>l("i",{class:"fas fa-copy"},null,-1)),lC=[aC],cC={class:"muted text-center"},uC=se({__name:"AccountModal",setup(e){const t=j("");jn(()=>{O1().then(d=>t.value=`${ah.version} • ${d}`)});const n=new Date().getFullYear();function s(){z.open(Ci,{title:"Sign Out",message:"Are you sure you want to sign out?",onConfirm:()=>Si(),onCancel:()=>z.open(ku),onConfirmText:"Yes, I want to sign out",onCancelText:"No, keep me signed in"})}function r(){z.open(M0)}function o(){z.open(Su)}function i(){navigator.clipboard.writeText(de().id)}function a(){z.open(Au)}function c(d){x1(d)}function f(){z.open(w0)}function u(){z.open(r0)}return(d,p)=>{const _=ti("Divider");return C(),Ne(at,null,{header:V(()=>[N(lt,{closeButton:""},{default:V(()=>[l("h2",null,q(Q(de)().username)+"'s Account",1)]),_:1})]),content:V(()=>[l("div",kE,[l("section",null,[$E,l("ul",xE,[(C(!0),x(we,null,it(Q(de)().portraits,g=>(C(),x("li",{key:g.id,onClick:y=>c(g.id),class:me({selected:g.id===Q(de)().portrait})},[N(xr,{portraitId:g.id},null,8,["portraitId"]),g.id===Q(de)().portrait?(C(),x("div",TE)):Z("",!0),g.id===Q(de)().portrait?(C(),x("i",RE)):Z("",!0)],10,OE))),128))])]),N(_),Q(de)().isGuest?(C(),x("section",PE,[IE,Q(de)().isGuest?(C(),x("div",NE,[l("button",{class:"btn",onClick:a},BE),l("button",{class:"btn btn--alt",onClick:o},FE)])):Z("",!0)])):(C(),x("section",UE,[l("div",{class:"input-group"},[jE,l("button",{class:"btn mobile-full-width",onClick:f},VE)]),l("div",{class:"input-group"},[WE,l("button",{class:"btn mobile-full-width",onClick:u},GE)])])),N(_),l("section",JE,[l("p",null,[l("span",YE,"© "+q(Q(n))+" Olin Kirkland | All rights reserved",1)]),QE,l("button",{class:"btn btn--alt mobile-full-width",onClick:p[0]||(p[0]=()=>Q(z).open(ru))},ZE)]),N(_),l("section",eC,[Q(de)().isGuest?Z("",!0):(C(),x("button",{key:0,class:"btn btn--text",onClick:s},nC)),Q(de)().isGuest?Z("",!0):(C(),x("button",{key:1,class:"btn btn--text",onClick:r},rC)),l("div",oC,[l("p",iC,"ID: "+q(Q(de)().id),1),l("button",{class:"btn btn--icon muted",onClick:i},lC)]),l("p",cC,q(t.value),1)])])]),_:1})}}}),ku=le(uC,[["__scopeId","data-v-265ed790"]]);var Uo=(e=>(e.PLAYER="player",e.GM="gm",e.ADMIN="admin",e))(Uo||{});const tl=["tiny","big","happy","sad","smart","funny","serious","crazy","silly","brave","shy","loud","quiet","fast","slow","strong","weak","bright","dark","hot","cold","hard","soft","sharp","dull","clean","dirty","smooth","rough","old","new","sweet","sour","bitter","spicy","tasty","gross","fresh","stale","thick","thin","straight","curved","simple","complex","friendly","fierce","gentle","wild","calm"],nl=["dog","cat","bird","fish","rabbit","lion","tiger","elephant","monkey","snake","turtle","spider","horse","cow","sheep","goat","pig","chicken","duck","mouse","bear","fox","wolf","deer","whale","shark","dolphin","octopus","frog","crocodile","dragon","unicorn","phoenix","eagle","hawk","owl","penguin","koala","panda","squirrel","bat","bee","ant","butterfly","mosquito","snail","slug","lizard","crab","lobster","starfish","tree","flower","mountain","river","ocean","lake","island","desert","forest","cave","rock","cloud","sun","moon","star","planet","galaxy","comet","asteroid","meteor","rain","snow","wind","storm","rainbow","thunder","lightning","fire","ice","earth","sky","sea","sand","dust","grass","leaf","root","branch","twig","stone","pebble","sand","soil","mud","clay","metal","gold","silver","copper","iron","bronze","steel","aluminum","platinum","diamond","ruby","sapphire","emerald","crystal","gem","pearl","amber","ivory","bone","horn","feather","fur","hair","wool","silk","cotton","leather","cloth","fabric","thread","needle","scissors","knife","sword","shield","bow","arrow","spear","axe","hammer","nail","screw","bolt","nut","washer","glue","tape","rope","chain","wire","cable","net","mesh","web","hook","latch","lock","key","door","window","wall","floor","ceiling","roof","stairs","bridge","path","road","street","alley","lane","highway","avenue","boulevard","square","park","garden","yard","field","meadow","pasture","orchard","vineyard","farm","barn","shed","house","home","cottage","cabin","villa","palace","castle","tower","fort","church","temple","mosque","synagogue","shrine","monastery","cathedral","chapel","grave","tomb","crypt","pyramid","sphinx","statue","monument","obelisk","arch","gate","fence","wall","hedge","barrier","barricade","fountain","pool","pond","lake","river","stream","waterfall","spring","well","oasis","beach","coast","cliff","canyon","valley","plateau","mountain","hill","peak","summit","volcano","crater","glacier","iceberg","cave","tunnel","mine","cemetery","graveyard","mausoleum","sanctuary","altar","shrine","mosque","temple","church","synagogue","cathedral","monastery","abbey","cloister","nunnery","chapel","crypt","tomb","grave","ossuary","sarcophagus","catacomb","columbarium","graveyard","cemetary","burialground","necropolis","pyramid","museum","gallery","exhibition","exhibit","art","sculpture","painting","portrait","landscape","stilllife","history","ancient","medieval","renaissance","modern","contemporary","abstract","realism","impressionism","expressionism","surrealism","cubism","dadaism","futurism","constructivism","minimalism","popart","opart","kineticart","environmentalart","performanceart","installationart","conceptualart","videoart","digitalart","netart","virtualart","interactivart","landart","streetart","graffiti","photography","photojournalism","documentary","landscape","portrait","wildlife","nature","macro","micro","aerial","underwater","night","longexposure","blackandwhite","color","fineart","commercial","editorial","fashion","beauty","portrait","product","food","interior","architecture","cityscape","event","wedding","sports","action","adventure","travel","street","documentary","candid","photojournalism","landscape","wildlife","nature","macro","aerial","underwater","night","longexposure","blackandwhite","color","fineart","commercial","editorial","fashion","beauty","portrait","product","food","interior","architecture","cityscape","event","wedding","sports","action","adventure","travel","street","documentary","candid"];function fC(){const e=tl[Math.floor(Math.random()*tl.length)],t=nl[Math.floor(Math.random()*nl.length)],n=Math.floor(Math.random()*900)+100;return`${e}-${t}-${n}`}const Kn=e=>(Ae("data-v-45c71dea"),e=e(),ke(),e),dC=Kn(()=>l("h2",null,"Game Options",-1)),hC={class:"options"},pC={class:"game-name"},mC={class:"input-group"},_C=Kn(()=>l("label",{for:"name"},"Game Name",-1)),gC={key:0,class:"reminder shake-once"},yC={class:"invite"},vC=Kn(()=>l("label",null,"Invite Link",-1)),bC={class:"row invite-block"},wC={class:"row"},EC={class:"muted text-center"},CC=Kn(()=>l("i",{class:"fas fa-copy"},null,-1)),SC=[CC],AC=Kn(()=>l("i",{class:"fas fa-sync"},null,-1)),kC=[AC],$C=Kn(()=>l("span",null," Leave Game ",-1)),xC=[$C],OC=se({__name:"GameOptionsModal",setup(e){var c;const t=j(null),n=j((c=Me().game)==null?void 0:c.name),s=ee(()=>{var f;return`${window.location.origin}/invite/${(f=Me().game)==null?void 0:f.inviteCode}`});function r(){if(!n.value){t.value="Name cannot be empty";return}t.value=null,$t([{op:"replace",path:"/name",value:n.value}])}function o(){navigator.clipboard.writeText(s.value)}function i(){$t([{op:"replace",path:"/inviteCode",value:fC()}])}function a(){z.open(Ci,{title:"Leave Game",message:"Are you sure you want to leave the game?",confirmText:"Leave Game",onConfirm:async()=>{z.open(bs),await eg(),Pt.push("/"),z.close()}})}return(f,u)=>(C(),Ne(at,null,{header:V(()=>[N(lt,{closeButton:""},{default:V(()=>[dC]),_:1})]),content:V(()=>{var d,p;return[l("div",hC,[l("section",pC,[l("div",mC,[_C,Ue(l("input",{type:"text",class:me({disabled:((d=Q(Me)().userPlayer)==null?void 0:d.role)!==Q(Uo).GM}),onChange:r,placeholder:"Enter a descriptive name","onUpdate:modelValue":u[0]||(u[0]=_=>n.value=_)},null,34),[[He,n.value]]),t.value?(C(),x("span",gC,q(t.value),1)):Z("",!0)])]),l("section",yC,[vC,l("div",bC,[l("div",wC,[l("p",EC,q(s.value),1),l("button",{class:"btn btn--icon muted",onClick:o},SC)]),((p=Q(Me)().userPlayer)==null?void 0:p.role)===Q(Uo).GM?(C(),x("button",{key:0,class:"btn btn--icon muted",onClick:i},kC)):Z("",!0)])]),N(Qe),l("button",{class:"btn btn--alt",onClick:a},xC)])]}),_:1}))}}),TC=le(OC,[["__scopeId","data-v-45c71dea"]]),RC=e=>(Ae("data-v-3bc7c2c2"),e=e(),ke(),e),PC={class:"logo"},IC={class:"account"},NC=RC(()=>l("i",{class:"fas fa-cog"},null,-1)),LC=[NC],BC=se({__name:"TheNavigation",setup(e){function t(){z.open(ku)}function n(){z.open(TC)}return(s,r)=>{var i;const o=ti("router-link");return C(),x("nav",null,[l("div",PC,[N(o,{to:"/"},{default:V(()=>[N(uc)]),_:1})]),l("div",IC,[(i=Q(Me)().game)!=null&&i._id?(C(),x("button",{key:0,class:"btn btn--icon game-options",onClick:n},LC)):Z("",!0),l("button",{class:"btn btn--account",onClick:t},[N(xr,{portraitId:Q(de)().portrait},null,8,["portraitId"]),l("span",null,q(Q(de)().username||"Account"),1)])])])}}}),DC=le(BC,[["__scopeId","data-v-3bc7c2c2"]]),MC=se({__name:"TheModalContainer",setup(e){const t=j(),n=no(null),s=no(null),r=j();function o(){var i;(i=s.value)!=null&&i.closeOnClick&&z.close()}return z.getInstance().addEventListener(({modal:i,modalConfig:a})=>{var c;if((c=document.activeElement)==null||c.blur(),!i)return n.value=null;n.value={...i},s.value={...a},requestAnimationFrame(()=>{var g,y;r.value&&clearInterval(r.value);const f=(g=t.value)==null?void 0:g.$el;if(!f)return;const u=f.querySelector(".modal__header")?[f.querySelector(".modal__header")]:[],d=Array.from(((y=f.querySelector(".modal__content > div"))==null?void 0:y.children)||[]),p=[...u,...d];window.modalChildren=p;const _=f.querySelector("input:not(.disabled)");_&&_.focus(),p.forEach(O=>O.classList.add("hidden")),r.value=setInterval(()=>{if(!p.length)console.log("clearing interval"),clearInterval(r.value);else{const O=p.shift();O==null||O.classList.remove("hidden")}},50)})}),(i,a)=>{var c;return n.value?(C(),x("div",{key:0,class:me(["modal-container",(c=s.value)==null?void 0:c.backgroundClass])},[l("div",{class:"modal-container__background",onClick:a[0]||(a[0]=f=>o())}),(C(),Ne(Af(n.value),tc(s.value,{ref_key:"modalRef",ref:t}),null,16))],2)):Z("",!0)}}}),FC=le(MC,[["__scopeId","data-v-2a38f99a"]]),UC={class:"page-layout"},jC={class:"page-layout__content"},HC=se({__name:"App",setup(e){return(t,n)=>{const s=ti("router-view");return C(),x(we,null,[l("div",UC,[N(DC),l("div",jC,[N(s,{name:"page"})])]),N(FC)],64)}}});Hp();const Tr=Wd(HC);Tr.component("Divider",Qe);const qC=Jd();Tr.use(qC);Tr.use(Pt);Tr.mount("#app");
