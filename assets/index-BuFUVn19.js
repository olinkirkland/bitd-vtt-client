var Ju=Object.defineProperty;var Xu=(e,t,n)=>t in e?Ju(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ue=(e,t,n)=>(Xu(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();/**
* @vue/shared v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function li(e,t){const n=new Set(e.split(","));return s=>n.has(s)}const Ie={},Qn=[],_t=()=>{},Zu=()=>!1,xo=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),ci=e=>e.startsWith("onUpdate:"),tt=Object.assign,ui=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},ed=Object.prototype.hasOwnProperty,_e=(e,t)=>ed.call(e,t),te=Array.isArray,Vn=e=>Co(e)==="[object Map]",kl=e=>Co(e)==="[object Set]",le=e=>typeof e=="function",Fe=e=>typeof e=="string",es=e=>typeof e=="symbol",qe=e=>e!==null&&typeof e=="object",El=e=>(qe(e)||le(e))&&le(e.then)&&le(e.catch),Sl=Object.prototype.toString,Co=e=>Sl.call(e),td=e=>Co(e).slice(8,-1),Tl=e=>Co(e)==="[object Object]",di=e=>Fe(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,ps=li(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ko=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},nd=/-(\w)/g,jt=ko(e=>e.replace(nd,(t,n)=>n?n.toUpperCase():"")),sd=/\B([A-Z])/g,In=ko(e=>e.replace(sd,"-$1").toLowerCase()),Eo=ko(e=>e.charAt(0).toUpperCase()+e.slice(1)),Jo=ko(e=>e?`on${Eo(e)}`:""),vn=(e,t)=>!Object.is(e,t),Zs=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},ho=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},vr=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let zi;const Al=()=>zi||(zi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Vt(e){if(te(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],o=Fe(s)?ad(s):Vt(s);if(o)for(const r in o)t[r]=o[r]}return t}else if(Fe(e)||qe(e))return e}const od=/;(?![^(]*\))/g,rd=/:([^]+)/,id=/\/\*[^]*?\*\//g;function ad(e){const t={};return e.replace(id,"").split(od).forEach(n=>{if(n){const s=n.split(rd);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function J(e){let t="";if(Fe(e))t=e;else if(te(e))for(let n=0;n<e.length;n++){const s=J(e[n]);s&&(t+=s+" ")}else if(qe(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const ld="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",cd=li(ld);function $l(e){return!!e||e===""}const N=e=>Fe(e)?e:e==null?"":te(e)||qe(e)&&(e.toString===Sl||!le(e.toString))?JSON.stringify(e,Rl,2):String(e),Rl=(e,t)=>t&&t.__v_isRef?Rl(e,t.value):Vn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[s,o],r)=>(n[Xo(s,r)+" =>"]=o,n),{})}:kl(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Xo(n))}:es(t)?Xo(t):qe(t)&&!te(t)&&!Tl(t)?String(t):t,Xo=(e,t="")=>{var n;return es(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let pt;class Ol{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=pt,!t&&pt&&(this.index=(pt.scopes||(pt.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=pt;try{return pt=this,t()}finally{pt=n}}}on(){pt=this}off(){pt=this.parent}stop(t){if(this._active){let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this._active=!1}}}function Pl(e){return new Ol(e)}function ud(e,t=pt){t&&t.active&&t.effects.push(e)}function Il(){return pt}function dd(e){pt&&pt.cleanups.push(e)}let An;class hi{constructor(t,n,s,o){this.fn=t,this.trigger=n,this.scheduler=s,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,ud(this,o)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,Nn();for(let t=0;t<this._depsLength;t++){const n=this.deps[t];if(n.computed&&(hd(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),qn()}return this._dirtyLevel>=4}set dirty(t){this._dirtyLevel=t?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=mn,n=An;try{return mn=!0,An=this,this._runnings++,Ki(this),this.fn()}finally{Yi(this),this._runnings--,An=n,mn=t}}stop(){var t;this.active&&(Ki(this),Yi(this),(t=this.onStop)==null||t.call(this),this.active=!1)}}function hd(e){return e.value}function Ki(e){e._trackId++,e._depsLength=0}function Yi(e){if(e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)Nl(e.deps[t],e);e.deps.length=e._depsLength}}function Nl(e,t){const n=e.get(t);n!==void 0&&t._trackId!==n&&(e.delete(t),e.size===0&&e.cleanup())}let mn=!0,_r=0;const ql=[];function Nn(){ql.push(mn),mn=!1}function qn(){const e=ql.pop();mn=e===void 0?!0:e}function fi(){_r++}function pi(){for(_r--;!_r&&br.length;)br.shift()()}function Ll(e,t,n){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const s=e.deps[e._depsLength];s!==t?(s&&Nl(s,e),e.deps[e._depsLength++]=t):e._depsLength++}}const br=[];function Dl(e,t,n){fi();for(const s of e.keys()){let o;s._dirtyLevel<t&&(o??(o=e.get(s)===s._trackId))&&(s._shouldSchedule||(s._shouldSchedule=s._dirtyLevel===0),s._dirtyLevel=t),s._shouldSchedule&&(o??(o=e.get(s)===s._trackId))&&(s.trigger(),(!s._runnings||s.allowRecurse)&&s._dirtyLevel!==2&&(s._shouldSchedule=!1,s.scheduler&&br.push(s.scheduler)))}pi()}const Ul=(e,t)=>{const n=new Map;return n.cleanup=e,n.computed=t,n},fo=new WeakMap,$n=Symbol(""),wr=Symbol("");function ut(e,t,n){if(mn&&An){let s=fo.get(e);s||fo.set(e,s=new Map);let o=s.get(n);o||s.set(n,o=Ul(()=>s.delete(n))),Ll(An,o)}}function Jt(e,t,n,s,o,r){const i=fo.get(e);if(!i)return;let l=[];if(t==="clear")l=[...i.values()];else if(n==="length"&&te(e)){const c=Number(s);i.forEach((d,u)=>{(u==="length"||!es(u)&&u>=c)&&l.push(d)})}else switch(n!==void 0&&l.push(i.get(n)),t){case"add":te(e)?di(n)&&l.push(i.get("length")):(l.push(i.get($n)),Vn(e)&&l.push(i.get(wr)));break;case"delete":te(e)||(l.push(i.get($n)),Vn(e)&&l.push(i.get(wr)));break;case"set":Vn(e)&&l.push(i.get($n));break}fi();for(const c of l)c&&Dl(c,4);pi()}function fd(e,t){var n;return(n=fo.get(e))==null?void 0:n.get(t)}const pd=li("__proto__,__v_isRef,__isVue"),Bl=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(es)),Ji=md();function md(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const s=be(this);for(let r=0,i=this.length;r<i;r++)ut(s,"get",r+"");const o=s[t](...n);return o===-1||o===!1?s[t](...n.map(be)):o}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Nn(),fi();const s=be(this)[t].apply(this,n);return pi(),qn(),s}}),e}function yd(e){const t=be(this);return ut(t,"has",e),t.hasOwnProperty(e)}class Ml{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,s){const o=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!o;if(n==="__v_isReadonly")return o;if(n==="__v_isShallow")return r;if(n==="__v_raw")return s===(o?r?$d:Ql:r?Hl:jl).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const i=te(t);if(!o){if(i&&_e(Ji,n))return Reflect.get(Ji,n,s);if(n==="hasOwnProperty")return yd}const l=Reflect.get(t,n,s);return(es(n)?Bl.has(n):pd(n))||(o||ut(t,"get",n),r)?l:Qe(l)?i&&di(n)?l:l.value:qe(l)?o?Wl(l):Os(l):l}}class Fl extends Ml{constructor(t=!1){super(!1,t)}set(t,n,s,o){let r=t[n];if(!this._isShallow){const c=zn(r);if(!po(s)&&!zn(s)&&(r=be(r),s=be(s)),!te(t)&&Qe(r)&&!Qe(s))return c?!1:(r.value=s,!0)}const i=te(t)&&di(n)?Number(n)<t.length:_e(t,n),l=Reflect.set(t,n,s,o);return t===be(o)&&(i?vn(s,r)&&Jt(t,"set",n,s):Jt(t,"add",n,s)),l}deleteProperty(t,n){const s=_e(t,n);t[n];const o=Reflect.deleteProperty(t,n);return o&&s&&Jt(t,"delete",n,void 0),o}has(t,n){const s=Reflect.has(t,n);return(!es(n)||!Bl.has(n))&&ut(t,"has",n),s}ownKeys(t){return ut(t,"iterate",te(t)?"length":$n),Reflect.ownKeys(t)}}class gd extends Ml{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const vd=new Fl,_d=new gd,bd=new Fl(!0),mi=e=>e,So=e=>Reflect.getPrototypeOf(e);function Ms(e,t,n=!1,s=!1){e=e.__v_raw;const o=be(e),r=be(t);n||(vn(t,r)&&ut(o,"get",t),ut(o,"get",r));const{has:i}=So(o),l=s?mi:n?vi:Cs;if(i.call(o,t))return l(e.get(t));if(i.call(o,r))return l(e.get(r));e!==o&&e.get(t)}function Fs(e,t=!1){const n=this.__v_raw,s=be(n),o=be(e);return t||(vn(e,o)&&ut(s,"has",e),ut(s,"has",o)),e===o?n.has(e):n.has(e)||n.has(o)}function js(e,t=!1){return e=e.__v_raw,!t&&ut(be(e),"iterate",$n),Reflect.get(e,"size",e)}function Xi(e){e=be(e);const t=be(this);return So(t).has.call(t,e)||(t.add(e),Jt(t,"add",e,e)),this}function Zi(e,t){t=be(t);const n=be(this),{has:s,get:o}=So(n);let r=s.call(n,e);r||(e=be(e),r=s.call(n,e));const i=o.call(n,e);return n.set(e,t),r?vn(t,i)&&Jt(n,"set",e,t):Jt(n,"add",e,t),this}function ea(e){const t=be(this),{has:n,get:s}=So(t);let o=n.call(t,e);o||(e=be(e),o=n.call(t,e)),s&&s.call(t,e);const r=t.delete(e);return o&&Jt(t,"delete",e,void 0),r}function ta(){const e=be(this),t=e.size!==0,n=e.clear();return t&&Jt(e,"clear",void 0,void 0),n}function Hs(e,t){return function(s,o){const r=this,i=r.__v_raw,l=be(i),c=t?mi:e?vi:Cs;return!e&&ut(l,"iterate",$n),i.forEach((d,u)=>s.call(o,c(d),c(u),r))}}function Qs(e,t,n){return function(...s){const o=this.__v_raw,r=be(o),i=Vn(r),l=e==="entries"||e===Symbol.iterator&&i,c=e==="keys"&&i,d=o[e](...s),u=n?mi:t?vi:Cs;return!t&&ut(r,"iterate",c?wr:$n),{next(){const{value:h,done:f}=d.next();return f?{value:h,done:f}:{value:l?[u(h[0]),u(h[1])]:u(h),done:f}},[Symbol.iterator](){return this}}}}function an(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function wd(){const e={get(r){return Ms(this,r)},get size(){return js(this)},has:Fs,add:Xi,set:Zi,delete:ea,clear:ta,forEach:Hs(!1,!1)},t={get(r){return Ms(this,r,!1,!0)},get size(){return js(this)},has:Fs,add:Xi,set:Zi,delete:ea,clear:ta,forEach:Hs(!1,!0)},n={get(r){return Ms(this,r,!0)},get size(){return js(this,!0)},has(r){return Fs.call(this,r,!0)},add:an("add"),set:an("set"),delete:an("delete"),clear:an("clear"),forEach:Hs(!0,!1)},s={get(r){return Ms(this,r,!0,!0)},get size(){return js(this,!0)},has(r){return Fs.call(this,r,!0)},add:an("add"),set:an("set"),delete:an("delete"),clear:an("clear"),forEach:Hs(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{e[r]=Qs(r,!1,!1),n[r]=Qs(r,!0,!1),t[r]=Qs(r,!1,!0),s[r]=Qs(r,!0,!0)}),[e,n,t,s]}const[xd,Cd,kd,Ed]=wd();function yi(e,t){const n=t?e?Ed:kd:e?Cd:xd;return(s,o,r)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?s:Reflect.get(_e(n,o)&&o in s?n:s,o,r)}const Sd={get:yi(!1,!1)},Td={get:yi(!1,!0)},Ad={get:yi(!0,!1)},jl=new WeakMap,Hl=new WeakMap,Ql=new WeakMap,$d=new WeakMap;function Rd(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Od(e){return e.__v_skip||!Object.isExtensible(e)?0:Rd(td(e))}function Os(e){return zn(e)?e:gi(e,!1,vd,Sd,jl)}function Vl(e){return gi(e,!1,bd,Td,Hl)}function Wl(e){return gi(e,!0,_d,Ad,Ql)}function gi(e,t,n,s,o){if(!qe(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=o.get(e);if(r)return r;const i=Od(e);if(i===0)return e;const l=new Proxy(e,i===2?s:n);return o.set(e,l),l}function yn(e){return zn(e)?yn(e.__v_raw):!!(e&&e.__v_isReactive)}function zn(e){return!!(e&&e.__v_isReadonly)}function po(e){return!!(e&&e.__v_isShallow)}function Gl(e){return yn(e)||zn(e)}function be(e){const t=e&&e.__v_raw;return t?be(t):e}function To(e){return Object.isExtensible(e)&&ho(e,"__v_skip",!0),e}const Cs=e=>qe(e)?Os(e):e,vi=e=>qe(e)?Wl(e):e;class zl{constructor(t,n,s,o){this.getter=t,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new hi(()=>t(this._value),()=>eo(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=s}get value(){const t=be(this);return(!t._cacheable||t.effect.dirty)&&vn(t._value,t._value=t.effect.run())&&eo(t,4),Kl(t),t.effect._dirtyLevel>=2&&eo(t,2),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function Pd(e,t,n=!1){let s,o;const r=le(e);return r?(s=e,o=_t):(s=e.get,o=e.set),new zl(s,o,r||!o,n)}function Kl(e){var t;mn&&An&&(e=be(e),Ll(An,(t=e.dep)!=null?t:e.dep=Ul(()=>e.dep=void 0,e instanceof zl?e:void 0)))}function eo(e,t=4,n){e=be(e);const s=e.dep;s&&Dl(s,t)}function Qe(e){return!!(e&&e.__v_isRef===!0)}function L(e){return Yl(e,!1)}function xr(e){return Yl(e,!0)}function Yl(e,t){return Qe(e)?e:new Id(e,t)}class Id{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:be(t),this._value=n?t:Cs(t)}get value(){return Kl(this),this._value}set value(t){const n=this.__v_isShallow||po(t)||zn(t);t=n?t:be(t),vn(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:Cs(t),eo(this,4))}}function D(e){return Qe(e)?e.value:e}const Nd={get:(e,t,n)=>D(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const o=e[t];return Qe(o)&&!Qe(n)?(o.value=n,!0):Reflect.set(e,t,n,s)}};function Jl(e){return yn(e)?e:new Proxy(e,Nd)}function qd(e){const t=te(e)?new Array(e.length):{};for(const n in e)t[n]=Dd(e,n);return t}class Ld{constructor(t,n,s){this._object=t,this._key=n,this._defaultValue=s,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return fd(be(this._object),this._key)}}function Dd(e,t,n){const s=e[t];return Qe(s)?s:new Ld(e,t,n)}/**
* @vue/runtime-core v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function gn(e,t,n,s){try{return s?e(...s):e()}catch(o){Ao(o,t,n)}}function At(e,t,n,s){if(le(e)){const r=gn(e,t,n,s);return r&&El(r)&&r.catch(i=>{Ao(i,t,n)}),r}const o=[];for(let r=0;r<e.length;r++)o.push(At(e[r],t,n,s));return o}function Ao(e,t,n,s=!0){const o=t?t.vnode:null;if(t){let r=t.parent;const i=t.proxy,l=`https://vuejs.org/error-reference/#runtime-${n}`;for(;r;){const d=r.ec;if(d){for(let u=0;u<d.length;u++)if(d[u](e,i,l)===!1)return}r=r.parent}const c=t.appContext.config.errorHandler;if(c){gn(c,null,10,[e,i,l]);return}}Ud(e,n,o,s)}function Ud(e,t,n,s=!0){console.error(e)}let ks=!1,Cr=!1;const nt=[];let Dt=0;const Wn=[];let dn=null,Sn=0;const Xl=Promise.resolve();let _i=null;function bi(e){const t=_i||Xl;return e?t.then(this?e.bind(this):e):t}function Bd(e){let t=Dt+1,n=nt.length;for(;t<n;){const s=t+n>>>1,o=nt[s],r=Es(o);r<e||r===e&&o.pre?t=s+1:n=s}return t}function wi(e){(!nt.length||!nt.includes(e,ks&&e.allowRecurse?Dt+1:Dt))&&(e.id==null?nt.push(e):nt.splice(Bd(e.id),0,e),Zl())}function Zl(){!ks&&!Cr&&(Cr=!0,_i=Xl.then(tc))}function Md(e){const t=nt.indexOf(e);t>Dt&&nt.splice(t,1)}function Fd(e){te(e)?Wn.push(...e):(!dn||!dn.includes(e,e.allowRecurse?Sn+1:Sn))&&Wn.push(e),Zl()}function na(e,t,n=ks?Dt+1:0){for(;n<nt.length;n++){const s=nt[n];if(s&&s.pre){if(e&&s.id!==e.uid)continue;nt.splice(n,1),n--,s()}}}function ec(e){if(Wn.length){const t=[...new Set(Wn)].sort((n,s)=>Es(n)-Es(s));if(Wn.length=0,dn){dn.push(...t);return}for(dn=t,Sn=0;Sn<dn.length;Sn++)dn[Sn]();dn=null,Sn=0}}const Es=e=>e.id==null?1/0:e.id,jd=(e,t)=>{const n=Es(e)-Es(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function tc(e){Cr=!1,ks=!0,nt.sort(jd);try{for(Dt=0;Dt<nt.length;Dt++){const t=nt[Dt];t&&t.active!==!1&&gn(t,null,14)}}finally{Dt=0,nt.length=0,ec(),ks=!1,_i=null,(nt.length||Wn.length)&&tc()}}function Hd(e,t,...n){if(e.isUnmounted)return;const s=e.vnode.props||Ie;let o=n;const r=t.startsWith("update:"),i=r&&t.slice(7);if(i&&i in s){const u=`${i==="modelValue"?"model":i}Modifiers`,{number:h,trim:f}=s[u]||Ie;f&&(o=n.map(g=>Fe(g)?g.trim():g)),h&&(o=n.map(vr))}let l,c=s[l=Jo(t)]||s[l=Jo(jt(t))];!c&&r&&(c=s[l=Jo(In(t))]),c&&At(c,e,6,o);const d=s[l+"Once"];if(d){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,At(d,e,6,o)}}function nc(e,t,n=!1){const s=t.emitsCache,o=s.get(e);if(o!==void 0)return o;const r=e.emits;let i={},l=!1;if(!le(e)){const c=d=>{const u=nc(d,t,!0);u&&(l=!0,tt(i,u))};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!r&&!l?(qe(e)&&s.set(e,null),null):(te(r)?r.forEach(c=>i[c]=null):tt(i,r),qe(e)&&s.set(e,i),i)}function $o(e,t){return!e||!xo(t)?!1:(t=t.slice(2).replace(/Once$/,""),_e(e,t[0].toLowerCase()+t.slice(1))||_e(e,In(t))||_e(e,t))}let He=null,Ro=null;function mo(e){const t=He;return He=e,Ro=e&&e.type.__scopeId||null,t}function we(e){Ro=e}function xe(){Ro=null}function U(e,t=He,n){if(!t||e._n)return e;const s=(...o)=>{s._d&&fa(-1);const r=mo(t);let i;try{i=e(...o)}finally{mo(r),s._d&&fa(1)}return i};return s._n=!0,s._c=!0,s._d=!0,s}function Zo(e){const{type:t,vnode:n,proxy:s,withProxy:o,props:r,propsOptions:[i],slots:l,attrs:c,emit:d,render:u,renderCache:h,data:f,setupState:g,ctx:w,inheritAttrs:x}=e;let $,q;const H=mo(e);try{if(n.shapeFlag&4){const X=o||s,de=X;$=qt(u.call(de,X,h,r,g,f,w)),q=c}else{const X=t;$=qt(X.length>1?X(r,{attrs:c,slots:l,emit:d}):X(r,null)),q=t.props?c:Qd(c)}}catch(X){gs.length=0,Ao(X,e,1),$=I(_n)}let Q=$;if(q&&x!==!1){const X=Object.keys(q),{shapeFlag:de}=Q;X.length&&de&7&&(i&&X.some(ci)&&(q=Vd(q,i)),Q=Yn(Q,q))}return n.dirs&&(Q=Yn(Q),Q.dirs=Q.dirs?Q.dirs.concat(n.dirs):n.dirs),n.transition&&(Q.transition=n.transition),$=Q,mo(H),$}const Qd=e=>{let t;for(const n in e)(n==="class"||n==="style"||xo(n))&&((t||(t={}))[n]=e[n]);return t},Vd=(e,t)=>{const n={};for(const s in e)(!ci(s)||!(s.slice(9)in t))&&(n[s]=e[s]);return n};function Wd(e,t,n){const{props:s,children:o,component:r}=e,{props:i,children:l,patchFlag:c}=t,d=r.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return s?sa(s,i,d):!!i;if(c&8){const u=t.dynamicProps;for(let h=0;h<u.length;h++){const f=u[h];if(i[f]!==s[f]&&!$o(d,f))return!0}}}else return(o||l)&&(!l||!l.$stable)?!0:s===i?!1:s?i?sa(s,i,d):!0:!!i;return!1}function sa(e,t,n){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let o=0;o<s.length;o++){const r=s[o];if(t[r]!==e[r]&&!$o(n,r))return!0}return!1}function Gd({vnode:e,parent:t},n){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s===e)(e=t.vnode).el=n,t=t.parent;else break}}const sc="components";function Ps(e,t){return rc(sc,e,!0,t)||e}const oc=Symbol.for("v-ndc");function zd(e){return Fe(e)?rc(sc,e,!1)||e:e||oc}function rc(e,t,n=!0,s=!1){const o=He||Ze;if(o){const r=o.type;{const l=Mh(r,!1);if(l&&(l===t||l===jt(t)||l===Eo(jt(t))))return r}const i=oa(o[e]||r[e],t)||oa(o.appContext[e],t);return!i&&s?r:i}}function oa(e,t){return e&&(e[t]||e[jt(t)]||e[Eo(jt(t))])}const Kd=e=>e.__isSuspense;function Yd(e,t){t&&t.pendingBranch?te(e)?t.effects.push(...e):t.effects.push(e):Fd(e)}const Jd=Symbol.for("v-scx"),Xd=()=>$t(Jd),Vs={};function Mt(e,t,n){return ic(e,t,n)}function ic(e,t,{immediate:n,deep:s,flush:o,once:r,onTrack:i,onTrigger:l}=Ie){if(t&&r){const K=t;t=(...Ee)=>{K(...Ee),de()}}const c=Ze,d=K=>s===!0?K:Tn(K,s===!1?1:void 0);let u,h=!1,f=!1;if(Qe(e)?(u=()=>e.value,h=po(e)):yn(e)?(u=()=>d(e),h=!0):te(e)?(f=!0,h=e.some(K=>yn(K)||po(K)),u=()=>e.map(K=>{if(Qe(K))return K.value;if(yn(K))return d(K);if(le(K))return gn(K,c,2)})):le(e)?t?u=()=>gn(e,c,2):u=()=>(g&&g(),At(e,c,3,[w])):u=_t,t&&s){const K=u;u=()=>Tn(K())}let g,w=K=>{g=Q.onStop=()=>{gn(K,c,4),g=Q.onStop=void 0}},x;if(No)if(w=_t,t?n&&At(t,c,3,[u(),f?[]:void 0,w]):u(),o==="sync"){const K=Xd();x=K.__watcherHandles||(K.__watcherHandles=[])}else return _t;let $=f?new Array(e.length).fill(Vs):Vs;const q=()=>{if(!(!Q.active||!Q.dirty))if(t){const K=Q.run();(s||h||(f?K.some((Ee,re)=>vn(Ee,$[re])):vn(K,$)))&&(g&&g(),At(t,c,3,[K,$===Vs?void 0:f&&$[0]===Vs?[]:$,w]),$=K)}else Q.run()};q.allowRecurse=!!t;let H;o==="sync"?H=q:o==="post"?H=()=>ct(q,c&&c.suspense):(q.pre=!0,c&&(q.id=c.uid),H=()=>wi(q));const Q=new hi(u,_t,H),X=Il(),de=()=>{Q.stop(),X&&ui(X.effects,Q)};return t?n?q():$=Q.run():o==="post"?ct(Q.run.bind(Q),c&&c.suspense):Q.run(),x&&x.push(de),de}function Zd(e,t,n){const s=this.proxy,o=Fe(e)?e.includes(".")?ac(s,e):()=>s[e]:e.bind(s,s);let r;le(t)?r=t:(r=t.handler,n=t);const i=Is(this),l=ic(o,r.bind(s),n);return i(),l}function ac(e,t){const n=t.split(".");return()=>{let s=e;for(let o=0;o<n.length&&s;o++)s=s[n[o]];return s}}function Tn(e,t,n=0,s){if(!qe(e)||e.__v_skip)return e;if(t&&t>0){if(n>=t)return e;n++}if(s=s||new Set,s.has(e))return e;if(s.add(e),Qe(e))Tn(e.value,t,n,s);else if(te(e))for(let o=0;o<e.length;o++)Tn(e[o],t,n,s);else if(kl(e)||Vn(e))e.forEach(o=>{Tn(o,t,n,s)});else if(Tl(e))for(const o in e)Tn(e[o],t,n,s);return e}function Re(e,t){if(He===null)return e;const n=qo(He)||He.proxy,s=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[r,i,l,c=Ie]=t[o];r&&(le(r)&&(r={mounted:r,updated:r}),r.deep&&Tn(i),s.push({dir:r,instance:n,value:i,oldValue:void 0,arg:l,modifiers:c}))}return e}function Cn(e,t,n,s){const o=e.dirs,r=t&&t.dirs;for(let i=0;i<o.length;i++){const l=o[i];r&&(l.oldValue=r[i].value);let c=l.dir[s];c&&(Nn(),At(c,n,8,[e.el,l,e,t]),qn())}}/*! #__NO_SIDE_EFFECTS__ */function ee(e,t){return le(e)?tt({name:e.name},t,{setup:e}):e}const ms=e=>!!e.type.__asyncLoader,lc=e=>e.type.__isKeepAlive;function eh(e,t){cc(e,"a",t)}function th(e,t){cc(e,"da",t)}function cc(e,t,n=Ze){const s=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(Oo(t,s,n),n){let o=n.parent;for(;o&&o.parent;)lc(o.parent.vnode)&&nh(s,t,n,o),o=o.parent}}function nh(e,t,n,s){const o=Oo(t,e,s,!0);ts(()=>{ui(s[t],o)},n)}function Oo(e,t,n=Ze,s=!1){if(n){const o=n[e]||(n[e]=[]),r=t.__weh||(t.__weh=(...i)=>{if(n.isUnmounted)return;Nn();const l=Is(n),c=At(t,n,e,i);return l(),qn(),c});return s?o.unshift(r):o.push(r),r}}const Zt=e=>(t,n=Ze)=>(!No||e==="sp")&&Oo(e,(...s)=>t(...s),n),sh=Zt("bm"),en=Zt("m"),oh=Zt("bu"),rh=Zt("u"),ih=Zt("bum"),ts=Zt("um"),ah=Zt("sp"),lh=Zt("rtg"),ch=Zt("rtc");function uh(e,t=Ze){Oo("ec",e,t)}function pe(e,t,n,s){let o;const r=n;if(te(e)||Fe(e)){o=new Array(e.length);for(let i=0,l=e.length;i<l;i++)o[i]=t(e[i],i,void 0,r)}else if(typeof e=="number"){o=new Array(e);for(let i=0;i<e;i++)o[i]=t(i+1,i,void 0,r)}else if(qe(e))if(e[Symbol.iterator])o=Array.from(e,(i,l)=>t(i,l,void 0,r));else{const i=Object.keys(e);o=new Array(i.length);for(let l=0,c=i.length;l<c;l++){const d=i[l];o[l]=t(e[d],d,l,r)}}else o=[];return o}function Kn(e,t,n={},s,o){if(He.isCE||He.parent&&ms(He.parent)&&He.parent.isCE)return t!=="default"&&(n.name=t),I("slot",n,s);let r=e[t];r&&r._c&&(r._d=!1),b();const i=r&&uc(r(n)),l=ie(Y,{key:n.key||i&&i.key||`_${t}`},i||[],i&&e._===1?64:-2);return r&&r._c&&(r._d=!0),l}function uc(e){return e.some(t=>go(t)?!(t.type===_n||t.type===Y&&!uc(t.children)):!0)?e:null}const kr=e=>e?Cc(e)?qo(e)||e.proxy:kr(e.parent):null,ys=tt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>kr(e.parent),$root:e=>kr(e.root),$emit:e=>e.emit,$options:e=>xi(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,wi(e.update)}),$nextTick:e=>e.n||(e.n=bi.bind(e.proxy)),$watch:e=>Zd.bind(e)}),er=(e,t)=>e!==Ie&&!e.__isScriptSetup&&_e(e,t),dh={get({_:e},t){const{ctx:n,setupState:s,data:o,props:r,accessCache:i,type:l,appContext:c}=e;let d;if(t[0]!=="$"){const g=i[t];if(g!==void 0)switch(g){case 1:return s[t];case 2:return o[t];case 4:return n[t];case 3:return r[t]}else{if(er(s,t))return i[t]=1,s[t];if(o!==Ie&&_e(o,t))return i[t]=2,o[t];if((d=e.propsOptions[0])&&_e(d,t))return i[t]=3,r[t];if(n!==Ie&&_e(n,t))return i[t]=4,n[t];Er&&(i[t]=0)}}const u=ys[t];let h,f;if(u)return t==="$attrs"&&ut(e,"get",t),u(e);if((h=l.__cssModules)&&(h=h[t]))return h;if(n!==Ie&&_e(n,t))return i[t]=4,n[t];if(f=c.config.globalProperties,_e(f,t))return f[t]},set({_:e},t,n){const{data:s,setupState:o,ctx:r}=e;return er(o,t)?(o[t]=n,!0):s!==Ie&&_e(s,t)?(s[t]=n,!0):_e(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(r[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:o,propsOptions:r}},i){let l;return!!n[i]||e!==Ie&&_e(e,i)||er(t,i)||(l=r[0])&&_e(l,i)||_e(s,i)||_e(ys,i)||_e(o.config.globalProperties,i)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:_e(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function ra(e){return te(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Er=!0;function hh(e){const t=xi(e),n=e.proxy,s=e.ctx;Er=!1,t.beforeCreate&&ia(t.beforeCreate,e,"bc");const{data:o,computed:r,methods:i,watch:l,provide:c,inject:d,created:u,beforeMount:h,mounted:f,beforeUpdate:g,updated:w,activated:x,deactivated:$,beforeDestroy:q,beforeUnmount:H,destroyed:Q,unmounted:X,render:de,renderTracked:K,renderTriggered:Ee,errorCaptured:re,serverPrefetch:ae,expose:ke,inheritAttrs:Le,components:We,directives:Ye,filters:yt}=t;if(d&&fh(d,s,null),i)for(const me in i){const ye=i[me];le(ye)&&(s[me]=ye.bind(n))}if(o){const me=o.call(n,n);qe(me)&&(e.data=Os(me))}if(Er=!0,r)for(const me in r){const ye=r[me],lt=le(ye)?ye.bind(n,n):le(ye.get)?ye.get.bind(n,n):_t,dt=!le(ye)&&le(ye.set)?ye.set.bind(n):_t,rt=W({get:lt,set:dt});Object.defineProperty(s,me,{enumerable:!0,configurable:!0,get:()=>rt.value,set:je=>rt.value=je})}if(l)for(const me in l)dc(l[me],s,n,me);if(c){const me=le(c)?c.call(n):c;Reflect.ownKeys(me).forEach(ye=>{to(ye,me[ye])})}u&&ia(u,e,"c");function ce(me,ye){te(ye)?ye.forEach(lt=>me(lt.bind(n))):ye&&me(ye.bind(n))}if(ce(sh,h),ce(en,f),ce(oh,g),ce(rh,w),ce(eh,x),ce(th,$),ce(uh,re),ce(ch,K),ce(lh,Ee),ce(ih,H),ce(ts,X),ce(ah,ae),te(ke))if(ke.length){const me=e.exposed||(e.exposed={});ke.forEach(ye=>{Object.defineProperty(me,ye,{get:()=>n[ye],set:lt=>n[ye]=lt})})}else e.exposed||(e.exposed={});de&&e.render===_t&&(e.render=de),Le!=null&&(e.inheritAttrs=Le),We&&(e.components=We),Ye&&(e.directives=Ye)}function fh(e,t,n=_t){te(e)&&(e=Sr(e));for(const s in e){const o=e[s];let r;qe(o)?"default"in o?r=$t(o.from||s,o.default,!0):r=$t(o.from||s):r=$t(o),Qe(r)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>r.value,set:i=>r.value=i}):t[s]=r}}function ia(e,t,n){At(te(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,n)}function dc(e,t,n,s){const o=s.includes(".")?ac(n,s):()=>n[s];if(Fe(e)){const r=t[e];le(r)&&Mt(o,r)}else if(le(e))Mt(o,e.bind(n));else if(qe(e))if(te(e))e.forEach(r=>dc(r,t,n,s));else{const r=le(e.handler)?e.handler.bind(n):t[e.handler];le(r)&&Mt(o,r,e)}}function xi(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:o,optionsCache:r,config:{optionMergeStrategies:i}}=e.appContext,l=r.get(t);let c;return l?c=l:!o.length&&!n&&!s?c=t:(c={},o.length&&o.forEach(d=>yo(c,d,i,!0)),yo(c,t,i)),qe(t)&&r.set(t,c),c}function yo(e,t,n,s=!1){const{mixins:o,extends:r}=t;r&&yo(e,r,n,!0),o&&o.forEach(i=>yo(e,i,n,!0));for(const i in t)if(!(s&&i==="expose")){const l=ph[i]||n&&n[i];e[i]=l?l(e[i],t[i]):t[i]}return e}const ph={data:aa,props:la,emits:la,methods:hs,computed:hs,beforeCreate:it,created:it,beforeMount:it,mounted:it,beforeUpdate:it,updated:it,beforeDestroy:it,beforeUnmount:it,destroyed:it,unmounted:it,activated:it,deactivated:it,errorCaptured:it,serverPrefetch:it,components:hs,directives:hs,watch:yh,provide:aa,inject:mh};function aa(e,t){return t?e?function(){return tt(le(e)?e.call(this,this):e,le(t)?t.call(this,this):t)}:t:e}function mh(e,t){return hs(Sr(e),Sr(t))}function Sr(e){if(te(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function it(e,t){return e?[...new Set([].concat(e,t))]:t}function hs(e,t){return e?tt(Object.create(null),e,t):t}function la(e,t){return e?te(e)&&te(t)?[...new Set([...e,...t])]:tt(Object.create(null),ra(e),ra(t??{})):t}function yh(e,t){if(!e)return t;if(!t)return e;const n=tt(Object.create(null),e);for(const s in t)n[s]=it(e[s],t[s]);return n}function hc(){return{app:null,config:{isNativeTag:Zu,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let gh=0;function vh(e,t){return function(s,o=null){le(s)||(s=tt({},s)),o!=null&&!qe(o)&&(o=null);const r=hc(),i=new WeakSet;let l=!1;const c=r.app={_uid:gh++,_component:s,_props:o,_container:null,_context:r,_instance:null,version:jh,get config(){return r.config},set config(d){},use(d,...u){return i.has(d)||(d&&le(d.install)?(i.add(d),d.install(c,...u)):le(d)&&(i.add(d),d(c,...u))),c},mixin(d){return r.mixins.includes(d)||r.mixins.push(d),c},component(d,u){return u?(r.components[d]=u,c):r.components[d]},directive(d,u){return u?(r.directives[d]=u,c):r.directives[d]},mount(d,u,h){if(!l){const f=I(s,o);return f.appContext=r,h===!0?h="svg":h===!1&&(h=void 0),u&&t?t(f,d):e(f,d,h),l=!0,c._container=d,d.__vue_app__=c,qo(f.component)||f.component.proxy}},unmount(){l&&(e(null,c._container),delete c._container.__vue_app__)},provide(d,u){return r.provides[d]=u,c},runWithContext(d){const u=Gn;Gn=c;try{return d()}finally{Gn=u}}};return c}}let Gn=null;function to(e,t){if(Ze){let n=Ze.provides;const s=Ze.parent&&Ze.parent.provides;s===n&&(n=Ze.provides=Object.create(s)),n[e]=t}}function $t(e,t,n=!1){const s=Ze||He;if(s||Gn){const o=s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:Gn._context.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&le(t)?t.call(s&&s.proxy):t}}function _h(){return!!(Ze||He||Gn)}function bh(e,t,n,s=!1){const o={},r={};ho(r,Io,1),e.propsDefaults=Object.create(null),fc(e,t,o,r);for(const i in e.propsOptions[0])i in o||(o[i]=void 0);n?e.props=s?o:Vl(o):e.type.props?e.props=o:e.props=r,e.attrs=r}function wh(e,t,n,s){const{props:o,attrs:r,vnode:{patchFlag:i}}=e,l=be(o),[c]=e.propsOptions;let d=!1;if((s||i>0)&&!(i&16)){if(i&8){const u=e.vnode.dynamicProps;for(let h=0;h<u.length;h++){let f=u[h];if($o(e.emitsOptions,f))continue;const g=t[f];if(c)if(_e(r,f))g!==r[f]&&(r[f]=g,d=!0);else{const w=jt(f);o[w]=Tr(c,l,w,g,e,!1)}else g!==r[f]&&(r[f]=g,d=!0)}}}else{fc(e,t,o,r)&&(d=!0);let u;for(const h in l)(!t||!_e(t,h)&&((u=In(h))===h||!_e(t,u)))&&(c?n&&(n[h]!==void 0||n[u]!==void 0)&&(o[h]=Tr(c,l,h,void 0,e,!0)):delete o[h]);if(r!==l)for(const h in r)(!t||!_e(t,h))&&(delete r[h],d=!0)}d&&Jt(e,"set","$attrs")}function fc(e,t,n,s){const[o,r]=e.propsOptions;let i=!1,l;if(t)for(let c in t){if(ps(c))continue;const d=t[c];let u;o&&_e(o,u=jt(c))?!r||!r.includes(u)?n[u]=d:(l||(l={}))[u]=d:$o(e.emitsOptions,c)||(!(c in s)||d!==s[c])&&(s[c]=d,i=!0)}if(r){const c=be(n),d=l||Ie;for(let u=0;u<r.length;u++){const h=r[u];n[h]=Tr(o,c,h,d[h],e,!_e(d,h))}}return i}function Tr(e,t,n,s,o,r){const i=e[n];if(i!=null){const l=_e(i,"default");if(l&&s===void 0){const c=i.default;if(i.type!==Function&&!i.skipFactory&&le(c)){const{propsDefaults:d}=o;if(n in d)s=d[n];else{const u=Is(o);s=d[n]=c.call(null,t),u()}}else s=c}i[0]&&(r&&!l?s=!1:i[1]&&(s===""||s===In(n))&&(s=!0))}return s}function pc(e,t,n=!1){const s=t.propsCache,o=s.get(e);if(o)return o;const r=e.props,i={},l=[];let c=!1;if(!le(e)){const u=h=>{c=!0;const[f,g]=pc(h,t,!0);tt(i,f),g&&l.push(...g)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!r&&!c)return qe(e)&&s.set(e,Qn),Qn;if(te(r))for(let u=0;u<r.length;u++){const h=jt(r[u]);ca(h)&&(i[h]=Ie)}else if(r)for(const u in r){const h=jt(u);if(ca(h)){const f=r[u],g=i[h]=te(f)||le(f)?{type:f}:tt({},f);if(g){const w=ha(Boolean,g.type),x=ha(String,g.type);g[0]=w>-1,g[1]=x<0||w<x,(w>-1||_e(g,"default"))&&l.push(h)}}}const d=[i,l];return qe(e)&&s.set(e,d),d}function ca(e){return e[0]!=="$"&&!ps(e)}function ua(e){return e===null?"null":typeof e=="function"?e.name||"":typeof e=="object"&&e.constructor&&e.constructor.name||""}function da(e,t){return ua(e)===ua(t)}function ha(e,t){return te(t)?t.findIndex(n=>da(n,e)):le(t)&&da(t,e)?0:-1}const mc=e=>e[0]==="_"||e==="$stable",Ci=e=>te(e)?e.map(qt):[qt(e)],xh=(e,t,n)=>{if(t._n)return t;const s=U((...o)=>Ci(t(...o)),n);return s._c=!1,s},yc=(e,t,n)=>{const s=e._ctx;for(const o in e){if(mc(o))continue;const r=e[o];if(le(r))t[o]=xh(o,r,s);else if(r!=null){const i=Ci(r);t[o]=()=>i}}},gc=(e,t)=>{const n=Ci(t);e.slots.default=()=>n},Ch=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=be(t),ho(t,"_",n)):yc(t,e.slots={})}else e.slots={},t&&gc(e,t);ho(e.slots,Io,1)},kh=(e,t,n)=>{const{vnode:s,slots:o}=e;let r=!0,i=Ie;if(s.shapeFlag&32){const l=t._;l?n&&l===1?r=!1:(tt(o,t),!n&&l===1&&delete o._):(r=!t.$stable,yc(t,o)),i=t}else t&&(gc(e,t),i={default:1});if(r)for(const l in o)!mc(l)&&i[l]==null&&delete o[l]};function Ar(e,t,n,s,o=!1){if(te(e)){e.forEach((f,g)=>Ar(f,t&&(te(t)?t[g]:t),n,s,o));return}if(ms(s)&&!o)return;const r=s.shapeFlag&4?qo(s.component)||s.component.proxy:s.el,i=o?null:r,{i:l,r:c}=e,d=t&&t.r,u=l.refs===Ie?l.refs={}:l.refs,h=l.setupState;if(d!=null&&d!==c&&(Fe(d)?(u[d]=null,_e(h,d)&&(h[d]=null)):Qe(d)&&(d.value=null)),le(c))gn(c,l,12,[i,u]);else{const f=Fe(c),g=Qe(c);if(f||g){const w=()=>{if(e.f){const x=f?_e(h,c)?h[c]:u[c]:c.value;o?te(x)&&ui(x,r):te(x)?x.includes(r)||x.push(r):f?(u[c]=[r],_e(h,c)&&(h[c]=u[c])):(c.value=[r],e.k&&(u[e.k]=c.value))}else f?(u[c]=i,_e(h,c)&&(h[c]=i)):g&&(c.value=i,e.k&&(u[e.k]=i))};i?(w.id=-1,ct(w,n)):w()}}}const ct=Yd;function Eh(e){return Sh(e)}function Sh(e,t){const n=Al();n.__VUE__=!0;const{insert:s,remove:o,patchProp:r,createElement:i,createText:l,createComment:c,setText:d,setElementText:u,parentNode:h,nextSibling:f,setScopeId:g=_t,insertStaticContent:w}=e,x=(m,_,S,E=null,p=null,y=null,C=void 0,A=null,P=!!_.dynamicChildren)=>{if(m===_)return;m&&!ls(m,_)&&(E=R(m),je(m,p,y,!0),m=null),_.patchFlag===-2&&(P=!1,_.dynamicChildren=null);const{type:v,ref:T,shapeFlag:G}=_;switch(v){case Po:$(m,_,S,E);break;case _n:q(m,_,S,E);break;case nr:m==null&&H(_,S,E,C);break;case Y:We(m,_,S,E,p,y,C,A,P);break;default:G&1?de(m,_,S,E,p,y,C,A,P):G&6?Ye(m,_,S,E,p,y,C,A,P):(G&64||G&128)&&v.process(m,_,S,E,p,y,C,A,P,V)}T!=null&&p&&Ar(T,m&&m.ref,y,_||m,!_)},$=(m,_,S,E)=>{if(m==null)s(_.el=l(_.children),S,E);else{const p=_.el=m.el;_.children!==m.children&&d(p,_.children)}},q=(m,_,S,E)=>{m==null?s(_.el=c(_.children||""),S,E):_.el=m.el},H=(m,_,S,E)=>{[m.el,m.anchor]=w(m.children,_,S,E,m.el,m.anchor)},Q=({el:m,anchor:_},S,E)=>{let p;for(;m&&m!==_;)p=f(m),s(m,S,E),m=p;s(_,S,E)},X=({el:m,anchor:_})=>{let S;for(;m&&m!==_;)S=f(m),o(m),m=S;o(_)},de=(m,_,S,E,p,y,C,A,P)=>{_.type==="svg"?C="svg":_.type==="math"&&(C="mathml"),m==null?K(_,S,E,p,y,C,A,P):ae(m,_,p,y,C,A,P)},K=(m,_,S,E,p,y,C,A)=>{let P,v;const{props:T,shapeFlag:G,transition:z,dirs:oe}=m;if(P=m.el=i(m.type,y,T&&T.is,T),G&8?u(P,m.children):G&16&&re(m.children,P,null,E,p,tr(m,y),C,A),oe&&Cn(m,null,E,"created"),Ee(P,m,m.scopeId,C,E),T){for(const Ae in T)Ae!=="value"&&!ps(Ae)&&r(P,Ae,null,T[Ae],y,m.children,E,p,Ue);"value"in T&&r(P,"value",null,T.value,y),(v=T.onVnodeBeforeMount)&&Nt(v,E,m)}oe&&Cn(m,null,E,"beforeMount");const fe=Th(p,z);fe&&z.beforeEnter(P),s(P,_,S),((v=T&&T.onVnodeMounted)||fe||oe)&&ct(()=>{v&&Nt(v,E,m),fe&&z.enter(P),oe&&Cn(m,null,E,"mounted")},p)},Ee=(m,_,S,E,p)=>{if(S&&g(m,S),E)for(let y=0;y<E.length;y++)g(m,E[y]);if(p){let y=p.subTree;if(_===y){const C=p.vnode;Ee(m,C,C.scopeId,C.slotScopeIds,p.parent)}}},re=(m,_,S,E,p,y,C,A,P=0)=>{for(let v=P;v<m.length;v++){const T=m[v]=A?hn(m[v]):qt(m[v]);x(null,T,_,S,E,p,y,C,A)}},ae=(m,_,S,E,p,y,C)=>{const A=_.el=m.el;let{patchFlag:P,dynamicChildren:v,dirs:T}=_;P|=m.patchFlag&16;const G=m.props||Ie,z=_.props||Ie;let oe;if(S&&kn(S,!1),(oe=z.onVnodeBeforeUpdate)&&Nt(oe,S,_,m),T&&Cn(_,m,S,"beforeUpdate"),S&&kn(S,!0),v?ke(m.dynamicChildren,v,A,S,E,tr(_,p),y):C||ye(m,_,A,null,S,E,tr(_,p),y,!1),P>0){if(P&16)Le(A,_,G,z,S,E,p);else if(P&2&&G.class!==z.class&&r(A,"class",null,z.class,p),P&4&&r(A,"style",G.style,z.style,p),P&8){const fe=_.dynamicProps;for(let Ae=0;Ae<fe.length;Ae++){const Ne=fe[Ae],Ge=G[Ne],Ct=z[Ne];(Ct!==Ge||Ne==="value")&&r(A,Ne,Ge,Ct,p,m.children,S,E,Ue)}}P&1&&m.children!==_.children&&u(A,_.children)}else!C&&v==null&&Le(A,_,G,z,S,E,p);((oe=z.onVnodeUpdated)||T)&&ct(()=>{oe&&Nt(oe,S,_,m),T&&Cn(_,m,S,"updated")},E)},ke=(m,_,S,E,p,y,C)=>{for(let A=0;A<_.length;A++){const P=m[A],v=_[A],T=P.el&&(P.type===Y||!ls(P,v)||P.shapeFlag&70)?h(P.el):S;x(P,v,T,null,E,p,y,C,!0)}},Le=(m,_,S,E,p,y,C)=>{if(S!==E){if(S!==Ie)for(const A in S)!ps(A)&&!(A in E)&&r(m,A,S[A],null,C,_.children,p,y,Ue);for(const A in E){if(ps(A))continue;const P=E[A],v=S[A];P!==v&&A!=="value"&&r(m,A,v,P,C,_.children,p,y,Ue)}"value"in E&&r(m,"value",S.value,E.value,C)}},We=(m,_,S,E,p,y,C,A,P)=>{const v=_.el=m?m.el:l(""),T=_.anchor=m?m.anchor:l("");let{patchFlag:G,dynamicChildren:z,slotScopeIds:oe}=_;oe&&(A=A?A.concat(oe):oe),m==null?(s(v,S,E),s(T,S,E),re(_.children||[],S,T,p,y,C,A,P)):G>0&&G&64&&z&&m.dynamicChildren?(ke(m.dynamicChildren,z,S,p,y,C,A),(_.key!=null||p&&_===p.subTree)&&vc(m,_,!0)):ye(m,_,S,T,p,y,C,A,P)},Ye=(m,_,S,E,p,y,C,A,P)=>{_.slotScopeIds=A,m==null?_.shapeFlag&512?p.ctx.activate(_,S,E,C,P):yt(_,S,E,p,y,C,P):Je(m,_,P)},yt=(m,_,S,E,p,y,C)=>{const A=m.component=qh(m,E,p);if(lc(m)&&(A.ctx.renderer=V),Lh(A),A.asyncDep){if(p&&p.registerDep(A,ce),!m.el){const P=A.subTree=I(_n);q(null,P,_,S)}}else ce(A,m,_,S,p,y,C)},Je=(m,_,S)=>{const E=_.component=m.component;if(Wd(m,_,S))if(E.asyncDep&&!E.asyncResolved){me(E,_,S);return}else E.next=_,Md(E.update),E.effect.dirty=!0,E.update();else _.el=m.el,E.vnode=_},ce=(m,_,S,E,p,y,C)=>{const A=()=>{if(m.isMounted){let{next:T,bu:G,u:z,parent:oe,vnode:fe}=m;{const Dn=_c(m);if(Dn){T&&(T.el=fe.el,me(m,T,C)),Dn.asyncDep.then(()=>{m.isUnmounted||A()});return}}let Ae=T,Ne;kn(m,!1),T?(T.el=fe.el,me(m,T,C)):T=fe,G&&Zs(G),(Ne=T.props&&T.props.onVnodeBeforeUpdate)&&Nt(Ne,oe,T,fe),kn(m,!0);const Ge=Zo(m),Ct=m.subTree;m.subTree=Ge,x(Ct,Ge,h(Ct.el),R(Ct),m,p,y),T.el=Ge.el,Ae===null&&Gd(m,Ge.el),z&&ct(z,p),(Ne=T.props&&T.props.onVnodeUpdated)&&ct(()=>Nt(Ne,oe,T,fe),p)}else{let T;const{el:G,props:z}=_,{bm:oe,m:fe,parent:Ae}=m,Ne=ms(_);if(kn(m,!1),oe&&Zs(oe),!Ne&&(T=z&&z.onVnodeBeforeMount)&&Nt(T,Ae,_),kn(m,!0),G&&Te){const Ge=()=>{m.subTree=Zo(m),Te(G,m.subTree,m,p,null)};Ne?_.type.__asyncLoader().then(()=>!m.isUnmounted&&Ge()):Ge()}else{const Ge=m.subTree=Zo(m);x(null,Ge,S,E,m,p,y),_.el=Ge.el}if(fe&&ct(fe,p),!Ne&&(T=z&&z.onVnodeMounted)){const Ge=_;ct(()=>Nt(T,Ae,Ge),p)}(_.shapeFlag&256||Ae&&ms(Ae.vnode)&&Ae.vnode.shapeFlag&256)&&m.a&&ct(m.a,p),m.isMounted=!0,_=S=E=null}},P=m.effect=new hi(A,_t,()=>wi(v),m.scope),v=m.update=()=>{P.dirty&&P.run()};v.id=m.uid,kn(m,!0),v()},me=(m,_,S)=>{_.component=m;const E=m.vnode.props;m.vnode=_,m.next=null,wh(m,_.props,E,S),kh(m,_.children,S),Nn(),na(m),qn()},ye=(m,_,S,E,p,y,C,A,P=!1)=>{const v=m&&m.children,T=m?m.shapeFlag:0,G=_.children,{patchFlag:z,shapeFlag:oe}=_;if(z>0){if(z&128){dt(v,G,S,E,p,y,C,A,P);return}else if(z&256){lt(v,G,S,E,p,y,C,A,P);return}}oe&8?(T&16&&Ue(v,p,y),G!==v&&u(S,G)):T&16?oe&16?dt(v,G,S,E,p,y,C,A,P):Ue(v,p,y,!0):(T&8&&u(S,""),oe&16&&re(G,S,E,p,y,C,A,P))},lt=(m,_,S,E,p,y,C,A,P)=>{m=m||Qn,_=_||Qn;const v=m.length,T=_.length,G=Math.min(v,T);let z;for(z=0;z<G;z++){const oe=_[z]=P?hn(_[z]):qt(_[z]);x(m[z],oe,S,null,p,y,C,A,P)}v>T?Ue(m,p,y,!0,!1,G):re(_,S,E,p,y,C,A,P,G)},dt=(m,_,S,E,p,y,C,A,P)=>{let v=0;const T=_.length;let G=m.length-1,z=T-1;for(;v<=G&&v<=z;){const oe=m[v],fe=_[v]=P?hn(_[v]):qt(_[v]);if(ls(oe,fe))x(oe,fe,S,null,p,y,C,A,P);else break;v++}for(;v<=G&&v<=z;){const oe=m[G],fe=_[z]=P?hn(_[z]):qt(_[z]);if(ls(oe,fe))x(oe,fe,S,null,p,y,C,A,P);else break;G--,z--}if(v>G){if(v<=z){const oe=z+1,fe=oe<T?_[oe].el:E;for(;v<=z;)x(null,_[v]=P?hn(_[v]):qt(_[v]),S,fe,p,y,C,A,P),v++}}else if(v>z)for(;v<=G;)je(m[v],p,y,!0),v++;else{const oe=v,fe=v,Ae=new Map;for(v=fe;v<=z;v++){const ft=_[v]=P?hn(_[v]):qt(_[v]);ft.key!=null&&Ae.set(ft.key,v)}let Ne,Ge=0;const Ct=z-fe+1;let Dn=!1,Vi=0;const as=new Array(Ct);for(v=0;v<Ct;v++)as[v]=0;for(v=oe;v<=G;v++){const ft=m[v];if(Ge>=Ct){je(ft,p,y,!0);continue}let It;if(ft.key!=null)It=Ae.get(ft.key);else for(Ne=fe;Ne<=z;Ne++)if(as[Ne-fe]===0&&ls(ft,_[Ne])){It=Ne;break}It===void 0?je(ft,p,y,!0):(as[It-fe]=v+1,It>=Vi?Vi=It:Dn=!0,x(ft,_[It],S,null,p,y,C,A,P),Ge++)}const Wi=Dn?Ah(as):Qn;for(Ne=Wi.length-1,v=Ct-1;v>=0;v--){const ft=fe+v,It=_[ft],Gi=ft+1<T?_[ft+1].el:E;as[v]===0?x(null,It,S,Gi,p,y,C,A,P):Dn&&(Ne<0||v!==Wi[Ne]?rt(It,S,Gi,2):Ne--)}}},rt=(m,_,S,E,p=null)=>{const{el:y,type:C,transition:A,children:P,shapeFlag:v}=m;if(v&6){rt(m.component.subTree,_,S,E);return}if(v&128){m.suspense.move(_,S,E);return}if(v&64){C.move(m,_,S,V);return}if(C===Y){s(y,_,S);for(let G=0;G<P.length;G++)rt(P[G],_,S,E);s(m.anchor,_,S);return}if(C===nr){Q(m,_,S);return}if(E!==2&&v&1&&A)if(E===0)A.beforeEnter(y),s(y,_,S),ct(()=>A.enter(y),p);else{const{leave:G,delayLeave:z,afterLeave:oe}=A,fe=()=>s(y,_,S),Ae=()=>{G(y,()=>{fe(),oe&&oe()})};z?z(y,fe,Ae):Ae()}else s(y,_,S)},je=(m,_,S,E=!1,p=!1)=>{const{type:y,props:C,ref:A,children:P,dynamicChildren:v,shapeFlag:T,patchFlag:G,dirs:z}=m;if(A!=null&&Ar(A,null,S,m,!0),T&256){_.ctx.deactivate(m);return}const oe=T&1&&z,fe=!ms(m);let Ae;if(fe&&(Ae=C&&C.onVnodeBeforeUnmount)&&Nt(Ae,_,m),T&6)Gt(m.component,S,E);else{if(T&128){m.suspense.unmount(S,E);return}oe&&Cn(m,null,_,"beforeUnmount"),T&64?m.type.remove(m,_,S,p,V,E):v&&(y!==Y||G>0&&G&64)?Ue(v,_,S,!1,!0):(y===Y&&G&384||!p&&T&16)&&Ue(P,_,S),E&&ht(m)}(fe&&(Ae=C&&C.onVnodeUnmounted)||oe)&&ct(()=>{Ae&&Nt(Ae,_,m),oe&&Cn(m,null,_,"unmounted")},S)},ht=m=>{const{type:_,el:S,anchor:E,transition:p}=m;if(_===Y){xt(S,E);return}if(_===nr){X(m);return}const y=()=>{o(S),p&&!p.persisted&&p.afterLeave&&p.afterLeave()};if(m.shapeFlag&1&&p&&!p.persisted){const{leave:C,delayLeave:A}=p,P=()=>C(S,y);A?A(m.el,y,P):P()}else y()},xt=(m,_)=>{let S;for(;m!==_;)S=f(m),o(m),m=S;o(_)},Gt=(m,_,S)=>{const{bum:E,scope:p,update:y,subTree:C,um:A}=m;E&&Zs(E),p.stop(),y&&(y.active=!1,je(C,m,_,S)),A&&ct(A,_),ct(()=>{m.isUnmounted=!0},_),_&&_.pendingBranch&&!_.isUnmounted&&m.asyncDep&&!m.asyncResolved&&m.suspenseId===_.pendingId&&(_.deps--,_.deps===0&&_.resolve())},Ue=(m,_,S,E=!1,p=!1,y=0)=>{for(let C=y;C<m.length;C++)je(m[C],_,S,E,p)},R=m=>m.shapeFlag&6?R(m.component.subTree):m.shapeFlag&128?m.suspense.next():f(m.anchor||m.el);let j=!1;const B=(m,_,S)=>{m==null?_._vnode&&je(_._vnode,null,null,!0):x(_._vnode||null,m,_,null,null,null,S),j||(j=!0,na(),ec(),j=!1),_._vnode=m},V={p:x,um:je,m:rt,r:ht,mt:yt,mc:re,pc:ye,pbc:ke,n:R,o:e};let he,Te;return{render:B,hydrate:he,createApp:vh(B,he)}}function tr({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function kn({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function Th(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function vc(e,t,n=!1){const s=e.children,o=t.children;if(te(s)&&te(o))for(let r=0;r<s.length;r++){const i=s[r];let l=o[r];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=o[r]=hn(o[r]),l.el=i.el),n||vc(i,l)),l.type===Po&&(l.el=i.el)}}function Ah(e){const t=e.slice(),n=[0];let s,o,r,i,l;const c=e.length;for(s=0;s<c;s++){const d=e[s];if(d!==0){if(o=n[n.length-1],e[o]<d){t[s]=o,n.push(s);continue}for(r=0,i=n.length-1;r<i;)l=r+i>>1,e[n[l]]<d?r=l+1:i=l;d<e[n[r]]&&(r>0&&(t[s]=n[r-1]),n[r]=s)}}for(r=n.length,i=n[r-1];r-- >0;)n[r]=i,i=t[i];return n}function _c(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:_c(t)}const $h=e=>e.__isTeleport,Y=Symbol.for("v-fgt"),Po=Symbol.for("v-txt"),_n=Symbol.for("v-cmt"),nr=Symbol.for("v-stc"),gs=[];let Tt=null;function b(e=!1){gs.push(Tt=e?null:[])}function Rh(){gs.pop(),Tt=gs[gs.length-1]||null}let Ss=1;function fa(e){Ss+=e}function bc(e){return e.dynamicChildren=Ss>0?Tt||Qn:null,Rh(),Ss>0&&Tt&&Tt.push(e),e}function k(e,t,n,s,o,r){return bc(a(e,t,n,s,o,r,!0))}function ie(e,t,n,s,o){return bc(I(e,t,n,s,o,!0))}function go(e){return e?e.__v_isVNode===!0:!1}function ls(e,t){return e.type===t.type&&e.key===t.key}const Io="__vInternal",wc=({key:e})=>e??null,no=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Fe(e)||Qe(e)||le(e)?{i:He,r:e,k:t,f:!!n}:e:null);function a(e,t=null,n=null,s=0,o=null,r=e===Y?0:1,i=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&wc(t),ref:t&&no(t),scopeId:Ro,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:He};return l?(ki(c,n),r&128&&e.normalize(c)):n&&(c.shapeFlag|=Fe(n)?8:16),Ss>0&&!i&&Tt&&(c.patchFlag>0||r&6)&&c.patchFlag!==32&&Tt.push(c),c}const I=Oh;function Oh(e,t=null,n=null,s=0,o=null,r=!1){if((!e||e===oc)&&(e=_n),go(e)){const l=Yn(e,t,!0);return n&&ki(l,n),Ss>0&&!r&&Tt&&(l.shapeFlag&6?Tt[Tt.indexOf(e)]=l:Tt.push(l)),l.patchFlag|=-2,l}if(Fh(e)&&(e=e.__vccOpts),t){t=Ph(t);let{class:l,style:c}=t;l&&!Fe(l)&&(t.class=J(l)),qe(c)&&(Gl(c)&&!te(c)&&(c=tt({},c)),t.style=Vt(c))}const i=Fe(e)?1:Kd(e)?128:$h(e)?64:qe(e)?4:le(e)?2:0;return a(e,t,n,s,o,i,r,!0)}function Ph(e){return e?Gl(e)||Io in e?tt({},e):e:null}function Yn(e,t,n=!1){const{props:s,ref:o,patchFlag:r,children:i}=e,l=t?xc(s||{},t):s;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&wc(l),ref:t&&t.ref?n&&o?te(o)?o.concat(no(t)):[o,no(t)]:no(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:i,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Y?r===-1?16:r|16:r,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Yn(e.ssContent),ssFallback:e.ssFallback&&Yn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function Z(e=" ",t=0){return I(Po,null,e,t)}function M(e="",t=!1){return t?(b(),ie(_n,null,e)):I(_n,null,e)}function qt(e){return e==null||typeof e=="boolean"?I(_n):te(e)?I(Y,null,e.slice()):typeof e=="object"?hn(e):I(Po,null,String(e))}function hn(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Yn(e)}function ki(e,t){let n=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(te(t))n=16;else if(typeof t=="object")if(s&65){const o=t.default;o&&(o._c&&(o._d=!1),ki(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!(Io in t)?t._ctx=He:o===3&&He&&(He.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else le(t)?(t={default:t,_ctx:He},n=32):(t=String(t),s&64?(n=16,t=[Z(t)]):n=8);e.children=t,e.shapeFlag|=n}function xc(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const o in s)if(o==="class")t.class!==s.class&&(t.class=J([t.class,s.class]));else if(o==="style")t.style=Vt([t.style,s.style]);else if(xo(o)){const r=t[o],i=s[o];i&&r!==i&&!(te(r)&&r.includes(i))&&(t[o]=r?[].concat(r,i):i)}else o!==""&&(t[o]=s[o])}return t}function Nt(e,t,n,s=null){At(e,t,7,[n,s])}const Ih=hc();let Nh=0;function qh(e,t,n){const s=e.type,o=(t?t.appContext:e.appContext)||Ih,r={uid:Nh++,vnode:e,type:s,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new Ol(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:pc(s,o),emitsOptions:nc(s,o),emit:null,emitted:null,propsDefaults:Ie,inheritAttrs:s.inheritAttrs,ctx:Ie,data:Ie,props:Ie,attrs:Ie,slots:Ie,refs:Ie,setupState:Ie,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=Hd.bind(null,r),e.ce&&e.ce(r),r}let Ze=null,vo,$r;{const e=Al(),t=(n,s)=>{let o;return(o=e[n])||(o=e[n]=[]),o.push(s),r=>{o.length>1?o.forEach(i=>i(r)):o[0](r)}};vo=t("__VUE_INSTANCE_SETTERS__",n=>Ze=n),$r=t("__VUE_SSR_SETTERS__",n=>No=n)}const Is=e=>{const t=Ze;return vo(e),e.scope.on(),()=>{e.scope.off(),vo(t)}},pa=()=>{Ze&&Ze.scope.off(),vo(null)};function Cc(e){return e.vnode.shapeFlag&4}let No=!1;function Lh(e,t=!1){t&&$r(t);const{props:n,children:s}=e.vnode,o=Cc(e);bh(e,n,o,t),Ch(e,s);const r=o?Dh(e,t):void 0;return t&&$r(!1),r}function Dh(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=To(new Proxy(e.ctx,dh));const{setup:s}=n;if(s){const o=e.setupContext=s.length>1?Bh(e):null,r=Is(e);Nn();const i=gn(s,e,0,[e.props,o]);if(qn(),r(),El(i)){if(i.then(pa,pa),t)return i.then(l=>{ma(e,l,t)}).catch(l=>{Ao(l,e,0)});e.asyncDep=i}else ma(e,i,t)}else kc(e,t)}function ma(e,t,n){le(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:qe(t)&&(e.setupState=Jl(t)),kc(e,n)}let ya;function kc(e,t,n){const s=e.type;if(!e.render){if(!t&&ya&&!s.render){const o=s.template||xi(e).template;if(o){const{isCustomElement:r,compilerOptions:i}=e.appContext.config,{delimiters:l,compilerOptions:c}=s,d=tt(tt({isCustomElement:r,delimiters:l},i),c);s.render=ya(o,d)}}e.render=s.render||_t}{const o=Is(e);Nn();try{hh(e)}finally{qn(),o()}}}function Uh(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return ut(e,"get","$attrs"),t[n]}}))}function Bh(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return Uh(e)},slots:e.slots,emit:e.emit,expose:t}}function qo(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Jl(To(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in ys)return ys[n](e)},has(t,n){return n in t||n in ys}}))}function Mh(e,t=!0){return le(e)?e.displayName||e.name:e.name||t&&e.__name}function Fh(e){return le(e)&&"__vccOpts"in e}const W=(e,t)=>Pd(e,t,No);function Ec(e,t,n){const s=arguments.length;return s===2?qe(t)&&!te(t)?go(t)?I(e,null,[t]):I(e,t):I(e,null,t):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&go(n)&&(n=[n]),I(e,t,n))}const jh="3.4.21";/**
* @vue/runtime-dom v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Hh="http://www.w3.org/2000/svg",Qh="http://www.w3.org/1998/Math/MathML",fn=typeof document<"u"?document:null,ga=fn&&fn.createElement("template"),Vh={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{const o=t==="svg"?fn.createElementNS(Hh,e):t==="mathml"?fn.createElementNS(Qh,e):fn.createElement(e,n?{is:n}:void 0);return e==="select"&&s&&s.multiple!=null&&o.setAttribute("multiple",s.multiple),o},createText:e=>fn.createTextNode(e),createComment:e=>fn.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>fn.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,s,o,r){const i=n?n.previousSibling:t.lastChild;if(o&&(o===r||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),!(o===r||!(o=o.nextSibling)););else{ga.innerHTML=s==="svg"?`<svg>${e}</svg>`:s==="mathml"?`<math>${e}</math>`:e;const l=ga.content;if(s==="svg"||s==="mathml"){const c=l.firstChild;for(;c.firstChild;)l.appendChild(c.firstChild);l.removeChild(c)}t.insertBefore(l,n)}return[i?i.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Wh=Symbol("_vtc");function Gh(e,t,n){const s=e[Wh];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const va=Symbol("_vod"),zh=Symbol("_vsh"),Kh=Symbol(""),Yh=/(^|;)\s*display\s*:/;function Jh(e,t,n){const s=e.style,o=Fe(n);let r=!1;if(n&&!o){if(t)if(Fe(t))for(const i of t.split(";")){const l=i.slice(0,i.indexOf(":")).trim();n[l]==null&&so(s,l,"")}else for(const i in t)n[i]==null&&so(s,i,"");for(const i in n)i==="display"&&(r=!0),so(s,i,n[i])}else if(o){if(t!==n){const i=s[Kh];i&&(n+=";"+i),s.cssText=n,r=Yh.test(n)}}else t&&e.removeAttribute("style");va in e&&(e[va]=r?s.display:"",e[zh]&&(s.display="none"))}const _a=/\s*!important$/;function so(e,t,n){if(te(n))n.forEach(s=>so(e,t,s));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const s=Xh(e,t);_a.test(n)?e.setProperty(In(s),n.replace(_a,""),"important"):e[s]=n}}const ba=["Webkit","Moz","ms"],sr={};function Xh(e,t){const n=sr[t];if(n)return n;let s=jt(t);if(s!=="filter"&&s in e)return sr[t]=s;s=Eo(s);for(let o=0;o<ba.length;o++){const r=ba[o]+s;if(r in e)return sr[t]=r}return t}const wa="http://www.w3.org/1999/xlink";function Zh(e,t,n,s,o){if(s&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(wa,t.slice(6,t.length)):e.setAttributeNS(wa,t,n);else{const r=cd(t);n==null||r&&!$l(n)?e.removeAttribute(t):e.setAttribute(t,r?"":n)}}function ef(e,t,n,s,o,r,i){if(t==="innerHTML"||t==="textContent"){s&&i(s,o,r),e[t]=n??"";return}const l=e.tagName;if(t==="value"&&l!=="PROGRESS"&&!l.includes("-")){const d=l==="OPTION"?e.getAttribute("value")||"":e.value,u=n??"";(d!==u||!("_value"in e))&&(e.value=u),n==null&&e.removeAttribute(t),e._value=n;return}let c=!1;if(n===""||n==null){const d=typeof e[t];d==="boolean"?n=$l(n):n==null&&d==="string"?(n="",c=!0):d==="number"&&(n=0,c=!0)}try{e[t]=n}catch{}c&&e.removeAttribute(t)}function Bn(e,t,n,s){e.addEventListener(t,n,s)}function tf(e,t,n,s){e.removeEventListener(t,n,s)}const xa=Symbol("_vei");function nf(e,t,n,s,o=null){const r=e[xa]||(e[xa]={}),i=r[t];if(s&&i)i.value=s;else{const[l,c]=sf(t);if(s){const d=r[t]=af(s,o);Bn(e,l,d,c)}else i&&(tf(e,l,i,c),r[t]=void 0)}}const Ca=/(?:Once|Passive|Capture)$/;function sf(e){let t;if(Ca.test(e)){t={};let s;for(;s=e.match(Ca);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):In(e.slice(2)),t]}let or=0;const of=Promise.resolve(),rf=()=>or||(of.then(()=>or=0),or=Date.now());function af(e,t){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;At(lf(s,n.value),t,5,[s])};return n.value=e,n.attached=rf(),n}function lf(e,t){if(te(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(s=>o=>!o._stopped&&s&&s(o))}else return t}const ka=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,cf=(e,t,n,s,o,r,i,l,c)=>{const d=o==="svg";t==="class"?Gh(e,s,d):t==="style"?Jh(e,n,s):xo(t)?ci(t)||nf(e,t,n,s,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):uf(e,t,s,d))?ef(e,t,s,r,i,l,c):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),Zh(e,t,s,d))};function uf(e,t,n,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in e&&ka(t)&&le(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const o=e.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return ka(t)&&Fe(n)?!1:t in e}const Ea=e=>{const t=e.props["onUpdate:modelValue"]||!1;return te(t)?n=>Zs(t,n):t};function df(e){e.target.composing=!0}function Sa(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const rr=Symbol("_assign"),Oe={created(e,{modifiers:{lazy:t,trim:n,number:s}},o){e[rr]=Ea(o);const r=s||o.props&&o.props.type==="number";Bn(e,t?"change":"input",i=>{if(i.target.composing)return;let l=e.value;n&&(l=l.trim()),r&&(l=vr(l)),e[rr](l)}),n&&Bn(e,"change",()=>{e.value=e.value.trim()}),t||(Bn(e,"compositionstart",df),Bn(e,"compositionend",Sa),Bn(e,"change",Sa))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:s,number:o}},r){if(e[rr]=Ea(r),e.composing)return;const i=o||e.type==="number"?vr(e.value):e.value,l=t??"";i!==l&&(document.activeElement===e&&e.type!=="range"&&(n||s&&e.value.trim()===l)||(e.value=l))}},hf={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Ns=(e,t)=>{const n=e._withKeys||(e._withKeys={}),s=t.join(".");return n[s]||(n[s]=o=>{if(!("key"in o))return;const r=In(o.key);if(t.some(i=>i===r||hf[i]===r))return e(o)})},ff=tt({patchProp:cf},Vh);let Ta;function pf(){return Ta||(Ta=Eh(ff))}const mf=(...e)=>{const t=pf().createApp(...e),{mount:n}=t;return t.mount=s=>{const o=gf(s);if(!o)return;const r=t._component;!le(r)&&!r.render&&!r.template&&(r.template=o.innerHTML),o.innerHTML="";const i=n(o,!1,yf(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),i},t};function yf(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function gf(e){return Fe(e)?document.querySelector(e):e}var vf=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let Sc;const Lo=e=>Sc=e,Tc=Symbol();function Rr(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var vs;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(vs||(vs={}));function _f(){const e=Pl(!0),t=e.run(()=>L({}));let n=[],s=[];const o=To({install(r){Lo(o),o._a=r,r.provide(Tc,o),r.config.globalProperties.$pinia=o,s.forEach(i=>n.push(i)),s=[]},use(r){return!this._a&&!vf?s.push(r):n.push(r),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return o}const Ac=()=>{};function Aa(e,t,n,s=Ac){e.push(t);const o=()=>{const r=e.indexOf(t);r>-1&&(e.splice(r,1),s())};return!n&&Il()&&dd(o),o}function Un(e,...t){e.slice().forEach(n=>{n(...t)})}const bf=e=>e();function Or(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,s)=>e.set(s,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const s=t[n],o=e[n];Rr(o)&&Rr(s)&&e.hasOwnProperty(n)&&!Qe(s)&&!yn(s)?e[n]=Or(o,s):e[n]=s}return e}const wf=Symbol();function xf(e){return!Rr(e)||!e.hasOwnProperty(wf)}const{assign:un}=Object;function Cf(e){return!!(Qe(e)&&e.effect)}function kf(e,t,n,s){const{state:o,actions:r,getters:i}=t,l=n.state.value[e];let c;function d(){l||(n.state.value[e]=o?o():{});const u=qd(n.state.value[e]);return un(u,r,Object.keys(i||{}).reduce((h,f)=>(h[f]=To(W(()=>{Lo(n);const g=n._s.get(e);return i[f].call(g,g)})),h),{}))}return c=$c(e,d,t,n,s,!0),c}function $c(e,t,n={},s,o,r){let i;const l=un({actions:{}},n),c={deep:!0};let d,u,h=[],f=[],g;const w=s.state.value[e];!r&&!w&&(s.state.value[e]={}),L({});let x;function $(re){let ae;d=u=!1,typeof re=="function"?(re(s.state.value[e]),ae={type:vs.patchFunction,storeId:e,events:g}):(Or(s.state.value[e],re),ae={type:vs.patchObject,payload:re,storeId:e,events:g});const ke=x=Symbol();bi().then(()=>{x===ke&&(d=!0)}),u=!0,Un(h,ae,s.state.value[e])}const q=r?function(){const{state:ae}=n,ke=ae?ae():{};this.$patch(Le=>{un(Le,ke)})}:Ac;function H(){i.stop(),h=[],f=[],s._s.delete(e)}function Q(re,ae){return function(){Lo(s);const ke=Array.from(arguments),Le=[],We=[];function Ye(ce){Le.push(ce)}function yt(ce){We.push(ce)}Un(f,{args:ke,name:re,store:de,after:Ye,onError:yt});let Je;try{Je=ae.apply(this&&this.$id===e?this:de,ke)}catch(ce){throw Un(We,ce),ce}return Je instanceof Promise?Je.then(ce=>(Un(Le,ce),ce)).catch(ce=>(Un(We,ce),Promise.reject(ce))):(Un(Le,Je),Je)}}const X={_p:s,$id:e,$onAction:Aa.bind(null,f),$patch:$,$reset:q,$subscribe(re,ae={}){const ke=Aa(h,re,ae.detached,()=>Le()),Le=i.run(()=>Mt(()=>s.state.value[e],We=>{(ae.flush==="sync"?u:d)&&re({storeId:e,type:vs.direct,events:g},We)},un({},c,ae)));return ke},$dispose:H},de=Os(X);s._s.set(e,de);const Ee=(s._a&&s._a.runWithContext||bf)(()=>s._e.run(()=>(i=Pl()).run(t)));for(const re in Ee){const ae=Ee[re];if(Qe(ae)&&!Cf(ae)||yn(ae))r||(w&&xf(ae)&&(Qe(ae)?ae.value=w[re]:Or(ae,w[re])),s.state.value[e][re]=ae);else if(typeof ae=="function"){const ke=Q(re,ae);Ee[re]=ke,l.actions[re]=ae}}return un(de,Ee),un(be(de),Ee),Object.defineProperty(de,"$state",{get:()=>s.state.value[e],set:re=>{$(ae=>{un(ae,re)})}}),s._p.forEach(re=>{un(de,i.run(()=>re({store:de,app:s._a,pinia:s,options:l})))}),w&&r&&n.hydrate&&n.hydrate(de.$state,w),d=!0,u=!0,de}function Do(e,t,n){let s,o;const r=typeof t=="function";typeof e=="string"?(s=e,o=r?n:t):(o=e,s=e.id);function i(l,c){const d=_h();return l=l||(d?$t(Tc,null):null),l&&Lo(l),l=Sc,l._s.has(s)||(r?$c(s,t,o,l):kf(s,o,l)),l._s.get(s)}return i.$id=s,i}const Ef="bitd-vtt-client",Sf="1.0.80",Tf="module",Af={dev:"vite",colors:"node ./scripts/common-colors.mjs",build:"npm run colors && vue-tsc && vite build && node scripts/copy-index-as-404.mjs",preview:"vite preview",deploy:"node ./scripts/increment-version.mjs && npm run build && gh-pages -d dist"},$f={"@types/fast-json-patch":"^1.1.5","@types/socket.io-client":"^3.0.0","@types/string-hash":"^1.1.3","@types/uuid":"^9.0.8","@types/ws":"^8.5.10",axios:"^1.6.8",chalk:"^5.3.0","fast-json-patch":"^3.1.1","gh-pages":"^6.1.1","node-vibrant":"^3.2.1-alpha.1",pinia:"^2.1.7",rxjs:"^7.8.1","socket.io-client":"^4.7.5","string-hash":"^1.1.3",uuid:"^9.0.1",vue:"^3.4.19","vue-router":"^4.3.2",ws:"^8.17.0"},Rf={"@types/node":"^20.12.8","@vitejs/plugin-vue":"^5.0.4",sass:"^1.74.1",typescript:"^5.2.2",vite:"^5.1.4","vue-tsc":"^1.8.27"},Of={name:Ef,private:!0,version:Sf,type:Tf,scripts:Af,dependencies:$f,devDependencies:Rf},Rc=e=>(we("data-v-e5afb3c7"),e=e(),xe(),e),Pf=Rc(()=>a("span",{class:"online"},"online",-1)),If=Rc(()=>a("span",{class:"in-the-dark"},"in the Dark",-1)),Nf=[Pf,If],qf=ee({__name:"Logo",props:{big:{type:Boolean}},setup(e){const t=e;return(n,s)=>(b(),k("div",{class:J(["logo",{big:t.big}])},Nf,2))}}),se=(e,t)=>{const n=e.__vccOpts||e;for(const[s,o]of t)n[s]=o;return n},Oc=se(qf,[["__scopeId","data-v-e5afb3c7"]]),Lf=e=>(we("data-v-63440d07"),e=e(),xe(),e),Df={class:"loading"},Uf=Lf(()=>a("i",{class:"fas fa-circle-notch fa-spin"},null,-1)),Bf=ee({__name:"LoadingModal",setup(e){return(t,n)=>(b(),k("div",Df,[I(Oc,{big:""}),Uf]))}}),qs=se(Bf,[["__scopeId","data-v-63440d07"]]);var Pr=function(e,t){return Pr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(n[o]=s[o])},Pr(e,t)};function Uo(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Pr(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function Ir(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],s=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&s>=e.length&&(e=void 0),{value:e&&e[s++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Nr(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var s=n.call(e),o,r=[],i;try{for(;(t===void 0||t-- >0)&&!(o=s.next()).done;)r.push(o.value)}catch(l){i={error:l}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return r}function qr(e,t,n){if(n||arguments.length===2)for(var s=0,o=t.length,r;s<o;s++)(r||!(s in t))&&(r||(r=Array.prototype.slice.call(t,0,s)),r[s]=t[s]);return e.concat(r||Array.prototype.slice.call(t))}function Xt(e){return typeof e=="function"}function Pc(e){var t=function(s){Error.call(s),s.stack=new Error().stack},n=e(t);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var ir=Pc(function(e){return function(n){e(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(s,o){return o+1+") "+s.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function Lr(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Bo=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,n,s,o,r;if(!this.closed){this.closed=!0;var i=this._parentage;if(i)if(this._parentage=null,Array.isArray(i))try{for(var l=Ir(i),c=l.next();!c.done;c=l.next()){var d=c.value;d.remove(this)}}catch(x){t={error:x}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}else i.remove(this);var u=this.initialTeardown;if(Xt(u))try{u()}catch(x){r=x instanceof ir?x.errors:[x]}var h=this._finalizers;if(h){this._finalizers=null;try{for(var f=Ir(h),g=f.next();!g.done;g=f.next()){var w=g.value;try{$a(w)}catch(x){r=r??[],x instanceof ir?r=qr(qr([],Nr(r)),Nr(x.errors)):r.push(x)}}}catch(x){s={error:x}}finally{try{g&&!g.done&&(o=f.return)&&o.call(f)}finally{if(s)throw s.error}}}if(r)throw new ir(r)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)$a(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}},e.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},e.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},e.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&Lr(n,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&Lr(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),Ic=Bo.EMPTY;function Nc(e){return e instanceof Bo||e&&"closed"in e&&Xt(e.remove)&&Xt(e.add)&&Xt(e.unsubscribe)}function $a(e){Xt(e)?e():e.unsubscribe()}var qc={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Lc={setTimeout:function(e,t){for(var n=[],s=2;s<arguments.length;s++)n[s-2]=arguments[s];return setTimeout.apply(void 0,qr([e,t],Nr(n)))},clearTimeout:function(e){var t=Lc.delegate;return((t==null?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function Mf(e){Lc.setTimeout(function(){throw e})}function Ra(){}function oo(e){e()}var Dc=function(e){Uo(t,e);function t(n){var s=e.call(this)||this;return s.isStopped=!1,n?(s.destination=n,Nc(n)&&n.add(s)):s.destination=Qf,s}return t.create=function(n,s,o){return new Dr(n,s,o)},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(Bo),Ff=Function.prototype.bind;function ar(e,t){return Ff.call(e,t)}var jf=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(s){Ws(s)}},e.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(s){Ws(s)}else Ws(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(n){Ws(n)}},e}(),Dr=function(e){Uo(t,e);function t(n,s,o){var r=e.call(this)||this,i;if(Xt(n)||!n)i={next:n??void 0,error:s??void 0,complete:o??void 0};else{var l;r&&qc.useDeprecatedNextContext?(l=Object.create(n),l.unsubscribe=function(){return r.unsubscribe()},i={next:n.next&&ar(n.next,l),error:n.error&&ar(n.error,l),complete:n.complete&&ar(n.complete,l)}):i=n}return r.destination=new jf(i),r}return t}(Dc);function Ws(e){Mf(e)}function Hf(e){throw e}var Qf={closed:!0,next:Ra,error:Hf,complete:Ra},Vf=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Wf(e){return e}function Gf(e){return e.length===0?Wf:e.length===1?e[0]:function(n){return e.reduce(function(s,o){return o(s)},n)}}var Oa=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,s){var o=this,r=Kf(t)?t:new Dr(t,n,s);return oo(function(){var i=o,l=i.operator,c=i.source;r.add(l?l.call(r,c):c?o._subscribe(r):o._trySubscribe(r))}),r},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},e.prototype.forEach=function(t,n){var s=this;return n=Pa(n),new n(function(o,r){var i=new Dr({next:function(l){try{t(l)}catch(c){r(c),i.unsubscribe()}},error:r,complete:o});s.subscribe(i)})},e.prototype._subscribe=function(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)},e.prototype[Vf]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Gf(t)(this)},e.prototype.toPromise=function(t){var n=this;return t=Pa(t),new t(function(s,o){var r;n.subscribe(function(i){return r=i},function(i){return o(i)},function(){return s(r)})})},e.create=function(t){return new e(t)},e}();function Pa(e){var t;return(t=e??qc.Promise)!==null&&t!==void 0?t:Promise}function zf(e){return e&&Xt(e.next)&&Xt(e.error)&&Xt(e.complete)}function Kf(e){return e&&e instanceof Dc||zf(e)&&Nc(e)}var Yf=Pc(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Uc=function(e){Uo(t,e);function t(){var n=e.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return t.prototype.lift=function(n){var s=new Ia(this,this);return s.operator=n,s},t.prototype._throwIfClosed=function(){if(this.closed)throw new Yf},t.prototype.next=function(n){var s=this;oo(function(){var o,r;if(s._throwIfClosed(),!s.isStopped){s.currentObservers||(s.currentObservers=Array.from(s.observers));try{for(var i=Ir(s.currentObservers),l=i.next();!l.done;l=i.next()){var c=l.value;c.next(n)}}catch(d){o={error:d}}finally{try{l&&!l.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}}})},t.prototype.error=function(n){var s=this;oo(function(){if(s._throwIfClosed(),!s.isStopped){s.hasError=s.isStopped=!0,s.thrownError=n;for(var o=s.observers;o.length;)o.shift().error(n)}})},t.prototype.complete=function(){var n=this;oo(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var s=n.observers;s.length;)s.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(n){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,n)},t.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},t.prototype._innerSubscribe=function(n){var s=this,o=this,r=o.hasError,i=o.isStopped,l=o.observers;return r||i?Ic:(this.currentObservers=null,l.push(n),new Bo(function(){s.currentObservers=null,Lr(l,n)}))},t.prototype._checkFinalizedStatuses=function(n){var s=this,o=s.hasError,r=s.thrownError,i=s.isStopped;o?n.error(r):i&&n.complete()},t.prototype.asObservable=function(){var n=new Oa;return n.source=this,n},t.create=function(n,s){return new Ia(n,s)},t}(Oa),Ia=function(e){Uo(t,e);function t(n,s){var o=e.call(this)||this;return o.destination=n,o.source=s,o}return t.prototype.next=function(n){var s,o;(o=(s=this.destination)===null||s===void 0?void 0:s.next)===null||o===void 0||o.call(s,n)},t.prototype.error=function(n){var s,o;(o=(s=this.destination)===null||s===void 0?void 0:s.error)===null||o===void 0||o.call(s,n)},t.prototype.complete=function(){var n,s;(s=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||s===void 0||s.call(n)},t.prototype._subscribe=function(n){var s,o;return(o=(s=this.source)===null||s===void 0?void 0:s.subscribe(n))!==null&&o!==void 0?o:Ic},t}(Uc);class F{constructor(){ue(this,"subject",new Uc)}static getInstance(){return this.instance||(this.instance=new this)}dispatch(t){this.subject.next(t)}static open(t,n){this.getInstance().dispatch({modal:t,modalConfig:n})}static close(t){this.getInstance().dispatch({modal:null}),t&&t()}addEventListener(t){this.subject.subscribe(t)}removeEventListener(){this.subject.unsubscribe()}}ue(F,"instance",null);function Bc(e,t){return function(){return e.apply(t,arguments)}}const{toString:Jf}=Object.prototype,{getPrototypeOf:Ei}=Object,Mo=(e=>t=>{const n=Jf.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Wt=e=>(e=e.toLowerCase(),t=>Mo(t)===e),Fo=e=>t=>typeof t===e,{isArray:ns}=Array,Ts=Fo("undefined");function Xf(e){return e!==null&&!Ts(e)&&e.constructor!==null&&!Ts(e.constructor)&&bt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Mc=Wt("ArrayBuffer");function Zf(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Mc(e.buffer),t}const ep=Fo("string"),bt=Fo("function"),Fc=Fo("number"),jo=e=>e!==null&&typeof e=="object",tp=e=>e===!0||e===!1,ro=e=>{if(Mo(e)!=="object")return!1;const t=Ei(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},np=Wt("Date"),sp=Wt("File"),op=Wt("Blob"),rp=Wt("FileList"),ip=e=>jo(e)&&bt(e.pipe),ap=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||bt(e.append)&&((t=Mo(e))==="formdata"||t==="object"&&bt(e.toString)&&e.toString()==="[object FormData]"))},lp=Wt("URLSearchParams"),cp=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ls(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let s,o;if(typeof e!="object"&&(e=[e]),ns(e))for(s=0,o=e.length;s<o;s++)t.call(null,e[s],s,e);else{const r=n?Object.getOwnPropertyNames(e):Object.keys(e),i=r.length;let l;for(s=0;s<i;s++)l=r[s],t.call(null,e[l],l,e)}}function jc(e,t){t=t.toLowerCase();const n=Object.keys(e);let s=n.length,o;for(;s-- >0;)if(o=n[s],t===o.toLowerCase())return o;return null}const Hc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Qc=e=>!Ts(e)&&e!==Hc;function Ur(){const{caseless:e}=Qc(this)&&this||{},t={},n=(s,o)=>{const r=e&&jc(t,o)||o;ro(t[r])&&ro(s)?t[r]=Ur(t[r],s):ro(s)?t[r]=Ur({},s):ns(s)?t[r]=s.slice():t[r]=s};for(let s=0,o=arguments.length;s<o;s++)arguments[s]&&Ls(arguments[s],n);return t}const up=(e,t,n,{allOwnKeys:s}={})=>(Ls(t,(o,r)=>{n&&bt(o)?e[r]=Bc(o,n):e[r]=o},{allOwnKeys:s}),e),dp=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),hp=(e,t,n,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},fp=(e,t,n,s)=>{let o,r,i;const l={};if(t=t||{},e==null)return t;do{for(o=Object.getOwnPropertyNames(e),r=o.length;r-- >0;)i=o[r],(!s||s(i,e,t))&&!l[i]&&(t[i]=e[i],l[i]=!0);e=n!==!1&&Ei(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},pp=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const s=e.indexOf(t,n);return s!==-1&&s===n},mp=e=>{if(!e)return null;if(ns(e))return e;let t=e.length;if(!Fc(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},yp=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Ei(Uint8Array)),gp=(e,t)=>{const s=(e&&e[Symbol.iterator]).call(e);let o;for(;(o=s.next())&&!o.done;){const r=o.value;t.call(e,r[0],r[1])}},vp=(e,t)=>{let n;const s=[];for(;(n=e.exec(t))!==null;)s.push(n);return s},_p=Wt("HTMLFormElement"),bp=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,o){return s.toUpperCase()+o}),Na=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),wp=Wt("RegExp"),Vc=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),s={};Ls(n,(o,r)=>{let i;(i=t(o,r,e))!==!1&&(s[r]=i||o)}),Object.defineProperties(e,s)},xp=e=>{Vc(e,(t,n)=>{if(bt(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=e[n];if(bt(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Cp=(e,t)=>{const n={},s=o=>{o.forEach(r=>{n[r]=!0})};return ns(e)?s(e):s(String(e).split(t)),n},kp=()=>{},Ep=(e,t)=>(e=+e,Number.isFinite(e)?e:t),lr="abcdefghijklmnopqrstuvwxyz",qa="0123456789",Wc={DIGIT:qa,ALPHA:lr,ALPHA_DIGIT:lr+lr.toUpperCase()+qa},Sp=(e=16,t=Wc.ALPHA_DIGIT)=>{let n="";const{length:s}=t;for(;e--;)n+=t[Math.random()*s|0];return n};function Tp(e){return!!(e&&bt(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const Ap=e=>{const t=new Array(10),n=(s,o)=>{if(jo(s)){if(t.indexOf(s)>=0)return;if(!("toJSON"in s)){t[o]=s;const r=ns(s)?[]:{};return Ls(s,(i,l)=>{const c=n(i,o+1);!Ts(c)&&(r[l]=c)}),t[o]=void 0,r}}return s};return n(e,0)},$p=Wt("AsyncFunction"),Rp=e=>e&&(jo(e)||bt(e))&&bt(e.then)&&bt(e.catch),O={isArray:ns,isArrayBuffer:Mc,isBuffer:Xf,isFormData:ap,isArrayBufferView:Zf,isString:ep,isNumber:Fc,isBoolean:tp,isObject:jo,isPlainObject:ro,isUndefined:Ts,isDate:np,isFile:sp,isBlob:op,isRegExp:wp,isFunction:bt,isStream:ip,isURLSearchParams:lp,isTypedArray:yp,isFileList:rp,forEach:Ls,merge:Ur,extend:up,trim:cp,stripBOM:dp,inherits:hp,toFlatObject:fp,kindOf:Mo,kindOfTest:Wt,endsWith:pp,toArray:mp,forEachEntry:gp,matchAll:vp,isHTMLForm:_p,hasOwnProperty:Na,hasOwnProp:Na,reduceDescriptors:Vc,freezeMethods:xp,toObjectSet:Cp,toCamelCase:bp,noop:kp,toFiniteNumber:Ep,findKey:jc,global:Hc,isContextDefined:Qc,ALPHABET:Wc,generateString:Sp,isSpecCompliantForm:Tp,toJSONObject:Ap,isAsyncFn:$p,isThenable:Rp};function ve(e,t,n,s,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),s&&(this.request=s),o&&(this.response=o)}O.inherits(ve,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:O.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Gc=ve.prototype,zc={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{zc[e]={value:e}});Object.defineProperties(ve,zc);Object.defineProperty(Gc,"isAxiosError",{value:!0});ve.from=(e,t,n,s,o,r)=>{const i=Object.create(Gc);return O.toFlatObject(e,i,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),ve.call(i,e.message,t,n,s,o),i.cause=e,i.name=e.name,r&&Object.assign(i,r),i};const Op=null;function Br(e){return O.isPlainObject(e)||O.isArray(e)}function Kc(e){return O.endsWith(e,"[]")?e.slice(0,-2):e}function La(e,t,n){return e?e.concat(t).map(function(o,r){return o=Kc(o),!n&&r?"["+o+"]":o}).join(n?".":""):t}function Pp(e){return O.isArray(e)&&!e.some(Br)}const Ip=O.toFlatObject(O,{},null,function(t){return/^is[A-Z]/.test(t)});function Ho(e,t,n){if(!O.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=O.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,$){return!O.isUndefined($[x])});const s=n.metaTokens,o=n.visitor||u,r=n.dots,i=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&O.isSpecCompliantForm(t);if(!O.isFunction(o))throw new TypeError("visitor must be a function");function d(w){if(w===null)return"";if(O.isDate(w))return w.toISOString();if(!c&&O.isBlob(w))throw new ve("Blob is not supported. Use a Buffer instead.");return O.isArrayBuffer(w)||O.isTypedArray(w)?c&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function u(w,x,$){let q=w;if(w&&!$&&typeof w=="object"){if(O.endsWith(x,"{}"))x=s?x:x.slice(0,-2),w=JSON.stringify(w);else if(O.isArray(w)&&Pp(w)||(O.isFileList(w)||O.endsWith(x,"[]"))&&(q=O.toArray(w)))return x=Kc(x),q.forEach(function(Q,X){!(O.isUndefined(Q)||Q===null)&&t.append(i===!0?La([x],X,r):i===null?x:x+"[]",d(Q))}),!1}return Br(w)?!0:(t.append(La($,x,r),d(w)),!1)}const h=[],f=Object.assign(Ip,{defaultVisitor:u,convertValue:d,isVisitable:Br});function g(w,x){if(!O.isUndefined(w)){if(h.indexOf(w)!==-1)throw Error("Circular reference detected in "+x.join("."));h.push(w),O.forEach(w,function(q,H){(!(O.isUndefined(q)||q===null)&&o.call(t,q,O.isString(H)?H.trim():H,x,f))===!0&&g(q,x?x.concat(H):[H])}),h.pop()}}if(!O.isObject(e))throw new TypeError("data must be an object");return g(e),t}function Da(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function Si(e,t){this._pairs=[],e&&Ho(e,this,t)}const Yc=Si.prototype;Yc.append=function(t,n){this._pairs.push([t,n])};Yc.toString=function(t){const n=t?function(s){return t.call(this,s,Da)}:Da;return this._pairs.map(function(o){return n(o[0])+"="+n(o[1])},"").join("&")};function Np(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Jc(e,t,n){if(!t)return e;const s=n&&n.encode||Np,o=n&&n.serialize;let r;if(o?r=o(t,n):r=O.isURLSearchParams(t)?t.toString():new Si(t,n).toString(s),r){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+r}return e}class Ua{constructor(){this.handlers=[]}use(t,n,s){return this.handlers.push({fulfilled:t,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){O.forEach(this.handlers,function(s){s!==null&&t(s)})}}const Xc={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},qp=typeof URLSearchParams<"u"?URLSearchParams:Si,Lp=typeof FormData<"u"?FormData:null,Dp=typeof Blob<"u"?Blob:null,Up={isBrowser:!0,classes:{URLSearchParams:qp,FormData:Lp,Blob:Dp},protocols:["http","https","file","blob","url","data"]},Zc=typeof window<"u"&&typeof document<"u",Bp=(e=>Zc&&["ReactNative","NativeScript","NS"].indexOf(e)<0)(typeof navigator<"u"&&navigator.product),Mp=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Fp=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Zc,hasStandardBrowserEnv:Bp,hasStandardBrowserWebWorkerEnv:Mp},Symbol.toStringTag,{value:"Module"})),Bt={...Fp,...Up};function jp(e,t){return Ho(e,new Bt.classes.URLSearchParams,Object.assign({visitor:function(n,s,o,r){return Bt.isNode&&O.isBuffer(n)?(this.append(s,n.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}function Hp(e){return O.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Qp(e){const t={},n=Object.keys(e);let s;const o=n.length;let r;for(s=0;s<o;s++)r=n[s],t[r]=e[r];return t}function eu(e){function t(n,s,o,r){let i=n[r++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),c=r>=n.length;return i=!i&&O.isArray(o)?o.length:i,c?(O.hasOwnProp(o,i)?o[i]=[o[i],s]:o[i]=s,!l):((!o[i]||!O.isObject(o[i]))&&(o[i]=[]),t(n,s,o[i],r)&&O.isArray(o[i])&&(o[i]=Qp(o[i])),!l)}if(O.isFormData(e)&&O.isFunction(e.entries)){const n={};return O.forEachEntry(e,(s,o)=>{t(Hp(s),o,n,0)}),n}return null}function Vp(e,t,n){if(O.isString(e))try{return(t||JSON.parse)(e),O.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(e)}const Ds={transitional:Xc,adapter:["xhr","http"],transformRequest:[function(t,n){const s=n.getContentType()||"",o=s.indexOf("application/json")>-1,r=O.isObject(t);if(r&&O.isHTMLForm(t)&&(t=new FormData(t)),O.isFormData(t))return o?JSON.stringify(eu(t)):t;if(O.isArrayBuffer(t)||O.isBuffer(t)||O.isStream(t)||O.isFile(t)||O.isBlob(t))return t;if(O.isArrayBufferView(t))return t.buffer;if(O.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(r){if(s.indexOf("application/x-www-form-urlencoded")>-1)return jp(t,this.formSerializer).toString();if((l=O.isFileList(t))||s.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Ho(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return r||o?(n.setContentType("application/json",!1),Vp(t)):t}],transformResponse:[function(t){const n=this.transitional||Ds.transitional,s=n&&n.forcedJSONParsing,o=this.responseType==="json";if(t&&O.isString(t)&&(s&&!this.responseType||o)){const i=!(n&&n.silentJSONParsing)&&o;try{return JSON.parse(t)}catch(l){if(i)throw l.name==="SyntaxError"?ve.from(l,ve.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Bt.classes.FormData,Blob:Bt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};O.forEach(["delete","get","head","post","put","patch"],e=>{Ds.headers[e]={}});const Wp=O.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Gp=e=>{const t={};let n,s,o;return e&&e.split(`
`).forEach(function(i){o=i.indexOf(":"),n=i.substring(0,o).trim().toLowerCase(),s=i.substring(o+1).trim(),!(!n||t[n]&&Wp[n])&&(n==="set-cookie"?t[n]?t[n].push(s):t[n]=[s]:t[n]=t[n]?t[n]+", "+s:s)}),t},Ba=Symbol("internals");function cs(e){return e&&String(e).trim().toLowerCase()}function io(e){return e===!1||e==null?e:O.isArray(e)?e.map(io):String(e)}function zp(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(e);)t[s[1]]=s[2];return t}const Kp=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function cr(e,t,n,s,o){if(O.isFunction(s))return s.call(this,t,n);if(o&&(t=n),!!O.isString(t)){if(O.isString(s))return t.indexOf(s)!==-1;if(O.isRegExp(s))return s.test(t)}}function Yp(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,s)=>n.toUpperCase()+s)}function Jp(e,t){const n=O.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+n,{value:function(o,r,i){return this[s].call(this,t,o,r,i)},configurable:!0})})}let wt=class{constructor(t){t&&this.set(t)}set(t,n,s){const o=this;function r(l,c,d){const u=cs(c);if(!u)throw new Error("header name must be a non-empty string");const h=O.findKey(o,u);(!h||o[h]===void 0||d===!0||d===void 0&&o[h]!==!1)&&(o[h||c]=io(l))}const i=(l,c)=>O.forEach(l,(d,u)=>r(d,u,c));return O.isPlainObject(t)||t instanceof this.constructor?i(t,n):O.isString(t)&&(t=t.trim())&&!Kp(t)?i(Gp(t),n):t!=null&&r(n,t,s),this}get(t,n){if(t=cs(t),t){const s=O.findKey(this,t);if(s){const o=this[s];if(!n)return o;if(n===!0)return zp(o);if(O.isFunction(n))return n.call(this,o,s);if(O.isRegExp(n))return n.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=cs(t),t){const s=O.findKey(this,t);return!!(s&&this[s]!==void 0&&(!n||cr(this,this[s],s,n)))}return!1}delete(t,n){const s=this;let o=!1;function r(i){if(i=cs(i),i){const l=O.findKey(s,i);l&&(!n||cr(s,s[l],l,n))&&(delete s[l],o=!0)}}return O.isArray(t)?t.forEach(r):r(t),o}clear(t){const n=Object.keys(this);let s=n.length,o=!1;for(;s--;){const r=n[s];(!t||cr(this,this[r],r,t,!0))&&(delete this[r],o=!0)}return o}normalize(t){const n=this,s={};return O.forEach(this,(o,r)=>{const i=O.findKey(s,r);if(i){n[i]=io(o),delete n[r];return}const l=t?Yp(r):String(r).trim();l!==r&&delete n[r],n[l]=io(o),s[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return O.forEach(this,(s,o)=>{s!=null&&s!==!1&&(n[o]=t&&O.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const s=new this(t);return n.forEach(o=>s.set(o)),s}static accessor(t){const s=(this[Ba]=this[Ba]={accessors:{}}).accessors,o=this.prototype;function r(i){const l=cs(i);s[l]||(Jp(o,i),s[l]=!0)}return O.isArray(t)?t.forEach(r):r(t),this}};wt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);O.reduceDescriptors(wt.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[n]=s}}});O.freezeMethods(wt);function ur(e,t){const n=this||Ds,s=t||n,o=wt.from(s.headers);let r=s.data;return O.forEach(e,function(l){r=l.call(n,r,o.normalize(),t?t.status:void 0)}),o.normalize(),r}function tu(e){return!!(e&&e.__CANCEL__)}function Us(e,t,n){ve.call(this,e??"canceled",ve.ERR_CANCELED,t,n),this.name="CanceledError"}O.inherits(Us,ve,{__CANCEL__:!0});function Xp(e,t,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?e(n):t(new ve("Request failed with status code "+n.status,[ve.ERR_BAD_REQUEST,ve.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const Zp=Bt.hasStandardBrowserEnv?{write(e,t,n,s,o,r){const i=[e+"="+encodeURIComponent(t)];O.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),O.isString(s)&&i.push("path="+s),O.isString(o)&&i.push("domain="+o),r===!0&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function em(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function tm(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function nu(e,t){return e&&!em(t)?tm(e,t):t}const nm=Bt.hasStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let s;function o(r){let i=r;return t&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return s=o(window.location.href),function(i){const l=O.isString(i)?o(i):i;return l.protocol===s.protocol&&l.host===s.host}}():function(){return function(){return!0}}();function sm(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function om(e,t){e=e||10;const n=new Array(e),s=new Array(e);let o=0,r=0,i;return t=t!==void 0?t:1e3,function(c){const d=Date.now(),u=s[r];i||(i=d),n[o]=c,s[o]=d;let h=r,f=0;for(;h!==o;)f+=n[h++],h=h%e;if(o=(o+1)%e,o===r&&(r=(r+1)%e),d-i<t)return;const g=u&&d-u;return g?Math.round(f*1e3/g):void 0}}function Ma(e,t){let n=0;const s=om(50,250);return o=>{const r=o.loaded,i=o.lengthComputable?o.total:void 0,l=r-n,c=s(l),d=r<=i;n=r;const u={loaded:r,total:i,progress:i?r/i:void 0,bytes:l,rate:c||void 0,estimated:c&&i&&d?(i-r)/c:void 0,event:o};u[t?"download":"upload"]=!0,e(u)}}const rm=typeof XMLHttpRequest<"u",im=rm&&function(e){return new Promise(function(n,s){let o=e.data;const r=wt.from(e.headers).normalize();let{responseType:i,withXSRFToken:l}=e,c;function d(){e.cancelToken&&e.cancelToken.unsubscribe(c),e.signal&&e.signal.removeEventListener("abort",c)}let u;if(O.isFormData(o)){if(Bt.hasStandardBrowserEnv||Bt.hasStandardBrowserWebWorkerEnv)r.setContentType(!1);else if((u=r.getContentType())!==!1){const[x,...$]=u?u.split(";").map(q=>q.trim()).filter(Boolean):[];r.setContentType([x||"multipart/form-data",...$].join("; "))}}let h=new XMLHttpRequest;if(e.auth){const x=e.auth.username||"",$=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";r.set("Authorization","Basic "+btoa(x+":"+$))}const f=nu(e.baseURL,e.url);h.open(e.method.toUpperCase(),Jc(f,e.params,e.paramsSerializer),!0),h.timeout=e.timeout;function g(){if(!h)return;const x=wt.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders()),q={data:!i||i==="text"||i==="json"?h.responseText:h.response,status:h.status,statusText:h.statusText,headers:x,config:e,request:h};Xp(function(Q){n(Q),d()},function(Q){s(Q),d()},q),h=null}if("onloadend"in h?h.onloadend=g:h.onreadystatechange=function(){!h||h.readyState!==4||h.status===0&&!(h.responseURL&&h.responseURL.indexOf("file:")===0)||setTimeout(g)},h.onabort=function(){h&&(s(new ve("Request aborted",ve.ECONNABORTED,e,h)),h=null)},h.onerror=function(){s(new ve("Network Error",ve.ERR_NETWORK,e,h)),h=null},h.ontimeout=function(){let $=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const q=e.transitional||Xc;e.timeoutErrorMessage&&($=e.timeoutErrorMessage),s(new ve($,q.clarifyTimeoutError?ve.ETIMEDOUT:ve.ECONNABORTED,e,h)),h=null},Bt.hasStandardBrowserEnv&&(l&&O.isFunction(l)&&(l=l(e)),l||l!==!1&&nm(f))){const x=e.xsrfHeaderName&&e.xsrfCookieName&&Zp.read(e.xsrfCookieName);x&&r.set(e.xsrfHeaderName,x)}o===void 0&&r.setContentType(null),"setRequestHeader"in h&&O.forEach(r.toJSON(),function($,q){h.setRequestHeader(q,$)}),O.isUndefined(e.withCredentials)||(h.withCredentials=!!e.withCredentials),i&&i!=="json"&&(h.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&h.addEventListener("progress",Ma(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&h.upload&&h.upload.addEventListener("progress",Ma(e.onUploadProgress)),(e.cancelToken||e.signal)&&(c=x=>{h&&(s(!x||x.type?new Us(null,e,h):x),h.abort(),h=null)},e.cancelToken&&e.cancelToken.subscribe(c),e.signal&&(e.signal.aborted?c():e.signal.addEventListener("abort",c)));const w=sm(f);if(w&&Bt.protocols.indexOf(w)===-1){s(new ve("Unsupported protocol "+w+":",ve.ERR_BAD_REQUEST,e));return}h.send(o||null)})},Mr={http:Op,xhr:im};O.forEach(Mr,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Fa=e=>`- ${e}`,am=e=>O.isFunction(e)||e===null||e===!1,su={getAdapter:e=>{e=O.isArray(e)?e:[e];const{length:t}=e;let n,s;const o={};for(let r=0;r<t;r++){n=e[r];let i;if(s=n,!am(n)&&(s=Mr[(i=String(n)).toLowerCase()],s===void 0))throw new ve(`Unknown adapter '${i}'`);if(s)break;o[i||"#"+r]=s}if(!s){const r=Object.entries(o).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let i=t?r.length>1?`since :
`+r.map(Fa).join(`
`):" "+Fa(r[0]):"as no adapter specified";throw new ve("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return s},adapters:Mr};function dr(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Us(null,e)}function ja(e){return dr(e),e.headers=wt.from(e.headers),e.data=ur.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),su.getAdapter(e.adapter||Ds.adapter)(e).then(function(s){return dr(e),s.data=ur.call(e,e.transformResponse,s),s.headers=wt.from(s.headers),s},function(s){return tu(s)||(dr(e),s&&s.response&&(s.response.data=ur.call(e,e.transformResponse,s.response),s.response.headers=wt.from(s.response.headers))),Promise.reject(s)})}const Ha=e=>e instanceof wt?{...e}:e;function Jn(e,t){t=t||{};const n={};function s(d,u,h){return O.isPlainObject(d)&&O.isPlainObject(u)?O.merge.call({caseless:h},d,u):O.isPlainObject(u)?O.merge({},u):O.isArray(u)?u.slice():u}function o(d,u,h){if(O.isUndefined(u)){if(!O.isUndefined(d))return s(void 0,d,h)}else return s(d,u,h)}function r(d,u){if(!O.isUndefined(u))return s(void 0,u)}function i(d,u){if(O.isUndefined(u)){if(!O.isUndefined(d))return s(void 0,d)}else return s(void 0,u)}function l(d,u,h){if(h in t)return s(d,u);if(h in e)return s(void 0,d)}const c={url:r,method:r,data:r,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(d,u)=>o(Ha(d),Ha(u),!0)};return O.forEach(Object.keys(Object.assign({},e,t)),function(u){const h=c[u]||o,f=h(e[u],t[u],u);O.isUndefined(f)&&h!==l||(n[u]=f)}),n}const ou="1.6.8",Ti={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Ti[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const Qa={};Ti.transitional=function(t,n,s){function o(r,i){return"[Axios v"+ou+"] Transitional option '"+r+"'"+i+(s?". "+s:"")}return(r,i,l)=>{if(t===!1)throw new ve(o(i," has been removed"+(n?" in "+n:"")),ve.ERR_DEPRECATED);return n&&!Qa[i]&&(Qa[i]=!0,console.warn(o(i," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(r,i,l):!0}};function lm(e,t,n){if(typeof e!="object")throw new ve("options must be an object",ve.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let o=s.length;for(;o-- >0;){const r=s[o],i=t[r];if(i){const l=e[r],c=l===void 0||i(l,r,e);if(c!==!0)throw new ve("option "+r+" must be "+c,ve.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ve("Unknown option "+r,ve.ERR_BAD_OPTION)}}const Fr={assertOptions:lm,validators:Ti},ln=Fr.validators;let Rn=class{constructor(t){this.defaults=t,this.interceptors={request:new Ua,response:new Ua}}async request(t,n){try{return await this._request(t,n)}catch(s){if(s instanceof Error){let o;Error.captureStackTrace?Error.captureStackTrace(o={}):o=new Error;const r=o.stack?o.stack.replace(/^.+\n/,""):"";s.stack?r&&!String(s.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+r):s.stack=r}throw s}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Jn(this.defaults,n);const{transitional:s,paramsSerializer:o,headers:r}=n;s!==void 0&&Fr.assertOptions(s,{silentJSONParsing:ln.transitional(ln.boolean),forcedJSONParsing:ln.transitional(ln.boolean),clarifyTimeoutError:ln.transitional(ln.boolean)},!1),o!=null&&(O.isFunction(o)?n.paramsSerializer={serialize:o}:Fr.assertOptions(o,{encode:ln.function,serialize:ln.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let i=r&&O.merge(r.common,r[n.method]);r&&O.forEach(["delete","get","head","post","put","patch","common"],w=>{delete r[w]}),n.headers=wt.concat(i,r);const l=[];let c=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(n)===!1||(c=c&&x.synchronous,l.unshift(x.fulfilled,x.rejected))});const d=[];this.interceptors.response.forEach(function(x){d.push(x.fulfilled,x.rejected)});let u,h=0,f;if(!c){const w=[ja.bind(this),void 0];for(w.unshift.apply(w,l),w.push.apply(w,d),f=w.length,u=Promise.resolve(n);h<f;)u=u.then(w[h++],w[h++]);return u}f=l.length;let g=n;for(h=0;h<f;){const w=l[h++],x=l[h++];try{g=w(g)}catch($){x.call(this,$);break}}try{u=ja.call(this,g)}catch(w){return Promise.reject(w)}for(h=0,f=d.length;h<f;)u=u.then(d[h++],d[h++]);return u}getUri(t){t=Jn(this.defaults,t);const n=nu(t.baseURL,t.url);return Jc(n,t.params,t.paramsSerializer)}};O.forEach(["delete","get","head","options"],function(t){Rn.prototype[t]=function(n,s){return this.request(Jn(s||{},{method:t,url:n,data:(s||{}).data}))}});O.forEach(["post","put","patch"],function(t){function n(s){return function(r,i,l){return this.request(Jn(l||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:r,data:i}))}}Rn.prototype[t]=n(),Rn.prototype[t+"Form"]=n(!0)});let cm=class ru{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(r){n=r});const s=this;this.promise.then(o=>{if(!s._listeners)return;let r=s._listeners.length;for(;r-- >0;)s._listeners[r](o);s._listeners=null}),this.promise.then=o=>{let r;const i=new Promise(l=>{s.subscribe(l),r=l}).then(o);return i.cancel=function(){s.unsubscribe(r)},i},t(function(r,i,l){s.reason||(s.reason=new Us(r,i,l),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}static source(){let t;return{token:new ru(function(o){t=o}),cancel:t}}};function um(e){return function(n){return e.apply(null,n)}}function dm(e){return O.isObject(e)&&e.isAxiosError===!0}const jr={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(jr).forEach(([e,t])=>{jr[t]=e});function iu(e){const t=new Rn(e),n=Bc(Rn.prototype.request,t);return O.extend(n,Rn.prototype,t,{allOwnKeys:!0}),O.extend(n,t,null,{allOwnKeys:!0}),n.create=function(o){return iu(Jn(e,o))},n}const Be=iu(Ds);Be.Axios=Rn;Be.CanceledError=Us;Be.CancelToken=cm;Be.isCancel=tu;Be.VERSION=ou;Be.toFormData=Ho;Be.AxiosError=ve;Be.Cancel=Be.CanceledError;Be.all=function(t){return Promise.all(t)};Be.spread=um;Be.isAxiosError=dm;Be.mergeConfig=Jn;Be.AxiosHeaders=wt;Be.formToJSON=e=>eu(O.isHTMLForm(e)?new FormData(e):e);Be.getAdapter=su.getAdapter;Be.HttpStatusCode=jr;Be.default=Be;const{Axios:CA,AxiosError:kA,CanceledError:EA,isCancel:SA,CancelToken:TA,VERSION:AA,all:$A,Cancel:RA,isAxiosError:OA,spread:PA,toFormData:IA,AxiosHeaders:NA,HttpStatusCode:tn,formToJSON:qA,getAdapter:LA,mergeConfig:DA}=Be,st=Do("auth",()=>{const e=L(),t=L(),n=localStorage.getItem("refreshToken");n&&(e.value=n);const s=r=>{e.value=r,r?localStorage.setItem("refreshToken",r):localStorage.removeItem("refreshToken")};return{accessToken:t,refreshToken:e,storeRefreshToken:s,clear:()=>{s(null),t.value=null}}}),Ai=location.hostname==="localhost"?"http://localhost:3005":"https://bitd-vtt-server-production.up.railway.app";console.log("BASE_URL:",Ai);const et=Be.create({baseURL:Ai,timeout:1e4,withCredentials:!0,headers:{"Content-Type":"application/json"}});function hm(){fm()}function fm(){et.interceptors.request.use(async e=>(e||(e={}),e.headers.Authorization=`Bearer ${st().accessToken}`,e)),et.interceptors.response.use(e=>e,async e=>{var n,s,o,r;const t=["/auth/token","/account/login","/account/register"];if(((n=e.response)==null?void 0:n.status)===tn.Unauthorized&&!t.includes(e.config.url)){if((s=e.config.url)!=null&&s.includes("/auth/token"))return st().clear(),Qt.push("/login"),Promise.reject("Invalid refresh token");if(!st().refreshToken)return Promise.reject(((r=(o=e.response)==null?void 0:o.data)==null?void 0:r.message)||"No refresh token found");await au();const i=e.config;return i.headers.Authorization=`Bearer ${st().accessToken}`,et(i)}return Promise.reject(e)})}async function au(){let e;try{console.log("@fetchAccessToken: refreshToken:",st().refreshToken),e=await et.put("/auth/token",{refreshToken:st().refreshToken})}catch{console.error("Invalid refresh token"),Qi();return}st().accessToken=e.data.accessToken}const Hr=[{id:"791e4a6b-8f2e-41b2-8410-09fdb69d22e2",name:"Crystal",author:"Icons8",source:"https://icons8.com",url:"/images/portrait-images/icons8-crystal-100.png",commonColor:"#8E3E63"},{id:"762c4875-c258-443a-8d88-adeaab82b31c",name:"Joker",author:"Icons8",source:"https://icons8.com",url:"/images/portrait-images/icons8-joker-100.png",commonColor:"#D2649A"},{id:"a1bee44a-c856-4f54-b665-4de8c278d117",name:"Battle",author:"Icons8",source:"https://icons8.com",url:"/images/portrait-images/icons8-battle-100.png",commonColor:"#577B8D"},{id:"7d5f18bc-a32d-4aca-a51d-507b827c8683",name:"Pawn",author:"Icons8",source:"https://icons8.com",url:"/images/portrait-images/icons8-pawn-100.png",commonColor:"#40A578"},{id:"5895f6e3-05b7-42e4-9b5f-19bb3d4ca33e",name:"Rook",author:"Icons8",source:"https://icons8.com",url:"/images/portrait-images/icons8-rook-100.png",commonColor:"#A91D3A"}],Ce=Do("user",()=>{const e=L(),t=L(),n=L(!0),s=L(),o=L([]),r=L([...Hr]);return{id:e,username:t,portrait:s,isGuest:n,games:o,clear:()=>{e.value=null,t.value=null,s.value=null,n.value=!0,o.value=[]},portraits:r}}),$e=Do("game",()=>{const e=L(null),t=()=>{e.value=null},n=W(()=>{var s;return(s=e.value)==null?void 0:s.players[Ce().id]});return{game:e,userPlayer:n,clear:t}});/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */var pm=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,o){s.__proto__=o}||function(s,o){for(var r in o)o.hasOwnProperty(r)&&(s[r]=o[r])},e(t,n)};return function(t,n){e(t,n);function s(){this.constructor=t}t.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}}(),mm=Object.prototype.hasOwnProperty;function Qr(e,t){return mm.call(e,t)}function Vr(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var s=[];for(var o in e)Qr(e,o)&&s.push(o);return s}function mt(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function Wr(e){for(var t=0,n=e.length,s;t<n;){if(s=e.charCodeAt(t),s>=48&&s<=57){t++;continue}return!1}return!0}function En(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function lu(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function Gr(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(Gr(e[t]))return!0}else if(typeof e=="object"){for(var s=Vr(e),o=s.length,r=0;r<o;r++)if(Gr(e[s[r]]))return!0}}return!1}function Va(e,t){var n=[e];for(var s in t){var o=typeof t[s]=="object"?JSON.stringify(t[s],null,2):t[s];typeof o<"u"&&n.push(s+": "+o)}return n.join(`
`)}var cu=function(e){pm(t,e);function t(n,s,o,r,i){var l=this.constructor,c=e.call(this,Va(n,{name:s,index:o,operation:r,tree:i}))||this;return c.name=s,c.index=o,c.operation=r,c.tree=i,Object.setPrototypeOf(c,l.prototype),c.message=Va(n,{name:s,index:o,operation:r,tree:i}),c}return t}(Error),De=cu,ym=mt,Hn={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var s=e[t];return delete e[t],{newDocument:n,removed:s}},replace:function(e,t,n){var s=e[t];return e[t]=this.value,{newDocument:n,removed:s}},move:function(e,t,n){var s=_o(n,this.path);s&&(s=mt(s));var o=On(n,{op:"remove",path:this.from}).removed;return On(n,{op:"add",path:this.path,value:o}),{newDocument:n,removed:s}},copy:function(e,t,n){var s=_o(n,this.from);return On(n,{op:"add",path:this.path,value:mt(s)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:As(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},gm={add:function(e,t,n){return Wr(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){var s=e.splice(t,1);return{newDocument:n,removed:s[0]}},replace:function(e,t,n){var s=e[t];return e[t]=this.value,{newDocument:n,removed:s}},move:Hn.move,copy:Hn.copy,test:Hn.test,_get:Hn._get};function _o(e,t){if(t=="")return e;var n={op:"_get",path:t};return On(e,n),n.value}function On(e,t,n,s,o,r){if(n===void 0&&(n=!1),s===void 0&&(s=!0),o===void 0&&(o=!0),r===void 0&&(r=0),n&&(typeof n=="function"?n(t,0,e,t.path):bo(t,0)),t.path===""){var i={newDocument:e};if(t.op==="add")return i.newDocument=t.value,i;if(t.op==="replace")return i.newDocument=t.value,i.removed=e,i;if(t.op==="move"||t.op==="copy")return i.newDocument=_o(e,t.from),t.op==="move"&&(i.removed=e),i;if(t.op==="test"){if(i.test=As(e,t.value),i.test===!1)throw new De("Test operation failed","TEST_OPERATION_FAILED",r,t,e);return i.newDocument=e,i}else{if(t.op==="remove")return i.removed=e,i.newDocument=null,i;if(t.op==="_get")return t.value=e,i;if(n)throw new De("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",r,t,e);return i}}else{s||(e=mt(e));var l=t.path||"",c=l.split("/"),d=e,u=1,h=c.length,f=void 0,g=void 0,w=void 0;for(typeof n=="function"?w=n:w=bo;;){if(g=c[u],g&&g.indexOf("~")!=-1&&(g=lu(g)),o&&(g=="__proto__"||g=="prototype"&&u>0&&c[u-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&f===void 0&&(d[g]===void 0?f=c.slice(0,u).join("/"):u==h-1&&(f=t.path),f!==void 0&&w(t,0,e,f)),u++,Array.isArray(d)){if(g==="-")g=d.length;else{if(n&&!Wr(g))throw new De("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",r,t,e);Wr(g)&&(g=~~g)}if(u>=h){if(n&&t.op==="add"&&g>d.length)throw new De("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",r,t,e);var i=gm[t.op].call(t,d,g,e);if(i.test===!1)throw new De("Test operation failed","TEST_OPERATION_FAILED",r,t,e);return i}}else if(u>=h){var i=Hn[t.op].call(t,d,g,e);if(i.test===!1)throw new De("Test operation failed","TEST_OPERATION_FAILED",r,t,e);return i}if(d=d[g],n&&u<h&&(!d||typeof d!="object"))throw new De("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",r,t,e)}}}function Qo(e,t,n,s,o){if(s===void 0&&(s=!0),o===void 0&&(o=!0),n&&!Array.isArray(t))throw new De("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");s||(e=mt(e));for(var r=new Array(t.length),i=0,l=t.length;i<l;i++)r[i]=On(e,t[i],n,!0,o,i),e=r[i].newDocument;return r.newDocument=e,r}function vm(e,t,n){var s=On(e,t);if(s.test===!1)throw new De("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return s.newDocument}function bo(e,t,n,s){if(typeof e!="object"||e===null||Array.isArray(e))throw new De("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(Hn[e.op]){if(typeof e.path!="string")throw new De("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new De('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new De("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new De("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&Gr(e.value))throw new De("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n){if(e.op=="add"){var o=e.path.split("/").length,r=s.split("/").length;if(o!==r+1&&o!==r)throw new De("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==s)throw new De("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if(e.op==="move"||e.op==="copy"){var i={op:"_get",path:e.from,value:void 0},l=uu([i],n);if(l&&l.name==="OPERATION_PATH_UNRESOLVABLE")throw new De("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}}else throw new De("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n)}function uu(e,t,n){try{if(!Array.isArray(e))throw new De("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)Qo(mt(t),mt(e),n||!0);else{n=n||bo;for(var s=0;s<e.length;s++)n(e[s],s,t,void 0)}}catch(o){if(o instanceof De)return o;throw o}}function As(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=Array.isArray(e),s=Array.isArray(t),o,r,i;if(n&&s){if(r=e.length,r!=t.length)return!1;for(o=r;o--!==0;)if(!As(e[o],t[o]))return!1;return!0}if(n!=s)return!1;var l=Object.keys(e);if(r=l.length,r!==Object.keys(t).length)return!1;for(o=r;o--!==0;)if(!t.hasOwnProperty(l[o]))return!1;for(o=r;o--!==0;)if(i=l[o],!As(e[i],t[i]))return!1;return!0}return e!==e&&t!==t}const _m=Object.freeze(Object.defineProperty({__proto__:null,JsonPatchError:De,_areEquals:As,applyOperation:On,applyPatch:Qo,applyReducer:vm,deepClone:ym,getValueByPointer:_o,validate:uu,validator:bo},Symbol.toStringTag,{value:"Module"}));/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2021 Joachim Wester
 * MIT license
 */var $i=new WeakMap,bm=function(){function e(t){this.observers=new Map,this.obj=t}return e}(),wm=function(){function e(t,n){this.callback=t,this.observer=n}return e}();function xm(e){return $i.get(e)}function Cm(e,t){return e.observers.get(t)}function km(e,t){e.observers.delete(t.callback)}function Em(e,t){t.unobserve()}function Sm(e,t){var n=[],s,o=xm(e);if(!o)o=new bm(e),$i.set(e,o);else{var r=Cm(o,t);s=r&&r.observer}if(s)return s;if(s={},o.value=mt(e),t){s.callback=t,s.next=null;var i=function(){zr(s)},l=function(){clearTimeout(s.next),s.next=setTimeout(i)};typeof window<"u"&&(window.addEventListener("mouseup",l),window.addEventListener("keyup",l),window.addEventListener("mousedown",l),window.addEventListener("keydown",l),window.addEventListener("change",l))}return s.patches=n,s.object=e,s.unobserve=function(){zr(s),clearTimeout(s.next),km(o,s),typeof window<"u"&&(window.removeEventListener("mouseup",l),window.removeEventListener("keyup",l),window.removeEventListener("mousedown",l),window.removeEventListener("keydown",l),window.removeEventListener("change",l))},o.observers.set(t,new wm(t,s)),s}function zr(e,t){t===void 0&&(t=!1);var n=$i.get(e.object);Ri(n.value,e.object,e.patches,"",t),e.patches.length&&Qo(n.value,e.patches);var s=e.patches;return s.length>0&&(e.patches=[],e.callback&&e.callback(s)),s}function Ri(e,t,n,s,o){if(t!==e){typeof t.toJSON=="function"&&(t=t.toJSON());for(var r=Vr(t),i=Vr(e),l=!1,c=i.length-1;c>=0;c--){var d=i[c],u=e[d];if(Qr(t,d)&&!(t[d]===void 0&&u!==void 0&&Array.isArray(t)===!1)){var h=t[d];typeof u=="object"&&u!=null&&typeof h=="object"&&h!=null&&Array.isArray(u)===Array.isArray(h)?Ri(u,h,n,s+"/"+En(d),o):u!==h&&(o&&n.push({op:"test",path:s+"/"+En(d),value:mt(u)}),n.push({op:"replace",path:s+"/"+En(d),value:mt(h)}))}else Array.isArray(e)===Array.isArray(t)?(o&&n.push({op:"test",path:s+"/"+En(d),value:mt(u)}),n.push({op:"remove",path:s+"/"+En(d)}),l=!0):(o&&n.push({op:"test",path:s,value:e}),n.push({op:"replace",path:s,value:t}))}if(!(!l&&r.length==i.length))for(var c=0;c<r.length;c++){var d=r[c];!Qr(e,d)&&t[d]!==void 0&&n.push({op:"add",path:s+"/"+En(d),value:mt(t[d])})}}}function Tm(e,t,n){n===void 0&&(n=!1);var s=[];return Ri(e,t,s,"",n),s}const Am=Object.freeze(Object.defineProperty({__proto__:null,compare:Tm,generate:zr,observe:Sm,unobserve:Em},Symbol.toStringTag,{value:"Module"}));Object.assign({},_m,Am,{JsonPatchError:cu,deepClone:mt,escapePathComponent:En,unescapePathComponent:lu});const Ht=Object.create(null);Ht.open="0";Ht.close="1";Ht.ping="2";Ht.pong="3";Ht.message="4";Ht.upgrade="5";Ht.noop="6";const ao=Object.create(null);Object.keys(Ht).forEach(e=>{ao[Ht[e]]=e});const Kr={type:"error",data:"parser error"},du=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",hu=typeof ArrayBuffer=="function",fu=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Oi=({type:e,data:t},n,s)=>du&&t instanceof Blob?n?s(t):Wa(t,s):hu&&(t instanceof ArrayBuffer||fu(t))?n?s(t):Wa(new Blob([t]),s):s(Ht[e]+(t||"")),Wa=(e,t)=>{const n=new FileReader;return n.onload=function(){const s=n.result.split(",")[1];t("b"+(s||""))},n.readAsDataURL(e)};function Ga(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let hr;function $m(e,t){if(du&&e.data instanceof Blob)return e.data.arrayBuffer().then(Ga).then(t);if(hu&&(e.data instanceof ArrayBuffer||fu(e.data)))return t(Ga(e.data));Oi(e,!1,n=>{hr||(hr=new TextEncoder),t(hr.encode(n))})}const za="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fs=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<za.length;e++)fs[za.charCodeAt(e)]=e;const Rm=e=>{let t=e.length*.75,n=e.length,s,o=0,r,i,l,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const d=new ArrayBuffer(t),u=new Uint8Array(d);for(s=0;s<n;s+=4)r=fs[e.charCodeAt(s)],i=fs[e.charCodeAt(s+1)],l=fs[e.charCodeAt(s+2)],c=fs[e.charCodeAt(s+3)],u[o++]=r<<2|i>>4,u[o++]=(i&15)<<4|l>>2,u[o++]=(l&3)<<6|c&63;return d},Om=typeof ArrayBuffer=="function",Pi=(e,t)=>{if(typeof e!="string")return{type:"message",data:pu(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:Pm(e.substring(1),t)}:ao[n]?e.length>1?{type:ao[n],data:e.substring(1)}:{type:ao[n]}:Kr},Pm=(e,t)=>{if(Om){const n=Rm(e);return pu(n,t)}else return{base64:!0,data:e}},pu=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},mu="",Im=(e,t)=>{const n=e.length,s=new Array(n);let o=0;e.forEach((r,i)=>{Oi(r,!1,l=>{s[i]=l,++o===n&&t(s.join(mu))})})},Nm=(e,t)=>{const n=e.split(mu),s=[];for(let o=0;o<n.length;o++){const r=Pi(n[o],t);if(s.push(r),r.type==="error")break}return s};function qm(){return new TransformStream({transform(e,t){$m(e,n=>{const s=n.length;let o;if(s<126)o=new Uint8Array(1),new DataView(o.buffer).setUint8(0,s);else if(s<65536){o=new Uint8Array(3);const r=new DataView(o.buffer);r.setUint8(0,126),r.setUint16(1,s)}else{o=new Uint8Array(9);const r=new DataView(o.buffer);r.setUint8(0,127),r.setBigUint64(1,BigInt(s))}e.data&&typeof e.data!="string"&&(o[0]|=128),t.enqueue(o),t.enqueue(n)})}})}let fr;function Gs(e){return e.reduce((t,n)=>t+n.length,0)}function zs(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let s=0;for(let o=0;o<t;o++)n[o]=e[0][s++],s===e[0].length&&(e.shift(),s=0);return e.length&&s<e[0].length&&(e[0]=e[0].slice(s)),n}function Lm(e,t){fr||(fr=new TextDecoder);const n=[];let s=0,o=-1,r=!1;return new TransformStream({transform(i,l){for(n.push(i);;){if(s===0){if(Gs(n)<1)break;const c=zs(n,1);r=(c[0]&128)===128,o=c[0]&127,o<126?s=3:o===126?s=1:s=2}else if(s===1){if(Gs(n)<2)break;const c=zs(n,2);o=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),s=3}else if(s===2){if(Gs(n)<8)break;const c=zs(n,8),d=new DataView(c.buffer,c.byteOffset,c.length),u=d.getUint32(0);if(u>Math.pow(2,21)-1){l.enqueue(Kr);break}o=u*Math.pow(2,32)+d.getUint32(4),s=3}else{if(Gs(n)<o)break;const c=zs(n,o);l.enqueue(Pi(r?c:fr.decode(c),t)),s=0}if(o===0||o>e){l.enqueue(Kr);break}}}})}const yu=4;function Me(e){if(e)return Dm(e)}function Dm(e){for(var t in Me.prototype)e[t]=Me.prototype[t];return e}Me.prototype.on=Me.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Me.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};Me.prototype.off=Me.prototype.removeListener=Me.prototype.removeAllListeners=Me.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var s,o=0;o<n.length;o++)if(s=n[o],s===t||s.fn===t){n.splice(o,1);break}return n.length===0&&delete this._callbacks["$"+e],this};Me.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],s=1;s<arguments.length;s++)t[s-1]=arguments[s];if(n){n=n.slice(0);for(var s=0,o=n.length;s<o;++s)n[s].apply(this,t)}return this};Me.prototype.emitReserved=Me.prototype.emit;Me.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Me.prototype.hasListeners=function(e){return!!this.listeners(e).length};const vt=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function gu(e,...t){return t.reduce((n,s)=>(e.hasOwnProperty(s)&&(n[s]=e[s]),n),{})}const Um=vt.setTimeout,Bm=vt.clearTimeout;function Vo(e,t){t.useNativeTimers?(e.setTimeoutFn=Um.bind(vt),e.clearTimeoutFn=Bm.bind(vt)):(e.setTimeoutFn=vt.setTimeout.bind(vt),e.clearTimeoutFn=vt.clearTimeout.bind(vt))}const Mm=1.33;function Fm(e){return typeof e=="string"?jm(e):Math.ceil((e.byteLength||e.size)*Mm)}function jm(e){let t=0,n=0;for(let s=0,o=e.length;s<o;s++)t=e.charCodeAt(s),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(s++,n+=4);return n}function Hm(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function Qm(e){let t={},n=e.split("&");for(let s=0,o=n.length;s<o;s++){let r=n[s].split("=");t[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return t}class Vm extends Error{constructor(t,n,s){super(t),this.description=n,this.context=s,this.type="TransportError"}}class Ii extends Me{constructor(t){super(),this.writable=!1,Vo(this,t),this.opts=t,this.query=t.query,this.socket=t.socket}onError(t,n,s){return super.emitReserved("error",new Vm(t,n,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=Pi(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=Hm(t);return n.length?"?"+n:""}}const vu="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Yr=64,Wm={};let Ka=0,Ks=0,Ya;function Ja(e){let t="";do t=vu[e%Yr]+t,e=Math.floor(e/Yr);while(e>0);return t}function _u(){const e=Ja(+new Date);return e!==Ya?(Ka=0,Ya=e):e+"."+Ja(Ka++)}for(;Ks<Yr;Ks++)Wm[vu[Ks]]=Ks;let bu=!1;try{bu=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Gm=bu;function wu(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||Gm))return new XMLHttpRequest}catch{}if(!t)try{return new vt[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function zm(){}const Km=function(){return new wu({xdomain:!1}).responseType!=null}();class Ym extends Ii{constructor(t){if(super(t),this.polling=!1,typeof location<"u"){const s=location.protocol==="https:";let o=location.port;o||(o=s?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||o!==t.port}const n=t&&t.forceBase64;this.supportsBinary=Km&&!n,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let s=0;this.polling&&(s++,this.once("pollComplete",function(){--s||n()})),this.writable||(s++,this.once("drain",function(){--s||n()}))}else n()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=s=>{if(this.readyState==="opening"&&s.type==="open"&&this.onOpen(),s.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(s)};Nm(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,Im(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=_u()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}request(t={}){return Object.assign(t,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new Ft(this.uri(),t)}doWrite(t,n){const s=this.request({method:"POST",data:t});s.on("success",n),s.on("error",(o,r)=>{this.onError("xhr post error",o,r)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,s)=>{this.onError("xhr poll error",n,s)}),this.pollXhr=t}}class Ft extends Me{constructor(t,n){super(),Vo(this,n),this.opts=n,this.method=n.method||"GET",this.uri=t,this.data=n.data!==void 0?n.data:null,this.create()}create(){var t;const n=gu(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this.opts.xd;const s=this.xhr=new wu(n);try{s.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let o in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(o)&&s.setRequestHeader(o,this.opts.extraHeaders[o])}}catch{}if(this.method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{s.setRequestHeader("Accept","*/*")}catch{}(t=this.opts.cookieJar)===null||t===void 0||t.addCookies(s),"withCredentials"in s&&(s.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(s.timeout=this.opts.requestTimeout),s.onreadystatechange=()=>{var o;s.readyState===3&&((o=this.opts.cookieJar)===null||o===void 0||o.parseCookies(s)),s.readyState===4&&(s.status===200||s.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof s.status=="number"?s.status:0)},0))},s.send(this.data)}catch(o){this.setTimeoutFn(()=>{this.onError(o)},0);return}typeof document<"u"&&(this.index=Ft.requestsCount++,Ft.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=zm,t)try{this.xhr.abort()}catch{}typeof document<"u"&&delete Ft.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}Ft.requestsCount=0;Ft.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Xa);else if(typeof addEventListener=="function"){const e="onpagehide"in vt?"pagehide":"unload";addEventListener(e,Xa,!1)}}function Xa(){for(let e in Ft.requests)Ft.requests.hasOwnProperty(e)&&Ft.requests[e].abort()}const Ni=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0),Ys=vt.WebSocket||vt.MozWebSocket,Za=!0,Jm="arraybuffer",el=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Xm extends Ii{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),n=this.opts.protocols,s=el?{}:gu(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=Za&&!el?n?new Ys(t,n):new Ys(t):new Ys(t,n,s)}catch(o){return this.emitReserved("error",o)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const s=t[n],o=n===t.length-1;Oi(s,this.supportsBinary,r=>{const i={};try{Za&&this.ws.send(r)}catch{}o&&Ni(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=_u()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}check(){return!!Ys}}class Zm extends Ii{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(t=>{const n=Lm(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=t.readable.pipeThrough(n).getReader(),o=qm();o.readable.pipeTo(t.writable),this.writer=o.writable.getWriter();const r=()=>{s.read().then(({done:l,value:c})=>{l||(this.onPacket(c),r())}).catch(l=>{})};r();const i={type:"open"};this.query.sid&&(i.data=`{"sid":"${this.query.sid}"}`),this.writer.write(i).then(()=>this.onOpen())})}))}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const s=t[n],o=n===t.length-1;this.writer.write(s).then(()=>{o&&Ni(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this.transport)===null||t===void 0||t.close()}}const ey={websocket:Xm,webtransport:Zm,polling:Ym},ty=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,ny=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Jr(e){if(e.length>2e3)throw"URI too long";const t=e,n=e.indexOf("["),s=e.indexOf("]");n!=-1&&s!=-1&&(e=e.substring(0,n)+e.substring(n,s).replace(/:/g,";")+e.substring(s,e.length));let o=ty.exec(e||""),r={},i=14;for(;i--;)r[ny[i]]=o[i]||"";return n!=-1&&s!=-1&&(r.source=t,r.host=r.host.substring(1,r.host.length-1).replace(/;/g,":"),r.authority=r.authority.replace("[","").replace("]","").replace(/;/g,":"),r.ipv6uri=!0),r.pathNames=sy(r,r.path),r.queryKey=oy(r,r.query),r}function sy(e,t){const n=/\/{2,9}/g,s=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&s.splice(0,1),t.slice(-1)=="/"&&s.splice(s.length-1,1),s}function oy(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,o,r){o&&(n[o]=r)}),n}let xu=class Mn extends Me{constructor(t,n={}){super(),this.binaryType=Jm,this.writeBuffer=[],t&&typeof t=="object"&&(n=t,t=null),t?(t=Jr(t),n.hostname=t.host,n.secure=t.protocol==="https"||t.protocol==="wss",n.port=t.port,t.query&&(n.query=t.query)):n.host&&(n.hostname=Jr(n.host).host),Vo(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=n.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Qm(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=yu,n.transport=t,this.id&&(n.sid=this.id);const s=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new ey[t](s)}open(){let t;if(this.opts.rememberUpgrade&&Mn.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch{this.transports.shift(),this.open();return}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",n=>this.onClose("transport close",n))}probe(t){let n=this.createTransport(t),s=!1;Mn.priorWebsocketSuccess=!1;const o=()=>{s||(n.send([{type:"ping",data:"probe"}]),n.once("packet",h=>{if(!s)if(h.type==="pong"&&h.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Mn.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(u(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const f=new Error("probe error");f.transport=n.name,this.emitReserved("upgradeError",f)}}))};function r(){s||(s=!0,u(),n.close(),n=null)}const i=h=>{const f=new Error("probe error: "+h);f.transport=n.name,r(),this.emitReserved("upgradeError",f)};function l(){i("transport closed")}function c(){i("socket closed")}function d(h){n&&h.name!==n.name&&r()}const u=()=>{n.removeListener("open",o),n.removeListener("error",i),n.removeListener("close",l),this.off("close",c),this.off("upgrading",d)};n.once("open",o),n.once("error",i),n.once("close",l),this.once("close",c),this.once("upgrading",d),this.upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{s||n.open()},200):n.open()}onOpen(){if(this.readyState="open",Mn.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let t=0;const n=this.upgrades.length;for(;t<n;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),this.resetPingTimeout(),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const n=new Error("server error");n.code=t.data,this.onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let s=0;s<this.writeBuffer.length;s++){const o=this.writeBuffer[s].data;if(o&&(n+=Fm(o)),s>0&&n>this.maxPayload)return this.writeBuffer.slice(0,s);n+=2}return this.writeBuffer}write(t,n,s){return this.sendPacket("message",t,n,s),this}send(t,n,s){return this.sendPacket("message",t,n,s),this}sendPacket(t,n,s,o){if(typeof n=="function"&&(o=n,n=void 0),typeof s=="function"&&(o=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;const r={type:t,data:n,options:s};this.emitReserved("packetCreate",r),this.writeBuffer.push(r),o&&this.once("flush",o),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},s=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():t()}):this.upgrading?s():t()),this}onError(t){Mn.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,n){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const n=[];let s=0;const o=t.length;for(;s<o;s++)~this.transports.indexOf(t[s])&&n.push(t[s]);return n}};xu.protocol=yu;function ry(e,t="",n){let s=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),s=Jr(e)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const r=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+r+":"+s.port+t,s.href=s.protocol+"://"+r+(n&&n.port===s.port?"":":"+s.port),s}const iy=typeof ArrayBuffer=="function",ay=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,Cu=Object.prototype.toString,ly=typeof Blob=="function"||typeof Blob<"u"&&Cu.call(Blob)==="[object BlobConstructor]",cy=typeof File=="function"||typeof File<"u"&&Cu.call(File)==="[object FileConstructor]";function qi(e){return iy&&(e instanceof ArrayBuffer||ay(e))||ly&&e instanceof Blob||cy&&e instanceof File}function lo(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,s=e.length;n<s;n++)if(lo(e[n]))return!0;return!1}if(qi(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return lo(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&lo(e[n]))return!0;return!1}function uy(e){const t=[],n=e.data,s=e;return s.data=Xr(n,t),s.attachments=t.length,{packet:s,buffers:t}}function Xr(e,t){if(!e)return e;if(qi(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let s=0;s<e.length;s++)n[s]=Xr(e[s],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=Xr(e[s],t));return n}return e}function dy(e,t){return e.data=Zr(e.data,t),delete e.attachments,e}function Zr(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=Zr(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=Zr(e[n],t));return e}const hy=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],fy=5;var ge;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(ge||(ge={}));class py{constructor(t){this.replacer=t}encode(t){return(t.type===ge.EVENT||t.type===ge.ACK)&&lo(t)?this.encodeAsBinary({type:t.type===ge.EVENT?ge.BINARY_EVENT:ge.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===ge.BINARY_EVENT||t.type===ge.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=uy(t),s=this.encodeAsString(n.packet),o=n.buffers;return o.unshift(s),o}}function tl(e){return Object.prototype.toString.call(e)==="[object Object]"}class Li extends Me{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const s=n.type===ge.BINARY_EVENT;s||n.type===ge.BINARY_ACK?(n.type=s?ge.EVENT:ge.ACK,this.reconstructor=new my(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(qi(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const s={type:Number(t.charAt(0))};if(ge[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===ge.BINARY_EVENT||s.type===ge.BINARY_ACK){const r=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const i=t.substring(r,n);if(i!=Number(i)||t.charAt(n)!=="-")throw new Error("Illegal attachments");s.attachments=Number(i)}if(t.charAt(n+1)==="/"){const r=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););s.nsp=t.substring(r,n)}else s.nsp="/";const o=t.charAt(n+1);if(o!==""&&Number(o)==o){const r=n+1;for(;++n;){const i=t.charAt(n);if(i==null||Number(i)!=i){--n;break}if(n===t.length)break}s.id=Number(t.substring(r,n+1))}if(t.charAt(++n)){const r=this.tryParse(t.substr(n));if(Li.isPayloadValid(s.type,r))s.data=r;else throw new Error("invalid payload")}return s}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case ge.CONNECT:return tl(n);case ge.DISCONNECT:return n===void 0;case ge.CONNECT_ERROR:return typeof n=="string"||tl(n);case ge.EVENT:case ge.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&hy.indexOf(n[0])===-1);case ge.ACK:case ge.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class my{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=dy(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const yy=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Li,Encoder:py,get PacketType(){return ge},protocol:fy},Symbol.toStringTag,{value:"Module"}));function Et(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const gy=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class ku extends Me{constructor(t,n,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Et(t,"open",this.onopen.bind(this)),Et(t,"packet",this.onpacket.bind(this)),Et(t,"error",this.onerror.bind(this)),Et(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){if(gy.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const s={type:ge.EVENT,data:n};if(s.options={},s.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const i=this.ids++,l=n.pop();this._registerAckCallback(i,l),s.id=i}const o=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!o||!this.connected)||(this.connected?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(t,n){var s;const o=(s=this.flags.timeout)!==null&&s!==void 0?s:this._opts.ackTimeout;if(o===void 0){this.acks[t]=n;return}const r=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===t&&this.sendBuffer.splice(l,1);n.call(this,new Error("operation has timed out"))},o),i=(...l)=>{this.io.clearTimeoutFn(r),n.apply(this,l)};i.withError=!0,this.acks[t]=i}emitWithAck(t,...n){return new Promise((s,o)=>{const r=(i,l)=>i?o(i):s(l);r.withError=!0,n.push(r),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((o,...r)=>s!==this._queue[0]?void 0:(o!==null?s.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(o)):(this._queue.shift(),n&&n(null,...r)),s.pending=!1,this._drainQueue())),this._queue.push(s),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:ge.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(s=>String(s.id)===t)){const s=this.acks[t];delete this.acks[t],s.withError&&s.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case ge.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case ge.EVENT:case ge.BINARY_EVENT:this.onevent(t);break;case ge.ACK:case ge.BINARY_ACK:this.onack(t);break;case ge.DISCONNECT:this.ondisconnect();break;case ge.CONNECT_ERROR:this.destroy();const s=new Error(t.data.message);s.data=t.data.data,this.emitReserved("connect_error",s);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const s of n)s.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let s=!1;return function(...o){s||(s=!0,n.packet({type:ge.ACK,id:t,data:o}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(delete this.acks[t.id],n.withError&&t.data.unshift(null),n.apply(this,t.data))}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:ge.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let s=0;s<n.length;s++)if(t===n[s])return n.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let s=0;s<n.length;s++)if(t===n[s])return n.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const s of n)s.apply(this,t.data)}}}function ss(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}ss.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};ss.prototype.reset=function(){this.attempts=0};ss.prototype.setMin=function(e){this.ms=e};ss.prototype.setMax=function(e){this.max=e};ss.prototype.setJitter=function(e){this.jitter=e};class ei extends Me{constructor(t,n){var s;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Vo(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((s=n.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new ss({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const o=n.parser||yy;this.encoder=new o.Encoder,this.decoder=new o.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new xu(this.uri,this.opts);const n=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const o=Et(n,"open",function(){s.onopen(),t&&t()}),r=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),t?t(l):this.maybeReconnectOnOpen()},i=Et(n,"error",r);if(this._timeout!==!1){const l=this._timeout,c=this.setTimeoutFn(()=>{o(),r(new Error("timeout")),n.close()},l);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(o),this.subs.push(i),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Et(t,"ping",this.onping.bind(this)),Et(t,"data",this.ondata.bind(this)),Et(t,"error",this.onerror.bind(this)),Et(t,"close",this.onclose.bind(this)),Et(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){Ni(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let s=this.nsps[t];return s?this._autoConnect&&!s.active&&s.connect():(s=new ku(this,t,n),this.nsps[t]=s),s}_destroy(t){const n=Object.keys(this.nsps);for(const s of n)if(this.nsps[s].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let s=0;s<n.length;s++)this.engine.write(n[s],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,n){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(o=>{o?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",o)):t.onreconnect()}))},n);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const us={};function co(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=ry(e,t.path||"/socket.io"),s=n.source,o=n.id,r=n.path,i=us[o]&&r in us[o].nsps,l=t.forceNew||t["force new connection"]||t.multiplex===!1||i;let c;return l?c=new ei(s,t):(us[o]||(us[o]=new ei(s,t)),c=us[o]),n.query&&!t.query&&(t.query=n.queryKey),c.socket(n.path,t)}Object.assign(co,{Manager:ei,Socket:ku,io:co,connect:co});const vy={},_y={class:"modal"},by={class:"modal__content"};function wy(e,t){return b(),k("div",_y,[Kn(e.$slots,"header",{},void 0),a("div",by,[Kn(e.$slots,"content",{},void 0)])])}const ze=se(vy,[["render",wy],["__scopeId","data-v-16f47290"]]),xy=e=>(we("data-v-b77cb2fd"),e=e(),xe(),e),Cy={class:"modal__header"},ky=xy(()=>a("i",{class:"fas fa-times"},null,-1)),Ey=[ky],Sy=ee({__name:"ModalHeader",props:{closeButton:Boolean,closeButtonAction:Function},setup(e){const t=e;function n(){t.closeButtonAction?t.closeButtonAction():F.close()}return(s,o)=>(b(),k("div",Cy,[Kn(s.$slots,"default",{},void 0),e.closeButton?(b(),k("button",{key:0,class:"btn--icon",onClick:n},Ey)):M("",!0)]))}}),Ke=se(Sy,[["__scopeId","data-v-b77cb2fd"]]),Ty=e=>(we("data-v-771211b0"),e=e(),xe(),e),Ay={class:"info"},$y=["innerHTML"],Ry=Ty(()=>a("span",null,"Okay",-1)),Oy=[Ry],Py=ee({__name:"InfoModal",props:{title:{},message:{}},setup(e){const t=e;return(n,s)=>(b(),ie(ze,null,{header:U(()=>[I(Ke,null,{default:U(()=>[a("h2",null,N(t.title),1)]),_:1})]),content:U(()=>[a("div",Ay,[a("p",{innerHTML:t.message},null,8,$y),a("button",{class:"btn mobile-full-width",onClick:s[0]||(s[0]=o=>D(F).close())},Oy)])]),_:1}))}}),Wo=se(Py,[["__scopeId","data-v-771211b0"]]);let kt=null;function Iy(e){console.log("@game-controller: connectToGame"),F.open(qs),kt&&(kt.disconnect(),kt=null);const t={query:{gameId:e,token:st().refreshToken}};kt=co(Ai,t),kt.on("connect",Ly),kt.on("disconnect",Dy),kt.on("patch",qy),kt.on("error",Uy),F.close()}function Ny(){kt&&(kt.disconnect(),kt=null,$e().clear())}function qy(e){try{const{patches:t}=e;console.log("patch:",t),$e().game=Qo($e().game||{},t).newDocument}catch(t){console.error("Failed to patch:",t);return}}function Ly(){console.log("onOpen")}function Dy(){console.log("onClose"),F.open(Wo,{title:"Disconnected",message:"You have been disconnected from the game. Please try to reconnect."})}function Uy(e){console.log("onError:",e),F.open(Wo,{title:"Network Error",message:"A network error occurred."})}async function Pe(e){var t;await et.patch(`/game/${(t=$e().game)==null?void 0:t._id}`,e)}const Go=[{id:"46c018c0-de33-4bd2-9024-71548b22db7e",name:"Forest",author:"Dan Meyers",source:"https://unsplash.com/photos/tall-trees-wB6B3AqXjy0",url:"/images/cover-images/forest.jpg",commonColor:"#8b7d73"},{id:"9131e281-184e-4e2d-8994-8536f9d3c0d0",name:"Forest 2",author:"Simon Berger",source:"https://unsplash.com/photos/grayscale-photo-of-trees-and-pathway-rydQVdwcgUQ",url:"/images/cover-images/forest-2.jpg",commonColor:"#7f7f7f"},{id:"2e2ec06d-97b4-4cce-b88d-a58c10b8bef8",name:"Castle",author:"Cederic Vandenberghe",source:"https://unsplash.com/photos/closeup-photo-of-castle-with-mist-21DP3hytVHw",url:"/images/cover-images/castle.jpg",commonColor:"#3f7690"},{id:"230ecd94-c69b-4444-a7e2-2585a2652051",name:"Broadsword",author:"Jonathan Kemper",source:"https://unsplash.com/photos/brown-wooden-handle-bar-on-brown-wooden-table-4_ZvmLAeIZk",url:"/images/cover-images/broadsword.jpg",commonColor:"#6c4c34"},{id:"16761f54-5c0c-4f56-8274-f04af8e7f33e",name:"Warband",author:"Hasan Almasi",source:"https://unsplash.com/photos/people-gathering-on-street-during-nighttime-OwqLxCvoVxI",url:"/images/cover-images/warband.jpg",commonColor:"#c34e33"},{id:"8df23582-b58f-4120-b407-528c3d1d1ae8",name:"Cathedral",author:"John Towner",source:"https://unsplash.com/photos/low-angle-photography-of-building-glass-window-pDKoVuXYKxU",url:"/images/cover-images/cathedral.jpg",commonColor:"#8f836f"},{id:"02c928bb-d011-42ee-8722-fd7856e60100",name:"Ghost Field",author:"Pawel Czerwinski",source:"https://unsplash.com/photos/water-splash-in-close-up-photography-BPrk2cOoCq8",url:"/images/cover-images/ghost-field.jpg",commonColor:"#5976a5"},{id:"116bb45e-7ea7-4e81-83fb-5cd7af65794c",name:"Brightstone",author:"Rob Jackson",source:"https://unsplash.com/photos/photo-of-grey-brick-building-_6HuhLHZ1v8",url:"/images/cover-images/brightstone.jpg",commonColor:"#4f5fb2"},{id:"3c2911d4-21da-4af3-a9aa-8fb2a5289300",name:"Church of Ecstasy",author:"David Knieradl",source:"https://unsplash.com/photos/a-set-of-stairs-leading-up-to-a-large-window-TGCDipvrP-I",url:"/images/cover-images/church-of-ecstasy.jpg",commonColor:"#5176ad"},{id:"a4fa66a2-cb5b-4491-9dab-39bc6e49b426",name:"Alley",author:"Arno Senoner",source:"https://unsplash.com/photos/a-cobblestone-street-lined-with-brick-buildings-e0SEn3icqLg",url:"/images/cover-images/alley.jpg",commonColor:"#d47f2a"},{id:"5992a65e-44f1-4d73-b264-37d58dd16d94",name:"Alley 2",author:"Morica Pham",source:"https://unsplash.com/photos/empty-street-between-buildings-during-night-time-kOjoKSyGei4",url:"/images/cover-images/alley-2.jpg",commonColor:"#dd8937"},{id:"272718f9-53ef-41f5-a33f-e96018681d8d",name:"Flames",author:"Lucas K",source:"https://unsplash.com/photos/blue-and-orange-smoke-wQLAGv4_OYs",url:"/images/cover-images/flames.jpg",commonColor:"#cc4e34"},{id:"799aace5-ec2d-4748-a972-8a8b50c6f60c",name:"Beach",author:"Kate Rodriguez",source:"https://unsplash.com/photos/river-overflow-in-between-rock-formation-p3OzJuT_Dks",url:"/images/cover-images/beach.jpg",commonColor:"#ab8453"},{id:"48bbec01-3d2a-4419-a383-428a0d589b04",name:"Embers",author:"Andrey Andreyev",source:"https://unsplash.com/photos/burned-firewood-s20nA2KB1N4",url:"/images/cover-images/embers.jpg",commonColor:"#e16f32"},{id:"332e3040-e8ac-43d8-a3bd-bcd05633fd35",name:"Spiral Stairs",author:"Ryan Searle",source:"https://unsplash.com/photos/twirl-stairs-with-chandeliers-Dqv8VRUKBs0",url:"/images/cover-images/spiral-stairs.jpg",commonColor:"#ad6a2e"}],By=e=>(we("data-v-bc5094d5"),e=e(),xe(),e),My=["src"],Fy={class:"game-card__content"},jy={class:"row info"},Hy={class:"tag"},Qy={class:"row users"},Vy=By(()=>a("i",{class:"fas fa-users"},null,-1)),Wy={class:"date-created"},Gy=ee({__name:"GameCard",props:{game:{type:Object,required:!0}},setup(e){const t=e,n=W(()=>Go.find(r=>r.id===t.game.coverImage)),s=W(()=>t.game.players[Ce().id]),o=W(()=>new Date(t.game.dateCreated).toLocaleDateString());return(r,i)=>{var l,c;return b(),k("div",{class:"game-card",style:Vt({backgroundColor:(l=n.value)==null?void 0:l.commonColor})},[a("img",{src:(c=n.value)==null?void 0:c.url},null,8,My),a("div",Fy,[a("h2",null,N(t.game.name),1),a("div",jy,[a("span",Hy,N(s.value.role),1),a("div",Qy,[Vy,a("span",null,N(Object.keys(t.game.players).length),1)]),a("p",Wy,N(o.value),1)])])],4)}}}),zy=se(Gy,[["__scopeId","data-v-bc5094d5"]]),Ky=e=>(we("data-v-45fcb83d"),e=e(),xe(),e),Yy={class:"ribbon__content"},Jy=["innerHTML"],Xy=Ky(()=>a("i",{class:"fas fa-times"},null,-1)),Zy=[Xy],eg=ee({__name:"Ribbon",props:{id:{},message:{},onActivate:{type:Function}},setup(e){const t=e;function n(){localStorage.setItem("ribbon."+t.id,"true"),s.value=!1}const s=L(!localStorage.getItem("ribbon."+t.id));return(o,r)=>(b(),k("div",{class:J(["ribbon",{"ribbon--hidden":!s.value}])},[a("div",Yy,[a("p",{innerHTML:o.message,onClick:r[0]||(r[0]=(...i)=>o.onActivate&&o.onActivate(...i))},null,8,Jy),a("button",{class:"btn btn--icon",onClick:n},Zy)])],2))}}),tg=se(eg,[["__scopeId","data-v-45fcb83d"]]),ng="/images/fitd-logo.webp",sg={},Di=e=>(we("data-v-ba692196"),e=e(),xe(),e),og={class:"divider"},rg=Di(()=>a("div",{class:"line"},null,-1)),ig=Di(()=>a("div",{class:"middle-symbol"},"❖",-1)),ag=Di(()=>a("div",{class:"line"},null,-1)),lg=[rg,ig,ag];function cg(e,t){return b(),k("div",og,lg)}const Ut=se(sg,[["render",cg],["__scopeId","data-v-ba692196"]]),nn=e=>(we("data-v-61c6eabd"),e=e(),xe(),e),ug=nn(()=>a("h2",null,"Attribution",-1)),dg={class:"attribution"},hg=nn(()=>a("p",null,[Z(" This work is based on "),a("a",{class:"anchor-link",href:"http://www.bladesinthedark.com/",target:"_blank"}," Blades in the Dark "),Z(" , product of One Seven Design, developed and authored by John Harper, and licensed for our use under the "),a("a",{class:"anchor-link",href:"http://creativecommons.org/licenses/by/3.0/",target:"_blank"}," Creative Commons Attribution 3.0 Unported license ")],-1)),fg=nn(()=>a("p",null,[Z(" This website is made and maintained by "),a("a",{class:"anchor-link",href:"https://olinkirk.land",target:"_blank"},"Olin Kirkland")],-1)),pg=nn(()=>a("img",{src:ng},null,-1)),mg=nn(()=>a("p",null," Blades in the Dark™ is a trademark of One Seven Design. The Forged in the Dark Logo is © One Seven Design, and is used with permission ",-1)),yg=nn(()=>a("p",{class:"images-description"},[Z(" Illustrations are by "),a("a",{class:"anchor-link",href:"https://www.reddit.com/user/perryphery/submitted/",target:"_blank"},"u/perryphery on Reddit")],-1)),gg=nn(()=>a("p",{class:"images-description"},[Z(" Cover images are from "),a("a",{class:"anchor-link",href:"https://unsplash.com/",target:"_blank"},"Unsplash")],-1)),vg={class:"images"},_g=["href"],bg=["src"],wg=nn(()=>a("br",null,null,-1)),xg={class:"muted"},Cg=nn(()=>a("p",{class:"images-description"},[Z(" Icons are from "),a("a",{class:"anchor-link",href:"https://fontawesome.com/",target:"_blank"},"Font Awesome"),Z(" and "),a("a",{class:"anchor-link",href:"https://icons8.com/"},"Icons8")],-1)),kg=ee({__name:"AttributionModal",setup(e){new Date().getFullYear();const t=n=>{const[s,o]=n.split(" ");return o?`${s} ${o[0]}.`:s};return(n,s)=>(b(),ie(ze,null,{header:U(()=>[I(Ke,{closeButton:""},{default:U(()=>[ug]),_:1})]),content:U(()=>[a("div",dg,[hg,I(Ut),fg,I(Ut),pg,mg,I(Ut),yg,I(Ut),gg,a("ul",vg,[(b(!0),k(Y,null,pe(D(Go),o=>(b(),k("li",{key:o.id},[a("a",{href:o.source,target:"_blank"},[a("img",{src:o.url},null,8,bg),a("p",null,[Z(N(o.name),1),wg,a("span",xg,"by "+N(t(o.author)),1)])],8,_g)]))),128))]),I(Ut),Cg,Z("   ")])]),_:1}))}}),Eu=se(kg,[["__scopeId","data-v-61c6eabd"]]),Eg={crew:{reputations:["Ambitious","Brutal","Daring","Honorable","Professional","Savvy","Subtle","Strange"],lairs:[{name:"A crumbling watch tower",districts:["Six Towers","Crow's Foot","Coalridge"]},{name:"A half-sunken grotto beneath the city",districts:["Charterhall","Nightmarket","Barrowcleft"]},{name:"A dilapidated lighthouse",districts:["The Docks","Nightmarket","Crow's Foot"]},{name:"Backrooms of a merchant's shop",districts:["Silkshore","Brightstone","Six Towers"]},{name:"A junked rail car",districts:["Dunslough","Charhollow","Coalridge"]},{name:"A rickety, tin-roofed shack",districts:["Silkshore","Charterhall"]},{name:"A small, abandoned house",districts:["Charterhall","Six Towers","Brightstone"]},{name:"Derelict ship, anchored in the canal",districts:["The Docks","Nightmarket","Crow's Foot"]},{name:"Tunnels beneath a bridge",districts:["Crow's Foot","Charterhall","Barrowcleft"]}],"upgrade-descriptions":{crew:{"assassin-rigging":`[/load 2 free load] Weapon or Gear items

For example, carry a pistol (a weapon) and burglary tools (gear) for zero load`,"bravos-rigging":`[/load 2 free load] Weapon or Armor items

For example, carry a sword and pistol or wear normal armor for zero load`,"cult-rigging":`[/load 2 free load] Document or Arcane Implement items

For example, carry a profane book of curses and a demon's hand for zero load`,"thief-rigging":`[/load 2 free load] Tool or Gear items

For example, carry burglary gear and tinkering tools for zero load`,"hawker-rigging":"[/load 1 free load] *Concealed* even against a patdown","smuggler-rigging":"Two of your carried items are *concealed* even against a pat down","elite-skulks":"Skulks Cohorts get [/dice +1] to *Quality Rolls* for Skulk-related actions","elite-thugs":"Thugs Cohorts get [/dice +1] to *Quality Rolls* for Thug-related actions","elite-rooks":"Rooks Cohorts get [/dice +1] to *Quality Rolls* for Rook-related actions","elite-rovers":"Rovers Cohorts get [/dice +1] to *Quality Rolls* for Rover-related actions","elite-adepts":"Adepts Cohorts get [/dice +1] to *Quality Rolls* for Adept-related actions","ironhook-contacts":"You have [/tier +1 Tier] in prison. This counts for any Tier-related element in prison, including the incarceration roll","ritual-sanctum-in-lair":"A sacred and arcane workshop for occult practices and rituals",hardened:"Each PC gets [/trauma +1 Trauma Box] and may bring a PC with 4 *Trauma* back into play. This costs three upgrades to unlock",ordained:"Each PC gets [/trauma +1 Trauma Box] and may bring a PC with 4 *Trauma* back into play. This costs three upgrades to unlock",composed:"Each PC gets [/stress +1 Stress Box] This costs three upgrades to unlock",steady:"Each PC gets [/stress +1 Stress Box] This costs three upgrades to unlock","underground-maps-and-passkeys":"You have easy passage through the underground canals, tunnels, and basements of the city",camouflage:"Your vehicles are perfectly concealed when at rest. They blend in as part of the environment, or as an uninteresting civilian vehicle (your choice)",barge:"You can move your lair to a new location as a *Downtime Activity"},lair:{"boat-house":`You have a boat, a dock on a waterway, and a small shack for storing boating supplies

A second upgrade improves the boat with armor and more cargo capacity`,"carriage-house":`You have a carriage, two goats to pull it, and a stable. A second upgrade improves the carriage with armor and larger, swifter goats

Horses are very rare in Duskwall—most carriages in the city use the large Akorosian goat as their draft animal`,"hidden-lair":"Your Lair is in a secret, hidden location. If it's discovered, use two *Downtime Activities* and pay [/coin Coin] equal to your *Tier* to relocate it and hide it again",quarters:`Your Lair includes living quarters for the Crew.

Without this upgrade, each PC sleeps elsewhere, and is vulnerable when they do so`,"secure-lair":`Your Lair has locks, alarms, and traps to thwart intruders. A second upgrade improves the defenses to include arcane measures that work against Spirits

Roll your Crew's *Tier* if these measures are ever put to the test to see how well they thwart an intruder`,vault:`Your Lair has a secure vault, increasing the Crew's storage capacity for *Coin* to 8. A separate part of your vault can be used as a holding cell

A second upgrade increases the capacity to 16`,workshop:`Your Lair has a workshop appointed with tools for tinkering and alchemy, as well as a small library of books, documents, and maps

You may accomplish long-term projects with these assets without leaving your Lair`},training:{insight:"Earn [/xp 2 XP] instead of 1 when you train **Insight** during Downtime",prowess:"Earn [/xp 2 XP] instead of 1 when you train **Prowess** during Downtime",resolve:"Earn [/xp 2 XP] instead of 1 when you train **Resolve** during Downtime",personal:"Earn [/xp 2 XP] instead of 1 when you train **Playbook** during Downtime",mastery:`The PCs gain access to master level training. You may advance your *Action Ratings* to 4

This costs four upgrades to unlock`},quality:{documents:"Improves the *Quality Rating* of the Crew's Documents",gear:"Improves the *Quality Rating* of the Crew's Burglary Gear and Climbing Gear",implements:"Improves the *Quality Rating* of the Crew's Arcane Implements",supplies:"Improves the *Quality Rating* of the Crew's Subterfuge Supplies",tools:"Improves the *Quality Rating* of the Crew's Demolitions Tools and Tinkering Tools",weapons:"Improves the *Quality Rating* of the Crew's Weapons"}},cohorts:{harm:[{name:"Weakened",description:"Reduced *Effect*"},{name:"Impaired",description:"Operates with [/dice -1] *Quality*"},{name:"Broken",description:"Can't do anything until they recover"},{name:"Dead",description:"Destroyed. Spend [/coin Coin] equal to your *Tier* +2 to restore it"}],expertise:["Doctor","Investigator","Occultist","Assassin","Spy"],edges:[{name:"Fearsome",description:"Terrifying in aspect and reputation"},{name:"Independent",description:"Can make good decisions and act on their own"},{name:"Loyal",description:"Can't be bribed or turned against you"},{name:"Tenacious",description:"Won't be deterred from a task"}],flaws:[{name:"Principled",description:"Has an ethic or values that it won't betray"},{name:"Savage",description:"Excessively violent and cruel"},{name:"Unreliable",description:"Not always available, due to other obligations"},{name:"Wild",description:"Drunken and loud-mouthed"}],vehicleEdges:[{name:"Nimble",description:"The vehicle handles easily. Consider this an assist for tricky maneuvers"},{name:"Simple",description:"The vehicle is easy to repair. Remove all of its harm during downtime"},{name:"Sturdy",description:"The vehicle keeps operating even when broken"}],vehicleFlaws:[{name:"Costly",description:"The vehicle costs [/coin 1 Coin] per Downtime to keep in operation"},{name:"Distinct",description:"The vehicle has memorable features. Take +1 *Heat* when you use it on a Score"},{name:"Finicky",description:"The vehicle has quirks that only one person understands. When operated without them, it has [/dice -1] *Quality*"}]}}},Sg={gangs:["a tiny gang (1-2)","small gang (3-6)","medium gang (12)","large gang (20)","huge gang (40)","massive gang (80)","colossal gang (160)"],districts:[{name:"Brightstone",blurb:"The grand mansions and luxury shops of the wealthy elite."},{name:"Charterhall",blurb:"The city's civic offices and the hub for shops, artisans, and commerce."},{name:"Six Towers",blurb:"A formerly rich district, now worn down and dilapidated."},{name:"Silkshore",blurb:"The 'red lamp district' and artist community."},{name:"Nightmarket",blurb:"The trade center for exotic goods imported by rail. Many vendors also trade in illicit goods."},{name:"Crow's Foot",blurb:"A cramped neighborhood of multi-level streets, ruled by gangs."},{name:"The Docks",blurb:"Rough taverns, tattoo parlors, fighting pits, and warehouses."},{name:"Barrowcleft",blurb:"Residences and markets for the farmers who work the fields and eeleries."},{name:"Coalridge",blurb:"The remnants of Duskwall's original hilltop mining settlement, now home to laborers and industrial factories."},{name:"Charhollow",blurb:"A maze of tenements and squalid row houses."},{name:"Dunslough",blurb:"A labor camp served by convicts and a ghetto for the destitute poor."}]},Tg={firstNames:["Adric","Aldo","Amison","Andrel","Arcy","Arden","Arilyn","Arquo","Arvus","Ashlyn","Branon","Brace","Brance","Brena","Bricks","Candra","Canter","Carissa","Carro","Casslyn","Cavelle","Clave","Corille","Cross","Crowl","Cyrene","Daphnia","Drav","Edlun","Emeline","Grell","Helles","Hix","Holtz","Kamelin","Kelyr","Kobb","Kristov","Laudius","Lauria","Lenia","Lizete","Lorette","Lucella","Lynthia","Mara","Milos","Morlan","Myre","Narcus","Naria","Noggs","Odrienne","Orlan","Phin","Polonia","Quess","Remira","Ring","Roethe","Sesereth","Sethla","Skannon","Stavrul","Stev","Syra","Talitha","Tesslyn","Thena","Timoth","Tocker","Una","Vaurin","Veleris","Veretta","Vestine","Vey","Volette","Vond","Weaver","Wester","Zamira"],lastNames:["Arran","Athanoch","Basran","Boden","Booker","Ankhayat","Bowmore","Breakiron","Brogan","Clelland","Clermont","Coleburn","Comber","Daava","Dalmore","Danfield","Dunvil","Edrad","Farros","Grine","Haig","Helker","Helles","Hellyers","Jayan","Jeduin","Kardera","Karstas","Keel","Kessarin","Kinclaith","Lomond","Maroden","Michter","Morriston","Penderyn","Prichard","Rowan","Salkara","Sevoy","Skelkallan","Slane","Strangford","Strathmill","Templeton","Tyrconnell","Vale","Vedat","Walund"],deityNames:["The One Within Many","The Silver Fire","The Rapturous Chord","The Fallen Star","The Lord of the Depths","The Silent Song","The Lady of Thorns","Our Blood Spilled in Glory","The Ram","The Empty Vessel","The Closed Eye","The Hand of Sorrow","That Which Hungers","The Thousand Faces","The Web of Pain","The Pillars of Night","The Burned King","The Father of the Abyss","The Forsaken Legion","The Unbroken Sun","The Revelation","The Radiant Word","The Shrouded Queen","The Reconciler","The Cloud of Woe","The Broken Circle","The Conqueror","She Who Slays in Darkness","The Dream Beyond Death","The Blood Dimmed Tide","The Guardian of the Gates","The Maw of the Void","The Keeper of the Flame","The Throne of Judgment","The Lost Crown","The Golden Stag"]},ti={sheets:Eg,lexicon:Sg,names:Tg};async function Ag(e,t){try{const n=await et.post("/game/new",{gameName:e,coverImage:t,codex:ti});if(n.status===tn.Ok)return console.log(n.data),Ce().games=n.data,null}catch(n){return n.response.data}}async function $g(){var e;try{if((await et.post(`/game/${(e=$e().game)==null?void 0:e._id}/leave`)).status===tn.Ok)return $e().clear(),await rs(),null}catch(t){return t.response.data}}function Rg(e){const t=Hr.find(s=>s.id==="791e4a6b-8f2e-41b2-8410-09fdb69d22e2");return e&&Hr.find(s=>e===s.id)||t}const Og=["src"],Pg=ee({__name:"Portrait",props:{portraitId:{}},setup(e){const t=e,n=W(()=>Rg(t.portraitId));return(s,o)=>(b(),k("div",{class:"portrait",style:Vt({backgroundColor:n.value.commonColor})},[a("img",{src:n.value.url,alt:"Portrait"},null,8,Og)],4))}}),zo=se(Pg,[["__scopeId","data-v-ce4fddda"]]),Bs=e=>(we("data-v-90e063bd"),e=e(),xe(),e),Ig=Bs(()=>a("h2",null,"Game Preview",-1)),Ng={class:"game-preview"},qg=["src"],Lg={class:"overlay"},Dg={class:"row center game-join-bar"},Ug={class:"tag"},Bg={class:"row users"},Mg=Bs(()=>a("i",{class:"fas fa-users"},null,-1)),Fg=Bs(()=>a("span",null,"Play",-1)),jg=[Fg],Hg=Bs(()=>a("h3",null,"Players",-1)),Qg={class:"players-container"},Vg=Bs(()=>a("i",{class:"fas fa-circle-notch fa-spin"},null,-1)),Wg=[Vg],Gg=ee({__name:"GamePreviewModal",props:{game:{}},setup(e){const t=e,n=W(()=>t.game.players[Ce().id]),s=W(()=>Go.find(r=>r.id===t.game.coverImage));function o(){Qt.push({name:"game",params:{id:t.game._id}}),F.close()}return(r,i)=>(b(),ie(ze,null,{header:U(()=>[I(Ke,{closeButton:""},{default:U(()=>[Ig]),_:1})]),content:U(()=>{var l,c;return[a("div",Ng,[a("div",{class:"title-block",style:Vt({backgroundColor:(l=s.value)==null?void 0:l.commonColor})},[a("img",{class:"game-preview__cover",src:(c=s.value)==null?void 0:c.url},null,8,qg),a("div",Lg,[a("h1",null,N(r.game.name),1)])],4),a("div",Dg,[a("span",Ug,N(n.value.role),1),a("div",Bg,[Mg,a("span",null,N(Object.keys(r.game.players).length),1)]),a("button",{class:"btn mobile-full-width",onClick:o},jg)]),I(Ut),Hg,a("div",Qg,[a("div",{class:J(["row center waiting-players",{collapsed:Object.keys(r.game.players).length>0}])},Wg,2),a("ul",{class:J(["players",{collapsed:Object.keys(r.game.players).length===0}])},[(b(!0),k(Y,null,pe(r.game.players,(d,u)=>(b(),k("li",{class:"row",key:u},[I(zo,{portraitId:d.portrait},null,8,["portraitId"]),a("span",null,N(d.username),1)]))),128))],2)])])]}),_:1}))}}),Su=se(Gg,[["__scopeId","data-v-90e063bd"]]),Ln=e=>(we("data-v-6bc541c0"),e=e(),xe(),e),zg=Ln(()=>a("h2",null,"New Game",-1)),Kg={class:"game"},Yg=Ln(()=>a("p",null,[Z(" Create a new "),a("em",null,"Blades in the Dark"),Z(" game. "),a("br"),a("span",{class:"muted"}," You can invite players once the game has been created. ")],-1)),Jg={class:"inputs"},Xg={class:"input-group"},Zg=Ln(()=>a("label",{for:"gameName"},"Game Name",-1)),ev={key:0,class:"reminder shake-once"},tv={class:"input-group"},nv=Ln(()=>a("label",{for:"coverImage"},"Cover Image",-1)),sv={class:"cover-image-list"},ov=["onClick"],rv=["src","onLoad","onError"],iv={key:0,class:"overlay"},av={class:"caption"},lv={key:1,class:"fas fa-check-circle"},cv={key:0,class:"alert"},uv=Ln(()=>a("i",{class:"fas fa-exclamation-circle"},null,-1)),dv=Ln(()=>a("i",{class:"fas fa-times"},null,-1)),hv=[dv],fv={class:"row center"},pv={key:0,class:"fas fa-circle-notch fa-spin"},mv=Ln(()=>a("span",null,"Create Game",-1)),yv=ee({__name:"CreateGameModal",setup(e){const t=L(Go.map(u=>({...u,loaded:!1}))),n=L(""),s=L(!1),o=L(""),r=L(!1),i=W(()=>r.value&&o.value.length===0?"Every game should have a name":null),l=L(t.value[0].id),c=W(()=>o.value.length>0);async function d(){if(!c.value&&(!r.value||i.value)){r.value=!0,document.querySelectorAll(".reminder").forEach(f=>{f.classList.remove("shake-once"),f.offsetWidth,f.classList.add("shake-once")});return}s.value=!0,n.value="";const u=await Ag(o.value,l.value);s.value=!1,u?n.value=u:F.open(Su,{game:Ce().games.find(h=>h.name===o.value)})}return(u,h)=>(b(),ie(ze,{class:J({disabled:s.value})},{header:U(()=>[I(Ke,{closeButton:""},{default:U(()=>[zg]),_:1})]),content:U(()=>[a("div",Kg,[Yg,a("div",Jg,[a("div",Xg,[Zg,Re(a("input",{type:"text",onInput:h[0]||(h[0]=f=>r.value=!0),onKeyup:Ns(d,["enter"]),placeholder:"Enter a name","onUpdate:modelValue":h[1]||(h[1]=f=>o.value=f)},null,544),[[Oe,o.value]]),i.value?(b(),k("span",ev,N(i.value),1)):M("",!0)]),a("div",tv,[nv,a("ul",sv,[(b(!0),k(Y,null,pe(t.value,f=>(b(),k("li",{key:f.id},[a("button",{onClick:g=>l.value=f.id,style:Vt({backgroundColor:f.commonColor})},[a("img",{src:f.url,onLoad:g=>f.loaded=!0,onError:g=>f.loaded=!0,class:J({loaded:f.loaded})},null,42,rv),l.value===f.id?(b(),k("div",iv)):M("",!0),a("div",av,[a("span",null,N(f.name),1)]),l.value===f.id?(b(),k("i",lv)):M("",!0)],12,ov)]))),128))])])]),n.value?(b(),k("div",cv,[uv,a("span",null,N(n.value),1),a("button",{class:"btn btn--icon close",onClick:h[2]||(h[2]=f=>n.value="")},hv)])):M("",!0),a("div",fv,[a("button",{class:"btn mobile-full-width",onClick:d},[s.value?(b(),k("i",pv)):M("",!0),mv])])])]),_:1},8,["class"]))}}),gv=se(yv,[["__scopeId","data-v-6bc541c0"]]),Tu=e=>(we("data-v-4ebc0b1b"),e=e(),xe(),e),vv={class:"page"},_v={class:"game-list"},bv=Tu(()=>a("i",{class:"fas fa-folder-plus"},null,-1)),wv=Tu(()=>a("span",null,"New Game",-1)),xv=[bv,wv],Cv=ee({__name:"TheHomePage",setup(e){async function t(){F.open(gv)}const n=W(()=>Ce().games);function s(o){F.open(Su,{game:o})}return en(()=>{rs()}),(o,r)=>(b(),k("div",vv,[I(tg,{id:"welcome-ribbon",message:"<em>Online in the Dark</em> is an unofficial tool designed for playing <em>Blades in the Dark</em> online. Click to view the full attribution.",onActivate:()=>{D(F).open(Eu)}},null,8,["onActivate"]),a("ul",_v,[(b(!0),k(Y,null,pe(n.value,i=>(b(),k("li",{key:i._id},[I(zy,{game:i,onClick:l=>s(i)},null,8,["game","onClick"])]))),128)),a("li",null,[a("div",{class:"new-game-card",onClick:t},xv)])])]))}}),kv=se(Cv,[["__scopeId","data-v-4ebc0b1b"]]);async function Ev(e){F.open(qs);try{const t=await et.post(`/invite/${e}`);if(t.status===tn.Ok){const n=t.data.gameId;Qt.push({name:ii.GAME,params:{id:n}})}}catch(t){console.error(t),Qt.push({name:ii.HOME}),F.close();return}F.close()}const Sv={},Tv={class:"panel"};function Av(e,t){return b(),k("div",Tv,[Kn(e.$slots,"default",{},void 0)])}const Au=se(Sv,[["render",Av],["__scopeId","data-v-c9a6184a"]]);/*!
  * vue-router v4.3.2
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Fn=typeof document<"u";function $v(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const Se=Object.assign;function pr(e,t){const n={};for(const s in t){const o=t[s];n[s]=Rt(o)?o.map(e):e(o)}return n}const _s=()=>{},Rt=Array.isArray,$u=/#/g,Rv=/&/g,Ov=/\//g,Pv=/=/g,Iv=/\?/g,Ru=/\+/g,Nv=/%5B/g,qv=/%5D/g,Ou=/%5E/g,Lv=/%60/g,Pu=/%7B/g,Dv=/%7C/g,Iu=/%7D/g,Uv=/%20/g;function Ui(e){return encodeURI(""+e).replace(Dv,"|").replace(Nv,"[").replace(qv,"]")}function Bv(e){return Ui(e).replace(Pu,"{").replace(Iu,"}").replace(Ou,"^")}function ni(e){return Ui(e).replace(Ru,"%2B").replace(Uv,"+").replace($u,"%23").replace(Rv,"%26").replace(Lv,"`").replace(Pu,"{").replace(Iu,"}").replace(Ou,"^")}function Mv(e){return ni(e).replace(Pv,"%3D")}function Fv(e){return Ui(e).replace($u,"%23").replace(Iv,"%3F")}function jv(e){return e==null?"":Fv(e).replace(Ov,"%2F")}function $s(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const Hv=/\/$/,Qv=e=>e.replace(Hv,"");function mr(e,t,n="/"){let s,o={},r="",i="";const l=t.indexOf("#");let c=t.indexOf("?");return l<c&&l>=0&&(c=-1),c>-1&&(s=t.slice(0,c),r=t.slice(c+1,l>-1?l:t.length),o=e(r)),l>-1&&(s=s||t.slice(0,l),i=t.slice(l,t.length)),s=zv(s??t,n),{fullPath:s+(r&&"?")+r+i,path:s,query:o,hash:$s(i)}}function Vv(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function nl(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Wv(e,t,n){const s=t.matched.length-1,o=n.matched.length-1;return s>-1&&s===o&&Xn(t.matched[s],n.matched[o])&&Nu(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Xn(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Nu(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!Gv(e[n],t[n]))return!1;return!0}function Gv(e,t){return Rt(e)?sl(e,t):Rt(t)?sl(t,e):e===t}function sl(e,t){return Rt(t)?e.length===t.length&&e.every((n,s)=>n===t[s]):e.length===1&&e[0]===t}function zv(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),s=e.split("/"),o=s[s.length-1];(o===".."||o===".")&&s.push("");let r=n.length-1,i,l;for(i=0;i<s.length;i++)if(l=s[i],l!==".")if(l==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+s.slice(i).join("/")}var Rs;(function(e){e.pop="pop",e.push="push"})(Rs||(Rs={}));var bs;(function(e){e.back="back",e.forward="forward",e.unknown=""})(bs||(bs={}));function Kv(e){if(!e)if(Fn){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Qv(e)}const Yv=/^[^#]+#/;function Jv(e,t){return e.replace(Yv,"#")+t}function Xv(e,t){const n=document.documentElement.getBoundingClientRect(),s=e.getBoundingClientRect();return{behavior:t.behavior,left:s.left-n.left-(t.left||0),top:s.top-n.top-(t.top||0)}}const Ko=()=>({left:window.scrollX,top:window.scrollY});function Zv(e){let t;if("el"in e){const n=e.el,s=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;t=Xv(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function ol(e,t){return(history.state?history.state.position-t:-1)+e}const si=new Map;function e_(e,t){si.set(e,t)}function t_(e){const t=si.get(e);return si.delete(e),t}let n_=()=>location.protocol+"//"+location.host;function qu(e,t){const{pathname:n,search:s,hash:o}=t,r=e.indexOf("#");if(r>-1){let l=o.includes(e.slice(r))?e.slice(r).length:1,c=o.slice(l);return c[0]!=="/"&&(c="/"+c),nl(c,"")}return nl(n,e)+s+o}function s_(e,t,n,s){let o=[],r=[],i=null;const l=({state:f})=>{const g=qu(e,location),w=n.value,x=t.value;let $=0;if(f){if(n.value=g,t.value=f,i&&i===w){i=null;return}$=x?f.position-x.position:0}else s(g);o.forEach(q=>{q(n.value,w,{delta:$,type:Rs.pop,direction:$?$>0?bs.forward:bs.back:bs.unknown})})};function c(){i=n.value}function d(f){o.push(f);const g=()=>{const w=o.indexOf(f);w>-1&&o.splice(w,1)};return r.push(g),g}function u(){const{history:f}=window;f.state&&f.replaceState(Se({},f.state,{scroll:Ko()}),"")}function h(){for(const f of r)f();r=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:c,listen:d,destroy:h}}function rl(e,t,n,s=!1,o=!1){return{back:e,current:t,forward:n,replaced:s,position:window.history.length,scroll:o?Ko():null}}function o_(e){const{history:t,location:n}=window,s={value:qu(e,n)},o={value:t.state};o.value||r(s.value,{back:null,current:s.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function r(c,d,u){const h=e.indexOf("#"),f=h>-1?(n.host&&document.querySelector("base")?e:e.slice(h))+c:n_()+e+c;try{t[u?"replaceState":"pushState"](d,"",f),o.value=d}catch(g){console.error(g),n[u?"replace":"assign"](f)}}function i(c,d){const u=Se({},t.state,rl(o.value.back,c,o.value.forward,!0),d,{position:o.value.position});r(c,u,!0),s.value=c}function l(c,d){const u=Se({},o.value,t.state,{forward:c,scroll:Ko()});r(u.current,u,!0);const h=Se({},rl(s.value,c,null),{position:u.position+1},d);r(c,h,!1),s.value=c}return{location:s,state:o,push:l,replace:i}}function r_(e){e=Kv(e);const t=o_(e),n=s_(e,t.state,t.location,t.replace);function s(r,i=!0){i||n.pauseListeners(),history.go(r)}const o=Se({location:"",base:e,go:s,createHref:Jv.bind(null,e)},t,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t.state.value}),o}function i_(e){return typeof e=="string"||e&&typeof e=="object"}function Lu(e){return typeof e=="string"||typeof e=="symbol"}const cn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Du=Symbol("");var il;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(il||(il={}));function Zn(e,t){return Se(new Error,{type:e,[Du]:!0},t)}function zt(e,t){return e instanceof Error&&Du in e&&(t==null||!!(e.type&t))}const al="[^/]+?",a_={sensitive:!1,strict:!1,start:!0,end:!0},l_=/[.+*?^${}()[\]/\\]/g;function c_(e,t){const n=Se({},a_,t),s=[];let o=n.start?"^":"";const r=[];for(const d of e){const u=d.length?[]:[90];n.strict&&!d.length&&(o+="/");for(let h=0;h<d.length;h++){const f=d[h];let g=40+(n.sensitive?.25:0);if(f.type===0)h||(o+="/"),o+=f.value.replace(l_,"\\$&"),g+=40;else if(f.type===1){const{value:w,repeatable:x,optional:$,regexp:q}=f;r.push({name:w,repeatable:x,optional:$});const H=q||al;if(H!==al){g+=10;try{new RegExp(`(${H})`)}catch(X){throw new Error(`Invalid custom RegExp for param "${w}" (${H}): `+X.message)}}let Q=x?`((?:${H})(?:/(?:${H}))*)`:`(${H})`;h||(Q=$&&d.length<2?`(?:/${Q})`:"/"+Q),$&&(Q+="?"),o+=Q,g+=20,$&&(g+=-8),x&&(g+=-20),H===".*"&&(g+=-50)}u.push(g)}s.push(u)}if(n.strict&&n.end){const d=s.length-1;s[d][s[d].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&(o+="(?:/|$)");const i=new RegExp(o,n.sensitive?"":"i");function l(d){const u=d.match(i),h={};if(!u)return null;for(let f=1;f<u.length;f++){const g=u[f]||"",w=r[f-1];h[w.name]=g&&w.repeatable?g.split("/"):g}return h}function c(d){let u="",h=!1;for(const f of e){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const g of f)if(g.type===0)u+=g.value;else if(g.type===1){const{value:w,repeatable:x,optional:$}=g,q=w in d?d[w]:"";if(Rt(q)&&!x)throw new Error(`Provided param "${w}" is an array but it is not repeatable (* or + modifiers)`);const H=Rt(q)?q.join("/"):q;if(!H)if($)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${w}"`);u+=H}}return u||"/"}return{re:i,score:s,keys:r,parse:l,stringify:c}}function u_(e,t){let n=0;for(;n<e.length&&n<t.length;){const s=t[n]-e[n];if(s)return s;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function d_(e,t){let n=0;const s=e.score,o=t.score;for(;n<s.length&&n<o.length;){const r=u_(s[n],o[n]);if(r)return r;n++}if(Math.abs(o.length-s.length)===1){if(ll(s))return 1;if(ll(o))return-1}return o.length-s.length}function ll(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const h_={type:0,value:""},f_=/[a-zA-Z0-9_]/;function p_(e){if(!e)return[[]];if(e==="/")return[[h_]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(g){throw new Error(`ERR (${n})/"${d}": ${g}`)}let n=0,s=n;const o=[];let r;function i(){r&&o.push(r),r=[]}let l=0,c,d="",u="";function h(){d&&(n===0?r.push({type:0,value:d}):n===1||n===2||n===3?(r.length>1&&(c==="*"||c==="+")&&t(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:d,regexp:u,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):t("Invalid state to consume buffer"),d="")}function f(){d+=c}for(;l<e.length;){if(c=e[l++],c==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:c==="/"?(d&&h(),i()):c===":"?(h(),n=1):f();break;case 4:f(),n=s;break;case 1:c==="("?n=2:f_.test(c)?f():(h(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&l--);break;case 2:c===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+c:n=3:u+=c;break;case 3:h(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&l--,u="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${d}"`),h(),i(),o}function m_(e,t,n){const s=c_(p_(e.path),n),o=Se(s,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function y_(e,t){const n=[],s=new Map;t=dl({strict:!1,end:!0,sensitive:!1},t);function o(u){return s.get(u)}function r(u,h,f){const g=!f,w=g_(u);w.aliasOf=f&&f.record;const x=dl(t,u),$=[w];if("alias"in u){const Q=typeof u.alias=="string"?[u.alias]:u.alias;for(const X of Q)$.push(Se({},w,{components:f?f.record.components:w.components,path:X,aliasOf:f?f.record:w}))}let q,H;for(const Q of $){const{path:X}=Q;if(h&&X[0]!=="/"){const de=h.record.path,K=de[de.length-1]==="/"?"":"/";Q.path=h.record.path+(X&&K+X)}if(q=m_(Q,h,x),f?f.alias.push(q):(H=H||q,H!==q&&H.alias.push(q),g&&u.name&&!ul(q)&&i(u.name)),w.children){const de=w.children;for(let K=0;K<de.length;K++)r(de[K],q,f&&f.children[K])}f=f||q,(q.record.components&&Object.keys(q.record.components).length||q.record.name||q.record.redirect)&&c(q)}return H?()=>{i(H)}:_s}function i(u){if(Lu(u)){const h=s.get(u);h&&(s.delete(u),n.splice(n.indexOf(h),1),h.children.forEach(i),h.alias.forEach(i))}else{const h=n.indexOf(u);h>-1&&(n.splice(h,1),u.record.name&&s.delete(u.record.name),u.children.forEach(i),u.alias.forEach(i))}}function l(){return n}function c(u){let h=0;for(;h<n.length&&d_(u,n[h])>=0&&(u.record.path!==n[h].record.path||!Uu(u,n[h]));)h++;n.splice(h,0,u),u.record.name&&!ul(u)&&s.set(u.record.name,u)}function d(u,h){let f,g={},w,x;if("name"in u&&u.name){if(f=s.get(u.name),!f)throw Zn(1,{location:u});x=f.record.name,g=Se(cl(h.params,f.keys.filter(H=>!H.optional).concat(f.parent?f.parent.keys.filter(H=>H.optional):[]).map(H=>H.name)),u.params&&cl(u.params,f.keys.map(H=>H.name))),w=f.stringify(g)}else if(u.path!=null)w=u.path,f=n.find(H=>H.re.test(w)),f&&(g=f.parse(w),x=f.record.name);else{if(f=h.name?s.get(h.name):n.find(H=>H.re.test(h.path)),!f)throw Zn(1,{location:u,currentLocation:h});x=f.record.name,g=Se({},h.params,u.params),w=f.stringify(g)}const $=[];let q=f;for(;q;)$.unshift(q.record),q=q.parent;return{name:x,path:w,params:g,matched:$,meta:__($)}}return e.forEach(u=>r(u)),{addRoute:r,resolve:d,removeRoute:i,getRoutes:l,getRecordMatcher:o}}function cl(e,t){const n={};for(const s of t)s in e&&(n[s]=e[s]);return n}function g_(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:v_(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function v_(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const s in e.components)t[s]=typeof n=="object"?n[s]:n;return t}function ul(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function __(e){return e.reduce((t,n)=>Se(t,n.meta),{})}function dl(e,t){const n={};for(const s in e)n[s]=s in t?t[s]:e[s];return n}function Uu(e,t){return t.children.some(n=>n===e||Uu(e,n))}function b_(e){const t={};if(e===""||e==="?")return t;const s=(e[0]==="?"?e.slice(1):e).split("&");for(let o=0;o<s.length;++o){const r=s[o].replace(Ru," "),i=r.indexOf("="),l=$s(i<0?r:r.slice(0,i)),c=i<0?null:$s(r.slice(i+1));if(l in t){let d=t[l];Rt(d)||(d=t[l]=[d]),d.push(c)}else t[l]=c}return t}function hl(e){let t="";for(let n in e){const s=e[n];if(n=Mv(n),s==null){s!==void 0&&(t+=(t.length?"&":"")+n);continue}(Rt(s)?s.map(r=>r&&ni(r)):[s&&ni(s)]).forEach(r=>{r!==void 0&&(t+=(t.length?"&":"")+n,r!=null&&(t+="="+r))})}return t}function w_(e){const t={};for(const n in e){const s=e[n];s!==void 0&&(t[n]=Rt(s)?s.map(o=>o==null?null:""+o):s==null?s:""+s)}return t}const x_=Symbol(""),fl=Symbol(""),Bi=Symbol(""),Mi=Symbol(""),oi=Symbol("");function ds(){let e=[];function t(s){return e.push(s),()=>{const o=e.indexOf(s);o>-1&&e.splice(o,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function pn(e,t,n,s,o,r=i=>i()){const i=s&&(s.enterCallbacks[o]=s.enterCallbacks[o]||[]);return()=>new Promise((l,c)=>{const d=f=>{f===!1?c(Zn(4,{from:n,to:t})):f instanceof Error?c(f):i_(f)?c(Zn(2,{from:t,to:f})):(i&&s.enterCallbacks[o]===i&&typeof f=="function"&&i.push(f),l())},u=r(()=>e.call(s&&s.instances[o],t,n,d));let h=Promise.resolve(u);e.length<3&&(h=h.then(d)),h.catch(f=>c(f))})}function yr(e,t,n,s,o=r=>r()){const r=[];for(const i of e)for(const l in i.components){let c=i.components[l];if(!(t!=="beforeRouteEnter"&&!i.instances[l]))if(C_(c)){const u=(c.__vccOpts||c)[t];u&&r.push(pn(u,n,s,i,l,o))}else{let d=c();r.push(()=>d.then(u=>{if(!u)return Promise.reject(new Error(`Couldn't resolve component "${l}" at "${i.path}"`));const h=$v(u)?u.default:u;i.components[l]=h;const g=(h.__vccOpts||h)[t];return g&&pn(g,n,s,i,l,o)()}))}}return r}function C_(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function pl(e){const t=$t(Bi),n=$t(Mi),s=W(()=>{const c=D(e.to);return t.resolve(c)}),o=W(()=>{const{matched:c}=s.value,{length:d}=c,u=c[d-1],h=n.matched;if(!u||!h.length)return-1;const f=h.findIndex(Xn.bind(null,u));if(f>-1)return f;const g=ml(c[d-2]);return d>1&&ml(u)===g&&h[h.length-1].path!==g?h.findIndex(Xn.bind(null,c[d-2])):f}),r=W(()=>o.value>-1&&T_(n.params,s.value.params)),i=W(()=>o.value>-1&&o.value===n.matched.length-1&&Nu(n.params,s.value.params));function l(c={}){return S_(c)?t[D(e.replace)?"replace":"push"](D(e.to)).catch(_s):Promise.resolve()}return{route:s,href:W(()=>s.value.href),isActive:r,isExactActive:i,navigate:l}}const k_=ee({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:pl,setup(e,{slots:t}){const n=Os(pl(e)),{options:s}=$t(Bi),o=W(()=>({[yl(e.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[yl(e.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=t.default&&t.default(n);return e.custom?r:Ec("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},r)}}}),E_=k_;function S_(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function T_(e,t){for(const n in t){const s=t[n],o=e[n];if(typeof s=="string"){if(s!==o)return!1}else if(!Rt(o)||o.length!==s.length||s.some((r,i)=>r!==o[i]))return!1}return!0}function ml(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const yl=(e,t,n)=>e??t??n,A_=ee({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const s=$t(oi),o=W(()=>e.route||s.value),r=$t(fl,0),i=W(()=>{let d=D(r);const{matched:u}=o.value;let h;for(;(h=u[d])&&!h.components;)d++;return d}),l=W(()=>o.value.matched[i.value]);to(fl,W(()=>i.value+1)),to(x_,l),to(oi,o);const c=L();return Mt(()=>[c.value,l.value,e.name],([d,u,h],[f,g,w])=>{u&&(u.instances[h]=d,g&&g!==u&&d&&d===f&&(u.leaveGuards.size||(u.leaveGuards=g.leaveGuards),u.updateGuards.size||(u.updateGuards=g.updateGuards))),d&&u&&(!g||!Xn(u,g)||!f)&&(u.enterCallbacks[h]||[]).forEach(x=>x(d))},{flush:"post"}),()=>{const d=o.value,u=e.name,h=l.value,f=h&&h.components[u];if(!f)return gl(n.default,{Component:f,route:d});const g=h.props[u],w=g?g===!0?d.params:typeof g=="function"?g(d):g:null,$=Ec(f,Se({},w,t,{onVnodeUnmounted:q=>{q.component.isUnmounted&&(h.instances[u]=null)},ref:c}));return gl(n.default,{Component:$,route:d})||$}}});function gl(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const $_=A_;function R_(e){const t=y_(e.routes,e),n=e.parseQuery||b_,s=e.stringifyQuery||hl,o=e.history,r=ds(),i=ds(),l=ds(),c=xr(cn);let d=cn;Fn&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=pr.bind(null,R=>""+R),h=pr.bind(null,jv),f=pr.bind(null,$s);function g(R,j){let B,V;return Lu(R)?(B=t.getRecordMatcher(R),V=j):V=R,t.addRoute(V,B)}function w(R){const j=t.getRecordMatcher(R);j&&t.removeRoute(j)}function x(){return t.getRoutes().map(R=>R.record)}function $(R){return!!t.getRecordMatcher(R)}function q(R,j){if(j=Se({},j||c.value),typeof R=="string"){const _=mr(n,R,j.path),S=t.resolve({path:_.path},j),E=o.createHref(_.fullPath);return Se(_,S,{params:f(S.params),hash:$s(_.hash),redirectedFrom:void 0,href:E})}let B;if(R.path!=null)B=Se({},R,{path:mr(n,R.path,j.path).path});else{const _=Se({},R.params);for(const S in _)_[S]==null&&delete _[S];B=Se({},R,{params:h(_)}),j.params=h(j.params)}const V=t.resolve(B,j),he=R.hash||"";V.params=u(f(V.params));const Te=Vv(s,Se({},R,{hash:Bv(he),path:V.path})),m=o.createHref(Te);return Se({fullPath:Te,hash:he,query:s===hl?w_(R.query):R.query||{}},V,{redirectedFrom:void 0,href:m})}function H(R){return typeof R=="string"?mr(n,R,c.value.path):Se({},R)}function Q(R,j){if(d!==R)return Zn(8,{from:j,to:R})}function X(R){return Ee(R)}function de(R){return X(Se(H(R),{replace:!0}))}function K(R){const j=R.matched[R.matched.length-1];if(j&&j.redirect){const{redirect:B}=j;let V=typeof B=="function"?B(R):B;return typeof V=="string"&&(V=V.includes("?")||V.includes("#")?V=H(V):{path:V},V.params={}),Se({query:R.query,hash:R.hash,params:V.path!=null?{}:R.params},V)}}function Ee(R,j){const B=d=q(R),V=c.value,he=R.state,Te=R.force,m=R.replace===!0,_=K(B);if(_)return Ee(Se(H(_),{state:typeof _=="object"?Se({},he,_.state):he,force:Te,replace:m}),j||B);const S=B;S.redirectedFrom=j;let E;return!Te&&Wv(s,V,B)&&(E=Zn(16,{to:S,from:V}),rt(V,V,!0,!1)),(E?Promise.resolve(E):ke(S,V)).catch(p=>zt(p)?zt(p,2)?p:dt(p):ye(p,S,V)).then(p=>{if(p){if(zt(p,2))return Ee(Se({replace:m},H(p.to),{state:typeof p.to=="object"?Se({},he,p.to.state):he,force:Te}),j||S)}else p=We(S,V,!0,m,he);return Le(S,V,p),p})}function re(R,j){const B=Q(R,j);return B?Promise.reject(B):Promise.resolve()}function ae(R){const j=xt.values().next().value;return j&&typeof j.runWithContext=="function"?j.runWithContext(R):R()}function ke(R,j){let B;const[V,he,Te]=O_(R,j);B=yr(V.reverse(),"beforeRouteLeave",R,j);for(const _ of V)_.leaveGuards.forEach(S=>{B.push(pn(S,R,j))});const m=re.bind(null,R,j);return B.push(m),Ue(B).then(()=>{B=[];for(const _ of r.list())B.push(pn(_,R,j));return B.push(m),Ue(B)}).then(()=>{B=yr(he,"beforeRouteUpdate",R,j);for(const _ of he)_.updateGuards.forEach(S=>{B.push(pn(S,R,j))});return B.push(m),Ue(B)}).then(()=>{B=[];for(const _ of Te)if(_.beforeEnter)if(Rt(_.beforeEnter))for(const S of _.beforeEnter)B.push(pn(S,R,j));else B.push(pn(_.beforeEnter,R,j));return B.push(m),Ue(B)}).then(()=>(R.matched.forEach(_=>_.enterCallbacks={}),B=yr(Te,"beforeRouteEnter",R,j,ae),B.push(m),Ue(B))).then(()=>{B=[];for(const _ of i.list())B.push(pn(_,R,j));return B.push(m),Ue(B)}).catch(_=>zt(_,8)?_:Promise.reject(_))}function Le(R,j,B){l.list().forEach(V=>ae(()=>V(R,j,B)))}function We(R,j,B,V,he){const Te=Q(R,j);if(Te)return Te;const m=j===cn,_=Fn?history.state:{};B&&(V||m?o.replace(R.fullPath,Se({scroll:m&&_&&_.scroll},he)):o.push(R.fullPath,he)),c.value=R,rt(R,j,B,m),dt()}let Ye;function yt(){Ye||(Ye=o.listen((R,j,B)=>{if(!Gt.listening)return;const V=q(R),he=K(V);if(he){Ee(Se(he,{replace:!0}),V).catch(_s);return}d=V;const Te=c.value;Fn&&e_(ol(Te.fullPath,B.delta),Ko()),ke(V,Te).catch(m=>zt(m,12)?m:zt(m,2)?(Ee(m.to,V).then(_=>{zt(_,20)&&!B.delta&&B.type===Rs.pop&&o.go(-1,!1)}).catch(_s),Promise.reject()):(B.delta&&o.go(-B.delta,!1),ye(m,V,Te))).then(m=>{m=m||We(V,Te,!1),m&&(B.delta&&!zt(m,8)?o.go(-B.delta,!1):B.type===Rs.pop&&zt(m,20)&&o.go(-1,!1)),Le(V,Te,m)}).catch(_s)}))}let Je=ds(),ce=ds(),me;function ye(R,j,B){dt(R);const V=ce.list();return V.length?V.forEach(he=>he(R,j,B)):console.error(R),Promise.reject(R)}function lt(){return me&&c.value!==cn?Promise.resolve():new Promise((R,j)=>{Je.add([R,j])})}function dt(R){return me||(me=!R,yt(),Je.list().forEach(([j,B])=>R?B(R):j()),Je.reset()),R}function rt(R,j,B,V){const{scrollBehavior:he}=e;if(!Fn||!he)return Promise.resolve();const Te=!B&&t_(ol(R.fullPath,0))||(V||!B)&&history.state&&history.state.scroll||null;return bi().then(()=>he(R,j,Te)).then(m=>m&&Zv(m)).catch(m=>ye(m,R,j))}const je=R=>o.go(R);let ht;const xt=new Set,Gt={currentRoute:c,listening:!0,addRoute:g,removeRoute:w,hasRoute:$,getRoutes:x,resolve:q,options:e,push:X,replace:de,go:je,back:()=>je(-1),forward:()=>je(1),beforeEach:r.add,beforeResolve:i.add,afterEach:l.add,onError:ce.add,isReady:lt,install(R){const j=this;R.component("RouterLink",E_),R.component("RouterView",$_),R.config.globalProperties.$router=j,Object.defineProperty(R.config.globalProperties,"$route",{enumerable:!0,get:()=>D(c)}),Fn&&!ht&&c.value===cn&&(ht=!0,X(o.location).catch(he=>{}));const B={};for(const he in cn)Object.defineProperty(B,he,{get:()=>c.value[he],enumerable:!0});R.provide(Bi,j),R.provide(Mi,Vl(B)),R.provide(oi,c);const V=R.unmount;xt.add(R),R.unmount=function(){xt.delete(R),xt.size<1&&(d=cn,Ye&&Ye(),Ye=null,c.value=cn,ht=!1,me=!1),V()}}};function Ue(R){return R.reduce((j,B)=>j.then(()=>ae(B)),Promise.resolve())}return Gt}function O_(e,t){const n=[],s=[],o=[],r=Math.max(t.matched.length,e.matched.length);for(let i=0;i<r;i++){const l=t.matched[i];l&&(e.matched.find(d=>Xn(d,l))?s.push(l):n.push(l));const c=e.matched[i];c&&(t.matched.find(d=>Xn(d,c))||o.push(c))}return[n,s,o]}function Bu(){return $t(Mi)}const P_={class:"page"},I_=a("h1",null,"INVITE PAGE",-1),N_=ee({__name:"TheInvitePage",setup(e){const n=Bu().params.code;return en(()=>{Ev(n)}),(s,o)=>(b(),k("div",P_,[I_,I(Au,null,{default:U(()=>[a("p",null,N(D(n)),1)]),_:1})]))}}),Mu=e=>(we("data-v-c2b83b82"),e=e(),xe(),e),q_={class:"page"},L_=Mu(()=>a("h1",null,"404",-1)),D_=Mu(()=>a("p",null,"This page does not exist.",-1)),U_=ee({__name:"TheLostPage",setup(e){function t(){Qt.push("/")}return(n,s)=>(b(),k("div",q_,[I(Au,{id:"lost"},{default:U(()=>[L_,D_,a("button",{class:"btn",onClick:s[0]||(s[0]=o=>t())},"Return to Home Page")]),_:1})]))}}),B_=se(U_,[["__scopeId","data-v-c2b83b82"]]),Fu=[{id:"e52f27b1-e5f6-42de-9889-c2d9aeeb3b0d",name:"Assassin Crew",author:"Perryphery",source:"",url:"/images/crews/assassins.jpg",commonColor:"#a27043"},{id:"ab9c33a6-2710-41ff-a814-edf6b648af54",name:"Bravos Crew",author:"Perryphery",source:"",url:"/images/crews/bravos.jpg",commonColor:"#e88b62"},{id:"7544b3a4-0e4d-4758-9870-cd5b8f7774cb",name:"Cult Crew",author:"Perryphery",source:"",url:"/images/crews/cult.jpg",commonColor:"#c94c34"},{id:"13867125-73d8-4399-a550-db499a4eedfe",name:"Hawkers Crew",author:"Perryphery",source:"",url:"/images/crews/hawkers.jpg",commonColor:"#bfa53f"},{id:"bbc1bf16-dc4d-4e97-a898-0bf9e688d327",name:"Shadows Crew",author:"Perryphery",source:"",url:"/images/crews/shadows.jpg",commonColor:"#a27043"},{id:"de509b5c-f37c-4975-9768-5e123d24e19b",name:"Smugglers Crew",author:"Perryphery",source:"",url:"/images/crews/smugglers.jpg",commonColor:"#dac684"}],M_=["src"],F_={class:"sheet-card__content"},j_=ee({__name:"SheetCard",props:{sheet:{type:Object,required:!0}},setup(e){const t=e,n=W(()=>Fu.find(o=>o.id===t.sheet.image));function s(){if(t.sheet.sheetType==="crew"){const o=t.sheet;return`Tier ${o.tier} ❖ ${o.crewType}`}else return t.sheet,""}return(o,r)=>{var i,l;return b(),k("div",{class:"sheet-card",style:Vt({backgroundColor:(i=n.value)==null?void 0:i.commonColor})},[a("img",{src:(l=n.value)==null?void 0:l.url},null,8,M_),a("h1",{class:J({"extra-long":e.sheet.name.length>20})},N(t.sheet.name),3),a("div",F_,[a("p",null,N(s()),1)])],4)}}}),vl=se(j_,[["__scopeId","data-v-405bb78b"]]),H_=["innerHTML"],Q_=ee({__name:"Tooltip",props:{text:{},top:{type:Boolean}},setup(e){const t=L(null);return(n,s)=>(b(),k("div",{class:J(["tooltip",{"tooltip--top":n.top}]),ref_key:"tooltip",ref:t},[a("span",{innerHTML:n.text},null,8,H_)],2))}}),V_=se(Q_,[["__scopeId","data-v-20537d6c"]]),W_={class:"player-bar"},G_=ee({__name:"PlayerBar",setup(e){return(t,n)=>{var s;return b(),k("ul",W_,[(b(!0),k(Y,null,pe((s=D($e)().game)==null?void 0:s.players,(o,r)=>(b(),k("li",{key:r,class:J({"inactive-player":!o.isOnline})},[I(zo,{portraitId:o.portrait},null,8,["portraitId"]),I(V_,{top:"",text:o.username},null,8,["text"]),a("div",{class:J(["online-indicator",{"online-indicator--online":o.isOnline}])},null,2)],2))),128))])}}}),z_=se(G_,[["__scopeId","data-v-8422fb27"]]),K_={class:"confirm"},Y_=["innerHTML"],J_={class:"row wrap"},X_=ee({__name:"ConfirmModal",props:{title:{},message:{},onConfirm:{type:Function},onCancel:{type:Function},confirmText:{},cancelText:{}},setup(e){const t=e;function n(){t.onCancel?t.onCancel():F.close()}return(s,o)=>(b(),ie(ze,null,{header:U(()=>[I(Ke,{closeButton:"",closeButtonAction:n},{default:U(()=>[a("h2",null,N(t.title),1)]),_:1})]),content:U(()=>[a("div",K_,[a("p",{innerHTML:t.message},null,8,Y_),a("div",J_,[a("button",{class:"btn btn--alt mobile-full-width",onClick:o[0]||(o[0]=(...r)=>t.onConfirm&&t.onConfirm(...r))},[a("span",null,N(t.confirmText||"Yes"),1)]),a("button",{class:"btn mobile-full-width",onClick:n},[a("span",null,N(t.cancelText||"No, I changed my mind"),1)])])])]),_:1}))}}),Fi=se(X_,[["__scopeId","data-v-f18967fd"]]);let Js;const Z_=new Uint8Array(16);function eb(){if(!Js&&(Js=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Js))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Js(Z_)}const Xe=[];for(let e=0;e<256;++e)Xe.push((e+256).toString(16).slice(1));function tb(e,t=0){return Xe[e[t+0]]+Xe[e[t+1]]+Xe[e[t+2]]+Xe[e[t+3]]+"-"+Xe[e[t+4]]+Xe[e[t+5]]+"-"+Xe[e[t+6]]+Xe[e[t+7]]+"-"+Xe[e[t+8]]+Xe[e[t+9]]+"-"+Xe[e[t+10]]+Xe[e[t+11]]+Xe[e[t+12]]+Xe[e[t+13]]+Xe[e[t+14]]+Xe[e[t+15]]}const nb=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),_l={randomUUID:nb};function ws(e,t,n){if(_l.randomUUID&&!t&&!e)return _l.randomUUID();e=e||{};const s=e.random||(e.rng||eb)();return s[6]=s[6]&15|64,s[8]=s[8]&63|128,tb(s)}class sb{constructor(){ue(this,"id");ue(this,"sheetType");ue(this,"createdBy");ue(this,"createdAt");ue(this,"image");this.id=ws(),this.sheetType="sheet",this.createdBy=Ce().id,this.createdAt=Date.now(),this.image=""}}function ob(){return[]}function ju(e){var o,r,i,l,c,d,u,h,f,g;const t=(o=$e().game)==null?void 0:o.codex,n={id:ws(),name:`Gang of ${e}s`,description:"Edit this gang to customize its Edges and Flaws.",cohortType:"gang",edges:((l=(i=(r=t==null?void 0:t.sheets)==null?void 0:r.crew)==null?void 0:i.cohorts)==null?void 0:l.edges.map(w=>({...w,id:"edge-"+name,quantity:0,maxQuantity:1})))||[],flaws:((u=(d=(c=t==null?void 0:t.sheets)==null?void 0:c.crew)==null?void 0:d.cohorts)==null?void 0:u.flaws.map(w=>({...w,id:"flaw-"+name,quantity:0,maxQuantity:1})))||[],gangType:[{id:"gangType-adepts",name:"Adepts",description:"Scholars, tinkerers, occultists, and chemists",quantity:0,maxQuantity:1},{id:"gangType-rooks",name:"Rooks",description:"Con artists, spies, and socialites",quantity:0,maxQuantity:1},{id:"gangType-rovers",name:"Rovers",description:"Sailors, carriage drivers, and scavengers",quantity:0,maxQuantity:1},{id:"gangType-skulks",name:"Skulks",description:"Scouts, infiltrators, and thieves",quantity:0,maxQuantity:1},{id:"gangType-thugs",name:"Thugs",description:"Killers, brawlers, and roustabouts",quantity:0,maxQuantity:1}],harm:((g=(f=(h=t==null?void 0:t.sheets)==null?void 0:h.crew)==null?void 0:f.cohorts)==null?void 0:g.harm.map(w=>({...w,id:"harm-"+name,quantity:0,maxQuantity:1})))||[],quality:0,scale:0},s="gangType-"+e.toLowerCase();return console.log(s),n.gangType.find(w=>w.id===s).quantity=1,n.edges[0].quantity=1,n.flaws[0].quantity=1,n}var Yt=(e=>(e.NORTH="north",e.EAST="east",e.SOUTH="south",e.WEST="west",e))(Yt||{});class os extends sb{constructor(){super();ue(this,"ui",{});ue(this,"name","Untitled Crew");ue(this,"description","");ue(this,"reputationType","Ambitious");ue(this,"lair","An abandoned warehouse");ue(this,"lairDistrict","Crow's Foot");ue(this,"huntingGroundsDistrict","Crow's Foot");ue(this,"reputation",0);ue(this,"turf",0);ue(this,"hold","strong");ue(this,"tier",0);ue(this,"heat",0);ue(this,"wantedLevel",0);ue(this,"coin",0);ue(this,"crewExperience",0);ue(this,"crewDefaultExperienceLabels",["Contend with challenges above your current station","Bolster the Crew's reputation or develop a new one","Express the Crew's goals, drives, inner conflict, or essential nature"]);ue(this,"crewExperienceLabels",[]);ue(this,"cohorts",[]);ue(this,"crewType","");ue(this,"crewTypeDescription","");ue(this,"specialAbilities",[]);ue(this,"image","e52f27b1-e5f6-42de-9889-c2d9aeeb3b0d");ue(this,"contacts",[]);ue(this,"crewUpgrades",[]);ue(this,"lairUpgrades",[{id:"carriage-house",name:"Carriage",description:"",quantity:0,maxQuantity:2},{id:"boat-house",name:"Boat",description:"",quantity:0,maxQuantity:2},{id:"hidden-lair",name:"Hidden",description:"",quantity:0,maxQuantity:1},{id:"quarters",name:"Quarters",description:"",quantity:0,maxQuantity:1},{id:"secure-lair",name:"Secure",description:"",quantity:0,maxQuantity:2},{id:"vault",name:"Vault",description:"",quantity:0,maxQuantity:2},{id:"workshop",name:"Workshop",description:"",quantity:0,maxQuantity:1}]);ue(this,"trainingUpgrades",[{id:"insight",name:"Insight",description:"",quantity:0,maxQuantity:1},{id:"prowess",name:"Prowess",description:"",quantity:0,maxQuantity:1},{id:"resolve",name:"Resolve",description:"",quantity:0,maxQuantity:1},{id:"personal",name:"Personal",description:"",quantity:0,maxQuantity:1},{id:"mastery",name:"Mastery",description:"",quantity:0,maxQuantity:4}]);ue(this,"qualityUpgrades",[{id:"documents",name:"Documents",description:"",quantity:0,maxQuantity:1},{id:"gear",name:"Gear",description:"",quantity:0,maxQuantity:1},{id:"implements",name:"Implements",description:"",quantity:0,maxQuantity:1},{id:"supplies",name:"Supplies",description:"",quantity:0,maxQuantity:1},{id:"tools",name:"Tools",description:"",quantity:0,maxQuantity:1},{id:"weapons",name:"Weapons",description:"",quantity:0,maxQuantity:1}]);ue(this,"claims",[]);ue(this,"huntingGroundsLabel","Hunting Grounds");ue(this,"huntingGrounds",[]);this.sheetType="crew"}applyUpgradesDescriptionsFromCodex(){var s;const n=(s=$e().game)==null?void 0:s.codex.sheets.crew["upgrade-descriptions"];this.crewUpgrades.forEach(o=>{var i;const r=(i=n==null?void 0:n.crew)==null?void 0:i[o.id];r?o.description=r:o.description||(o.description="no description found for "+o.id)}),this.lairUpgrades.forEach(o=>{const r=n.lair[o.id];r?o.description=r:o.description||(o.description="no description found for "+o.id)}),this.trainingUpgrades.forEach(o=>{const r=n.training[o.id];r?o.description=r:o.description||(o.description="no description found for "+o.id)}),this.qualityUpgrades.forEach(o=>{const r=n.quality[o.id];r?o.description=r:o.description||(o.description="no description found for "+o.id)})}}class rb extends os{constructor(){super(),this.name="Untitled Assassins",this.crewType="Assassins",this.crewTypeDescription="Murderers for hire",this.image="e52f27b1-e5f6-42de-9889-c2d9aeeb3b0d",this.crewExperienceLabels=["Execute a successful accident, disappearance, murder, or ransom operation"],this.specialAbilities=[{id:"assassins-deadly",name:"Deadly",description:"Each PC may add +1 *Action Rating* to **Hunt**, **Prowl**, or **Skirmish** (up to a max of 3)",quantity:0,maxQuantity:1},{id:"assassins-crows-veil",name:"Crow's Veil",description:"Your activities are hidden from the notice of the Death-seeker Crows and you don't take extra *Heat* when killing is involved on a Score",quantity:0,maxQuantity:1},{id:"assassins-emberdeath",name:"Emberdeath",description:"You know the arcane method to destroy a living victim's Spirit at the moment you kill them. Take [/stress 3 Stress] to channel electroplasmic energy from the ghost field to disintegrate the Spirit and dead body in a shower of sparking embers",quantity:0,maxQuantity:1},{id:"assassins-no-traces",name:"No Traces",description:"When you keep an operation quiet or make it look like an accident, you get half the [/rep Rep] value of the target (round up) instead of zero. When you end downtime with zero *Heat*, take [/rep +1 Rep]",quantity:0,maxQuantity:1},{id:"assassins-patron",name:"Patron",description:"When you advance your *Tier*, it costs half the *Coin* it normally would. Who is your patron? Why do they help you?",quantity:0,maxQuantity:1},{id:"assassins-predators",name:"Predators",description:"When you use stealth or subterfuge to commit murder, add [/dice +1] to the *Engagement* roll",quantity:0,maxQuantity:1},{id:"assassins-vipers",name:"Vipers",description:`When you acquire or craft poisons, you get [/result +1 Result Level] to your roll

When you employ a poison, you are specially prepared to be immune to its effects`,quantity:0,maxQuantity:1},{id:"assassins-veteran",name:"Veteran",description:"Choose a *Special Ability* from another crew",quantity:0,maxQuantity:3}],this.crewUpgrades=[{id:"assassin-rigging",name:"Assassin Rigging",description:"2 free load of weapons or gear.",quantity:0,maxQuantity:1},{id:"ironhook-contacts",name:"Ironhook Contacts",description:"+1 Tier in prison.",quantity:0,maxQuantity:1},{id:"elite-skulks",name:"Elite Skulks",description:"",quantity:0,maxQuantity:1},{id:"elite-thugs",name:"Elite Thugs",description:"",quantity:0,maxQuantity:1},{id:"hardened",name:"Hardened",description:"+1 trauma box.",quantity:0,maxQuantity:3}],this.contacts=[{id:"assassins-trev",name:"Trev",description:"A gang boss",attitude:0},{id:"assassins-contact-lydra",name:"Lydra",description:"A deal broker",attitude:0},{id:"assassins-contact-irimina",name:"Irimina",description:"A vicious noble",attitude:0},{id:"assassins-contact-karlos",name:"Karlos",description:"A bounty hunter",attitude:0},{id:"assassins-contact-exeter",name:"Exeter",description:"A spirit warden",attitude:0},{id:"assassins-contact-sevoy",name:"Sevoy",description:"A merchant lord",attitude:0}],this.claims=[{id:"assassins-training-room",name:"Training Room",description:`[/scale +1 scale]
Skulks Cohorts`,position:{x:0,y:0},quantity:0,maxQuantity:1,adjacent:["east","south"]},{id:"assassins-vice-den",name:"Vice Den",description:`[/coin +Coin]
[/dice Tier] - *Heat*`,position:{x:1,y:0},quantity:0,maxQuantity:1,adjacent:["west","south"]},{id:"assassins-fixer",name:"Fixer",description:`[/coin +2 Coin]
Lower-class targets`,position:{x:2,y:0},quantity:0,maxQuantity:1,adjacent:["south"]},{id:"assassins-informants",name:"Informants",description:"[/dice +1] Gather Information",position:{x:3,y:0},quantity:0,maxQuantity:1,adjacent:["east","south"]},{id:"assassins-hagfish-farm",name:"Hagfish Farm",description:`Body disposal
[/dice +1] Reduce Heat after killing`,position:{x:4,y:0},quantity:0,maxQuantity:1,adjacent:["west","south"]},{id:"assassins-victim-trophies",name:"Victim Trophies",description:`[/rep +1 Rep]
per Score`,position:{x:0,y:1},quantity:0,maxQuantity:1,adjacent:["north","south"]},{id:"assassins-turf-1",name:"Turf",description:"",position:{x:1,y:1},quantity:0,maxQuantity:1,adjacent:["north","east","south"]},{id:"assassins-lair",name:"Lair",description:"",position:{x:2,y:1},quantity:0,maxQuantity:1,adjacent:["north","east","south","west"]},{id:"assassins-turf-2",name:"Turf",description:"",position:{x:3,y:1},quantity:0,maxQuantity:1,adjacent:["north","west","east"]},{id:"assassins-cover-operation",name:"Cover Operation",description:`[/heat -2 Heat]
per Score`,position:{x:4,y:1},quantity:0,maxQuantity:1,adjacent:["north","west","south"]},{id:"assassins-protection-racket",name:"Protection Racket",description:`[/coin +Coin]
[/dice Tier] - *Heat*`,position:{x:0,y:2},quantity:0,maxQuantity:1,adjacent:["north","east"]},{id:"assassins-infirmary",name:"Infirmary",description:"[/dice +1] Healing",position:{x:1,y:2},quantity:0,maxQuantity:1,adjacent:["north","west"]},{id:"assassins-envoy",name:"Envoy",description:`[/coin +2 Coin]
High-class targets`,position:{x:2,y:2},quantity:0,maxQuantity:1,adjacent:["north"]},{id:"assassins-cover-identities",name:"Cover Identities",description:`[/dice +1] Engagement
*Deception* and *Social plans*`,position:{x:3,y:2},quantity:0,maxQuantity:1,adjacent:["east"]},{id:"assassins-city-records",name:"City Records",description:"[/dice +1] Engagement *Stealth plans*",position:{x:4,y:2},quantity:0,maxQuantity:1,adjacent:["north","west"]}],this.huntingGroundsLabel="Hunting Grounds",this.huntingGrounds=[{id:"assassins-hunting-ground-accident",name:"Accident",description:"A killing with no telltale signs of murder",quantity:0,maxQuantity:1},{id:"assassins-hunting-ground-disappearance",name:"Disappearance",description:"The victim vanishes without a trace",quantity:0,maxQuantity:1},{id:"assassins-hunting-ground-murder",name:"Murder",description:"An obvious killing that sends a message",quantity:0,maxQuantity:1},{id:"assassins-hunting-ground-ransom",name:"Ransom",description:"A kidnapping and demand for payment for their return",quantity:0,maxQuantity:1}],this.applyUpgradesDescriptionsFromCodex(),this.applyStartingUpgrades()}applyStartingUpgrades(){this.claims.find(t=>t.id==="assassins-lair").quantity=1,this.trainingUpgrades.find(t=>t.id==="insight").quantity=1,this.trainingUpgrades.find(t=>t.id==="prowess").quantity=1}}class ib extends os{constructor(){super(),this.name="Untitled Bravos",this.crewType="Bravos",this.crewTypeDescription="Mercenaries, thugs, & killers",this.image="ab9c33a6-2710-41ff-a814-edf6b648af54",this.crewExperienceLabels=["Execute a successful battle, extortion, sabotage, or smash & grab operation"],this.specialAbilities=[{id:"dangerous",name:"Dangerous",description:"Each PC may add +1 *Action Rating* to **Hunt**, **Skirmish**, or **Wreck** (up to a max of 3)",quantity:0,maxQuantity:1},{id:"blood-brothers",name:"Blood Brothers",description:`When you fight alongside your Cohorts in combat, they get [/dice +1] for *Setup* and *Group Action* rolls

All of your Cohorts get the Thugs type for free. If they're already Thugs, add another type`,quantity:0,maxQuantity:1},{id:"door-kickers",name:"Door Kickers",description:"When you execute an *Assault plan*, take [/dice +1] to the *Engagement* roll",quantity:0,maxQuantity:1},{id:"fiends",name:"Fiends",description:"Fear is as good as respect. You may count each *Wanted Level* as if it was Turf",quantity:0,maxQuantity:1},{id:"forged-in-the-fire",name:"Forged in the Fire",description:"Each PC has been toughened by cruel experience. You get [/dice +1] to *Resistance* rolls",quantity:0,maxQuantity:1},{id:"patron",name:"Patron",description:"When you advance your *Tier*, it costs half the *Coin* it normally would. Who is your patron? Why do they help you?",quantity:0,maxQuantity:1},{id:"war-dogs",name:"War Dogs",description:"When you're at *War* (-3 *Faction Status*), your Crew does not suffer -1 *Hold* and PCs still get two *Downtime Activities* instead of just one",quantity:0,maxQuantity:1},{id:"veteran",name:"Veteran",description:"Choose a *Special Ability* from another crew",quantity:0,maxQuantity:3}],this.crewUpgrades=[{id:"bravos-rigging",name:"Bravos Rigging",description:"2 free load of weapons or armor.",quantity:0,maxQuantity:1},{id:"elite-skulks",name:"Elite Skulks",description:"",quantity:0,maxQuantity:1},{id:"elite-thugs",name:"Elite Thugs",description:"",quantity:0,maxQuantity:1},{id:"hardened",name:"Hardened",description:"+1 trauma box.",quantity:0,maxQuantity:3},{id:"ironhook-contacts",name:"Ironhook Contacts",description:"+1 Tier in prison.",quantity:0,maxQuantity:1}],this.contacts=[{id:"bravos-contact-meg",name:"Meg",description:"A pit-fighter",attitude:0},{id:"bravos-contact-conway",name:"Conway",description:"A bluecoat",attitude:0},{id:"bravos-contact-keller",name:"Keller",description:"A blacksmith",attitude:0},{id:"bravos-contact-tomas",name:"Tomas",description:"A physicker",attitude:0},{id:"bravos-contact-walker",name:"Walker",description:"A ward boss",attitude:0},{id:"bravos-contact-lutes",name:"Lutes",description:"A tavern owner",attitude:0}],this.claims=[{id:"bravos-barracks",name:"Barracks",description:`[/scale +1 Scale]
Thug Cohorts`,position:{x:0,y:0},quantity:0,maxQuantity:1,adjacent:["east","south"]},{id:"bravos-turf-1",name:"Turf",description:"",position:{x:1,y:0},quantity:0,maxQuantity:1,adjacent:["west","east"]},{id:"bravos-terrorized-citizens",name:"Terrorized Citizens",description:`[/coin +2 Coin]
*Battle* or *Extortion plans*`,position:{x:2,y:0},quantity:0,maxQuantity:1,adjacent:["west","south"]},{id:"bravos-informants",name:"Informants",description:"[/dice +1] Gather Information",position:{x:3,y:0},quantity:0,maxQuantity:1,adjacent:["east","south"]},{id:"bravos-protection-racket",name:"Protection Racket",description:`[/coin +Coin]
[/dice Tier] - *Heat*`,position:{x:4,y:0},quantity:0,maxQuantity:1,adjacent:["west","south"]},{id:"bravos-fighting-pits",name:"Fighting Pits",description:`[/coin +Coin]
[/dice Tier] - *Heat*`,position:{x:0,y:1},quantity:0,maxQuantity:1,adjacent:["north","east","south"]},{id:"bravos-turf-2",name:"Turf",description:"",position:{x:1,y:1},quantity:0,maxQuantity:1,adjacent:["west","east","south"]},{id:"bravos-lair",name:"Lair",description:"",position:{x:2,y:1},quantity:0,maxQuantity:1,adjacent:["north","east","south","west"]},{id:"bravos-turf-3",name:"Turf",description:"",position:{x:3,y:1},quantity:0,maxQuantity:1,adjacent:["north","west","east","south"]},{id:"bravos-turf-4",name:"Turf",description:"",position:{x:4,y:1},quantity:0,maxQuantity:1,adjacent:["north","west","south"]},{id:"bravos-infirmary",name:"Infirmary",description:"[/dice +1] Healing",position:{x:0,y:2},quantity:0,maxQuantity:1,adjacent:["north","east"]},{id:"bravos-bluecoat-intimidation",name:"Bluecoat Intimidation",description:`[/heat -2 Heat]
per Score`,position:{x:1,y:2},quantity:0,maxQuantity:1,adjacent:["north","west"]},{id:"bravos-street-fence",name:"Street Fence",description:`[/coin +2 Coin]
Lower-class targets`,position:{x:2,y:2},quantity:0,maxQuantity:1,adjacent:["north","east"]},{id:"bravos-warehouses",name:"Warehouses",description:"Stockpiles give [/dice +1] *Acquire Assets*",position:{x:3,y:2},quantity:0,maxQuantity:1,adjacent:["north","west","east"]},{id:"bravos-bluecoat-confederates",name:"Bluecoat Confederates",description:"[/dice +1] Engagement *Assault plans*",position:{x:4,y:2},quantity:0,maxQuantity:1,adjacent:["north","west"]}],this.huntingGroundsLabel="Hunting Grounds",this.huntingGrounds=[{id:"bravos-hunting-ground-battle",name:"Battle",description:"Defeat an enemy with overwhelming force",quantity:0,maxQuantity:1},{id:"bravos-hunting-ground-extortion",name:"Extortion",description:"Threaten violence unless you're paid off",quantity:0,maxQuantity:1},{id:"bravos-hunting-ground-sabotage",name:"Sabotage",description:"Hurt an opponent by destroying something",quantity:0,maxQuantity:1},{id:"bravos-hunting-ground-smash-and-grab",name:"Smash & Grab",description:"A fast and violent armed robbery",quantity:0,maxQuantity:1}],this.applyUpgradesDescriptionsFromCodex(),this.applyStartingUpgrades()}applyStartingUpgrades(){this.claims.find(t=>t.id==="bravos-lair").quantity=1,this.trainingUpgrades.find(t=>t.id==="prowess").quantity=1,this.cohorts.push(ju("Thugs"))}}class ab extends os{constructor(){super();ue(this,"deityName");ue(this,"deityFeatures");this.name="Untitled Cult",this.crewType="Cult",this.crewTypeDescription="Acolytes of a deity",this.image="7544b3a4-0e4d-4758-9870-cd5b8f7774cb",this.crewExperienceLabels=["Advance the agenda of your deity or embody its precepts"],this.specialAbilities=[{id:"chosen",name:"Chosen",description:"Each PC may add +1 *Action Rating* to **Attune**, **Study**, or **Sway** (up to a max of 3)",quantity:0,maxQuantity:1},{id:"anointed",name:"Anointed",description:`You get [/dice +1] to *Resistance* rolls against supernatural threats

You get [/dice +1] to healing rolls when you have supernatural harm`,quantity:0,maxQuantity:1},{id:"bound-in-darkness",name:"Bound in Darkness",description:`You may use *Teamwork* with any cult member, regardless of the distance separating you

Take [/stress 1 Stress] for your whispered message to be heard by every cultist`,quantity:0,maxQuantity:1},{id:"conviction",name:"Conviction",description:`Each PC gains an additional *Vice*: Worship. You don't overindulge when indulging in Worship (if you provide a pleasing sacrifice)

In addition, your deity will grant [/dice +1] to one *Action Roll* you make—from now until you indulge in Worship again`,quantity:0,maxQuantity:1},{id:"glory-incarnate",name:"Glory Incarnate",description:`Your deity sometimes manifests in the physical world. This can be a great boon, but the priorities and values of a god are not those of mortals

You have been warned`,quantity:0,maxQuantity:1},{id:"sealed-in-blood",name:"Sealed in Blood",description:"Each human sacrifice yields [/stress -3 Stress Cost] for any ritual you perform",quantity:0,maxQuantity:1},{id:"zealotry",name:"Zealotry",description:`Your Cohorts have abandoned reason in devotion to the cult and will undertake any service, no matter how dangerous or strange

They gain [/dice +1] to rolls against enemies of the faith`,quantity:0,maxQuantity:1},{id:"veteran",name:"Veteran",description:"Choose a *Special Ability* from another crew",quantity:0,maxQuantity:3}],this.crewUpgrades=[{id:"cult-rigging",name:"Cult Rigging",description:"2 free load of documents or implements.",quantity:0,maxQuantity:1},{id:"ritual-sanctum-in-lair",name:"Ritual Sanctum in Lair",description:"",quantity:0,maxQuantity:1},{id:"elite-adepts",name:"Elite Adepts",description:"",quantity:0,maxQuantity:1},{id:"elite-thugs",name:"Elite Thugs",description:"",quantity:0,maxQuantity:1},{id:"ordained",name:"Ordained",description:"+1 trauma box.",quantity:0,maxQuantity:3}],this.contacts=[{id:"cult-contact-gagan",name:"Gagan",description:"An academic",attitude:0},{id:"cult-contact-adikin",name:"Adikin",description:"An occultist",attitude:0},{id:"cult-contact-hutchins",name:"Hutchins",description:"An antiquarian",attitude:0},{id:"cult-contact-moriya",name:"Moriya",description:"A spirit trafficker",attitude:0},{id:"cult-contact-mateas-kline",name:"Mateas Kline",description:"A noble",attitude:0},{id:"cult-bennett",name:"Bennett",description:"An astronomer",attitude:0}],this.claims=[{id:"cult-cloister",name:"Cloister",description:`[/scale +1 Scale]
Adept Cohorts`,position:{x:0,y:0},quantity:0,maxQuantity:1,adjacent:["east","south"]},{id:"cult-vice-den",name:"Vice Den",description:`[/coin +Coin]
[/dice Tier] - *Heat*`,position:{x:1,y:0},quantity:0,maxQuantity:1,adjacent:["west","south","east"]},{id:"cult-offertory",name:"Offertory",description:"[/coin +2 Coin] *Occult plans*",position:{x:2,y:0},quantity:0,maxQuantity:1,adjacent:["west","south"]},{id:"cult-ancient-obelisk",name:"Ancient Obelisk",description:"[/stress -1 Stress Cost] *Arcane Powers* and *Rituals*",position:{x:3,y:0},quantity:0,maxQuantity:1,adjacent:["east"]},{id:"cult-ancient-tower",name:"Ancient Tower",description:"[/dice +1] Consort w/ Arcane entities on-site",position:{x:4,y:0},quantity:0,maxQuantity:1,adjacent:["west","south"]},{id:"cult-turf-1",name:"Turf",description:"",position:{x:0,y:1},quantity:0,maxQuantity:1,adjacent:["north","east"]},{id:"cult-turf-2",name:"Turf",description:"",position:{x:1,y:1},quantity:0,maxQuantity:1,adjacent:["north","west","east","south"]},{id:"cult-lair",name:"Lair",description:"",position:{x:2,y:1},quantity:0,maxQuantity:1,adjacent:["north","west","east","south"]},{id:"cult-turf-3",name:"Turf",description:"",position:{x:3,y:1},quantity:0,maxQuantity:1,adjacent:["south","west","east"]},{id:"cult-turf-4",name:"Turf",description:"",position:{x:4,y:1},quantity:0,maxQuantity:1,adjacent:["north","west","south"]},{id:"cult-spirit-well",name:"Spirit Well",description:"[/dice +1] **Attune** on-site",position:{x:0,y:2},quantity:0,maxQuantity:1,adjacent:["east"]},{id:"cult-ancient-gate",name:"Ancient Gate",description:"Safe passage into the Deathlands",position:{x:1,y:2},quantity:0,maxQuantity:1,adjacent:["west","north"]},{id:"cult-sanctuary",name:"Sanctuary",description:"[/dice +1] *Command* and *Sway* on-site",position:{x:2,y:2},quantity:0,maxQuantity:1,adjacent:["north"]},{id:"cult-sacred-nexus",name:"Sacred Nexus",description:"[/dice +1] Healing on-site",position:{x:3,y:2},quantity:0,maxQuantity:1,adjacent:["north","east"]},{id:"cult-ancient-altar",name:"Ancient Altar",description:"[/dice +1] Engagement *Occult plans*",position:{x:4,y:2},quantity:0,maxQuantity:1,adjacent:["north","west"]}],this.huntingGroundsLabel="Sacred Sites",this.huntingGrounds=[{id:"cult-sacred-site-acquisition",name:"Acquisition",description:"Procure an arcane artifact and attune it to your god",quantity:0,maxQuantity:1},{id:"cult-sacred-site-augury",name:"Augury",description:"Do what you must to attract the god's attention and counsel",quantity:0,maxQuantity:1},{id:"cult-sacred-site-consecration",name:"Consecration",description:"Anoint a place for your deity",quantity:0,maxQuantity:1},{id:"cult-sacred-site-sacrifice",name:"Sacrifice",description:"Destroy what is valuable or good in honor of your god",quantity:0,maxQuantity:1}],this.deityName="",this.deityFeatures="",this.applyUpgradesDescriptionsFromCodex(),this.applyStartingUpgrades()}applyStartingUpgrades(){this.claims.find(n=>n.id==="cult-lair").quantity=1,this.trainingUpgrades.find(n=>n.id==="resolve").quantity=1,this.cohorts.push(ju("Adepts"))}}class lb extends os{constructor(){super(),this.name="Untitled Hawkers",this.crewType="Hawkers",this.crewTypeDescription="Vice dealers",this.image="13867125-73d8-4399-a550-db499a4eedfe",this.crewExperienceLabels=["Acquire product supply, execute clandestine/covert sales, or secure new territory"],this.specialAbilities=[{id:"silver-tongues",name:"Silver Tongues",description:"Each PC may add +1 *Action Rating* to **Command**, **Consort**, or **Sway** (up to a max of 3)",quantity:0,maxQuantity:1},{id:"accord",name:"Accord",description:"Sometimes friends are as good as territory. Count up to three +3 *Faction Statuses* as Turf",quantity:0,maxQuantity:1},{id:"the-good-stuff",name:"The Good Stuff",description:`Your merchandise is exquisite. The product quality is equal to your *Tier* +2

When you deal with a *Faction*, the GM will tell you who among them is hooked on your product (one, a few, many, or all)`,quantity:0,maxQuantity:1},{id:"ghost-market",name:"Ghost Market",description:`You have discovered how to prepare your product for sale to ghosts and/or demons

They do not pay in *Coin*. What do they pay with?`,quantity:0,maxQuantity:1},{id:"high-society",name:"High Society",description:`It's all about who you know

Take [/heat -1 Heat] during Downtime and [/dice +1] to Gather Information about the city's elite`,quantity:0,maxQuantity:1},{id:"hooked",name:"Hooked",description:"Your Cohorts use your product. Add the savage, unreliable, or wild *Flaw* to your Gangs to give them [/quality +1 Quality]",quantity:0,maxQuantity:1},{id:"patron",name:"Patron",description:"When you advance your *Tier*, it costs half the *Coin* it normally would. Who is your patron? Why do they help you?",quantity:0,maxQuantity:1},{id:"veteran",name:"Veteran",description:"Choose a *Special Ability* from another crew",quantity:0,maxQuantity:3}],this.crewUpgrades=[{id:"hawker-rigging",name:"Hawkers Rigging",description:"1 carried item is concealed and has no load",quantity:0,maxQuantity:1},{id:"ironhook-contacts",name:"Ironhook Contacts",description:"+1 Tier in prison.",quantity:0,maxQuantity:1},{id:"elite-rooks",name:"Elite Rooks",description:"",quantity:0,maxQuantity:1},{id:"elite-thugs",name:"Elite Thugs",description:"",quantity:0,maxQuantity:1},{id:"composed",name:"Composed",description:"+1 stress box.",quantity:0,maxQuantity:3}],this.contacts=[{id:"hawkers-contact-rolan-wott",name:"Rolan Wott",description:"A magistrate",attitude:0},{id:"hawkers-contact-laroze",name:"Laroze",description:"A bluecoat",attitude:0},{id:"hawkers-contact-lydra",name:"Lydra",description:"A deal broker",attitude:0},{id:"hawkers-contact-hoxley",name:"Hoxley",description:"A smuggler",attitude:0},{id:"hawkers-contact-anya",name:"Anya",description:"A dilettante",attitude:0},{id:"hawkers-contact-marlo",name:"Marlo",description:"A gang boss",attitude:0}],this.claims=[{id:"hawkers-turf-1",name:"Turf",description:"",position:{x:0,y:0},quantity:0,maxQuantity:1,adjacent:["east","south"]},{id:"hawkers-personal-clothier",name:"Personal Clothier",description:"[/dice +1] Engagement *Social plans*",position:{x:1,y:0},quantity:0,maxQuantity:1,adjacent:["west","south"]},{id:"hawkers-local-graft",name:"Local Graft",description:`[/coin +2 Coin]
*Show of Force* or *Socialize plans*`,position:{x:2,y:0},quantity:0,maxQuantity:1,adjacent:["south"]},{id:"hawkers-lookouts",name:"Lookouts",description:"[/dice +1] **Survey** and **Hunt** on Turf",position:{x:3,y:0},quantity:0,maxQuantity:1,adjacent:["east","south"]},{id:"hawkers-informants",name:"Informants",description:"[/dice +1] Gather Information",position:{x:4,y:0},quantity:0,maxQuantity:1,adjacent:["west","south"]},{id:"hawkers-turf-2",name:"Turf",description:"",position:{x:0,y:1},quantity:0,maxQuantity:1,adjacent:["north","south"]},{id:"hawkers-turf-3",name:"Turf",description:"",position:{x:1,y:1},quantity:0,maxQuantity:1,adjacent:["north","east","south"]},{id:"hawkers-lair",name:"Lair",description:"",position:{x:2,y:1},quantity:0,maxQuantity:1,adjacent:["north","east","south","west"]},{id:"hawkers-turf-4",name:"Turf",description:"",position:{x:3,y:1},quantity:0,maxQuantity:1,adjacent:["north","west","east","south"]},{id:"hawkers-luxury-venue",name:"Luxury Venue",description:"[/dice +1] **Consort** and **Sway** on-site",position:{x:4,y:1},quantity:0,maxQuantity:1,adjacent:["north","west"]},{id:"hawkers-foreign-market",name:"Foreign Market",description:`[/coin +Coin]
[/dice Tier] - *Heat*`,position:{x:0,y:2},quantity:0,maxQuantity:1,adjacent:["east","north"]},{id:"hawkers-vice-den",name:"Vice Den",description:`[/coin +Coin]
[/dice Tier] - *Heat*`,position:{x:1,y:2},quantity:0,maxQuantity:1,adjacent:["north","west"]},{id:"hawkers-surplus-caches",name:"Surplus Caches",description:`[/coin +2 Coin]
*Sale* or *Supply plans*`,position:{x:2,y:2},quantity:0,maxQuantity:1,adjacent:["north"]},{id:"hawkers-cover-operation",name:"Cover Operation",description:`[/heat -2 Heat]
per Score`,position:{x:3,y:2},quantity:0,maxQuantity:1,adjacent:["north","east"]},{id:"hawkers-cover-identities",name:"Cover Identities",description:"[/dice +1] Engagement *Deception* or *Transport plans*",position:{x:4,y:2},quantity:0,maxQuantity:1,adjacent:["west"]}],this.huntingGroundsLabel="Sales Territory",this.huntingGrounds=[{id:"hawkers-sales-territory-sale",name:"Sale",description:"A significant transaction with a special buyer of illicit product",quantity:0,maxQuantity:1},{id:"hawkers-sales-territory-supply",name:"Supply",description:"A transaction to acquire new product or establish a new supplier",quantity:0,maxQuantity:1},{id:"hawkers-sales-territory-show-of-force",name:"Show of Force",description:"Make an example of an enemy to dominate territory",quantity:0,maxQuantity:1},{id:"hawkers-sales-territory-socialize",name:"Socialize",description:"Improve customer and/or supplier relations with a social event",quantity:0,maxQuantity:1}],this.applyUpgradesDescriptionsFromCodex(),this.applyStartingUpgrades()}applyStartingUpgrades(){this.claims.find(t=>t.id==="hawkers-lair").quantity=1,this.trainingUpgrades.find(t=>t.id==="resolve").quantity=1,this.lairUpgrades.find(t=>t.id==="secure-lair").quantity=1,console.log(this.lairUpgrades)}}class cb extends os{constructor(){super(),this.name="Untitled Shadows",this.crewType="Shadows",this.crewTypeDescription="Thieves, spies, and saboteurs",this.image="bbc1bf16-dc4d-4e97-a898-0bf9e688d327",this.crewExperienceLabels=["Execute a successful espionage, sabotage, or theft operation"],this.specialAbilities=[{id:"everyone-steals",name:"Everyone Steals",description:"Each PC may add +1 *Action Rating* to **Prowl**, **Finesse**, or **Tinker** (up to a max of 3)",quantity:0,maxQuantity:1},{id:"ghost-echoes",name:"Ghost Echoes",description:"All Crew members gain the ability to see and interact with the ghostly structures, streets, and objects within the echo of Duskwall that exists in the Ghost Field.",quantity:0,maxQuantity:1},{id:"pack-rats",name:"Pack Rats",description:"Your Lair is a jumble of stolen items. Take [/dice +1d] when you *Acquire an Asset*",quantity:0,maxQuantity:1},{id:"patron",name:"Patron",description:"When you advance your *Tier*, it costs half the *Coin* it normally would. Who is your patron? Why do they help you?",quantity:0,maxQuantity:1},{id:"second-story",name:"Second Story",description:"When you execute a clandestine infiltration, you get [/dice +1] to the *Engagement* roll",quantity:0,maxQuantity:1},{id:"slippery",name:"Slippery",description:`When you roll *Entanglements*, roll twice and keep the one you want

Take [/dice +1] when you reduce *Heat*`,quantity:0,maxQuantity:1},{id:"synchronized",name:"Synchronized",description:"When you perform a *Group Action* you may count multiple 6s from different rolls as a Critical Success",quantity:0,maxQuantity:1},{id:"veteran",name:"Veteran",description:"Choose a *Special Ability* from another crew",quantity:0,maxQuantity:3}],this.crewUpgrades=[{id:"thief-rigging",name:"Thief Rigging",description:"2 free load of tools or gear.",quantity:0,maxQuantity:1},{id:"underground-maps-and-passkeys",name:"Underground Maps and Passkeys",description:"",quantity:0,maxQuantity:1},{id:"elite-rooks",name:"Elite Rooks",description:"",quantity:0,maxQuantity:1},{id:"elite-skulks",name:"Elite Skulks",description:"",quantity:0,maxQuantity:1},{id:"steady",name:"Steady",description:"+1 stress box.",quantity:0,maxQuantity:3}],this.contacts=[{id:"shadows-contact-dowler",name:"Dowler",description:"An explorer",attitude:0},{id:"shadows-contact-laroze",name:"Laroze",description:"A bluecoat",attitude:0},{id:"shadows-contact-amancio",name:"Amancio",description:"A deal broker",attitude:0},{id:"shadows-contact-fitz",name:"Fitz",description:"A collector",attitude:0},{id:"shadows-contact-adelaide-phroaig",name:"Adelaide Phroaig",description:"A noble",attitude:0},{id:"shadows-contact-rigney",name:"Rigney",description:"A tavern owner",attitude:0}],this.claims=[{id:"shadows-interrogation-chamber",name:"Interrogation Chamber",description:"[/dice +1] **Command** and **Sway** on-site",position:{x:0,y:0},quantity:0,maxQuantity:1,adjacent:["east","south"]},{id:"shadows-turf-1",name:"Turf",description:"",position:{x:1,y:0},quantity:0,maxQuantity:1,adjacent:["west","east"]},{id:"shadows-loyal-fence",name:"Loyal Fence",description:"[/coin +2 Coin] *Burglary* or *Robbery plans*",position:{x:2,y:0},quantity:0,maxQuantity:1,adjacent:["west","south"]},{id:"shadows-gambling-den",name:"Gambling Den",description:`[/coin +Coin]
[/dice Tier] - *Heat*`,position:{x:3,y:0},quantity:0,maxQuantity:1,adjacent:["east","south"]},{id:"shadows-tavern",name:"Tavern",description:"[/dice +1] **Consort** and **Sway** on-site",position:{x:4,y:0},quantity:0,maxQuantity:1,adjacent:["west","south"]},{id:"shadows-drug-den",name:"Drug Den",description:`[/coin +Coin]
[/dice Tier] - *Heat*`,position:{x:0,y:1},quantity:0,maxQuantity:1,adjacent:["north","east","south"]},{id:"shadows-informants",name:"Informants",description:"[/dice +1] Gather Information",position:{x:1,y:1},quantity:0,maxQuantity:1,adjacent:["south","west","east"]},{id:"shadows-lair",name:"Lair",description:"",position:{x:2,y:1},quantity:0,maxQuantity:1,adjacent:["north","west","east","south"]},{id:"shadows-turf-2",name:"Turf",description:"",position:{x:3,y:1},quantity:0,maxQuantity:1,adjacent:["north","west","east"]},{id:"shadows-lookouts",name:"Lookouts",description:"[/dice +1] **Survey** and **Hunt** on Turf",position:{x:4,y:1},quantity:0,maxQuantity:1,adjacent:["north","west","south"]},{id:"shadows-hagfish-farm",name:"Hagfish Farm",description:`Body disposal
[/dice +1] Reduce Heat after killing`,position:{x:0,y:2},quantity:0,maxQuantity:1,adjacent:["east","north"]},{id:"shadows-infirmary",name:"Infirmary",description:"[/dice +1] Healing",position:{x:1,y:2},quantity:0,maxQuantity:1,adjacent:["west","north"]},{id:"shadows-covert-drops",name:"Covert Drops",description:"+2 coin for espionage or sabotage",position:{x:2,y:2},quantity:0,maxQuantity:1,adjacent:["north","east"]},{id:"shadows-turf-3",name:"Turf",description:"",position:{x:3,y:2},quantity:0,maxQuantity:1,adjacent:["west","east"]},{id:"shadows-secret-pathways",name:"Secret Pathways",description:"+1d engagement for stealth plans",position:{x:4,y:2},quantity:0,maxQuantity:1,adjacent:["west","north"]}],this.huntingGroundsLabel="Hunting Grounds",this.huntingGrounds=[{id:"shadows-hunting-grounds-burglary",name:"Burglary",description:"Theft by breaking and entering",quantity:0,maxQuantity:1},{id:"shadows-hunting-grounds-espionage",name:"Espionage",description:"Obtain secret information by covert or clandestine means",quantity:0,maxQuantity:1},{id:"shadows-hunting-grounds-robbery",name:"Robbery",description:"Theft by force or threats",quantity:0,maxQuantity:1},{id:"shadows-hunting-grounds-sabotage",name:"Sabotage",description:"Hurt an opponent by destroying something",quantity:0,maxQuantity:1}],this.applyUpgradesDescriptionsFromCodex(),this.applyStartingUpgrades()}applyStartingUpgrades(){this.claims.find(t=>t.id==="shadows-lair").quantity=1,this.trainingUpgrades.find(t=>t.id==="prowess").quantity=1,this.lairUpgrades.find(t=>t.id==="hidden-lair").quantity=1}}class ub extends os{constructor(){super(),this.name="Untitled Smugglers",this.crewType="Smugglers",this.crewTypeDescription="Suppliers of illicit goods",this.image="de509b5c-f37c-4975-9768-5e123d24e19b",this.crewExperienceLabels=["Execute a successful smuggling or acquire new clients or contraband sources"],this.specialAbilities=[{id:"like-part-of-the-family",name:"Like Part of the Family",description:"Create one of your vehicles as a Cohort. Its *Quality* is equal to your *Tier* +1.",quantity:0,maxQuantity:1},{id:"all-hands",name:"All Hands",description:"One of your Cohorts may perform a *Downtime Activity* for the Crew to *Acquire an Asset*, reduce *Heat*, or work on a *Long-term Project*",quantity:0,maxQuantity:1},{id:"ghost-passage",name:"Ghost Passage",description:'All crew members become immune to possession by Spirits, but may choose to "carry" a Ghost as a passenger within their body.',quantity:0,maxQuantity:1},{id:"just-passing-through",name:"Just Passing Through",description:`[/heat -1 Heat] in Downtime

When your *Heat* is 4 or less, take [/dice +1] to deceive people when you pass yourselves off as ordinary citizens`,quantity:0,maxQuantity:1},{id:"leverage",name:"Leverage",description:`Your Crew supplies contraband for other *Factions*. Your success is good for them

Gain [/rep +1 Rep] whenever you gain *Rep*`,quantity:0,maxQuantity:1},{id:"reavers",name:"Reavers",description:`When you go into conflict aboard a vehicle, you gain +1 *Effect* for vehicle damage and speed

Your vehicle gains Armor`,quantity:0,maxQuantity:1},{id:"renegades",name:"Renegades",description:"Each PC may add +1 *Action Rating* to **Finesse**, **Prowl**, or **Skirmish** (up to a max of 3)",quantity:0,maxQuantity:1},{id:"veteran",name:"Veteran",description:"Choose a *Special Ability* from another crew",quantity:0,maxQuantity:3}],this.crewUpgrades=[{id:"smugglers-rigging",name:"Smugglers Rigging",description:"2 items carried are perfectly concealed.",quantity:0,maxQuantity:1},{id:"camoflage",name:"Camoflage",description:"Vehicles are perfectly concealed at rest",quantity:0,maxQuantity:1},{id:"elite-rovers",name:"Elite Rovers",description:"",quantity:0,maxQuantity:1},{id:"barge",name:"Barge",description:"",quantity:0,maxQuantity:1},{id:"steady",name:"Steady",description:"+1 stress box.",quantity:0,maxQuantity:3}],this.contacts=[{id:"smugglers-contact-elynn",name:"Elynn",description:"A dock worker",attitude:0},{id:"smugglers-contact-rolan",name:"Rolan",description:"A drug dealer",attitude:0},{id:"smugglers-contact-sera",name:"Sera",description:"An arms dealer",attitude:0},{id:"smugglers-contact-nyelle",name:"Nyelle",description:"A spirit trafficker",attitude:0},{id:"smugglers-contact-decker",name:"Decker",description:"An anarchist",attitude:0},{id:"smugglers-contact-esme",name:"Esme",description:"A tavern owner",attitude:0}],this.claims=[{id:"smugglers-turf-1",name:"Turf",description:"",position:{x:0,y:0},quantity:0,maxQuantity:1,adjacent:["east","south"]},{id:"smugglers-side-business",name:"Side Business",description:`[/coin +Coin]
[/dice Tier] - *Heat*`,position:{x:1,y:0},quantity:0,maxQuantity:1,adjacent:["west","south"]},{id:"smugglers-luxury-fence",name:"Luxury Fence",description:`[/coin +2]
High-class targets`,position:{x:2,y:0},quantity:0,maxQuantity:1,adjacent:["south"]},{id:"smugglers-vice-den",name:"Vice Den",description:`[/coin +Coin]
[/dice Tier] - *Heat*`,position:{x:3,y:0},quantity:0,maxQuantity:1,adjacent:["east","south"]},{id:"smugglers-tavern",name:"Tavern",description:"[/dice +1] **Consort** and **Sway** on-site",position:{x:4,y:0},quantity:0,maxQuantity:1,adjacent:["west","south"]},{id:"smugglers-ancient-gate",name:"Ancient Gate",description:"Safe passage into the Deathlands",position:{x:0,y:1},quantity:0,maxQuantity:1,adjacent:["south","north"]},{id:"smugglers-turf-2",name:"Turf",description:"",position:{x:1,y:1},quantity:0,maxQuantity:1,adjacent:["north","east","south"]},{id:"smugglers-lair",name:"Lair",description:"",position:{x:2,y:1},quantity:0,maxQuantity:1,adjacent:["north","west","east","south"]},{id:"smugglers-turf-3",name:"Turf",description:"",position:{x:3,y:1},quantity:0,maxQuantity:1,adjacent:["north","west","east","south"]},{id:"smugglers-turf-4",name:"Turf",description:"",position:{x:4,y:1},quantity:0,maxQuantity:1,adjacent:["north","west","south"]},{id:"smugglers-secret-routes",name:"Secret Routes",description:"[/dice +1] Engagement *Transport plans*",position:{x:0,y:2},quantity:0,maxQuantity:1,adjacent:["east","north"]},{id:"smugglers-informants",name:"Informants",description:"[/dice +1] Gather Information",position:{x:1,y:2},quantity:0,maxQuantity:1,adjacent:["west","north"]},{id:"smugglers-fleet",name:"Fleet",description:"Cohorts have their own vehicles",position:{x:2,y:2},quantity:0,maxQuantity:1,adjacent:["north"]},{id:"smugglers-cover-operation",name:"Cover Operation",description:"[/heat -2] per Score",position:{x:3,y:2},quantity:0,maxQuantity:1,adjacent:["north","east"]},{id:"smugglers-warehouse",name:"Warehouse",description:"Stockpiles give [/dice +1] *Acquire Assets*",position:{x:4,y:2},quantity:0,maxQuantity:1,adjacent:["north","west"]}],this.huntingGroundsLabel="Cargo Types",this.huntingGrounds=[{id:"smugglers-cargo-type-arcane-weird",name:"Arcane/Weird",description:"Spirit essences, ghosts, cult materials",quantity:0,maxQuantity:1},{id:"smugglers-cargo-type-arms",name:"Arms",description:"Restricted military weapons, heavy ordnance, explosives",quantity:0,maxQuantity:1},{id:"smugglers-cargo-type-contraband",name:"Contraband",description:"High-tax luxuries, drugs, banned art, etc",quantity:0,maxQuantity:1},{id:"smugglers-cargo-type-passengers",name:"Passengers",description:"People or livestock traveling in secret",quantity:0,maxQuantity:1}],this.applyUpgradesDescriptionsFromCodex(),this.applyStartingUpgrades()}applyStartingUpgrades(){this.claims.find(t=>t.id==="smugglers-lair").quantity=1,this.trainingUpgrades.find(t=>t.id==="prowess").quantity=1,this.lairUpgrades=this.lairUpgrades.filter(t=>t.id!=="carriage-house"&&t.id!=="boat-house");for(let t=1;t<=2;t++)this.lairUpgrades.push({id:`vehicle-${t}`,name:`Vehicle ${t}`,description:"Either a carriage or a boat, along with the relevant stable or boat-house.",quantity:t==1?1:0,maxQuantity:2})}}function db(){return{assassins:new rb,bravos:new ib,cult:new ab,hawkers:new lb,shadows:new cb,smugglers:new ub}}function hb(e){return e==="crew"?db():e==="character"?ob():{}}function wo(e){return Fu.find(t=>t.id===e)}function bl(e){return e.length===0?e:e.charAt(0).toUpperCase()+e.slice(1)}function fb(e){return["zero","one","two","three","four","five","six","seven","eight","nine","ten"][e]}function at(e){const t=e.replace(/<[^>]*>/g,""),n=[{pattern:/(\*\*|__)(.*?)\1/g,replacement:'<span class="strong">$2</span>'},{pattern:/(\*|_)(.*?)\1/g,replacement:'<span class="em">$2</span>'},{pattern:/\n\n/g,replacement:'<br class="paragraph-break" />'},{pattern:/\n/g,replacement:"<br />"},{pattern:/\[\/dice\s+([^\]]+)\]/g,replacement:'<span class="t t--dice">$1<i class="fas fa-dice-three"></i></span>'},{pattern:/\[\/(\w+)\s+([^\]]+)\]/g,replacement:'<span class="t t--$1">$2</span>'}];let s=t;return n.forEach(o=>{s=s.replaceAll(o.pattern,o.replacement)}),`<span class="markdown">${s}</span>`}const pb=e=>(we("data-v-6c90beac"),e=e(),xe(),e),mb={class:"template-picker"},yb=pb(()=>a("p",null," The crew type you choose determines the group's purpose, their special abilities, and how they advance. ",-1)),gb=["onClick"],vb=["src"],_b={class:"row mobile-only"},bb=ee({__name:"SheetTemplatePickerModal",props:{sheetType:String,templateTypeKey:String,templates:Object,onConfirm:{type:Function,required:!0}},setup(e){const t=e;function n(r){console.log("template",r),t.onConfirm(t.sheetType,r),F.close()}const s=L(0);function o(r){const i=r.children[0].clientWidth,l=(r.scrollLeft+i/2)/i;s.value=Math.floor(l)}return(r,i)=>(b(),ie(ze,null,{header:U(()=>[I(Ke,{closeButton:""},{default:U(()=>[a("h2",null,"Choose a "+N(e.sheetType)+" template",1)]),_:1})]),content:U(()=>[a("div",mb,[yb,a("ul",{class:"scroll-container",ref:"carouselRef",onScroll:i[0]||(i[0]=l=>o(l.target))},[(b(!0),k(Y,null,pe(e.templates,(l,c,d)=>{var u,h;return b(),k("li",null,[(b(),k("div",{class:J(["template-card prevent-click-on-mobile",{active:s.value==d,"left-of-active":s.value>d,"right-of-active":s.value<d}]),onClick:f=>n(l),key:l.id,style:Vt({"background-color":(u=D(wo)(l.image))==null?void 0:u.commonColor})},[a("img",{src:(h=D(wo)(l.image))==null?void 0:h.url},null,8,vb),a("h3",null,N(l[e.templateTypeKey]),1),a("p",null,N(l[e.templateTypeKey+"Description"]),1)],14,gb))])}),256))],544),a("div",_b,[a("button",{class:"btn mobile-full-width",onClick:i[1]||(i[1]=l=>n(Object.values(t.templates)[s.value]))},[a("span",null,"New "+N(D(bl)(Object.keys(t.templates||[])[s.value]))+" "+N(D(bl)(e.sheetType||"sheet")),1)])])])]),_:1}))}}),wb=se(bb,[["__scopeId","data-v-6c90beac"]]),xb=a("h1",null,"CHARACTER SHEET",-1),Cb=ee({__name:"TheCharacterSheet",props:{sheet:{}},setup(e){return(t,n)=>(b(),k(Y,null,[xb,a("pre",null,N(JSON.stringify(t.sheet,null,2)),1)],64))}}),kb={class:"icon"},Eb={key:1},Sb=ee({__name:"Checkbox",props:{modelValue:{type:[String,Boolean,Array],required:!0},label:{type:String,required:!1},value:{type:String,required:!1},text:{type:String,required:!1,default:"❖"},icon:{type:String,required:!1},emptyWhenUnchecked:{type:Boolean,required:!1,default:!1}},setup(e,{emit:t}){const n=e,s=t,o=W(()=>n.value&&Array.isArray(n.modelValue)?n.modelValue.includes(n.value):n.modelValue);function r(i){if(i.preventDefault(),!(n.value&&Array.isArray(n.modelValue)))return s("update:modelValue",!n.modelValue);n.modelValue.includes(n.value)?n.modelValue.splice(n.modelValue.indexOf(n.value),1):n.modelValue.push(n.value),s("update:modelValue",n.modelValue)}return(i,l)=>{var c;return b(),k("div",{class:J(["checkbox-group",{compact:!((c=e.label)!=null&&c.length),checked:o.value}]),onClick:r},[a("div",kb,[o.value||!e.emptyWhenUnchecked?(b(),k("i",{key:0,class:J(["fas",e.icon])},null,2)):M("",!0),e.icon?M("",!0):(b(),k("span",Eb,N(e.text),1))]),a("p",null,N(e.label),1)],2)}}}),gt=se(Sb,[["__scopeId","data-v-673eeeb5"]]),Tb={class:"checkbox-list"},Ab=ee({__name:"CheckboxBar",props:{value:{},locked:{},max:{},coinMode:{type:Boolean}},emits:["change"],setup(e,{emit:t}){const n=e,s=t,o=L(n.value),r=L([]);i();function i(){r.value=l(o.value)}function l(u){return Array.from({length:u},(h,f)=>(f+1).toString())}Mt(()=>n.value,u=>{o.value=u});function c(u){return u>n.max-(n.locked??0)?"fas fa-lock":n.coinMode&&r.value.includes(u.toString())?"fas fa-crown":r.value.includes(u.toString())?"fas fa-check":"N/A"}function d(u){let h=r.value;h=h.filter(g=>parseInt(g)<=parseInt(u));const f=Math.max(...h.map(g=>parseInt(g)));h=h.map(g=>parseInt(g)<=f?g:u),r.value=Array.from({length:f},(g,w)=>(w+1).toString()),o.value=Math.max(f,0),s("change",o.value)}return(u,h)=>(b(),k("div",{class:J(["checkbox-bar",{"coin-mode":n.coinMode}])},[a("ul",Tb,[(b(!0),k(Y,null,pe(n.max,f=>(b(),ie(gt,{class:J({locked:f>n.max-(n.locked??0)}),key:f,modelValue:r.value,"onUpdate:modelValue":[h[0]||(h[0]=g=>r.value=g),g=>d(f.toString())],value:f.toString(),icon:c(f)},null,8,["class","modelValue","value","onUpdate:modelValue","icon"]))),128))])],2))}}),Xs=se(Ab,[["__scopeId","data-v-30e6ce70"]]),$b={class:"header"},Rb=["innerHTML"],Ob={class:"roadmap"},Pb=ee({__name:"ClaimTile",props:{claim:{},showDetails:{type:Boolean},idPrefix:{},propertyName:{},neighborClaims:{},change:{type:Function}},setup(e){const t=e,n=L(null),s=L(!1);en(()=>{o(),window.addEventListener("resize",o)}),ts(()=>{window.removeEventListener("resize",o)});function o(){var c;s.value=((c=n.value)==null?void 0:c.clientWidth)&&n.value.clientWidth<140||!1}function r(c){const d=t.neighborClaims[c];return d?d.quantity>0:!1}const i=W(()=>t.claim.adjacent.map(c=>l(c)));function l(c,d=1){const u=[Yt.NORTH,Yt.EAST,Yt.SOUTH,Yt.WEST],h=u.indexOf(c);return h===-1?c:u[(h+d+u.length)%u.length]}return(c,d)=>(b(),k("div",{ref_key:"claimTile",ref:n,class:J(["claim-tile",{small:s.value,active:t.claim.quantity>0}]),onClick:d[0]||(d[0]=u=>t.change(t.claim.quantity?0:1))},[a("div",$b,[a("h2",null,N(t.claim.name),1)]),t.showDetails?(b(),k("p",{key:0,innerHTML:D(at)(t.claim.description)},null,8,Rb)):M("",!0),a("ul",Ob,[(b(!0),k(Y,null,pe(i.value,u=>(b(),k("li",{class:J({[u]:!0,active:t.claim.quantity>0&&r(l(u,-1))})},null,2))),256))])],2))}}),Ib=se(Pb,[["__scopeId","data-v-4c40cc41"]]),Nb=ee({__name:"CollapsingShelf",props:{show:{type:Boolean}},setup(e){const t=e;return(n,s)=>(b(),k("div",{class:J(["shelf",{show:t.show}])},[Kn(n.$slots,"default",{},void 0)],2))}}),Kt=se(Nb,[["__scopeId","data-v-30cf1f4f"]]),bn=e=>(we("data-v-bc8da894"),e=e(),xe(),e),qb={class:"edit"},Lb={class:"input-group"},Db=bn(()=>a("label",{for:"name"},"Name",-1)),Ub=bn(()=>a("label",{for:"id"},[Z("ID "),a("label",{class:"muted"},"(permanent)")],-1)),Bb={class:"input-group stretch"},Mb={for:"description"},Fb={class:"muted"},jb={class:"input-group"},Hb=bn(()=>a("label",{for:"maxQuantity"},"Max Quantity",-1)),Qb={key:0,class:"row"},Vb=bn(()=>a("span",null,"Cancel",-1)),Wb=[Vb],Gb=bn(()=>a("span",null,"New",-1)),zb=[Gb],Kb={key:1,class:"row"},Yb=bn(()=>a("i",{class:"fas fa-trash"},null,-1)),Jb=bn(()=>a("span",null,"Delete",-1)),Xb=[Yb,Jb],Zb=bn(()=>a("span",null,"Save",-1)),ew=[Zb],tw=ee({__name:"EditEffectableModal",props:{propertyName:{},effectable:{},onEdit:{type:Function},onDelete:{type:Function},idPrefix:{},onCreateNew:{type:Function}},setup(e){const t=e,n={id:"",name:"",description:"",quantity:0,maxQuantity:1},s=L({...t.effectable||n});function o(c){if(!t.onCreateNew)return;let d=(t.idPrefix||"")+"-"+c;d=d.toLowerCase().replace(/ /g,"-").replace(/[^a-z0-9-]/g,""),s.value.id=d}function r(){t.onCreateNew&&(t.onCreateNew(s.value),F.close())}function i(){t.onEdit&&(t.onEdit(s.value),F.close())}function l(){t.onDelete&&(t.onDelete(s.value.id),F.close())}return(c,d)=>(b(),ie(ze,null,{header:U(()=>[I(Ke,{closeButton:""},{default:U(()=>[a("h2",null,N(t.onCreateNew?"Create a new":"Edit")+" "+N(c.propertyName),1)]),_:1})]),content:U(()=>[a("div",qb,[a("div",Lb,[Db,Re(a("input",{type:"text",id:"name","onUpdate:modelValue":d[0]||(d[0]=u=>s.value.name=u),placeholder:"Enter a memorable name",onInput:d[1]||(d[1]=u=>o(s.value.name))},null,544),[[Oe,s.value.name]])]),a("div",{class:J(["input-group",{disabled:!t.onCreateNew}])},[Ub,Re(a("input",{type:"text",id:"id","onUpdate:modelValue":d[2]||(d[2]=u=>s.value.id=u),placeholder:"A hyphenated identifier"},null,512),[[Oe,s.value.id]])],2),a("div",Bb,[a("label",Mb,[Z("Description "),a("label",Fb,"("+N(s.value.description.length)+" / 400) ",1)]),Re(a("textarea",{id:"description","onUpdate:modelValue":d[3]||(d[3]=u=>s.value.description=u),placeholder:"A brief description"},null,512),[[Oe,s.value.description]])]),a("div",jb,[Hb,Re(a("input",{type:"number",id:"maxQuantity","onUpdate:modelValue":d[4]||(d[4]=u=>s.value.maxQuantity=u),placeholder:"1, 2, 3..."},null,512),[[Oe,s.value.maxQuantity]])]),t.onCreateNew?(b(),k("div",Qb,[a("button",{class:"btn btn--alt mobile-full-width",onClick:d[5]||(d[5]=u=>D(F).close())},Wb),a("button",{class:"btn mobile-full-width",onClick:r},zb)])):(b(),k("div",Kb,[a("button",{class:"btn btn--alt mobile-full-width",onClick:l},Xb),a("button",{class:"btn mobile-full-width",onClick:i},ew)]))])]),_:1}))}}),jn=se(tw,[["__scopeId","data-v-bc8da894"]]),nw=e=>(we("data-v-5e307b18"),e=e(),xe(),e),sw={class:"header"},ow=nw(()=>a("i",{class:"fas fa-edit"},null,-1)),rw=[ow],iw={class:"row selection-bar"},aw=["innerHTML"],lw=ee({__name:"EffectableTile",props:{effectable:{},idPrefix:{},propertyName:{},change:{type:Function},onEdit:{type:Function},onDelete:{type:Function}},setup(e){const t=e;function n(){s.value=r(t.effectable.quantity)}const s=L([]);n(),Mt(()=>t.effectable.quantity,n);function o(c){let d=s.value;d=d.filter(h=>parseInt(h)<=parseInt(c));const u=Math.max(...d.map(h=>parseInt(h)));d=d.map(h=>parseInt(h)<=u?h:c),s.value=Array.from({length:u},(h,f)=>(f+1).toString()),t.change(Math.max(u,0))}function r(c){return Array.from({length:c},(d,u)=>(u+1).toString())}function i(c){t.onEdit&&t.onEdit(c)}function l(c){t.onDelete&&t.onDelete(c)}return(c,d)=>(b(),k("div",{class:J(["effectable-tile",{active:t.effectable.quantity>0}])},[a("div",sw,[a("h2",null,N(t.effectable.name),1),t.onEdit?(b(),k("button",{key:0,class:"btn btn--icon",onClick:d[0]||(d[0]=u=>D(F).open(jn,{propertyName:c.propertyName,effectable:t.effectable,idPrefix:t.idPrefix,onDelete:l,onEdit:i}))},rw)):M("",!0)]),a("div",iw,[(b(!0),k(Y,null,pe(c.effectable.maxQuantity,u=>(b(),ie(gt,{key:c.effectable.id+u,modelValue:s.value,"onUpdate:modelValue":[d[1]||(d[1]=h=>s.value=h),h=>o(u.toString())],value:u.toString()},null,8,["modelValue","value","onUpdate:modelValue"]))),128))]),a("p",{innerHTML:D(at)(t.effectable.description||"")},null,8,aw)],2))}}),Lt=se(lw,[["__scopeId","data-v-5e307b18"]]),ri=Do("options",()=>{const e={showHints:!0},t=L(JSON.parse(localStorage.getItem("options")||JSON.stringify(e)));return Mt(t,n=>{localStorage.setItem("options",JSON.stringify(n))},{deep:!0}),{options:t}}),cw=e=>(we("data-v-b4e36480"),e=e(),xe(),e),uw={key:0,class:"info-box"},dw=cw(()=>a("i",{class:"fas fa-info"},null,-1)),hw=ee({__name:"InfoBox",props:{ignoreOptions:{type:Boolean}},setup(e){const t=e;return(n,s)=>D(ri)().options.showHints||t.ignoreOptions?(b(),k("div",uw,[dw,a("div",null,[Kn(n.$slots,"default",{},void 0)])])):M("",!0)}}),St=se(hw,[["__scopeId","data-v-b4e36480"]]),Hu=e=>(we("data-v-47053171"),e=e(),xe(),e),fw={class:"stepper"},pw=Hu(()=>a("i",{class:"fas fa-minus-circle"},null,-1)),mw=[pw],yw={class:"content"},gw={key:0},vw=Hu(()=>a("i",{class:"fas fa-plus-circle"},null,-1)),_w=[vw],bw=ee({__name:"NumberStepper",props:{value:{},min:{},max:{},label:{}},emits:["change"],setup(e,{emit:t}){const n=e,s=t,o=L(n.value);Mt(()=>n.value,l=>{o.value=l});const r=()=>{n.max!==void 0&&o.value>=n.max||(o.value++,s("change",o.value))},i=()=>{n.min!==void 0&&o.value<=n.min||(o.value--,s("change",o.value))};return(l,c)=>(b(),k("div",fw,[a("button",{onClick:i,class:J(["btn btn--icon",{disabled:n.min!==void 0&&o.value<=n.min}])},mw,2),a("div",yw,[a("h1",null,N(l.value),1),n.label?(b(),k("h2",gw,N(n.label),1)):M("",!0)]),a("button",{onClick:r,class:J(["btn btn--icon",{disabled:n.max!==void 0&&o.value>=n.max}])},_w,2)]))}}),xs=se(bw,[["__scopeId","data-v-47053171"]]);function ww(e){return xw(0,e)}function xw(e,t){return Math.floor(Math.random()*(t-e)+e)}function Pn(e){return e[ww(e.length)]}const Ve=e=>(we("data-v-550bdc37"),e=e(),xe(),e),Cw={class:"edit"},kw={key:0,class:"input-group"},Ew=Ve(()=>a("label",{for:"gangType"},[Z("Gang Type "),a("label",{class:"muted"},"(Choose one. A second Gang Type costs 2 upgrades)")],-1)),Sw={class:"tile-list tile-list--mini"},Tw={key:1,class:"input-group"},Aw=Ve(()=>a("label",{for:"name"},"Name",-1)),$w=Ve(()=>a("p",null,"Choose a name for your Expert.",-1)),Rw=Ve(()=>a("i",{class:"fas fa-random"},null,-1)),Ow=Ve(()=>a("span",null,"Randomize",-1)),Pw=[Rw,Ow],Iw={key:2,class:"input-group"},Nw=Ve(()=>a("label",{for:"expertise1"},"Expertise",-1)),qw=Ve(()=>a("p",null,"Choose your Expert's area of expertise.",-1)),Lw={class:"text-list"},Dw=["onMousedown"],Uw={key:3,class:"input-group"},Bw=Ve(()=>a("label",{for:"expertise2"},[Z("Additional Expertise "),a("label",{class:"muted"},"(Costs 2 upgrades)")],-1)),Mw=Ve(()=>a("p",null,"Choose an additional area of expertise for your Expert.",-1)),Fw={class:"text-list"},jw=["onMousedown"],Hw={key:4,class:"input-group"},Qw=Ve(()=>a("label",{for:"name"},"Name",-1)),Vw={class:"muted"},Ww={class:"input-block"},Gw={class:"input-group"},zw=["innerHTML"],Kw=["innerHTML"],Yw=["innerHTML"],Jw={key:0,class:"input-group"},Xw={class:"row flat"},Zw=["innerHTML"],e1={class:"input-group"},t1=Ve(()=>a("label",{for:"edges"},[Z("Edges "),a("label",{class:"muted"},"(Choose at least one)")],-1)),n1={class:"tile-list tile-list--mini"},s1={class:"input-group"},o1={for:"flaws"},r1={class:"muted"},i1={class:"tile-list tile-list--mini"},a1={class:"input-group"},l1=Ve(()=>a("label",{for:"harm"},"Harm",-1)),c1={class:"tile-list tile-list--mini"},u1={class:"input-group stretch"},d1={for:"description"},h1={class:"muted"},f1={key:5,class:"alert"},p1=Ve(()=>a("i",{class:"fas fa-exclamation-circle"},null,-1)),m1=Ve(()=>a("i",{class:"fas fa-times"},null,-1)),y1=[m1],g1={key:6,class:"row"},v1=Ve(()=>a("span",null,"Cancel",-1)),_1=[v1],b1=Ve(()=>a("span",null,"New",-1)),w1=[b1],x1={key:7,class:"row"},C1=Ve(()=>a("i",{class:"fas fa-trash"},null,-1)),k1=Ve(()=>a("span",null,"Delete",-1)),E1=[C1,k1],S1=Ve(()=>a("span",null,"Save",-1)),T1=[S1],A1=ee({__name:"EditCohortModal",props:{propertyName:{},cohort:{},onEdit:{type:Function},onDelete:{type:Function},idPrefix:{},onCreateNew:{type:Function}},setup(e){var H,Q,X,de,K,Ee,re,ae,ke,Le,We,Ye,yt,Je,ce,me,ye,lt,dt,rt,je,ht,xt,Gt,Ue,R,j,B,V,he,Te,m,_,S;const t=(H=$e().game)==null?void 0:H.codex,n=e;en(()=>{document.addEventListener("blur",o,!0)}),ts(()=>{document.removeEventListener("blur",o,!0)});const s=L();function o(E){s.value=null}function r(){var y,C;const E=Pn((y=t==null?void 0:t.names)==null?void 0:y.firstNames),p=Pn((C=t==null?void 0:t.names)==null?void 0:C.lastNames);h.value.name=`${E} ${p}`,console.log(h.value.name)}const i=W(()=>{const E=[...t.lexicon.gangs];try{return E[h.value.scale]}catch{return"0-2 people"}}),l={id:ws(),name:"",description:"",cohortType:"gang",edges:((de=(X=(Q=t==null?void 0:t.sheets)==null?void 0:Q.crew)==null?void 0:X.cohorts)==null?void 0:de.edges.map(E=>({...E,id:"edge-"+E.name,quantity:0,maxQuantity:1})))||[],flaws:((re=(Ee=(K=t==null?void 0:t.sheets)==null?void 0:K.crew)==null?void 0:Ee.cohorts)==null?void 0:re.flaws.map(E=>({...E,id:"flaw-"+E.name,quantity:0,maxQuantity:1})))||[],gangType:[{id:"gangType-adepts",name:"Adepts",description:"Scholars, tinkerers, occultists, and chemists",quantity:0,maxQuantity:1},{id:"gangType-rooks",name:"Rooks",description:"Con artists, spies, and socialites",quantity:0,maxQuantity:1},{id:"gangType-rovers",name:"Rovers",description:"Sailors, carriage drivers, and scavengers",quantity:0,maxQuantity:1},{id:"gangType-skulks",name:"Skulks",description:"Scouts, infiltrators, and thieves",quantity:0,maxQuantity:1},{id:"gangType-thugs",name:"Thugs",description:"Killers, brawlers, and roustabouts",quantity:0,maxQuantity:1}],harm:((Ye=(We=(Le=(ke=(ae=$e().game)==null?void 0:ae.codex)==null?void 0:ke.sheets)==null?void 0:Le.crew)==null?void 0:We.cohorts)==null?void 0:Ye.harm.map(E=>({...E,id:"harm-"+E.name,quantity:0,maxQuantity:1})))||[],quality:0,scale:0},c={id:ws(),name:"",description:"",cohortType:"expert",edges:((ce=(Je=(yt=t==null?void 0:t.sheets)==null?void 0:yt.crew)==null?void 0:Je.cohorts)==null?void 0:ce.edges.map(E=>({...E,id:"edge-"+E.name,quantity:0,maxQuantity:1})))||[],flaws:((lt=(ye=(me=t==null?void 0:t.sheets)==null?void 0:me.crew)==null?void 0:ye.cohorts)==null?void 0:lt.flaws.map(E=>({...E,id:"flaw-"+E.name,quantity:0,maxQuantity:1})))||[],expertise1:"",expertise2:"",harm:((xt=(ht=(je=(rt=(dt=$e().game)==null?void 0:dt.codex)==null?void 0:rt.sheets)==null?void 0:je.crew)==null?void 0:ht.cohorts)==null?void 0:xt.harm.map(E=>({...E,id:"harm-"+E.name,quantity:0,maxQuantity:1})))||[],quality:0,scale:0},d={id:ws(),name:"",description:"",cohortType:"vehicle",edges:((R=(Ue=(Gt=t==null?void 0:t.sheets)==null?void 0:Gt.crew)==null?void 0:Ue.cohorts)==null?void 0:R.vehicleEdges.map(E=>({...E,id:"edge-"+E.name,quantity:0,maxQuantity:1})))||[],flaws:((V=(B=(j=t==null?void 0:t.sheets)==null?void 0:j.crew)==null?void 0:B.cohorts)==null?void 0:V.vehicleFlaws.map(E=>({...E,id:"flaw-"+E.name,quantity:0,maxQuantity:1})))||[],harm:((S=(_=(m=(Te=(he=$e().game)==null?void 0:he.codex)==null?void 0:Te.sheets)==null?void 0:m.crew)==null?void 0:_.cohorts)==null?void 0:S.harm.map(E=>({...E,id:"harm-"+E.name,quantity:0,maxQuantity:1})))||[],quality:0,scale:0},u={gang:l,expert:c,vehicle:d},h=L({...n.cohort||u[n.propertyName]});function f(E){if(!n.onCreateNew)return;let p=(n.idPrefix||"")+"-"+E;p=p.toLowerCase().replace(/ /g,"-").replace(/[^a-z0-9-]/g,""),h.value.id=p}const g=L(null);function w(){var y,C,A;if(h.value.cohortType==="gang"&&((y=h.value.gangType)==null?void 0:y.reduce((P,v)=>P+(v.quantity||0),0))===0)return"You must choose a Gang Type.";if(h.value.cohortType==="expert"){if(!h.value.name)return"You must give your Expert a name.";if(!h.value.expertise1)return"You must choose an Expertise."}const E=(C=h.value.edges)==null?void 0:C.reduce((P,v)=>P+(v.quantity||0),0);if(E===0)return"You must choose at least one Edge.";const p=(A=h.value.flaws)==null?void 0:A.reduce((P,v)=>P+(v.quantity||0),0);return console.log(h.value.flaws.map(P=>P.quantity)),E>0&&p<E?`You must choose at least the same number of Flaws (${p}) as Edges (${E}).`:null}function x(){n.onCreateNew&&(g.value=w(),!g.value&&(n.onCreateNew(h.value),F.close()))}function $(){n.onEdit&&(g.value=w(),!g.value&&(n.onEdit(h.value),F.close()))}function q(){n.onDelete&&(n.onDelete(h.value.id),F.close())}return(E,p)=>{const y=Ps("Divider");return b(),ie(ze,null,{header:U(()=>[I(Ke,{closeButton:""},{default:U(()=>[a("h2",null,N(n.onCreateNew?"Create a new":"Edit")+" "+N(n.propertyName),1)]),_:1})]),content:U(()=>[a("div",Cw,[n.propertyName==="gang"?(b(),k("div",kw,[Ew,a("div",Sw,[(b(!0),k(Y,null,pe(h.value.gangType,C=>(b(),ie(Lt,{effectable:C,key:C.id,idPrefix:n.idPrefix+"-gangType",propertyName:C.name,change:A=>{C.quantity=A}},null,8,["effectable","idPrefix","propertyName","change"]))),128))])])):M("",!0),n.propertyName==="expert"?(b(),k("div",Tw,[Aw,Re(a("input",{class:"ignore-initial-focus",type:"text",id:"name","onUpdate:modelValue":p[0]||(p[0]=C=>h.value.name=C),placeholder:"A name for your Expert",onFocus:p[1]||(p[1]=C=>s.value="name"),onBlur:p[2]||(p[2]=C=>f(h.value.name))},null,544),[[Oe,h.value.name]]),I(Kt,{show:s.value==="name"},{default:U(()=>[$w,a("button",{class:"btn btn--icon",onMousedown:r},Pw,32)]),_:1},8,["show"])])):M("",!0),n.propertyName==="expert"?(b(),k("div",Iw,[Nw,Re(a("input",{class:"ignore-initial-focus",type:"text",id:"expertise1","onUpdate:modelValue":p[3]||(p[3]=C=>h.value.expertise1=C),placeholder:"An area of expertise",onFocus:p[4]||(p[4]=C=>s.value="expertise1")},null,544),[[Oe,h.value.expertise1]]),I(Kt,{show:s.value==="expertise1"},{default:U(()=>{var C,A,P,v;return[qw,a("div",Lw,[(b(!0),k(Y,null,pe((v=(P=(A=(C=D(t))==null?void 0:C.sheets)==null?void 0:A.crew)==null?void 0:P.cohorts)==null?void 0:v.expertise,T=>(b(),k("button",{class:"btn btn--text",onMousedown:G=>h.value.expertise1=T},N(T),41,Dw))),256))])]}),_:1},8,["show"])])):M("",!0),n.propertyName==="expert"?(b(),k("div",Uw,[Bw,Re(a("input",{class:"ignore-initial-focus",type:"text",id:"expertise2","onUpdate:modelValue":p[5]||(p[5]=C=>h.value.expertise2=C),placeholder:"An additional area of expertise",onFocus:p[6]||(p[6]=C=>s.value="expertise2")},null,544),[[Oe,h.value.expertise2]]),I(Kt,{show:s.value==="expertise2"},{default:U(()=>{var C,A,P,v;return[Mw,a("div",Fw,[(b(!0),k(Y,null,pe((v=(P=(A=(C=D(t))==null?void 0:C.sheets)==null?void 0:A.crew)==null?void 0:P.cohorts)==null?void 0:v.expertise,T=>(b(),k("button",{class:"btn btn--text",onMousedown:G=>h.value.expertise2=T},N(T),41,jw))),256))])]}),_:1},8,["show"])])):M("",!0),n.propertyName==="vehicle"?(b(),k("div",Hw,[Qw,Re(a("input",{class:"ignore-initial-focus",type:"text",id:"name","onUpdate:modelValue":p[7]||(p[7]=C=>h.value.name=C),placeholder:"A name for your Vehicle",onFocus:p[8]||(p[8]=C=>s.value="name"),onBlur:p[9]||(p[9]=C=>f(h.value.name))},null,544),[[Oe,h.value.name]])])):M("",!0),I(y),a("label",null,[Z("Effectiveness "),a("label",Vw,"Quality "+N(h.value.quality)+", "+N(i.value),1)]),a("div",Ww,[a("div",Gw,[I(xs,{id:"cohort-quality",label:"Quality",class:"mobile-full-width center",value:h.value.quality,min:0,max:10,onChange:p[10]||(p[10]=C=>h.value.quality=C)},null,8,["value"]),n.propertyName==="expert"?(b(),ie(St,{key:0},{default:U(()=>[a("p",{innerHTML:D(at)("An Expert's quality is equal to your current *Tier* +1 and increases with your *Tier*.")},null,8,zw)]),_:1})):M("",!0),n.propertyName==="gang"?(b(),ie(St,{key:1},{default:U(()=>[a("p",{innerHTML:D(at)("A Gang's quality is equal to your current *Tier* and increases with your *Tier*.")},null,8,Kw)]),_:1})):M("",!0),n.propertyName==="vehicle"?(b(),ie(St,{key:2},{default:U(()=>[a("p",{innerHTML:D(at)("A Vehicle's quality is equal to your current *Tier* +1 and increases with your *Tier*.")},null,8,Yw)]),_:1})):M("",!0)]),n.propertyName==="gang"?(b(),k("div",Jw,[a("div",Xw,[I(xs,{id:"cohort-scale",class:"mobile-full-width center",value:h.value.scale,min:0,max:10,onChange:p[11]||(p[11]=C=>h.value.scale=C),label:"Scale"},null,8,["value"])]),I(St,null,{default:U(()=>[a("p",{innerHTML:D(at)("A Gang's *Scale* is equal to your current *Tier* and increases with your *Tier*.")},null,8,Zw)]),_:1})])):M("",!0)]),I(y),a("div",e1,[t1,a("div",n1,[(b(!0),k(Y,null,pe(h.value.edges,C=>(b(),ie(Lt,{effectable:C,key:C.id,idPrefix:n.idPrefix+"-edge",propertyName:C.name,change:A=>{C.quantity=A}},null,8,["effectable","idPrefix","propertyName","change"]))),128))])]),a("div",s1,[a("label",o1,[Z("Flaws "),a("label",r1,"(Choose at least "+N(D(fb)(Math.max(h.value.edges.filter(C=>C.quantity>0).length,1)))+") ",1)]),a("div",i1,[(b(!0),k(Y,null,pe(h.value.flaws,C=>(b(),ie(Lt,{effectable:C,key:C.id,idPrefix:n.idPrefix+"-flaw",propertyName:C.name,change:A=>{C.quantity=A}},null,8,["effectable","idPrefix","propertyName","change"]))),128))])]),a("div",a1,[l1,a("div",c1,[(b(!0),k(Y,null,pe(h.value.harm,C=>(b(),ie(Lt,{effectable:C,key:C.id,idPrefix:n.idPrefix+"-harm",propertyName:C.name,change:A=>{h.value.harm.forEach(P=>{P.quantity=0}),C.quantity=A}},null,8,["effectable","idPrefix","propertyName","change"]))),128))])]),a("div",u1,[a("label",d1,[Z("Description "),a("label",h1,"("+N(h.value.description.length)+" / 400) ",1)]),Re(a("textarea",{id:"description","onUpdate:modelValue":p[12]||(p[12]=C=>h.value.description=C),placeholder:"A brief description"},null,512),[[Oe,h.value.description]])]),g.value?(b(),k("div",f1,[p1,a("span",null,N(g.value),1),a("button",{class:"btn btn--icon close",onClick:p[13]||(p[13]=C=>g.value="")},y1)])):M("",!0),n.onCreateNew?(b(),k("section",g1,[a("button",{class:"btn btn--alt mobile-full-width",onClick:p[14]||(p[14]=C=>D(F).close())},_1),a("button",{class:"btn mobile-full-width",onClick:x},w1)])):(b(),k("section",x1,[a("button",{class:"btn btn--alt mobile-full-width",onClick:q},E1),a("button",{class:"btn mobile-full-width",onClick:$},T1)]))])]),_:1})}}}),uo=se(A1,[["__scopeId","data-v-550bdc37"]]),ji=e=>(we("data-v-c545f8d7"),e=e(),xe(),e),$1={class:"header"},R1={key:0},O1={key:1},P1={key:0,class:"harm"},I1={key:2},N1={key:0,class:"harm"},q1=ji(()=>a("i",{class:"fas fa-edit"},null,-1)),L1=[q1],D1={key:0,class:"harm"},U1={class:"edges-and-flaws"},B1=ji(()=>a("i",{class:"fas fa-angle-up"},null,-1)),M1=ji(()=>a("i",{class:"fas fa-angle-down"},null,-1)),F1=ee({__name:"CohortTile",props:{cohort:{},idPrefix:{},onEdit:{type:Function},onDelete:{type:Function}},setup(e){var h;const t=(h=$e().game)==null?void 0:h.codex,n=e,s=W(()=>{var f;return(f=n.cohort.gangType)==null?void 0:f.filter(g=>g.quantity>0)}),o=W(()=>{const f=[...t.lexicon.gangs];try{return f[n.cohort.scale]}catch{return"0-2 people"}}),r=W(()=>[n.cohort.expertise1].concat(n.cohort.expertise2?[n.cohort.expertise2]:[])),i=W(()=>{var f;return((f=n.cohort.harm.filter(g=>g.quantity>0)[0])==null?void 0:f.name)||""}),l=W(()=>{var f;return((f=n.cohort.edges)==null?void 0:f.filter(g=>g.quantity>0).map(g=>g.name))||[]}),c=W(()=>{var f;return((f=n.cohort.flaws)==null?void 0:f.filter(g=>g.quantity>0).map(g=>g.name))||[]});function d(f){n.onEdit&&n.onEdit(f)}function u(f){n.onDelete&&n.onDelete(f)}return(f,g)=>{var w,x;return b(),k("div",{class:J(["cohort-tile",{harmed:i.value}])},[a("div",$1,[n.cohort.cohortType==="gang"?(b(),k("div",R1,[a("h3",null,[a("span",null,N(o.value),1)]),a("h1",null,N((w=s.value)==null?void 0:w.map($=>$.name).join(" & ")),1),a("h2",null,N((x=n.cohort.gangType)==null?void 0:x.filter($=>$.quantity>0)[0].description),1)])):n.cohort.cohortType==="expert"?(b(),k("div",O1,[a("h3",null,[i.value?(b(),k("span",P1,N(i.value)+"!",1)):M("",!0),Z(" Expert ")]),a("h1",null,N(n.cohort.name),1),a("h2",null,N(r.value.join(" & ")),1)])):n.cohort.cohortType==="vehicle"?(b(),k("div",I1,[a("h3",null,[i.value?(b(),k("span",N1,N(i.value)+"!",1)):M("",!0),Z(" Vehicle ")]),a("h1",null,N(n.cohort.name),1)])):M("",!0),n.onEdit?(b(),k("button",{key:3,class:"btn btn--icon",onClick:g[0]||(g[0]=$=>D(F).open(uo,{propertyName:n.cohort.cohortType,cohort:n.cohort,idPrefix:n.idPrefix,onDelete:u,onEdit:d}))},L1)):M("",!0)]),i.value?(b(),k("span",D1,N(i.value)+"!",1)):M("",!0),a("div",U1,[a("ul",null,[(b(!0),k(Y,null,pe(l.value,$=>(b(),k("li",{key:$},[B1,a("span",null,N($),1)]))),128))]),a("ul",null,[(b(!0),k(Y,null,pe(c.value,$=>(b(),k("li",{key:$},[M1,a("span",null,N($),1)]))),128))])]),a("p",null,N(n.cohort.description),1)],2)}}}),j1=se(F1,[["__scopeId","data-v-c545f8d7"]]),Ot=e=>(we("data-v-eab64fe9"),e=e(),xe(),e),H1={class:"edit"},Q1={class:"input-group"},V1=Ot(()=>a("label",{for:"name"},"Name",-1)),W1=Ot(()=>a("p",null,"Choose a name.",-1)),G1=Ot(()=>a("i",{class:"fas fa-random"},null,-1)),z1=Ot(()=>a("span",null,"Randomize",-1)),K1=[G1,z1],Y1=Ot(()=>a("label",{for:"id"},[Z("ID "),a("label",{class:"muted"},"(permanent)")],-1)),J1={class:"input-group stretch"},X1={for:"description"},Z1={class:"muted"},e0={class:"input-group"},t0=Ot(()=>a("label",{for:"attitude"},"Attitude",-1)),n0={key:0,class:"row"},s0=Ot(()=>a("span",null,"Cancel",-1)),o0=[s0],r0=Ot(()=>a("span",null,"New",-1)),i0=[r0],a0={key:1,class:"row"},l0=Ot(()=>a("i",{class:"fas fa-trash"},null,-1)),c0=Ot(()=>a("span",null,"Delete",-1)),u0=[l0,c0],d0=Ot(()=>a("span",null,"Save",-1)),h0=[d0],f0=ee({__name:"EditPersonModal",props:{propertyName:{},person:{},onEdit:{type:Function},onDelete:{type:Function},idPrefix:{},onCreateNew:{type:Function}},setup(e){var f;const t=e;en(()=>{document.addEventListener("blur",o,!0)}),ts(()=>{document.removeEventListener("blur",o,!0)});const n=(f=$e().game)==null?void 0:f.codex,s=L();function o(g){s.value=null}function r(){var $,q;const g=Pn(($=n==null?void 0:n.names)==null?void 0:$.firstNames),w=Pn((q=n==null?void 0:n.names)==null?void 0:q.lastNames),x=`${g} ${w}`;l.value.name=x,c(x)}const i={id:"",name:"",description:"",attitude:0},l=L({...t.person||i});function c(g){if(!t.onCreateNew)return;let w=(t.idPrefix||"")+"-"+g;w=w.toLowerCase().replace(/ /g,"-").replace(/[^a-z0-9-]/g,""),l.value.id=w}function d(){t.onCreateNew&&(t.onCreateNew(l.value),F.close())}function u(){t.onEdit&&(t.onEdit(l.value),F.close())}function h(){t.onDelete&&(t.onDelete(l.value.id),F.close())}return(g,w)=>(b(),ie(ze,null,{header:U(()=>[I(Ke,{closeButton:""},{default:U(()=>[a("h2",null,N(t.onCreateNew?"Create a new":"Edit")+" "+N(g.propertyName),1)]),_:1})]),content:U(()=>[a("div",H1,[a("div",Q1,[V1,Re(a("input",{type:"text",id:"name","onUpdate:modelValue":w[0]||(w[0]=x=>l.value.name=x),placeholder:"Enter a memorable name",onInput:w[1]||(w[1]=x=>c(l.value.name)),onFocus:w[2]||(w[2]=x=>s.value="name")},null,544),[[Oe,l.value.name]]),I(Kt,{show:s.value==="name"},{default:U(()=>[W1,a("button",{class:"btn btn--icon",onMousedown:r},K1,32)]),_:1},8,["show"])]),a("div",{class:J(["input-group",{disabled:!t.onCreateNew}])},[Y1,Re(a("input",{type:"text",id:"id","onUpdate:modelValue":w[3]||(w[3]=x=>l.value.id=x),placeholder:"A hyphenated identifier"},null,512),[[Oe,l.value.id]])],2),a("div",J1,[a("label",X1,[Z("Description "),a("label",Z1,"("+N(l.value.description.length)+" / 400) ",1)]),Re(a("textarea",{id:"description","onUpdate:modelValue":w[4]||(w[4]=x=>l.value.description=x),placeholder:"A brief description"},null,512),[[Oe,l.value.description]])]),a("div",e0,[t0,Re(a("input",{type:"number",id:"attitude","onUpdate:modelValue":w[5]||(w[5]=x=>l.value.attitude=x),placeholder:"-1, 0, 1..."},null,512),[[Oe,l.value.attitude]])]),t.onCreateNew?(b(),k("div",n0,[a("button",{class:"btn btn--alt mobile-full-width",onClick:w[6]||(w[6]=x=>D(F).close())},o0),a("button",{class:"btn mobile-full-width",onClick:d},i0)])):(b(),k("div",a0,[a("button",{class:"btn btn--alt mobile-full-width",onClick:h},u0),a("button",{class:"btn mobile-full-width",onClick:u},h0)]))])]),_:1}))}}),Qu=se(f0,[["__scopeId","data-v-eab64fe9"]]),Vu=e=>(we("data-v-aac6f290"),e=e(),xe(),e),p0=Vu(()=>a("i",{class:"fas fa-theater-masks"},null,-1)),m0={class:"person-tile__content"},y0={class:"header"},g0=Vu(()=>a("i",{class:"fas fa-edit"},null,-1)),v0=[g0],_0={class:"row selection-bar"},b0=ee({__name:"PersonTile",props:{person:{},propertyName:{},idPrefix:{},change:{type:Function},onEdit:{type:Function},onDelete:{type:Function},options:{}},setup(e){const t=e,n=L([t.person.attitude.toString()]);function s(i){n.value.length>1&&(n.value=[i.toString()]);const l=n.value.length>0?parseInt(n.value[0]):0;t.change(t.person,l)}function o(i){t.onEdit(i)}function r(i){t.onDelete(i)}return(i,l)=>(b(),k("div",{class:J(["person-tile",{active:t.person.attitude!==0}])},[p0,a("div",m0,[a("div",y0,[a("h2",null,N(t.person.name),1),a("button",{class:"btn btn--icon",onClick:l[0]||(l[0]=c=>D(F).open(Qu,{propertyName:i.propertyName,person:t.person,idPrefix:t.idPrefix,onDelete:r,onEdit:o}))},v0)]),a("div",_0,[(b(!0),k(Y,null,pe(i.options,c=>(b(),ie(gt,{key:c.value,modelValue:n.value,"onUpdate:modelValue":[l[1]||(l[1]=d=>n.value=d),d=>s(c.value)],value:c.value.toString(),icon:c.icon,text:c.text},null,8,["modelValue","value","onUpdate:modelValue","icon","text"]))),128))]),a("p",null,N(t.person.description),1)])],2))}}),w0=se(b0,[["__scopeId","data-v-aac6f290"]]),Hi=e=>(we("data-v-810f9f37"),e=e(),xe(),e),x0={class:"edit"},C0={class:"input-group"},k0=Hi(()=>a("label",{for:"name"},"Name",-1)),E0={class:"input-group disabled"},S0=Hi(()=>a("label",{for:"id"},[Z("ID "),a("label",{class:"muted"},"(permanent)")],-1)),T0={class:"input-group stretch"},A0={for:"description"},$0={class:"muted"},R0=Hi(()=>a("span",null,"Save",-1)),O0=[R0],P0=ee({__name:"EditClaimModal",props:{propertyName:{},claim:{},onEdit:{type:Function},idPrefix:{}},setup(e){const t=e,n=L({...t.claim});function s(){t.onEdit&&(t.onEdit(n.value),F.close())}return(o,r)=>(b(),ie(ze,null,{header:U(()=>[I(Ke,{closeButton:""},{default:U(()=>[a("h2",null,"Edit "+N(n.value.name),1)]),_:1})]),content:U(()=>[a("div",x0,[a("div",C0,[k0,Re(a("input",{type:"text",id:"name","onUpdate:modelValue":r[0]||(r[0]=i=>n.value.name=i),placeholder:"Enter a memorable name"},null,512),[[Oe,n.value.name]])]),a("div",E0,[S0,Re(a("input",{type:"text",id:"id","onUpdate:modelValue":r[1]||(r[1]=i=>n.value.id=i),placeholder:"A hyphenated identifier"},null,512),[[Oe,n.value.id]])]),a("div",T0,[a("label",A0,[Z("Description "),a("label",$0,"("+N(n.value.description.length)+" / 400) ",1)]),Re(a("textarea",{id:"description","onUpdate:modelValue":r[2]||(r[2]=i=>n.value.description=i),placeholder:"A brief description"},null,512),[[Oe,n.value.description]])]),a("div",{class:"row"},[a("button",{class:"btn mobile-full-width",onClick:s},O0)])])]),_:1}))}}),I0=se(P0,[["__scopeId","data-v-810f9f37"]]),Wu=e=>(we("data-v-da34d4d5"),e=e(),xe(),e),N0=Wu(()=>a("h2",null,"Edit Claims",-1)),q0={class:"edit-claims"},L0=Wu(()=>a("p",null,"Select a claim below.",-1)),D0=["onClick"],U0=ee({__name:"EditClaimsModal",props:{sheetId:{},claims:{}},setup(e){const t=e;function n(s){const o=t.claims.findIndex(r=>r.id===s.id);Pe([{op:"replace",path:`/data/sheets/${t.sheetId}/claims/${o}`,value:s}])}return(s,o)=>(b(),ie(ze,null,{header:U(()=>[I(Ke,{"close-button":""},{default:U(()=>[N0]),_:1})]),content:U(()=>[a("div",q0,[L0,a("ul",null,[(b(!0),k(Y,null,pe(t.claims,r=>(b(),k("li",{key:r.id},[a("button",{class:"btn btn--text",onClick:i=>D(F).open(I0,{claim:r,onEdit:n})},[a("span",null,N(r.name),1)],8,D0)]))),128))])])]),_:1}))}}),B0=se(U0,[["__scopeId","data-v-da34d4d5"]]),ne=e=>(we("data-v-58656366"),e=e(),xe(),e),M0={class:"sheet-layout__nested"},F0=["src"],j0={class:"input-group crew-tier"},H0={class:"input-group name-and-description"},Q0=ne(()=>a("label",{for:"crew-name"},"Name",-1)),V0=["value","placeholder"],W0=ne(()=>a("p",null,"Choose a name for your crew.",-1)),G0=["value"],z0=ne(()=>a("p",null,"Describe your crew in a few sentences.",-1)),K0={class:"input-group"},Y0=ne(()=>a("label",{for:"reputation-type"},"Reputation",-1)),J0=["value"],X0=ne(()=>a("p",null,"Choose how other underworld factions see you.",-1)),Z0={class:"text-list"},ex=["onMousedown"],tx={key:1,class:"input-group"},nx={class:"input-group"},sx=ne(()=>a("label",{for:"deity-name"},"Deity",-1)),ox={class:"row flat"},rx=["value"],ix=ne(()=>a("i",{class:"fas fa-random"},null,-1)),ax=[ix],lx={class:"input-group"},cx=["value"],ux=ne(()=>a("p",null,"Choose two features from the list to describe your deity.",-1)),dx={class:"text-list"},hx=["onMousedown"],fx={class:"input-group"},px=ne(()=>a("label",{for:"crew-lair"},"Lair",-1)),mx={class:"row flat"},yx=["value"],gx=ne(()=>a("i",{class:"fas fa-random"},null,-1)),vx=[gx],_x={class:"input-group"},bx=["value"],wx=ne(()=>a("p",null,"Where is your lair located?",-1)),xx={class:"text-list"},Cx=["onMousedown"],kx={class:"row"},Ex={key:2,class:"tile-list tile-list--mini"},Sx={key:3,class:"no-tiles"},Tx={class:"input-block"},Ax={class:"input-group crew-rep"},$x=ne(()=>a("label",{for:"crew-rep"},"Rep",-1)),Rx={class:"input-block turf-and-hold"},Ox={class:"input-group"},Px={class:"input-group"},Ix=ne(()=>a("label",{for:"crew-hold"},"Hold",-1)),Nx={class:"row flat"},qx=["innerHTML"],Lx=["innerHTML"],Dx=["innerHTML"],Ux=["innerHTML"],Bx={class:"input-block heat-and-wanted-level"},Mx={class:"input-group"},Fx=ne(()=>a("label",{for:"crew-heat"},"Heat & Wanted Level",-1)),jx=["innerHTML"],Hx={class:"input-group coin-group"},Qx={for:"crew-coin"},Vx={class:"muted"},Wx=["innerHTML"],Gx=ne(()=>a("label",{for:"claims"},"Claims",-1)),zx={class:"row"},Kx=ne(()=>a("span",null,"Edit Claims",-1)),Yx=[Kx],Jx={class:"claims-list"},Xx={class:"crew-xp-section"},Zx={class:"input-group crew-xp"},eC=ne(()=>a("label",{for:"crew-xp"},"Crew XP",-1)),tC=["innerHTML"],nC=["innerHTML"],sC=["innerHTML"],oC=ne(()=>a("label",{for:"crew-abilities"},"Special Abilities",-1)),rC={class:"row"},iC=ne(()=>a("span",null,"New",-1)),aC=[iC],lC={key:0,class:"tile-list"},cC={key:1,class:"no-tiles"},uC=ne(()=>a("em",null,"❖ No Special Abilities selected",-1)),dC=[uC],hC=ne(()=>a("label",{for:"crew-upgrades"},"Crew Upgrades",-1)),fC={class:"row"},pC=ne(()=>a("span",null,"New",-1)),mC=[pC],yC={key:0,class:"tile-list"},gC={key:1,class:"no-tiles"},vC=ne(()=>a("em",null,"❖ No crew upgrades selected",-1)),_C=[vC],bC=ne(()=>a("label",{for:"crew-lair-upgrades"},"Lair Upgrades",-1)),wC={class:"row"},xC=ne(()=>a("span",null,"New",-1)),CC=[xC],kC={key:0,class:"tile-list"},EC={key:1,class:"no-tiles"},SC=ne(()=>a("em",null,"❖ No lair upgrades selected",-1)),TC=[SC],AC=ne(()=>a("label",{for:"crew-training-upgrades"},"Training Upgrades",-1)),$C={class:"row"},RC=ne(()=>a("span",null,"New",-1)),OC=[RC],PC={key:0,class:"tile-list"},IC={key:1,class:"no-tiles"},NC=ne(()=>a("em",null,"❖ No training upgrades selected",-1)),qC=[NC],LC=ne(()=>a("label",{for:"crew-quality-upgrades"},"Quality Upgrades",-1)),DC={class:"row"},UC=ne(()=>a("span",null,"New",-1)),BC=[UC],MC={key:0,class:"tile-list"},FC={key:1,class:"no-tiles"},jC=ne(()=>a("em",null,"❖ No quality upgrades selected",-1)),HC=[jC],QC=ne(()=>a("label",{for:"contacts"},"Crew Contacts",-1)),VC={class:"row"},WC=ne(()=>a("span",null,"New",-1)),GC=[WC],zC={key:0,class:"tile-list tile-list--mini"},KC={key:1,class:"no-tiles"},YC=ne(()=>a("em",null,"❖ No Crew Contacts selected",-1)),JC=[YC],XC=ne(()=>a("label",{for:"cohorts"},"Cohorts",-1)),ZC={class:"row"},ek=ne(()=>a("i",{class:"fas fa-plus-circle"},null,-1)),tk=ne(()=>a("span",null,"Gang",-1)),nk=[ek,tk],sk=ne(()=>a("i",{class:"fas fa-plus-circle"},null,-1)),ok=ne(()=>a("span",null,"Expert",-1)),rk=[sk,ok],ik=ne(()=>a("i",{class:"fas fa-plus-circle"},null,-1)),ak=ne(()=>a("span",null,"Vehicle",-1)),lk=[ik,ak],ck={key:0,class:"tile-list"},uk={key:1,class:"no-tiles"},dk=ne(()=>a("em",null,"❖ Your crew hasn't recruited any cohorts",-1)),hk=[dk],fk={class:"row center mobile-nav"},pk=ne(()=>a("i",{class:"fas fa-file-alt"},null,-1)),mk=ne(()=>a("i",{class:"fas fa-file-alt"},null,-1)),yk=ne(()=>a("i",{class:"fas fa-file-alt"},null,-1)),gk=ee({__name:"TheCrewSheet",props:{sheet:{}},setup(e){var E;const t=(E=$e().game)==null?void 0:E.codex;en(()=>{document.addEventListener("blur",i,!0)}),ts(()=>{document.removeEventListener("blur",i,!0)});const n=e,s=L(0),o=L(null),r=L();function i(p){var y;(y=p.relatedTarget)!=null&&y.closest(".shelf")||(r.value=null)}function l(p,y){console.log("onChangeValue",p,y);const C=`/data/sheets/${n.sheet.id}/${y}`;Pe([{op:"replace",path:C,value:p}])}const c=W(()=>{const p=S("vault");return console.log("vault:",p),p===1?8:p===2?16:4}),d=W(()=>{const p=S("vault");return p===1?"& one Vault":p===2?"& two Vaults":""});function u(p){const y=Math.round(p.scrollLeft/p.clientWidth);s.value=y}function h(p){o.value&&(o.value.scrollTo({top:0}),o.value.scrollTo({left:o.value.clientWidth*p,behavior:"smooth"}))}function f(){const p=t.sheets.crew.lairs,{name:y,districts:C}=Pn(p),A=Pn(C);l(y,"lair"),l(A,"lairDistrict")}function g(){const p=t.names.deityNames,y=Pn(p);l(y,"deityName")}const w=L(localStorage.getItem("showOnlySelectedCrewUpgrades")==="true"),x=W(()=>w.value?n.sheet.crewUpgrades.filter(p=>p.quantity>0):n.sheet.crewUpgrades),$=L(localStorage.getItem("showOnlySelectedLairUpgrades")==="true"),q=W(()=>$.value?n.sheet.lairUpgrades.filter(p=>p.quantity>0):n.sheet.lairUpgrades),H=L(localStorage.getItem("showOnlySelectedTrainingUpgrades")==="true"),Q=W(()=>H.value?n.sheet.trainingUpgrades.filter(p=>p.quantity>0):n.sheet.trainingUpgrades),X=L(localStorage.getItem("showOnlySelectedQualityUpgrades")==="true"),de=W(()=>X.value?n.sheet.qualityUpgrades.filter(p=>p.quantity>0):n.sheet.qualityUpgrades);function K(p,y){const C=n.sheet.crewUpgrades.findIndex(A=>A.id===p.id);Pe([{op:"replace",path:`/data/sheets/${n.sheet.id}/${y}Upgrades/${C}`,value:p}])}function Ee(p,y){const C=n.sheet.crewUpgrades.findIndex(A=>A.id===p);Pe([{op:"remove",path:`/data/sheets/${n.sheet.id}/${y}Upgrades/${C}`}])}function re(p,y,C){const A=n.sheet[`${C}Upgrades`].findIndex(v=>v.id===p.id);if(A===-1)return console.error("Upgrade not found",p);const P=`/data/sheets/${n.sheet.id}/${C}Upgrades/${A}/quantity`;Pe([{op:"replace",path:P,value:y}])}function ae(p,y){Pe([{op:"add",path:`/data/sheets/${n.sheet.id}/${y}Upgrades/-`,value:p}])}const ke=L(localStorage.getItem("showOnlySelectedContacts")==="true"),Le=W(()=>ke.value?n.sheet.contacts.filter(p=>p.attitude!==0):n.sheet.contacts);function We(p){const y=n.sheet.contacts.findIndex(C=>C.id===p.id);Pe([{op:"replace",path:`/data/sheets/${n.sheet.id}/contacts/${y}`,value:p}])}function Ye(p){const y=n.sheet.contacts.findIndex(C=>C.id===p);Pe([{op:"remove",path:`/data/sheets/${n.sheet.id}/contacts/${y}`}])}function yt(p,y){const C=n.sheet.contacts.findIndex(P=>P.id===p.id),A=`/data/sheets/${n.sheet.id}/contacts/${C}/attitude`;Pe([{op:"replace",path:A,value:y}])}function Je(p){Pe([{op:"add",path:`/data/sheets/${n.sheet.id}/contacts/-`,value:p}])}const ce=L(localStorage.getItem("showOnlySelectedAbilities")==="true"),me=W(()=>ce.value?n.sheet.specialAbilities.filter(p=>p.quantity>0):n.sheet.specialAbilities);function ye(p,y){const C=n.sheet.specialAbilities.findIndex(P=>P.id===p.id),A=`/data/sheets/${n.sheet.id}/specialAbilities/${C}/quantity`;Pe([{op:"replace",path:A,value:y}])}function lt(p){const y=n.sheet.specialAbilities.findIndex(C=>C.id===p.id);Pe([{op:"replace",path:`/data/sheets/${n.sheet.id}/specialAbilities/${y}`,value:p}])}function dt(p){const y=n.sheet.specialAbilities.findIndex(C=>C.id===p);Pe([{op:"remove",path:`/data/sheets/${n.sheet.id}/specialAbilities/${y}`}])}function rt(p){Pe([{op:"add",path:`/data/sheets/${n.sheet.id}/specialAbilities/-`,value:p}])}function je(p,y){return p.position.x!==y.position.x?p.position.x-y.position.x:y.position.y-p.position.y}const ht=L(!0),xt=W(()=>n.sheet.claims.sort(je));function Gt(p){const y={},C={[Yt.NORTH]:{x:0,y:-1},[Yt.EAST]:{x:1,y:0},[Yt.SOUTH]:{x:0,y:1},[Yt.WEST]:{x:-1,y:0}};return p.adjacent.forEach(A=>{const P=C[A],v={x:p.position.x+P.x,y:p.position.y+P.y},T=n.sheet.claims.find(G=>G.position.x===v.x&&G.position.y===v.y);T&&(y[A]=T)}),y}function Ue(p,y){const C=n.sheet.claims.findIndex(P=>P.id===p.id),A=`/data/sheets/${n.sheet.id}/claims/${C}/quantity`;Pe([{op:"replace",path:A,value:y}])}const R=L(localStorage.getItem("showOnlySelectedHuntingGrounds")==="true"),j=W(()=>R.value?n.sheet.huntingGrounds.filter(p=>p.quantity>0):n.sheet.huntingGrounds);function B(p,y){const C=n.sheet.huntingGrounds.findIndex(P=>P.id===p.id),A=`/data/sheets/${n.sheet.id}/huntingGrounds/${C}/quantity`;Pe([{op:"replace",path:A,value:y}])}function V(p){const y=n.sheet.huntingGrounds.findIndex(C=>C.id===p.id);Pe([{op:"replace",path:`/data/sheets/${n.sheet.id}/huntingGrounds/${y}`,value:p}])}const he=W(()=>n.sheet.cohorts);function Te(p){const y=n.sheet.cohorts.findIndex(C=>C.id===p);Pe([{op:"remove",path:`/data/sheets/${n.sheet.id}/cohorts/${y}`}])}function m(p){Pe([{op:"add",path:`/data/sheets/${n.sheet.id}/cohorts/-`,value:p}])}function _(p){const y=n.sheet.cohorts.findIndex(C=>C.id===p.id);Pe([{op:"replace",path:`/data/sheets/${n.sheet.id}/cohorts/${y}`,value:p}])}function S(p){const{sheet:y}=n,A=[...y.crewUpgrades,...y.lairUpgrades,...y.trainingUpgrades,...y.qualityUpgrades,...y.specialAbilities,...y.claims,...y.huntingGrounds].find(P=>P.id===p);return A?A.quantity:-1}return Mt([R,ce,ke,w,$,H,X],()=>{localStorage.setItem("showOnlySelectedHuntingGrounds",R.value.toString()),localStorage.setItem("showOnlySelectedAbilities",ce.value.toString()),localStorage.setItem("showOnlySelectedContacts",ke.value.toString()),localStorage.setItem("showOnlySelectedCrewUpgrades",w.value.toString()),localStorage.setItem("showOnlySelectedLairUpgrades",$.value.toString()),localStorage.setItem("showOnlySelectedTrainingUpgrades",H.value.toString()),localStorage.setItem("showOnlySelectedQualityUpgrades",X.value.toString())}),(p,y)=>{var A,P;const C=Ps("Divider");return b(),k("div",M0,[a("div",{class:"crew-layout",ref_key:"carouselRef",ref:o,onScroll:y[41]||(y[41]=v=>u(v.target))},[a("div",{class:J(["main-and-claims",{active:s.value==0}])},[a("section",null,[a("div",{class:"crew-type-card",style:Vt({backgroundColor:(A=D(wo)(p.sheet.image))==null?void 0:A.commonColor})},[a("img",{src:(P=D(wo)(p.sheet.image))==null?void 0:P.url},null,8,F0),a("h1",{class:J({"extra-long":p.sheet.name.length>20})},N(p.sheet.name),3),a("h2",null,N(p.sheet.crewTypeDescription),1),a("div",j0,[I(xs,{id:"crew-tier",label:"Tier",value:n.sheet.tier,min:0,max:5,onChange:y[0]||(y[0]=v=>l(v,"tier"))},null,8,["value"])])],4),a("div",H0,[Q0,a("input",{id:"crew-name",type:"text",value:n.sheet.name,onFocus:y[1]||(y[1]=v=>r.value="name"),placeholder:"Untitled "+p.sheet.crewType,onChange:y[2]||(y[2]=v=>{var T;return l((T=v.target)==null?void 0:T.value,"name")})},null,40,V0),I(Kt,{show:r.value=="name"},{default:U(()=>[W0]),_:1},8,["show"]),a("textarea",{id:"crew-description",value:n.sheet.description,onFocus:y[3]||(y[3]=v=>r.value="description"),placeholder:"A group of scoundrels scraping by in the underworld",onChange:y[4]||(y[4]=v=>{var T;return l((T=v.target)==null?void 0:T.value,"description")})},`\r
            `,40,G0),I(Kt,{show:r.value=="description"},{default:U(()=>[z0]),_:1},8,["show"])]),a("div",K0,[Y0,a("input",{id:"reputation-type",type:"text",value:n.sheet.reputationType,onFocus:y[5]||(y[5]=v=>r.value="reputation-type"),placeholder:"Ambitious",onChange:y[6]||(y[6]=v=>{var T;return l((T=v.target)==null?void 0:T.value,"reputationType")})},null,40,J0),I(Kt,{show:r.value=="reputation-type"},{default:U(()=>[X0,a("div",Z0,[(b(!0),k(Y,null,pe(D(t).sheets.crew.reputations,v=>(b(),k("button",{class:"btn btn--text",onMousedown:T=>l(v,"reputationType")},N(v),41,ex))),256))])]),_:1},8,["show"])]),n.sheet.crewType==="Cult"?(b(),ie(C,{key:0})):M("",!0),n.sheet.crewType==="Cult"?(b(),k("div",tx,[a("div",nx,[sx,a("div",ox,[a("input",{id:"deity-name",type:"text",value:n.sheet.deityName,placeholder:"By what name do you know your deity?",onFocus:y[7]||(y[7]=v=>r.value="deity-name"),onChange:y[8]||(y[8]=v=>{var T;return l((T=v.target)==null?void 0:T.value,"deityName")})},null,40,rx),a("button",{class:"btn btn--icon",onClick:g},ax)])]),a("div",lx,[a("input",{id:"deity-features",type:"text",onFocus:y[9]||(y[9]=v=>r.value="deity-features"),onChange:y[10]||(y[10]=v=>{var T;return l((T=v.target)==null?void 0:T.value,"deityFeatures")}),placeholder:"Describe your deity in a few words",value:n.sheet.deityFeatures},null,40,cx),I(Kt,{show:r.value=="deity-features"},{default:U(()=>[ux,a("div",dx,[(b(),k(Y,null,pe(["Alluring","Cruel","Ferocious","Monstrous","Radiant","Sinister","Serene","Transcendent"],v=>a("button",{class:"btn btn--text",key:v,onMousedown:T=>l(p.sheet.deityFeatures.length?p.sheet.deityFeatures+", "+v.toLowerCase():v,"deityFeatures")},N(v),41,hx)),64))])]),_:1},8,["show"])])])):M("",!0),I(C),a("div",fx,[px,a("div",mx,[a("input",{id:"crew-lair",type:"text",value:n.sheet.lair,placeholder:"Where your crew hatches its schemes",onFocus:y[11]||(y[11]=v=>r.value="lair"),onChange:y[12]||(y[12]=v=>{var T;return l((T=v.target)==null?void 0:T.value,"lair")})},null,40,yx),a("button",{class:"btn btn--icon",onClick:f},vx)]),a("div",_x,[a("input",{id:"crew-lair-district",type:"text",value:n.sheet.lairDistrict,placeholder:"Where do you call home?",onFocus:y[13]||(y[13]=v=>r.value="lair-district"),onChange:y[14]||(y[14]=v=>{var T;return l((T=v.target)==null?void 0:T.value,"lairDistrict")})},null,40,bx),I(Kt,{show:r.value=="lair-district"},{default:U(()=>[wx,a("div",xx,[(b(!0),k(Y,null,pe(D(t).lexicon.districts.map(v=>v.name),v=>(b(),k("button",{class:"btn btn--text",key:v,onMousedown:T=>l(v,"lairDistrict")},N(v),41,Cx))),128))])]),_:1},8,["show"])])]),I(C),a("label",null,N(p.sheet.huntingGroundsLabel),1),a("div",kx,[I(gt,{icon:"fa-low-vision",modelValue:R.value,"onUpdate:modelValue":y[15]||(y[15]=v=>R.value=v),label:"Show only selected"},null,8,["modelValue"])]),j.value.length>0?(b(),k("div",Ex,[(b(!0),k(Y,null,pe(j.value,v=>(b(),ie(Lt,{effectable:v,key:v.id,idPrefix:n.sheet.crewType,propertyName:p.sheet.huntingGroundsLabel,change:T=>B(v,T),onEdit:V,onDelete:()=>{}},null,8,["effectable","idPrefix","propertyName","change"]))),128))])):M("",!0),j.value.length==0?(b(),k("p",Sx,[a("em",null,"❖ No "+N(p.sheet.huntingGroundsLabel)+" selected",1)])):M("",!0)]),I(C),a("section",null,[a("div",Tx,[a("div",Ax,[$x,I(Xs,{id:"crew-rep",value:n.sheet.reputation,locked:n.sheet.turf,max:12,onChange:y[16]||(y[16]=v=>l(v,"reputation"))},null,8,["value","locked"])])]),a("div",Rx,[a("div",Ox,[I(xs,{id:"crew-turf",value:n.sheet.turf,min:0,max:5,label:"Turf",onChange:y[17]||(y[17]=v=>l(v,"turf"))},null,8,["value"])]),a("div",Px,[Ix,a("div",Nx,[a("button",{class:J(["btn btn--tab",{active:n.sheet.hold=="weak"}]),onClick:y[18]||(y[18]=v=>l("weak","hold"))}," Weak ",2),a("button",{class:J(["btn btn--tab",{active:n.sheet.hold=="strong"}]),onClick:y[19]||(y[19]=v=>l("strong","hold"))}," Strong ",2)])])]),I(St,null,{default:U(()=>[a("p",{innerHTML:D(at)(`Completing a score earns your Crew [/rep +2 Rep]

Take [/rep +1 Rep] per *Tier* higher than your target, or [/rep -1 Rep] per *Tier* lower`)},null,8,qx)]),_:1}),I(St,null,{default:U(()=>[a("p",{innerHTML:D(at)("With a full tracker, the Crew can't earn more *Rep* until you do one of the following, then reset the tracker")},null,8,Lx),a("ul",null,[a("li",{innerHTML:D(at)(`If your *Hold* is Strong, increase your *Tier* by paying [/coin Coin] equal to 8x your new *Tier*
Reduce your *Hold* to Weak`)},null,8,Dx),a("li",{innerHTML:D(at)("If your *Hold* is Weak, increase it to Strong")},null,8,Ux)])]),_:1})]),I(C),a("section",null,[a("div",Bx,[a("div",Mx,[Fx,I(Xs,{id:"crew-heat",value:n.sheet.heat,max:9,onChange:y[20]||(y[20]=v=>l(v,"heat"))},null,8,["value"])]),I(xs,{id:"crew-wanted-level",value:n.sheet.wantedLevel,min:0,max:5,onChange:y[21]||(y[21]=v=>l(v,"wantedLevel"))},null,8,["value"])]),I(St,null,{default:U(()=>[a("p",{innerHTML:D(at)(`When the tracker is full, increase the *Wanted Level* and clear all your *Heat*

The only way to reduce your *Wanted Level* is through *Incarceration*. When one of the PCs, friends, contacts—or a framed enemy—is convicted and incarcerated for crimes associated with your Crew, clear your *Heat* and reduce your *Wanted Level* by 1`)},null,8,jx)]),_:1}),I(C),a("div",Hx,[a("label",Qx,[Z("Treasury "),a("label",Vx,N(d.value),1)]),I(Xs,{id:"crew-coin",value:n.sheet.coin,max:16,locked:16-c.value,coinMode:!0,onChange:y[22]||(y[22]=v=>l(v,"coin"))},null,8,["value","locked"]),I(St,null,{default:U(()=>[a("p",{innerHTML:D(at)(`Most *Districts* have crime bosses that expect smaller crews to pay a tithe from their scores

Is there a boss that you should be paying? Subtract [/coin Coin] equal to your *Tier* +1 when you pay a tithe`)},null,8,Wx)]),_:1})])]),I(C),a("section",null,[Gx,a("div",zx,[a("button",{class:"btn",onClick:y[23]||(y[23]=v=>D(F).open(B0,{sheetId:n.sheet.id,claims:n.sheet.claims}))},Yx),I(gt,{icon:"fa-low-vision",modelValue:ht.value,"onUpdate:modelValue":y[24]||(y[24]=v=>ht.value=v),label:"Show details"},null,8,["modelValue"])]),a("div",Jx,[(b(!0),k(Y,null,pe(xt.value,v=>(b(),ie(Ib,{key:v.id,claim:v,showDetails:ht.value,idPrefix:n.sheet.crewType,propertyName:"Claim",neighborClaims:Gt(v),change:T=>Ue(v,T)},null,8,["claim","showDetails","idPrefix","neighborClaims","change"]))),128))])])],2),a("div",{class:J(["abilities-xp-and-contacts",{active:s.value==1}])},[a("section",Xx,[a("div",Zx,[eC,I(Xs,{id:"crew-xp",value:n.sheet.crewExperience,max:9,onChange:y[25]||(y[25]=v=>l(v,"crewExperience"))},null,8,["value"])]),I(St,null,{default:U(()=>[a("p",{innerHTML:D(at)(`For each item below, mark [/xp 1 XP]
If it occurred more than once, mark [/xp 2 XP]`)},null,8,tC),a("ul",null,[(b(!0),k(Y,null,pe([...p.sheet.crewExperienceLabels,...p.sheet.crewDefaultExperienceLabels||[]],v=>(b(),k("li",{innerHTML:D(at)(v)},null,8,nC))),256))])]),_:1}),I(St,null,{default:U(()=>[a("p",{innerHTML:D(at)(`When the tracker is full, choose one *Special Ability* or two *Upgrades* and clear the *XP*

Every time the crew advances, each PC gets [/coin +1 Stash] and an additional [/coin +2 Stash] for each *Tier*`)},null,8,sC)]),_:1})]),I(C),a("section",null,[oC,a("div",rC,[a("button",{class:"btn",onClick:y[26]||(y[26]=v=>D(F).open(jn,{propertyName:"Special Ability",idPrefix:p.sheet.crewType,onCreateNew:rt}))},aC),I(gt,{icon:"fa-low-vision",modelValue:ce.value,"onUpdate:modelValue":y[27]||(y[27]=v=>ce.value=v),label:"Show only selected"},null,8,["modelValue"])]),me.value.length>0?(b(),k("div",lC,[(b(!0),k(Y,null,pe(me.value,v=>(b(),ie(Lt,{key:v.id,effectable:v,idPrefix:n.sheet.crewType,propertyName:"Special Ability",change:T=>ye(v,T),onEdit:lt,onDelete:dt},null,8,["effectable","idPrefix","change"]))),128))])):M("",!0),me.value.length==0?(b(),k("p",cC,dC)):M("",!0)]),I(C),a("section",null,[hC,a("div",fC,[a("button",{class:"btn",onClick:y[28]||(y[28]=v=>D(F).open(jn,{propertyName:"Upgrade",idPrefix:p.sheet.crewType+"-upgrade",onCreateNew:T=>ae(T,"crew")}))},mC),I(gt,{icon:"fa-low-vision",modelValue:w.value,"onUpdate:modelValue":y[29]||(y[29]=v=>w.value=v),label:"Show only selected"},null,8,["modelValue"])]),x.value.length>0?(b(),k("div",yC,[(b(!0),k(Y,null,pe(x.value,v=>(b(),ie(Lt,{key:v.id,effectable:v,idPrefix:n.sheet.crewType+"-upgrade",propertyName:"Upgrade",change:T=>{re(v,T,"crew")},onEdit:T=>{K(T,"crew")},onDelete:T=>Ee(T,"crew")},null,8,["effectable","idPrefix","change","onEdit","onDelete"]))),128))])):M("",!0),x.value.length==0?(b(),k("p",gC,_C)):M("",!0)]),I(C),a("section",null,[bC,a("div",wC,[a("button",{class:"btn",onClick:y[30]||(y[30]=v=>D(F).open(jn,{propertyName:"Upgrade",idPrefix:p.sheet.crewType+"-lair-upgrade",onCreateNew:T=>ae(T,"lair")}))},CC),I(gt,{icon:"fa-low-vision",modelValue:$.value,"onUpdate:modelValue":y[31]||(y[31]=v=>$.value=v),label:"Show only selected"},null,8,["modelValue"])]),q.value.length>0?(b(),k("div",kC,[(b(!0),k(Y,null,pe(q.value,v=>(b(),ie(Lt,{key:v.id,effectable:v,idPrefix:n.sheet.crewType+"-lair-upgrade",propertyName:"Upgrade",change:T=>{re(v,T,"lair")},onEdit:T=>{K(T,"lair")},onDelete:T=>Ee(T,"lair")},null,8,["effectable","idPrefix","change","onEdit","onDelete"]))),128))])):M("",!0),q.value.length==0?(b(),k("p",EC,TC)):M("",!0)]),I(C),a("section",null,[AC,a("div",$C,[a("button",{class:"btn",onClick:y[32]||(y[32]=v=>D(F).open(jn,{propertyName:"Upgrade",idPrefix:p.sheet.crewType+"-training-upgrade",onCreateNew:T=>ae(T,"training")}))},OC),I(gt,{icon:"fa-low-vision",modelValue:H.value,"onUpdate:modelValue":y[33]||(y[33]=v=>H.value=v),label:"Show only selected"},null,8,["modelValue"])]),Q.value.length>0?(b(),k("div",PC,[(b(!0),k(Y,null,pe(Q.value,v=>(b(),ie(Lt,{key:v.id,effectable:v,idPrefix:n.sheet.crewType+"-training-upgrade",propertyName:"Upgrade",change:T=>{re(v,T,"training")},onEdit:T=>{K(T,"training")},onDelete:T=>Ee(T,"training")},null,8,["effectable","idPrefix","change","onEdit","onDelete"]))),128))])):M("",!0),Q.value.length==0?(b(),k("p",IC,qC)):M("",!0)]),I(C),a("section",null,[LC,a("div",DC,[a("button",{class:"btn",onClick:y[34]||(y[34]=v=>D(F).open(jn,{propertyName:"Upgrade",idPrefix:p.sheet.crewType+"-quality-upgrade",onCreateNew:T=>ae(T,"quality")}))},BC),I(gt,{icon:"fa-low-vision",modelValue:X.value,"onUpdate:modelValue":y[35]||(y[35]=v=>X.value=v),label:"Show only selected"},null,8,["modelValue"])]),de.value.length>0?(b(),k("div",MC,[(b(!0),k(Y,null,pe(de.value,v=>(b(),ie(Lt,{key:v.id,effectable:v,idPrefix:n.sheet.crewType+"-quality-upgrade",propertyName:"Upgrade",change:T=>{re(v,T,"quality")},onEdit:T=>{K(T,"quality")},onDelete:T=>Ee(T,"quality")},null,8,["effectable","idPrefix","change","onEdit","onDelete"]))),128))])):M("",!0),de.value.length==0?(b(),k("p",FC,HC)):M("",!0)])],2),a("div",{class:J(["upgrades",{active:s.value==2}])},[a("section",null,[QC,a("div",VC,[a("button",{class:"btn",onClick:y[36]||(y[36]=v=>D(F).open(Qu,{propertyName:"Crew Contact",idPrefix:p.sheet.crewType+"-contact",onCreateNew:Je}))},GC),I(gt,{icon:"fa-low-vision",modelValue:ke.value,"onUpdate:modelValue":y[37]||(y[37]=v=>ke.value=v),label:"Show only selected"},null,8,["modelValue"])]),Le.value.length>0?(b(),k("div",zC,[(b(!0),k(Y,null,pe(Le.value,v=>(b(),ie(w0,{key:v.id,idPrefix:n.sheet.crewType+"-contact",propertyName:"Crew Contact",person:v,change:yt,onEdit:We,onDelete:Ye,options:[{value:1,text:"❖"}]},null,8,["idPrefix","person"]))),128))])):M("",!0),Le.value.length==0?(b(),k("p",KC,JC)):M("",!0)]),I(C),a("section",null,[XC,a("div",ZC,[a("button",{class:"btn",onClick:y[38]||(y[38]=v=>D(F).open(uo,{propertyName:"gang",idPrefix:p.sheet.crewType+"-gang",onCreateNew:m}))},nk),a("button",{class:"btn",onClick:y[39]||(y[39]=v=>D(F).open(uo,{propertyName:"expert",idPrefix:p.sheet.crewType+"-expert",onCreateNew:m}))},rk),n.sheet.crewType==="Smugglers"?(b(),k("button",{key:0,class:J(["btn",{disabled:!S("like-part-of-the-family")}]),onClick:y[40]||(y[40]=v=>D(F).open(uo,{propertyName:"vehicle",idPrefix:p.sheet.crewType+"-vehicle",onCreateNew:m}))},lk,2)):M("",!0)]),he.value.length>0?(b(),k("div",ck,[(b(!0),k(Y,null,pe(he.value,v=>(b(),ie(j1,{key:v.id,cohort:v,idPrefix:n.sheet.crewType,onEdit:_,onDelete:Te},null,8,["cohort","idPrefix"]))),128))])):M("",!0),he.value.length==0?(b(),k("p",uk,hk)):M("",!0)])],2)],544),a("div",fk,[a("button",{class:J(["btn btn--tab",{active:s.value==0}]),onClick:y[42]||(y[42]=v=>h(0))},[Z(" 1 "),pk],2),a("button",{class:J(["btn btn--tab",{active:s.value==1}]),onClick:y[43]||(y[43]=v=>h(1))},[Z(" 2 "),mk],2),a("button",{class:J(["btn btn--tab",{active:s.value==2}]),onClick:y[44]||(y[44]=v=>h(2))},[Z(" 3 "),yk],2)])])}}}),vk=se(gk,[["__scopeId","data-v-58656366"]]),sn=e=>(we("data-v-7781e1cb"),e=e(),xe(),e),_k={class:"page"},bk={class:"controls"},wk={key:0,class:"row center"},xk=["onClick"],Ck={key:1,class:"row sheet-controls"},kk=sn(()=>a("i",{class:"fas fa-arrow-left"},null,-1)),Ek=sn(()=>a("span",{class:"mobile-hidden"},"Back",-1)),Sk=[kk,Ek],Tk={class:"breadcrumbs"},Ak=sn(()=>a("span",{class:"mobile-hidden"},"Sheets",-1)),$k=sn(()=>a("i",{class:"fas fa-angle-right"},null,-1)),Rk=sn(()=>a("i",{class:"fas fa-trash"},null,-1)),Ok=sn(()=>a("span",{class:"mobile-hidden"},"Delete",-1)),Pk=[Rk,Ok],Ik={key:0,class:"loading"},Nk=sn(()=>a("i",{class:"fas fa-circle-notch fa-spin"},null,-1)),qk=[Nk],Lk={key:1,class:"sheet-layout"},Dk={key:2,class:"sheet-select-layout"},Uk={key:0,class:"sheet-list"},Bk=sn(()=>a("i",{class:"fas fa-folder-plus"},null,-1)),Mk={key:1,class:"sheet-list"},Fk=sn(()=>a("i",{class:"fas fa-folder-plus"},null,-1)),jk={key:0,class:"model-overlay"},Hk=ee({__name:"TheGamePage",setup(e){const t=Bu(),n=W(()=>{var f;return!((f=$e().game)!=null&&f.codex)}),s=L("crew"),o=W(()=>{var f,g;return Object.values(((g=(f=$e().game)==null?void 0:f.data)==null?void 0:g.sheets)||[])}),r=W(()=>o.value.filter(f=>f.sheetType==="crew")),i=W(()=>o.value.filter(f=>f.sheetType==="character")),l=L(null),c=L(!1);en(()=>{const f=t.params.id;Iy(f)});function d(){F.open(wb,{sheetType:s.value,templateTypeKey:"crewType",templates:hb(s.value),onConfirm:u})}function u(f,g){var w,x;if(!g)return console.error("Sheet not found");(x=(w=$e().game)==null?void 0:w.data)!=null&&x.sheets?Pe([{op:"add",path:`/data/sheets/${g.id}`,value:g}]):Pe([{op:"replace",path:"/data",value:{sheets:{[g.id]:g}}}])}function h(){l.value&&F.open(Fi,{title:"Delete Sheet",message:`Are you sure you want to delete <em>${l.value.name}</em> ${l.value.sheetType} sheet?`,confirmText:"Yes, delete it",onConfirm:()=>{var f;Pe([{op:"remove",path:`/data/sheets/${(f=l.value)==null?void 0:f.id}`}]),l.value=null,F.close()}})}return(f,g)=>{var w,x;return b(),k(Y,null,[a("div",_k,[a("div",bk,[l.value?(b(),k("div",Ck,[a("button",{class:"btn btn--icon",onClick:g[0]||(g[0]=$=>l.value=null)},Sk),a("h2",Tk,[a("span",null,[a("span",null,N(l.value.sheetType),1),Ak]),$k,a("span",null,N(l.value.name),1)]),a("button",{class:"btn btn--icon",onClick:h},Pk)])):(b(),k("div",wk,[(b(),k(Y,null,pe([{name:"crew",text:"Crews"},{name:"character",text:"Characters",disabled:!0},{name:"world",text:"World",disabled:!0}],$=>a("button",{class:J(["btn btn--tab",{active:s.value===$.name,disabled:$.disabled}]),onClick:q=>s.value=$.name},[a("span",null,N($.text),1)],10,xk)),64))]))]),n.value?(b(),k("div",Ik,qk)):l.value?(b(),k("div",Lk,[((w=l.value)==null?void 0:w.sheetType)==="crew"?(b(),ie(vk,{key:0,sheet:l.value},null,8,["sheet"])):M("",!0),((x=l.value)==null?void 0:x.sheetType)==="character"?(b(),ie(Cb,{key:1,sheet:l.value},null,8,["sheet"])):M("",!0)])):(b(),k("div",Dk,[s.value==="crew"?(b(),k("ul",Uk,[(b(!0),k(Y,null,pe(r.value,$=>(b(),k("li",{key:$.id},[I(vl,{sheet:$,onClick:q=>l.value=$},null,8,["sheet","onClick"])]))),128)),a("li",null,[a("div",{class:"new-sheet-card",onClick:d},[Bk,a("span",null,"New "+N(s.value),1)])])])):s.value==="character"?(b(),k("ul",Mk,[(b(!0),k(Y,null,pe(i.value,$=>(b(),k("li",{key:$.id},[I(vl,{sheet:$,onClick:q=>l.value=$},null,8,["sheet","onClick"])]))),128)),a("li",null,[a("div",{class:"new-sheet-card",onClick:d},[Fk,a("span",null,"New "+N(s.value),1)])])])):M("",!0),I(z_,{class:"mobile-hidden"})]))]),c.value?(b(),k("div",jk,[a("pre",null,N(JSON.stringify(D($e)().game,null,2)),1),a("button",{class:"btn debug btn",onClick:g[1]||(g[1]=$=>c.value=!1)}," Close ")])):M("",!0)],64)}}}),Qk=se(Hk,[["__scopeId","data-v-7781e1cb"]]),Vk=L();var ii=(e=>(e.HOME="home",e.GAMES="games",e.GAME="game",e.INVITE="invite",e.SETTINGS="settings",e.LOST="lost",e))(ii||{});const Wk=[{path:"/",components:{page:kv},name:"home"},{path:"/game/:id",components:{page:Qk},name:"game"},{path:"/invite/:code",components:{page:N_},name:"invite"},{path:"/:pathMatch(.*)*",components:{page:B_},name:"lost"}],Gk={history:r_(),routes:Wk},Qt=R_(Gk);Qt.afterEach(async(e,t)=>{});Qt.beforeEach(async(e,t,n)=>{Ny(),F.open(qs,{backgroundClass:"opaque"}),st().refreshToken&&!st().accessToken&&await au(),Ce().id||(console.log("@index.ts: fetchMyAccount() because no user id"),await rs()),(!st().refreshToken||!Ce().id)&&await Gu(),F.close(),Vk.value=e.name,n()});async function Gu(){try{const e=await et.post("/account/create-guest");return e.data.refreshToken&&(st().storeRefreshToken(e.data.refreshToken),st().accessToken=e.data.accessToken,console.log("@account.ts: fetchMyAccount() because of createGuest"),await rs()),e.data}catch{return null}}async function zk(e,t){var n;try{const o=!e||!t?{}:{username:e,password:t};console.log("registerAccount payload:",o);const r=await et.post("/account/create",o);return console.log("response:",r),r.status!==tn.Ok?r.data:(console.log("@account.ts: fetchMyAccount() because of registerAccount"),await rs(),null)}catch(s){return(n=s==null?void 0:s.response)==null?void 0:n.data}}async function Kk(e,t){var n;try{const s=await et.post("/account/login",{username:e,password:t});return s.data.refreshToken&&(st().storeRefreshToken(s.data.refreshToken),st().accessToken=s.data.accessToken,console.log("@account.ts: fetchMyAccount() because of login"),await rs()),s.data}catch(s){return(n=s==null?void 0:s.response)==null?void 0:n.data}}async function rs(){try{const e=await et.get("/account/me");return e.data?(Ce().id=e.data.id,Ce().username=e.data.username,Ce().isGuest=e.data.isGuest,Ce().portrait=e.data.portrait,Ce().games=e.data.games,e.data):null}catch{return null}}async function Qi(){st().clear(),Ce().clear(),$e().clear(),Qt.push("/"),F.open(qs),await Gu(),F.close()}async function Yk(e){var t;try{const n=await et.delete("/account/me",{data:{password:e}});return n.status!==tn.Ok?n.data:null}catch(n){return(t=n==null?void 0:n.response)==null?void 0:t.data}}async function Jk(e){var t;try{const n=await et.put("/account/username",{newUsername:e});return n.status!==tn.Ok?n.data:(Ce().username=e,null)}catch(n){return(t=n==null?void 0:n.response)==null?void 0:t.data}}async function Xk(e,t){var n;try{const s=await et.put("/account/password",{password:e,newPassword:t});return s.status!==tn.Ok?s.data:null}catch(s){return(n=s==null?void 0:s.response)==null?void 0:n.data}}async function Zk(e){var t;try{const n=await et.put("/account/portrait",{portraitId:e});return n.status!==tn.Ok?n.data:(Ce().portrait=e,null)}catch(n){return(t=n==null?void 0:n.response)==null?void 0:t.data}}let gr;async function eE(){return gr||(gr=(await et.get("/version")).data),gr}const on=e=>(we("data-v-fd8ada18"),e=e(),xe(),e),tE=on(()=>a("h2",null,"Change Password",-1)),nE={class:"change-password"},sE=on(()=>a("p",null,[Z("Choose a new "),a("em",null,"password"),Z(" for your account.")],-1)),oE=on(()=>a("p",{class:"muted"}," Your new password should be at least 8 characters long. ",-1)),rE={class:"inputs"},iE={class:"input-group"},aE=on(()=>a("label",{for:"password"},"Current Password",-1)),lE={key:0,class:"reminder shake-once"},cE={class:"input-group"},uE=on(()=>a("label",{for:"password"},"New Password",-1)),dE={key:0,class:"reminder shake-once"},hE={class:"input-group"},fE=on(()=>a("label",{for:"confirm-password"},"Confirm New Password",-1)),pE={key:0,class:"reminder shake-once"},mE={key:0,class:"alert"},yE=on(()=>a("i",{class:"fas fa-exclamation-circle"},null,-1)),gE=on(()=>a("i",{class:"fas fa-times"},null,-1)),vE=[gE],_E={class:"row center"},bE={key:0,class:"fas fa-circle-notch fa-spin"},wE=on(()=>a("span",null,"Change Password",-1)),xE=ee({__name:"ChangePasswordModal",setup(e){const t=L(""),n=L(!1),s=L(""),o=L(!1),r=W(()=>l.value&&i.value.length===0?"Enter your current password":null),i=L(""),l=L(!1),c=W(()=>l.value?i.value.length===0?"Come up with something clever":i.value.length<8?"Must be at least 8 characters":i.value.length>64?"Can't be more than 64 characters":null:null),d=L(""),u=L(!1),h=W(()=>u.value?d.value.length===0?"Your new password again":i.value!==d.value?"Passwords don't match":null:null);async function f(){if(!o.value||!l.value||!u.value||r.value||c.value||h.value){o.value=!0,l.value=!0,u.value=!0,document.querySelectorAll(".reminder").forEach(x=>{x.classList.remove("shake-once"),x.offsetWidth,x.classList.add("shake-once")});return}n.value=!0,t.value="";const g=await Xk(s.value,i.value);n.value=!1,g?t.value=g:F.open(Wo,{title:"Success",message:"Your password has been changed successfully."})}return(g,w)=>(b(),ie(ze,{class:J({disabled:n.value})},{header:U(()=>[I(Ke,{closeButton:""},{default:U(()=>[tE]),_:1})]),content:U(()=>[a("div",nE,[sE,oE,a("div",rE,[a("div",iE,[aE,Re(a("input",{type:"password",onInput:w[0]||(w[0]=x=>o.value=!0),placeholder:"Your current password","onUpdate:modelValue":w[1]||(w[1]=x=>s.value=x)},null,544),[[Oe,s.value]]),r.value?(b(),k("span",lE,N(r.value),1)):M("",!0)]),a("div",cE,[uE,Re(a("input",{type:"password",onInput:w[2]||(w[2]=x=>l.value=!0),placeholder:"Create a new password","onUpdate:modelValue":w[3]||(w[3]=x=>i.value=x)},null,544),[[Oe,i.value]]),c.value?(b(),k("span",dE,N(c.value),1)):M("",!0)]),a("div",hE,[fE,Re(a("input",{type:"password",onInput:w[4]||(w[4]=x=>u.value=!0),onKeyup:Ns(f,["enter"]),placeholder:"Confirm your new password","onUpdate:modelValue":w[5]||(w[5]=x=>d.value=x)},null,544),[[Oe,d.value]]),h.value?(b(),k("span",pE,N(h.value),1)):M("",!0)])]),t.value?(b(),k("div",mE,[yE,a("span",null,N(t.value),1),a("button",{class:"btn btn--icon close",onClick:w[6]||(w[6]=x=>t.value="")},vE)])):M("",!0),a("div",_E,[a("button",{class:"btn mobile-full-width",onClick:f},[n.value?(b(),k("i",bE)):M("",!0),wE])])])]),_:1},8,["class"]))}}),CE=se(xE,[["__scopeId","data-v-fd8ada18"]]),is=e=>(we("data-v-af22bc65"),e=e(),xe(),e),kE=is(()=>a("h2",null,"Change Username",-1)),EE={class:"change-username"},SE=is(()=>a("p",null,[Z("Choose a new "),a("em",null,"username"),Z(" for your account.")],-1)),TE={class:"muted"},AE={class:"inputs"},$E={class:"input-group"},RE=is(()=>a("label",{for:"username"},"New Username",-1)),OE={key:0,class:"reminder shake-once"},PE={key:0,class:"alert"},IE=is(()=>a("i",{class:"fas fa-exclamation-circle"},null,-1)),NE=is(()=>a("i",{class:"fas fa-times"},null,-1)),qE=[NE],LE={class:"row center"},DE={key:0,class:"fas fa-circle-notch fa-spin"},UE=is(()=>a("span",null,"Change Username",-1)),BE=ee({__name:"ChangeUsernameModal",setup(e){const t=L(""),n=L(!1),s=L(""),o=L(!1),r=W(()=>o.value?s.value.length===0?"What should we call you?":s.value.length<3?"Must be at least 3 characters":s.value.length>24?"Must have no more than 16 characters":/^[a-zA-Z0-9]+$/.test(s.value)?null:"Letters and numbers only":null);async function i(){if(!o.value||r.value){o.value=!0,document.querySelectorAll(".reminder").forEach(d=>{d.classList.remove("shake-once"),d.offsetWidth,d.classList.add("shake-once")});return}n.value=!0,t.value="";const l=await Jk(s.value);n.value=!1,l?t.value=l:F.open(Wo,{title:"Success",message:`Username has been changed successfully. Your username is now <em>${s.value}</em>.`})}return(l,c)=>(b(),ie(ze,{class:J({disabled:n.value})},{header:U(()=>[I(Ke,{closeButton:""},{default:U(()=>[kE]),_:1})]),content:U(()=>[a("div",EE,[SE,a("p",TE,[Z(" Your current username is "),a("em",null,N(D(Ce)().username),1),Z(". ")]),a("div",AE,[a("div",$E,[RE,Re(a("input",{type:"text",onInput:c[0]||(c[0]=d=>o.value=!0),onKeydown:Ns(i,["enter"]),placeholder:"Enter a new username","onUpdate:modelValue":c[1]||(c[1]=d=>s.value=d)},null,544),[[Oe,s.value]]),r.value?(b(),k("span",OE,N(r.value),1)):M("",!0)])]),t.value?(b(),k("div",PE,[IE,a("span",null,N(t.value),1),a("button",{class:"btn btn--icon close",onClick:c[2]||(c[2]=d=>t.value="")},qE)])):M("",!0),a("div",LE,[a("button",{class:"btn mobile-full-width",onClick:i},[n.value?(b(),k("i",DE)):M("",!0),UE])])])]),_:1},8,["class"]))}}),ME=se(BE,[["__scopeId","data-v-af22bc65"]]),wn=e=>(we("data-v-0286b377"),e=e(),xe(),e),FE=wn(()=>a("h2",null,"Delete Account",-1)),jE={class:"confirm"},HE=wn(()=>a("p",null,[Z(" This action is "),a("em",null,"irreversible"),Z(". All data related to your account will be "),a("em",null,"lost"),Z(". Are you sure you want to continue and delete your account? ")],-1)),QE={class:"input-group"},VE=wn(()=>a("label",{for:"password"},"Password",-1)),WE={key:0,class:"alert"},GE=wn(()=>a("i",{class:"fas fa-exclamation-circle"},null,-1)),zE=wn(()=>a("i",{class:"fas fa-times"},null,-1)),KE=[zE],YE={class:"column center"},JE=wn(()=>a("span",null,"No, I want to keep my account",-1)),XE=[JE],ZE=wn(()=>a("span",{class:"muted"},"or",-1)),eS=wn(()=>a("span",null,"Yes, I want to delete my account",-1)),tS=[eS],nS=ee({__name:"ConfirmDeleteAccountModal",setup(e){const t=L(""),n=L(""),s=L(!1);async function o(){s.value=!0,n.value="",n.value=await Yk(t.value),n.value||(F.close(),Qi()),s.value=!1}return(r,i)=>(b(),ie(ze,{disabled:s.value},{header:U(()=>[I(Ke,{closeButton:""},{default:U(()=>[FE]),_:1})]),content:U(()=>[a("div",jE,[HE,a("div",QE,[VE,Re(a("input",{id:"password",type:"password",placeholder:"Enter your password","onUpdate:modelValue":i[0]||(i[0]=l=>t.value=l)},null,512),[[Oe,t.value]])]),n.value?(b(),k("div",WE,[GE,a("span",null,N(n.value),1),a("button",{class:"btn btn--icon close",onClick:i[1]||(i[1]=l=>n.value="")},KE)])):M("",!0),I(Ut),a("div",YE,[a("button",{class:"btn",onClick:i[2]||(i[2]=l=>D(F).close())},XE),ZE,a("button",{class:J(["btn btn--text",{disabled:!t.value}]),onClick:o},tS,2)])])]),_:1},8,["disabled"]))}}),sS=se(nS,[["__scopeId","data-v-0286b377"]]),xn=e=>(we("data-v-497ae5b4"),e=e(),xe(),e),oS=xn(()=>a("h2",null,"Login",-1)),rS={class:"login"},iS=xn(()=>a("p",null,[Z("Enter your "),a("em",null,"username"),Z(" and "),a("em",null,"password"),Z(".")],-1)),aS={class:"inputs"},lS={class:"input-group"},cS=xn(()=>a("label",{for:"username"},"Username",-1)),uS={key:0,class:"reminder shake-once"},dS={class:"input-group"},hS=xn(()=>a("label",{for:"password"},"Password",-1)),fS={key:0,class:"reminder shake-once"},pS={key:0,class:"alert"},mS=xn(()=>a("i",{class:"fas fa-exclamation-circle"},null,-1)),yS=xn(()=>a("i",{class:"fas fa-times"},null,-1)),gS=[yS],vS={class:"row center"},_S={key:0,class:"fas fa-circle-notch fa-spin"},bS=xn(()=>a("span",null,"Login",-1)),wS=xn(()=>a("p",null,"Don't have an account?",-1)),xS=ee({__name:"LoginModal",setup(e){const t=L(""),n=L(!1),s=L(""),o=L(!1),r=W(()=>o.value&&s.value.length===0?"Your username, please":null),i=L(""),l=L(!1),c=W(()=>l.value&&i.value.length===0?"Did you forget something?":null),d=W(()=>s.value.length>0&&i.value.length>0);async function u(){if(!d.value&&(!o.value||!l||r.value||c.value)){o.value=!0,l.value=!0,document.querySelectorAll(".reminder").forEach(w=>{w.classList.remove("shake-once"),w.offsetWidth,w.classList.add("shake-once")});return}n.value=!0,t.value="";const f=await Kk(s.value,i.value);n.value=!1,f.refreshToken?F.close():t.value=f}function h(){F.open(Ku)}return(f,g)=>(b(),ie(ze,{class:J({disabled:n.value})},{header:U(()=>[I(Ke,{closeButton:""},{default:U(()=>[oS]),_:1})]),content:U(()=>[a("div",rS,[iS,a("div",aS,[a("div",lS,[cS,Re(a("input",{type:"text",onInput:g[0]||(g[0]=w=>o.value=!0),placeholder:"Enter a username","onUpdate:modelValue":g[1]||(g[1]=w=>s.value=w)},null,544),[[Oe,s.value]]),r.value?(b(),k("span",uS,N(r.value),1)):M("",!0)]),a("div",dS,[hS,Re(a("input",{type:"password",onInput:g[2]||(g[2]=w=>l.value=!0),onKeyup:Ns(u,["enter"]),placeholder:"Create a password","onUpdate:modelValue":g[3]||(g[3]=w=>i.value=w)},null,544),[[Oe,i.value]]),c.value?(b(),k("span",fS,N(c.value),1)):M("",!0)])]),t.value?(b(),k("div",pS,[mS,a("span",null,N(t.value),1),a("button",{class:"btn btn--icon close",onClick:g[4]||(g[4]=w=>t.value="")},gS)])):M("",!0),a("div",vS,[a("button",{class:"btn mobile-full-width",onClick:u},[n.value?(b(),k("i",_S)):M("",!0),bS])]),a("div",{class:"row center"},[wS,a("button",{class:"btn btn--text",onClick:h}," Register ")])])]),_:1},8,["class"]))}}),zu=se(xS,[["__scopeId","data-v-497ae5b4"]]),rn=e=>(we("data-v-bb068875"),e=e(),xe(),e),CS=rn(()=>a("h2",null,"Register your Account",-1)),kS={class:"create-account"},ES=rn(()=>a("p",null,[Z(" Choose a "),a("em",null,"username"),Z(" and "),a("em",null,"password"),Z(" to register your account. ")],-1)),SS={class:"inputs"},TS={class:"input-group"},AS=rn(()=>a("label",{for:"username"},"Username",-1)),$S={key:0,class:"reminder shake-once"},RS={class:"input-group"},OS=rn(()=>a("label",{for:"password"},"Password",-1)),PS={key:0,class:"reminder shake-once"},IS={class:"input-group"},NS=rn(()=>a("label",{for:"confirm-password"},"Confirm Password",-1)),qS={key:0,class:"reminder shake-once"},LS={key:0,class:"alert"},DS=rn(()=>a("i",{class:"fas fa-exclamation-circle"},null,-1)),US=rn(()=>a("i",{class:"fas fa-times"},null,-1)),BS=[US],MS={class:"row center"},FS={key:0,class:"fas fa-circle-notch fa-spin"},jS=rn(()=>a("span",null,"Register Account",-1)),HS=rn(()=>a("p",null,"Already have an account?",-1)),QS=ee({__name:"CreateAccountModal",setup(e){const t=L(""),n=L(!1),s=L(""),o=L(!1),r=W(()=>o.value?s.value.length===0?"What should we call you?":s.value.length<3?"Must be at least 3 characters":s.value.length>24?"Must have no more than 16 characters":/^[a-zA-Z0-9]+$/.test(s.value)?null:"Letters and numbers only":null),i=L(""),l=L(!1),c=W(()=>l.value?i.value.length===0?"Come up with something clever":i.value.length<8?"Must be at least 8 characters":i.value.length>64?"Can't be more than 64 characters":null:null),d=L(""),u=L(!1),h=W(()=>u.value?d.value.length===0?"Your password again":i.value!==d.value?"Passwords don't match":null:null);async function f(){if(!o.value||!l.value||!u.value||r.value||c.value||h.value){o.value=!0,l.value=!0,u.value=!0,document.querySelectorAll(".reminder").forEach($=>{$.classList.remove("shake-once"),$.offsetWidth,$.classList.add("shake-once")});return}n.value=!0,t.value="";const w=await zk(s.value,i.value);n.value=!1,w?t.value=w:F.close()}function g(){F.open(zu)}return(w,x)=>(b(),ie(ze,{class:J({disabled:n.value})},{header:U(()=>[I(Ke,{closeButton:""},{default:U(()=>[CS]),_:1})]),content:U(()=>[a("div",kS,[ES,a("div",SS,[a("div",TS,[AS,Re(a("input",{type:"text",onInput:x[0]||(x[0]=$=>o.value=!0),placeholder:"Enter a username","onUpdate:modelValue":x[1]||(x[1]=$=>s.value=$)},null,544),[[Oe,s.value]]),r.value?(b(),k("span",$S,N(r.value),1)):M("",!0)]),a("div",RS,[OS,Re(a("input",{type:"password",onInput:x[2]||(x[2]=$=>l.value=!0),placeholder:"Create a password","onUpdate:modelValue":x[3]||(x[3]=$=>i.value=$)},null,544),[[Oe,i.value]]),c.value?(b(),k("span",PS,N(c.value),1)):M("",!0)]),a("div",IS,[NS,Re(a("input",{type:"password",onInput:x[4]||(x[4]=$=>u.value=!0),onKeyup:Ns(f,["enter"]),placeholder:"Confirm your password","onUpdate:modelValue":x[5]||(x[5]=$=>d.value=$)},null,544),[[Oe,d.value]]),h.value?(b(),k("span",qS,N(h.value),1)):M("",!0)])]),t.value?(b(),k("div",LS,[DS,a("span",null,N(t.value),1),a("button",{class:"btn btn--icon close",onClick:x[6]||(x[6]=$=>t.value="")},BS)])):M("",!0),a("div",MS,[a("button",{class:"btn mobile-full-width",onClick:f},[n.value?(b(),k("i",FS)):M("",!0),jS])]),a("div",{class:"row center"},[HS,a("button",{class:"btn btn--text",onClick:g},"Log in")])])]),_:1},8,["class"]))}}),Ku=se(QS,[["__scopeId","data-v-bb068875"]]),ot=e=>(we("data-v-265ed790"),e=e(),xe(),e),VS={class:"account"},WS=ot(()=>a("p",null,"Choose a portrait from the list below.",-1)),GS={class:"portrait-select"},zS=["onClick"],KS={key:0,class:"overlay"},YS={key:1,class:"fas fa-check-circle"},JS={key:0},XS=ot(()=>a("p",null,"You are currently logged in as a guest.",-1)),ZS={key:0,class:"row"},eT=ot(()=>a("span",null,"Register Account",-1)),tT=[eT],nT=ot(()=>a("i",{class:"fas fa-sign-out-alt"},null,-1)),sT=ot(()=>a("span",null,"Login",-1)),oT=[nT,sT],rT={key:1,class:"account-management"},iT=ot(()=>a("p",null," Change your username. This will also change your display name in all games. ",-1)),aT=ot(()=>a("i",{class:"fas fa-user-edit"},null,-1)),lT=ot(()=>a("span",null,"Change Username",-1)),cT=[aT,lT],uT=ot(()=>a("p",null,"Change your password.",-1)),dT=ot(()=>a("i",{class:"fas fa-key"},null,-1)),hT=ot(()=>a("span",null,"Change Password",-1)),fT=[dT,hT],pT={class:"attribution"},mT={class:"muted"},yT=ot(()=>a("p",null,[Z(" This work is based on "),a("a",{class:"anchor-link",href:"http://www.bladesinthedark.com/",target:"_blank"}," Blades in the Dark "),Z(" , product of One Seven Design, developed and authored by John Harper, and licensed for our use under the "),a("a",{class:"anchor-link",href:"http://creativecommons.org/licenses/by/3.0/",target:"_blank"}," Creative Commons Attribution 3.0 Unported license ")],-1)),gT=ot(()=>a("span",null,"View Full Attribution",-1)),vT=[gT],_T={class:"center"},bT=ot(()=>a("span",null,"Sign Out",-1)),wT=[bT],xT=ot(()=>a("span",null,"Delete Account",-1)),CT=[xT],kT={class:"row center id-block"},ET={class:"muted text-center"},ST=ot(()=>a("i",{class:"fas fa-copy"},null,-1)),TT=[ST],AT={class:"muted text-center"},$T=ee({__name:"AccountModal",setup(e){const t=L("");en(()=>{eE().then(h=>t.value=`${Of.version} • ${h}`)});const n=new Date().getFullYear();function s(){F.open(Fi,{title:"Sign Out",message:"Are you sure you want to sign out?",onConfirm:()=>Qi(),onCancel:()=>F.open(Yu),onConfirmText:"Yes, I want to sign out",onCancelText:"No, keep me signed in"})}function o(){F.open(sS)}function r(){F.open(zu)}function i(){navigator.clipboard.writeText(Ce().id)}function l(){F.open(Ku)}function c(h){Zk(h)}function d(){F.open(ME)}function u(){F.open(CE)}return(h,f)=>{const g=Ps("Divider");return b(),ie(ze,null,{header:U(()=>[I(Ke,{closeButton:""},{default:U(()=>[a("h2",null,N(D(Ce)().username)+"'s Account",1)]),_:1})]),content:U(()=>[a("div",VS,[a("section",null,[WS,a("ul",GS,[(b(!0),k(Y,null,pe(D(Ce)().portraits,w=>(b(),k("li",{key:w.id,onClick:x=>c(w.id),class:J({selected:w.id===D(Ce)().portrait})},[I(zo,{portraitId:w.id},null,8,["portraitId"]),w.id===D(Ce)().portrait?(b(),k("div",KS)):M("",!0),w.id===D(Ce)().portrait?(b(),k("i",YS)):M("",!0)],10,zS))),128))])]),I(g),D(Ce)().isGuest?(b(),k("section",JS,[XS,D(Ce)().isGuest?(b(),k("div",ZS,[a("button",{class:"btn",onClick:l},tT),a("button",{class:"btn btn--alt",onClick:r},oT)])):M("",!0)])):(b(),k("section",rT,[a("div",{class:"input-group"},[iT,a("button",{class:"btn mobile-full-width",onClick:d},cT)]),a("div",{class:"input-group"},[uT,a("button",{class:"btn mobile-full-width",onClick:u},fT)])])),I(g),a("section",pT,[a("p",null,[a("span",mT,"© "+N(D(n))+" Olin Kirkland | All rights reserved",1)]),yT,a("button",{class:"btn btn--alt mobile-full-width",onClick:f[0]||(f[0]=()=>D(F).open(Eu))},vT)]),I(g),a("section",_T,[D(Ce)().isGuest?M("",!0):(b(),k("button",{key:0,class:"btn btn--text",onClick:s},wT)),D(Ce)().isGuest?M("",!0):(b(),k("button",{key:1,class:"btn btn--text",onClick:o},CT)),a("div",kT,[a("p",ET,"ID: "+N(D(Ce)().id),1),a("button",{class:"btn btn--icon muted",onClick:i},TT)]),a("p",AT,N(t.value),1)])])]),_:1})}}}),Yu=se($T,[["__scopeId","data-v-265ed790"]]);var ai=(e=>(e.PLAYER="player",e.GM="gm",e.ADMIN="admin",e))(ai||{});const wl=["tiny","big","happy","sad","smart","funny","serious","crazy","silly","brave","shy","loud","quiet","fast","slow","strong","weak","bright","dark","hot","cold","hard","soft","sharp","dull","clean","dirty","smooth","rough","old","new","sweet","sour","bitter","spicy","tasty","gross","fresh","stale","thick","thin","straight","curved","simple","complex","friendly","fierce","gentle","wild","calm"],xl=["dog","cat","bird","fish","rabbit","lion","tiger","elephant","monkey","snake","turtle","spider","horse","cow","sheep","goat","pig","chicken","duck","mouse","bear","fox","wolf","deer","whale","shark","dolphin","octopus","frog","crocodile","dragon","unicorn","phoenix","eagle","hawk","owl","penguin","koala","panda","squirrel","bat","bee","ant","butterfly","mosquito","snail","slug","lizard","crab","lobster","starfish","tree","flower","mountain","river","ocean","lake","island","desert","forest","cave","rock","cloud","sun","moon","star","planet","galaxy","comet","asteroid","meteor","rain","snow","wind","storm","rainbow","thunder","lightning","fire","ice","earth","sky","sea","sand","dust","grass","leaf","root","branch","twig","stone","pebble","sand","soil","mud","clay","metal","gold","silver","copper","iron","bronze","steel","aluminum","platinum","diamond","ruby","sapphire","emerald","crystal","gem","pearl","amber","ivory","bone","horn","feather","fur","hair","wool","silk","cotton","leather","cloth","fabric","thread","needle","scissors","knife","sword","shield","bow","arrow","spear","axe","hammer","nail","screw","bolt","nut","washer","glue","tape","rope","chain","wire","cable","net","mesh","web","hook","latch","lock","key","door","window","wall","floor","ceiling","roof","stairs","bridge","path","road","street","alley","lane","highway","avenue","boulevard","square","park","garden","yard","field","meadow","pasture","orchard","vineyard","farm","barn","shed","house","home","cottage","cabin","villa","palace","castle","tower","fort","church","temple","mosque","synagogue","shrine","monastery","cathedral","chapel","grave","tomb","crypt","pyramid","sphinx","statue","monument","obelisk","arch","gate","fence","wall","hedge","barrier","barricade","fountain","pool","pond","lake","river","stream","waterfall","spring","well","oasis","beach","coast","cliff","canyon","valley","plateau","mountain","hill","peak","summit","volcano","crater","glacier","iceberg","cave","tunnel","mine","cemetery","graveyard","mausoleum","sanctuary","altar","shrine","mosque","temple","church","synagogue","cathedral","monastery","abbey","cloister","nunnery","chapel","crypt","tomb","grave","ossuary","sarcophagus","catacomb","columbarium","graveyard","cemetary","burialground","necropolis","pyramid","museum","gallery","exhibition","exhibit","art","sculpture","painting","portrait","landscape","stilllife","history","ancient","medieval","renaissance","modern","contemporary","abstract","realism","impressionism","expressionism","surrealism","cubism","dadaism","futurism","constructivism","minimalism","popart","opart","kineticart","environmentalart","performanceart","installationart","conceptualart","videoart","digitalart","netart","virtualart","interactivart","landart","streetart","graffiti","photography","photojournalism","documentary","landscape","portrait","wildlife","nature","macro","micro","aerial","underwater","night","longexposure","blackandwhite","color","fineart","commercial","editorial","fashion","beauty","portrait","product","food","interior","architecture","cityscape","event","wedding","sports","action","adventure","travel","street","documentary","candid","photojournalism","landscape","wildlife","nature","macro","aerial","underwater","night","longexposure","blackandwhite","color","fineart","commercial","editorial","fashion","beauty","portrait","product","food","interior","architecture","cityscape","event","wedding","sports","action","adventure","travel","street","documentary","candid"];function RT(){const e=wl[Math.floor(Math.random()*wl.length)],t=xl[Math.floor(Math.random()*xl.length)],n=Math.floor(Math.random()*900)+100;return`${e}-${t}-${n}`}function OT(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function PT(e){for(var t=5381,n=e.length;n;)t=t*33^e.charCodeAt(--n);return t>>>0}var IT=PT;const Cl=OT(IT),Pt=e=>(we("data-v-fecf0420"),e=e(),xe(),e),NT=Pt(()=>a("h2",null,"Game Options",-1)),qT={class:"options"},LT={class:"game-name"},DT={class:"input-group"},UT=Pt(()=>a("label",{for:"name"},"Game Name",-1)),BT={key:0,class:"reminder shake-once"},MT={class:"invite"},FT=Pt(()=>a("label",null,"Invite a Player",-1)),jT={class:"row invite-block"},HT={class:"row"},QT={class:"muted text-center"},VT=Pt(()=>a("i",{class:"fas fa-copy"},null,-1)),WT=[VT],GT=Pt(()=>a("i",{class:"fas fa-sync"},null,-1)),zT=[GT],KT={class:"codex"},YT=Pt(()=>a("label",{for:"manage-codex"},"Manage Codex",-1)),JT=Pt(()=>a("p",{class:"muted"}," The Codex contains descriptions and definitions that are made available on the platform. ",-1)),XT=Pt(()=>a("i",{class:"fas fa-sync"},null,-1)),ZT=Pt(()=>a("span",null,"Reset Codex",-1)),eA=[XT,ZT],tA={class:"input-group"},nA=Pt(()=>a("label",null,"Sheets Options",-1)),sA=Pt(()=>a("span",null," Leave Game ",-1)),oA=[sA],rA=ee({__name:"GameOptionsModal",setup(e){var h,f,g,w,x;const t=L(null),n=L((h=$e().game)==null?void 0:h.name),s=W(()=>{var $;return`${window.location.origin}/invite/${($=$e().game)==null?void 0:$.inviteCode}`});console.log((x=(w=(g=(f=$e().game)==null?void 0:f.codex)==null?void 0:g.sheets)==null?void 0:w.crew)==null?void 0:x.cohorts);const o=W(()=>{var $;return Cl(JSON.stringify(($=$e().game)==null?void 0:$.codex)??"")}),r=W(()=>Cl(JSON.stringify(ti)));function i(){if(!n.value){t.value="Name cannot be empty";return}t.value=null,Pe([{op:"replace",path:"/name",value:n.value}])}function l(){navigator.clipboard.writeText(s.value)}function c(){Pe([{op:"replace",path:"/inviteCode",value:RT()}])}function d(){F.open(Fi,{title:"Leave Game",message:"Are you sure you want to leave the game?",confirmText:"Leave Game",onConfirm:async()=>{F.open(qs),await $g(),Qt.push("/"),F.close()}})}function u(){Pe([{op:"replace",path:"/codex",value:ti}])}return($,q)=>(b(),ie(ze,null,{header:U(()=>[I(Ke,{closeButton:""},{default:U(()=>[NT]),_:1})]),content:U(()=>{var H,Q;return[a("div",qT,[a("section",LT,[a("div",DT,[UT,Re(a("input",{type:"text",class:J({disabled:((H=D($e)().userPlayer)==null?void 0:H.role)!==D(ai).GM}),onChange:i,placeholder:"Enter a descriptive name","onUpdate:modelValue":q[0]||(q[0]=X=>n.value=X)},null,34),[[Oe,n.value]]),t.value?(b(),k("span",BT,N(t.value),1)):M("",!0)])]),a("section",MT,[FT,a("div",jT,[a("div",HT,[a("p",QT,N(s.value),1),a("button",{class:"btn btn--icon muted",onClick:l},WT)]),((Q=D($e)().userPlayer)==null?void 0:Q.role)===D(ai).GM?(b(),k("button",{key:0,class:"btn btn--icon muted",onClick:c},zT)):M("",!0)])]),I(Ut),a("section",KT,[YT,I(St,{ignoreOptions:""},{default:U(()=>[JT]),_:1}),a("p",null,N(o.value===r.value?"The Codex matches the latest version.":"A newer version of the Codex is available."),1),a("button",{class:J(["btn mobile-full-width",{disabled:o.value===r.value}]),onClick:u},eA,2)]),I(Ut),a("section",null,[a("div",tA,[nA,I(gt,{modelValue:D(ri)().options.showHints,"onUpdate:modelValue":q[1]||(q[1]=X=>D(ri)().options.showHints=X),icon:"fa-check",emptyWhenUnchecked:!0,label:"Show rules hints on the Sheets"},null,8,["modelValue"])])]),a("section",null,[a("div",{class:"row"},[a("button",{class:"btn btn--alt mobile-full-width",onClick:d},oA)])])])]}),_:1}))}}),iA=se(rA,[["__scopeId","data-v-fecf0420"]]),aA=e=>(we("data-v-246365aa"),e=e(),xe(),e),lA={class:"logo"},cA={class:"account"},uA=aA(()=>a("i",{class:"fas fa-cog"},null,-1)),dA=[uA],hA=ee({__name:"TheNavigation",setup(e){function t(){F.open(Yu)}function n(){F.open(iA)}return(s,o)=>{var i;const r=Ps("router-link");return b(),k("nav",null,[a("div",lA,[I(r,{to:"/"},{default:U(()=>[I(Oc)]),_:1})]),a("div",cA,[(i=D($e)().game)!=null&&i._id?(b(),k("button",{key:0,class:"btn btn--icon game-options",onClick:n},dA)):M("",!0),a("button",{class:"btn btn--account",onClick:t},[I(zo,{portraitId:D(Ce)().portrait},null,8,["portraitId"]),a("span",null,N(D(Ce)().username||"Account"),1)])])])}}}),fA=se(hA,[["__scopeId","data-v-246365aa"]]),pA=ee({__name:"TheModalContainer",setup(e){const t=L(),n=xr(null),s=xr(null),o=L();function r(){var i;(i=s.value)!=null&&i.closeOnClick&&F.close()}return F.getInstance().addEventListener(({modal:i,modalConfig:l})=>{var c;if((c=document.activeElement)==null||c.blur(),!i)return n.value=null;n.value={...i},s.value={...l},requestAnimationFrame(()=>{var w,x;o.value&&clearInterval(o.value);const d=(w=t.value)==null?void 0:w.$el;if(!d)return;const u=d.querySelector(".modal__header")?[d.querySelector(".modal__header")]:[],h=Array.from(((x=d.querySelector(".modal__content > div"))==null?void 0:x.children)||[]),f=[...u,...h];window.modalChildren=f;const g=d.querySelector("input:not(.disabled):not(.ignore-initial-focus)");g&&g.focus(),f.forEach($=>$.classList.add("hidden")),o.value=setInterval(()=>{if(!f.length)console.log("clearing interval"),clearInterval(o.value);else{const $=f.shift();$==null||$.classList.remove("hidden")}},50)})}),(i,l)=>{var c;return n.value?(b(),k("div",{key:0,class:J(["modal-container",(c=s.value)==null?void 0:c.backgroundClass])},[a("div",{class:"modal-container__background",onClick:l[0]||(l[0]=d=>r())}),(b(),ie(zd(n.value),xc(s.value,{ref_key:"modalRef",ref:t}),null,16))],2)):M("",!0)}}}),mA=se(pA,[["__scopeId","data-v-673461c4"]]),yA={class:"page-layout"},gA={class:"page-layout__content"},vA=ee({__name:"App",setup(e){return(t,n)=>{const s=Ps("router-view");return b(),k(Y,null,[a("div",yA,[I(fA),a("div",gA,[I(s,{name:"page"})])]),I(mA)],64)}}});hm();const Yo=mf(vA);Yo.component("Divider",Ut);const _A=_f();Yo.use(_A);Yo.use(Qt);Yo.mount("#app");
